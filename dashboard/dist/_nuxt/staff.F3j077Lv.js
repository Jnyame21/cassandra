var vl=Object.defineProperty;var yl=(s,t,e)=>t in s?vl(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var N=(s,t,e)=>(yl(s,typeof t!="symbol"?t+"":t,e),e);import{m as xl,V as $a,a as yt,_ as At,b as ps,c as gs,d as Ht,e as _s,f as Xe,g as eo,h as Nt,i as Sl,j as kl,k as wl}from"./TheFooter.tLhGeaTE.js";import{M as so,N as Dl,O as no,P as ao,Q as Tl,c as L,R as io,z as M,S as Wt,d as Z,G as ot,r as S,t as p,v,T as H,A as R,y as x,x as u,B as j,L as k,C as St,D as kt,_ as at,U as We,K as g,V as X,W as tt,X as U,Y as G,Z as oo,g as jn,$ as Ml,o as Cl,e as lo,a0 as Hn,a1 as ro,a2 as co,a3 as Al,a4 as $l,a5 as Ea,a6 as El,J as qt,a7 as Et,F as Pl}from"./entry.mo3KtFpr.js";import{u as Re,V as oa,a as la,b as ra,c as Ol}from"./VCard.qGrYYlpF.js";import{u as uo,a as K,V as ct}from"./index.0UHJegbX.js";import{m as ho,u as fo,b as cn,c as Fl,f as Rl,d as Il,e as Ll,g as Vl,a as dt}from"./VTextField.P4BKbNwB.js";import{u as Bl}from"./vue.f36acd1f.skqErjgz.js";const Nl=so({...ho(),...Dl(xl(),["inline"])},"VCheckbox"),zl=no()({name:"VCheckbox",inheritAttrs:!1,props:Nl(),emits:{"update:modelValue":s=>!0,"update:focused":s=>!0},setup(s,t){let{attrs:e,slots:n}=t;const a=ao(s,"modelValue"),{isFocused:i,focus:o,blur:l}=fo(s),r=Tl(),c=L(()=>s.id||`checkbox-${r}`);return uo(()=>{const[d,h]=io(e),f=cn.filterProps(s),m=$a.filterProps(s);return M(cn,Wt({class:["v-checkbox",s.class]},d,f,{modelValue:a.value,"onUpdate:modelValue":_=>a.value=_,id:c.value,focused:i.value,style:s.style}),{...n,default:_=>{let{id:b,messagesId:y,isDisabled:D,isReadonly:w}=_;return M($a,Wt(m,{id:b.value,"aria-describedby":y.value,disabled:D.value,readonly:w.value},h,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,onFocus:o,onBlur:l}),n)}})}),{}}}),Ms=s=>(St("data-v-a44afed7"),s=s(),kt(),s),jl={style:{width:"100%",position:"relative",height:"100%"}},Hl={class:"table-title-container",style:{position:"relative"}},Wl=Ms(()=>u("td",null,"Justice",-1)),Ul={class:"subtitle"},Yl=Ms(()=>u("td",{class:"table-data"},"Total",-1)),Gl={class:"table-data-value"},Xl={key:0,class:"table-data"},Jl=Ms(()=>u("td",{class:"table-data"},"form one",-1)),Kl={class:"table-data-value"},ql={key:0,class:"table-data"},Zl=Ms(()=>u("td",{class:"table-data"},"form two",-1)),Ql={class:"table-data-value"},tr={key:0,class:"table-data"},er=Ms(()=>u("td",{class:"table-data"},"form three",-1)),sr={class:"table-data-value"},nr={key:0,class:"table-data"},ar=Z({__name:"HeadOverviewPrograms",props:{program:{}},setup(s){const{program:t}=s;ot();const e=S([]),n=S([]),a=S([]),i=S([]),o=S([]),l=S([]),r=S([]),c=S([]),d=S([]),h=S([]),f=S([]),m=S([]);return t.classes.forEach(_=>{_&&_.students&&_.students.forEach(b=>{e.value.push(b),b.gender&&b.gender==="Male"||b.gender==="M"?n.value.push(b):a.value.push(b),b.current_year&&b.current_year===1?(i.value.push(b),b.gender&&b.gender==="Male"||b.gender==="M"?o.value.push(b):l.value.push(b)):b.current_year&&b.current_year===2?(r.value.push(b),b.gender&&b.gender==="Male"||b.gender==="M"?c.value.push(b):d.value.push(b)):b.current_year&&b.current_year===3&&(h.value.push(b),b.gender&&b.gender==="Male"||b.gender==="M"?f.value.push(b):m.value.push(b))})}),(_,b)=>(p(),v("div",jl,[e.value.length>0?(p(),H(yt,{key:0,class:"mt-5",height:"300px"},{default:R(()=>[u("tbody",null,[u("tr",Hl,[Wl,u("td",Ul,x(_.program.name),1)]),u("tr",null,[Yl,u("td",Gl,[j(x(e.value.length)+" ",1),e.value&&e.value.length>0&&e.value[0].gender?(p(),v("span",Xl," [ M: "+x(n.value.length)+"("+x(parseFloat((n.value.length/e.value.length*100).toFixed(1)))+")%] [ F: "+x(a.value.length)+"("+x(parseFloat((a.value.length/e.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])]),u("tr",null,[Jl,u("td",Kl,[j(x(i.value.length)+" ",1),i.value&&i.value.length>0&&i.value[0].gender?(p(),v("span",ql," [ M: "+x(o.value.length)+"("+x(parseFloat((o.value.length/i.value.length*100).toFixed(1)))+")%] [ F: "+x(l.value.length)+"("+x(parseFloat((l.value.length/i.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])]),u("tr",null,[Zl,u("td",Ql,[j(x(r.value.length)+" ",1),r.value&&r.value.length>0&&r.value[0].gender?(p(),v("span",tr," [ M: "+x(c.value.length)+"("+x(parseFloat((c.value.length/r.value.length*100).toFixed(1)))+")%] [ F: "+x(d.value.length)+"("+x(parseFloat((d.value.length/r.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])]),u("tr",null,[er,u("td",sr,[j(x(h.value.length)+" ",1),h.value&&h.value.length>0&&h.value[0].gender?(p(),v("span",nr," [ M: "+x(f.value.length)+"("+x(parseFloat((f.value.length/h.value.length*100).toFixed(1)))+")%] [ F: "+x(m.value.length)+"("+x(parseFloat((m.value.length/h.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])])])]),_:1})):k("",!0)]))}}),ir=at(ar,[["__scopeId","data-v-a44afed7"]]),Ie=s=>(St("data-v-1db534fc"),s=s(),kt(),s),or={style:{width:"100%",position:"relative",height:"100%"},class:"overview"},lr=Ie(()=>u("tr",{class:"table-title-container",style:{position:"relative"}},[u("td",null,"Justice"),u("td",{class:"table-title"},"students")],-1)),rr=Ie(()=>u("td",{class:"table-data"},"Total",-1)),cr={class:"table-data-value"},dr={key:0,class:"table-data"},ur=Ie(()=>u("td",{class:"table-data"},"form one",-1)),hr={class:"table-data-value"},fr={key:0,class:"table-data"},mr=Ie(()=>u("td",{class:"table-data"},"form two",-1)),pr={class:"table-data-value"},gr={key:0,class:"table-data"},_r=Ie(()=>u("td",{class:"table-data"},"form three",-1)),br={class:"table-data-value"},vr={key:0,class:"table-data"},yr=Ie(()=>u("tr",{class:"table-title-container",style:{position:"relative"}},[u("td",null,"Justice"),u("td",{class:"table-title"},"teachers")],-1)),xr={key:0},Sr=Ie(()=>u("td",{class:"table-data"},"total",-1)),kr={class:"table-data-value"},wr={key:0,class:"table-data"},Dr=Z({__name:"HeadOverview",setup(s){const t=ot(),e=S([]),n=S([]),a=S([]),i=S([]),o=S([]),l=S([]),r=S([]),c=S([]),d=S([]),h=S([]),f=S([]),m=S([]),_=S([]),b=S([]),y=S([]);return We(()=>t.headDepartments,(D,w)=>{D&&D.forEach($=>{$&&$.department.teachers.forEach(P=>{_.value.push(P),P.gender&&P.gender==="Male"||P.gender==="M"?b.value.push(P):y.value.push(P)})})}),We(()=>t.headPrograms,(D,w)=>{D&&D.forEach($=>{$.classes.forEach(P=>{P&&P.students&&P.students.forEach(A=>{e.value.push(A),A.gender&&A.gender==="Male"||A.gender==="M"?n.value.push(A):a.value.push(A),A.current_year&&A.current_year===1?(i.value.push(A),A.gender&&A.gender==="Male"||A.gender==="M"?o.value.push(A):l.value.push(A)):A.current_year&&A.current_year===2?(r.value.push(A),A.gender&&A.gender==="Male"||A.gender==="M"?c.value.push(A):d.value.push(A)):A.current_year&&A.current_year===3&&(h.value.push(A),A.gender&&A.gender==="Male"||A.gender==="M"?f.value.push(A):m.value.push(A))})})})}),(D,w)=>{const $=At,P=ir;return p(),v("div",or,[!g(t).headDepartments&&!g(t).headPrograms||e.value.length===0&&_.value.length===0?(p(),H($,{key:0})):k("",!0),e.value.length>0||_.value.length>0?(p(),H(yt,{key:1,class:"mt-5",height:"300px"},{default:R(()=>[u("tbody",null,[lr,u("tr",null,[rr,u("td",cr,[j(x(e.value.length)+" ",1),e.value&&e.value.length>0&&e.value[0].gender?(p(),v("span",dr," [ M: "+x(n.value.length)+"("+x(parseFloat((n.value.length/e.value.length*100).toFixed(1)))+")%] [ F: "+x(a.value.length)+"("+x(parseFloat((a.value.length/e.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])]),u("tr",null,[ur,u("td",hr,[j(x(i.value.length)+" ",1),i.value&&i.value.length>0&&i.value[0].gender?(p(),v("span",fr," [ M: "+x(o.value.length)+"("+x(parseFloat((o.value.length/i.value.length*100).toFixed(1)))+")%] [ F: "+x(l.value.length)+"("+x(parseFloat((l.value.length/i.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])]),u("tr",null,[mr,u("td",pr,[j(x(r.value.length)+" ",1),r.value&&r.value.length>0&&r.value[0].gender?(p(),v("span",gr," [ M: "+x(c.value.length)+"("+x(parseFloat((c.value.length/r.value.length*100).toFixed(1)))+")%] [ F: "+x(d.value.length)+"("+x(parseFloat((d.value.length/r.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])]),u("tr",null,[_r,u("td",br,[j(x(h.value.length)+" ",1),h.value&&h.value.length>0&&h.value[0].gender?(p(),v("span",vr," [ M: "+x(f.value.length)+"("+x(parseFloat((f.value.length/h.value.length*100).toFixed(1)))+")%] [ F: "+x(m.value.length)+"("+x(parseFloat((m.value.length/h.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])])])]),_:1})):k("",!0),(p(!0),v(X,null,tt(g(t).headPrograms,(A,O)=>(p(),v("div",{key:O},[M(P,{program:A},null,8,["program"])]))),128)),e.value.length>0||_.value.length>0?(p(),H(yt,{key:2,class:"mt-5",height:"110px"},{default:R(()=>[u("tbody",null,[yr,_.value?(p(),v("tr",xr,[Sr,u("td",kr,[j(x(_.value.length)+" ",1),_.value.length>0&&_.value[0].gender?(p(),v("span",wr," [ M: "+x(b.value.length)+"("+x(parseFloat((b.value.length/_.value.length*100).toFixed(1)))+")%] [ F: "+x(y.value.length)+"("+x(parseFloat((y.value.length/_.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])])):k("",!0)])]),_:1})):k("",!0)])}}}),Tr=at(Dr,[["__scopeId","data-v-1db534fc"]]),Mr=s=>(St("data-v-388dbcaa"),s=s(),kt(),s),Cr={style:{width:"100%",position:"relative",height:"100%"}},Ar=Mr(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"NAME"),u("th",{class:"table-head"},"STAFF ID"),u("th",{class:"table-head"},"SUBJECT(S)"),u("th",{class:"table-head"},"IMAGE")])],-1)),$r={class:"table-data"},Er={key:0,style:{color:"seagreen"}},Pr={class:"table-data"},Or={class:"table-data"},Fr={class:"table-data"},Rr=["src"],Ir=Z({__name:"HeadDepartmentStaffProfile",props:{staff:null},setup(s){const t=s,e=Re();return(n,a)=>{const i=At;return p(),v("div",Cr,[t.staff?k("",!0):(p(),H(i,{key:0})),t.staff?(p(),H(yt,{key:1,"fixed-header":"",height:"55dvh"},{default:R(()=>[Ar,u("tbody",null,[(p(!0),v(X,null,tt(t.staff,(o,l)=>(p(),v("tr",{key:l},[u("td",$r,[j(x(o.user.first_name)+" "+x(o.user.last_name)+" ",1),o.role==="hod"?(p(),v("span",Er,"[HOD]")):k("",!0)]),u("td",Pr,x(o.staff_id),1),u("td",Or,[(p(!0),v(X,null,tt(o.subjects,(r,c)=>(p(),v("p",{key:c},x(r.name),1))),128))]),u("td",Fr,[u("img",{class:"student-img",src:g(e).getBaseUrl+o.img},null,8,Rr)])]))),128))])]),_:1})):k("",!0)])}}}),Lr=at(Ir,[["__scopeId","data-v-388dbcaa"]]),mo=s=>(St("data-v-2f3fc4ce"),s=s(),kt(),s),Vr={style:{width:"100%",position:"relative",height:"100%"}},Br=mo(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"TEACHER"),u("th",{class:"table-head"},"STAFF ID"),u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM")])],-1)),Nr={class:"table-data"},zr={class:"table-data"},jr={class:"table-data"},Hr={class:"table-data"},Wr={class:"table-data"},Ur=mo(()=>u("tr",{class:"empty-row"},"Justice",-1)),Yr=Z({__name:"HeadDepartmentTermCourseAssignment",props:{term:{}},setup(s){return(t,e)=>{const n=At;return p(),v("div",Vr,[!t.term||t.term.length===0?(p(),H(n,{key:0})):k("",!0),t.term&&t.term.length>0?(p(),H(yt,{key:1,"fixed-header":"",height:"45dvh"},{default:R(()=>[Br,u("tbody",null,[(p(!0),v(X,null,tt(t.term,(a,i)=>(p(),v("tr",{key:i},[u("td",Nr,x(a.teacher.user.first_name)+" "+x(a.teacher.user.last_name),1),u("td",zr,x(a.teacher.staff_id),1),u("td",jr,x(a.subject.name),1),u("td",Hr,x(a.students_class.name),1),u("td",Wr,x(a.students_class.students_year),1)]))),128)),Ur])]),_:1})):k("",!0)])}}}),Gr=at(Yr,[["__scopeId","data-v-2f3fc4ce"]]),Xr={class:"subsections-container"},Jr={key:0,class:"subsection-nav-container"},Kr={key:1,class:"subsection-nav-container"},qr={class:"subsections"},Zr=Z({__name:"HeadDepartmentsCourseAssignment",props:{subjectAssignment:{}},setup(s){const t=ot(),e=S(t.activeTerm),n=a=>{e.value=a};return(a,i)=>{const o=Gr;return p(),v("div",Xr,[g(t).userData&&g(t).userData.school.semesters?(p(),v("div",Jr,[u("button",{class:U(["nav-btn-2",{"nav-btn-2-active":e.value===1}]),onClick:i[0]||(i[0]=l=>n(1))},"SEMESTER 1",2),u("button",{class:U(["nav-btn-2",{"nav-btn-2-active":e.value===2}]),onClick:i[1]||(i[1]=l=>n(2))},"SEMESTER 2",2)])):k("",!0),g(t).userData&&!g(t).userData.school.semesters?(p(),v("div",Kr,[u("button",{class:U(["nav-btn-2",{"nav-btn-2-active":e.value===1}]),onClick:i[2]||(i[2]=l=>n(1))},"TRIMESTER 1",2),u("button",{class:U(["nav-btn-2",{"nav-btn-2-active":e.value===2}]),onClick:i[3]||(i[3]=l=>n(2))},"TRIMESTER 2",2),u("button",{class:U(["nav-btn-2",{"nav-btn-2-active":e.value===3}]),onClick:i[4]||(i[4]=l=>n(3))},"TRIMESTER 3",2)])):k("",!0),u("div",qr,[u("div",{class:"h-100",style:G(e.value===1?{display:"flex"}:{display:"none"})},[M(o,{term:a.subjectAssignment.term_one},null,8,["term"])],4),u("div",{class:"h-100",style:G(e.value===2?{display:"flex"}:{display:"none"})},[M(o,{term:a.subjectAssignment.term_two},null,8,["term"])],4),g(t).userData&&!g(t).userData.school.semesters?(p(),v("div",{key:0,class:"h-100",style:G(e.value===3?{display:"flex"}:{display:"none"})},[M(o,{term:a.subjectAssignment.term_three},null,8,["term"])],4)):k("",!0)])])}}}),Qr={class:"subsections-container"},tc={class:"subsection-nav-container"},ec={class:"subsections"},sc=Z({__name:"HeadDepartmentPage",props:{department:null},setup(s){const t=s,e=S("section1"),n=a=>{e.value=a};return(a,i)=>{const o=Lr,l=Zr;return p(),v("div",Qr,[u("div",tc,[u("button",{class:U(["nav-btn-1 btn-1",{"nav-btn-1-active":e.value==="section1"}]),onClick:i[0]||(i[0]=r=>n("section1"))},[M(K,{icon:"mdi-account"}),j(" TEACHERS PROFILE ")],2),u("button",{class:U(["nav-btn-1 btn-2",{"nav-btn-1-active":e.value==="section2"}]),onClick:i[1]||(i[1]=r=>n("section2"))},[M(K,{icon:"mdi-book-open-outline"}),j(" TEACHERS COURSEWORK ")],2)]),u("div",ec,[u("div",{style:G(e.value==="section1"?{display:"flex"}:{display:"none"})},[M(o,{staff:t.department.department.teachers},null,8,["staff"])],4),u("div",{class:"h-100",style:G(e.value==="section2"?{display:"flex"}:{display:"none"})},[M(l,{subjectAssignment:t.department.subject_assignments},null,8,["subjectAssignment"])],4)])])}}}),nc=at(sc,[["__scopeId","data-v-d521e7d1"]]),ac={class:"sections-container"},ic={key:1,class:"section-nav-container"},oc=["onClick"],lc={key:2,class:"sections"},rc=Z({__name:"HeadDepartments",setup(s){const t=S("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=At,l=nc;return p(),v("div",ac,[!g(e).headDepartments||g(e).headDepartments&&g(e).headDepartments.length===0?(p(),H(o,{key:0,class:"no-data"})):k("",!0),g(e).headDepartments&&g(e).headDepartments.length>0?(p(),v("div",ic,[(p(!0),v(X,null,tt(g(e).headDepartments,(r,c)=>(p(),v("button",{key:c,class:U(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[u("span",null,x(r.department.name),1)],10,oc))),128))])):k("",!0),g(e).headDepartments&&g(e).headDepartments.length>0?(p(),v("div",lc,[(p(!0),v(X,null,tt(g(e).headDepartments,(r,c)=>(p(),v("div",{class:"h-100",key:c,style:G(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[M(l,{department:r},null,8,["department"])],4))),128))])):k("",!0)])}}}),cc=at(rc,[["__scopeId","data-v-e377c4de"]]),dc=s=>(St("data-v-abe361e1"),s=s(),kt(),s),uc={style:{width:"100%",position:"relative",height:"100%"}},hc=dc(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"STUDENTS")])],-1)),fc={class:"table-data"},mc={class:"table-data"},pc={style:{padding:"0"}},gc={class:"student-info-container"},_c=["src"],bc={class:"flex-all-c"},vc={class:"user-name"},yc={class:"user-name"},xc=Z({__name:"HeadStudentsProgram",props:{program:{}},setup(s){const t=Re();return(e,n)=>(p(),v("div",uc,[M(yt,{"fixed-header":"",height:"300px"},{default:R(()=>[hc,u("tbody",null,[(p(!0),v(X,null,tt(e.program.classes,(a,i)=>(p(),v("tr",{key:i},[u("td",fc,x(a.name),1),u("td",mc,x(a.students_year),1),u("td",pc,[M(ps,{class:"pa-0"},{default:R(()=>[M(gs,null,{activator:R(({props:o})=>[M(Ht,Wt({class:"title"},o),{default:R(()=>[M(K,{icon:"mdi-account-circle"}),j(x(a.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:R(()=>[M(_s,{class:"v-scroll",height:"22vh",items:a.students},{default:R(({item:o})=>[M(Ht,{style:{position:"relative"}},{default:R(()=>[u("div",gc,[u("img",{class:"student-img",src:g(t).getBaseUrl+o.img},null,8,_c),u("div",bc,[u("p",vc,x(o.user.first_name+" "+o.user.last_name),1),u("p",yc,x(o.st_id),1)])])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1})]))}}),Sc=at(xc,[["__scopeId","data-v-abe361e1"]]),kc={class:"sections-container"},wc=["onClick"],Dc={key:2,class:"sections"},Tc=Z({__name:"HeadStudents",setup(s){const t=S("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=At,l=Sc;return p(),v("div",kc,[!g(e).headPrograms||g(e).headPrograms&&g(e).headPrograms.length===0?(p(),H(o,{key:0})):k("",!0),g(e).headPrograms&&g(e).headPrograms.length>0?(p(),H(Xe,{key:1,class:"section-nav-container",elevation:"0"},{default:R(()=>[(p(!0),v(X,null,tt(g(e).headPrograms,(r,c)=>(p(),v("button",{key:c,class:U(["nav-btn-2 btn-1",{"nav-btn-2-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},x(r.name),11,wc))),128))]),_:1})):k("",!0),g(e).headPrograms&&g(e).headPrograms.length>0?(p(),v("div",Dc,[(p(!0),v(X,null,tt(g(e).headPrograms,(r,c)=>(p(),v("div",{class:"w-100 h-100",style:G(t.value===`section${c+1}`?{display:"flex"}:{display:"none"}),key:c},[M(l,{program:r},null,8,["program"])],4))),128))])):k("",!0)])}}}),Mc=at(Tc,[["__scopeId","data-v-e7a26cb6"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Cs(s){return s+.5|0}const he=(s,t,e)=>Math.max(Math.min(s,e),t);function ns(s){return he(Cs(s*2.55),0,255)}function ge(s){return he(Cs(s*255),0,255)}function le(s){return he(Cs(s/2.55)/100,0,1)}function Pa(s){return he(Cs(s*100),0,100)}const Jt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Wn=[..."0123456789ABCDEF"],Cc=s=>Wn[s&15],Ac=s=>Wn[(s&240)>>4]+Wn[s&15],Ns=s=>(s&240)>>4===(s&15),$c=s=>Ns(s.r)&&Ns(s.g)&&Ns(s.b)&&Ns(s.a);function Ec(s){var t=s.length,e;return s[0]==="#"&&(t===4||t===5?e={r:255&Jt[s[1]]*17,g:255&Jt[s[2]]*17,b:255&Jt[s[3]]*17,a:t===5?Jt[s[4]]*17:255}:(t===7||t===9)&&(e={r:Jt[s[1]]<<4|Jt[s[2]],g:Jt[s[3]]<<4|Jt[s[4]],b:Jt[s[5]]<<4|Jt[s[6]],a:t===9?Jt[s[7]]<<4|Jt[s[8]]:255})),e}const Pc=(s,t)=>s<255?t(s):"";function Oc(s){var t=$c(s)?Cc:Ac;return s?"#"+t(s.r)+t(s.g)+t(s.b)+Pc(s.a,t):void 0}const Fc=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function po(s,t,e){const n=t*Math.min(e,1-e),a=(i,o=(i+s/30)%12)=>e-n*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function Rc(s,t,e){const n=(a,i=(a+s/60)%6)=>e-e*t*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function Ic(s,t,e){const n=po(s,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)n[a]*=1-t-e,n[a]+=t;return n}function Lc(s,t,e,n,a){return s===a?(t-e)/n+(t<e?6:0):t===a?(e-s)/n+2:(s-t)/n+4}function ca(s){const e=s.r/255,n=s.g/255,a=s.b/255,i=Math.max(e,n,a),o=Math.min(e,n,a),l=(i+o)/2;let r,c,d;return i!==o&&(d=i-o,c=l>.5?d/(2-i-o):d/(i+o),r=Lc(e,n,a,d,i),r=r*60+.5),[r|0,c||0,l]}function da(s,t,e,n){return(Array.isArray(t)?s(t[0],t[1],t[2]):s(t,e,n)).map(ge)}function ua(s,t,e){return da(po,s,t,e)}function Vc(s,t,e){return da(Ic,s,t,e)}function Bc(s,t,e){return da(Rc,s,t,e)}function go(s){return(s%360+360)%360}function Nc(s){const t=Fc.exec(s);let e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?ns(+t[5]):ge(+t[5]));const a=go(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=Vc(a,i,o):t[1]==="hsv"?n=Bc(a,i,o):n=ua(a,i,o),{r:n[0],g:n[1],b:n[2],a:e}}function zc(s,t){var e=ca(s);e[0]=go(e[0]+t),e=ua(e),s.r=e[0],s.g=e[1],s.b=e[2]}function jc(s){if(!s)return;const t=ca(s),e=t[0],n=Pa(t[1]),a=Pa(t[2]);return s.a<255?`hsla(${e}, ${n}%, ${a}%, ${le(s.a)})`:`hsl(${e}, ${n}%, ${a}%)`}const Oa={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fa={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Hc(){const s={},t=Object.keys(Fa),e=Object.keys(Oa);let n,a,i,o,l;for(n=0;n<t.length;n++){for(o=l=t[n],a=0;a<e.length;a++)i=e[a],l=l.replace(i,Oa[i]);i=parseInt(Fa[o],16),s[l]=[i>>16&255,i>>8&255,i&255]}return s}let zs;function Wc(s){zs||(zs=Hc(),zs.transparent=[0,0,0,0]);const t=zs[s.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Uc=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Yc(s){const t=Uc.exec(s);let e=255,n,a,i;if(t){if(t[7]!==n){const o=+t[7];e=t[8]?ns(o):he(o*255,0,255)}return n=+t[1],a=+t[3],i=+t[5],n=255&(t[2]?ns(n):he(n,0,255)),a=255&(t[4]?ns(a):he(a,0,255)),i=255&(t[6]?ns(i):he(i,0,255)),{r:n,g:a,b:i,a:e}}}function Gc(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${le(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const $n=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,Ne=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function Xc(s,t,e){const n=Ne(le(s.r)),a=Ne(le(s.g)),i=Ne(le(s.b));return{r:ge($n(n+e*(Ne(le(t.r))-n))),g:ge($n(a+e*(Ne(le(t.g))-a))),b:ge($n(i+e*(Ne(le(t.b))-i))),a:s.a+e*(t.a-s.a)}}function js(s,t,e){if(s){let n=ca(s);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=ua(n),s.r=n[0],s.g=n[1],s.b=n[2]}}function _o(s,t){return s&&Object.assign(t||{},s)}function Ra(s){var t={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(t={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(t.a=ge(s[3]))):(t=_o(s,{r:0,g:0,b:0,a:1}),t.a=ge(t.a)),t}function Jc(s){return s.charAt(0)==="r"?Yc(s):Nc(s)}class bs{constructor(t){if(t instanceof bs)return t;const e=typeof t;let n;e==="object"?n=Ra(t):e==="string"&&(n=Ec(t)||Wc(t)||Jc(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=_o(this._rgb);return t&&(t.a=le(t.a)),t}set rgb(t){this._rgb=Ra(t)}rgbString(){return this._valid?Gc(this._rgb):void 0}hexString(){return this._valid?Oc(this._rgb):void 0}hslString(){return this._valid?jc(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,a=t.rgb;let i;const o=e===i?.5:e,l=2*o-1,r=n.a-a.a,c=((l*r===-1?l:(l+r)/(1+l*r))+1)/2;i=1-c,n.r=255&c*n.r+i*a.r+.5,n.g=255&c*n.g+i*a.g+.5,n.b=255&c*n.b+i*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=Xc(this._rgb,t._rgb,e)),this}clone(){return new bs(this.rgb)}alpha(t){return this._rgb.a=ge(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Cs(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return js(this._rgb,2,t),this}darken(t){return js(this._rgb,2,-t),this}saturate(t){return js(this._rgb,1,t),this}desaturate(t){return js(this._rgb,1,-t),this}rotate(t){return zc(this._rgb,t),this}}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function ae(){}const Kc=(()=>{let s=0;return()=>s++})();function it(s){return s===null||typeof s>"u"}function ht(s){if(Array.isArray&&Array.isArray(s))return!0;const t=Object.prototype.toString.call(s);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function et(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function bt(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function zt(s,t){return bt(s)?s:t}function q(s,t){return typeof s>"u"?t:s}const qc=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/t,bo=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*t:+s;function ut(s,t,e){if(s&&typeof s.call=="function")return s.apply(e,t)}function rt(s,t,e,n){let a,i,o;if(ht(s))if(i=s.length,n)for(a=i-1;a>=0;a--)t.call(e,s[a],a);else for(a=0;a<i;a++)t.call(e,s[a],a);else if(et(s))for(o=Object.keys(s),i=o.length,a=0;a<i;a++)t.call(e,s[o[a]],o[a])}function dn(s,t){let e,n,a,i;if(!s||!t||s.length!==t.length)return!1;for(e=0,n=s.length;e<n;++e)if(a=s[e],i=t[e],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function un(s){if(ht(s))return s.map(un);if(et(s)){const t=Object.create(null),e=Object.keys(s),n=e.length;let a=0;for(;a<n;++a)t[e[a]]=un(s[e[a]]);return t}return s}function vo(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function Zc(s,t,e,n){if(!vo(s))return;const a=t[s],i=e[s];et(a)&&et(i)?vs(a,i,n):t[s]=un(i)}function vs(s,t,e){const n=ht(t)?t:[t],a=n.length;if(!et(s))return s;e=e||{};const i=e.merger||Zc;let o;for(let l=0;l<a;++l){if(o=n[l],!et(o))continue;const r=Object.keys(o);for(let c=0,d=r.length;c<d;++c)i(r[c],s,o,e)}return s}function cs(s,t){return vs(s,t,{merger:Qc})}function Qc(s,t,e){if(!vo(s))return;const n=t[s],a=e[s];et(n)&&et(a)?cs(n,a):Object.prototype.hasOwnProperty.call(t,s)||(t[s]=un(a))}const Ia={"":s=>s,x:s=>s.x,y:s=>s.y};function td(s){const t=s.split("."),e=[];let n="";for(const a of t)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function ed(s){const t=td(s);return e=>{for(const n of t){if(n==="")break;e=e&&e[n]}return e}}function _e(s,t){return(Ia[t]||(Ia[t]=ed(t)))(s)}function ha(s){return s.charAt(0).toUpperCase()+s.slice(1)}const ys=s=>typeof s<"u",be=s=>typeof s=="function",La=(s,t)=>{if(s.size!==t.size)return!1;for(const e of s)if(!t.has(e))return!1;return!0};function sd(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const mt=Math.PI,ft=2*mt,nd=ft+mt,hn=Number.POSITIVE_INFINITY,ad=mt/180,xt=mt/2,we=mt/4,Va=mt*2/3,fe=Math.log10,ne=Math.sign;function ds(s,t,e){return Math.abs(s-t)<e}function Ba(s){const t=Math.round(s);s=ds(s,t,s/1e3)?t:s;const e=Math.pow(10,Math.floor(fe(s))),n=s/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function id(s){const t=[],e=Math.sqrt(s);let n;for(n=1;n<e;n++)s%n===0&&(t.push(n),t.push(s/n));return e===(e|0)&&t.push(e),t.sort((a,i)=>a-i).pop(),t}function Ue(s){return!isNaN(parseFloat(s))&&isFinite(s)}function od(s,t){const e=Math.round(s);return e-t<=s&&e+t>=s}function yo(s,t,e){let n,a,i;for(n=0,a=s.length;n<a;n++)i=s[n][e],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function Zt(s){return s*(mt/180)}function fa(s){return s*(180/mt)}function Na(s){if(!bt(s))return;let t=1,e=0;for(;Math.round(s*t)/t!==s;)t*=10,e++;return e}function xo(s,t){const e=t.x-s.x,n=t.y-s.y,a=Math.sqrt(e*e+n*n);let i=Math.atan2(n,e);return i<-.5*mt&&(i+=ft),{angle:i,distance:a}}function Un(s,t){return Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))}function ld(s,t){return(s-t+nd)%ft-mt}function jt(s){return(s%ft+ft)%ft}function xs(s,t,e,n){const a=jt(s),i=jt(t),o=jt(e),l=jt(i-a),r=jt(o-a),c=jt(a-i),d=jt(a-o);return a===i||a===o||n&&i===o||l>r&&c<d}function $t(s,t,e){return Math.max(t,Math.min(e,s))}function rd(s){return $t(s,-32768,32767)}function re(s,t,e,n=1e-6){return s>=Math.min(t,e)-n&&s<=Math.max(t,e)+n}function ma(s,t,e){e=e||(o=>s[o]<t);let n=s.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,e(i)?a=i:n=i;return{lo:a,hi:n}}const ce=(s,t,e,n)=>ma(s,e,n?a=>{const i=s[a][t];return i<e||i===e&&s[a+1][t]===e}:a=>s[a][t]<e),cd=(s,t,e)=>ma(s,e,n=>s[n][t]>=e);function dd(s,t,e){let n=0,a=s.length;for(;n<a&&s[n]<t;)n++;for(;a>n&&s[a-1]>e;)a--;return n>0||a<s.length?s.slice(n,a):s}const So=["push","pop","shift","splice","unshift"];function ud(s,t){if(s._chartjs){s._chartjs.listeners.push(t);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),So.forEach(e=>{const n="_onData"+ha(e),a=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return s._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),o}})})}function za(s,t){const e=s._chartjs;if(!e)return;const n=e.listeners,a=n.indexOf(t);a!==-1&&n.splice(a,1),!(n.length>0)&&(So.forEach(i=>{delete s[i]}),delete s._chartjs)}function ko(s){const t=new Set(s);return t.size===s.length?s:Array.from(t)}const wo=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function Do(s,t){let e=[],n=!1;return function(...a){e=a,n||(n=!0,wo.call(window,()=>{n=!1,s.apply(t,e)}))}}function hd(s,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(s,t,n)):s.apply(this,n),t}}const pa=s=>s==="start"?"left":s==="end"?"right":"center",Pt=(s,t,e)=>s==="start"?t:s==="end"?e:(t+e)/2,fd=(s,t,e,n)=>s===(n?"left":"right")?e:s==="center"?(t+e)/2:t;function To(s,t,e){const n=t.length;let a=0,i=n;if(s._sorted){const{iScale:o,_parsed:l}=s,r=o.axis,{min:c,max:d,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(a=$t(Math.min(ce(l,r,c).lo,e?n:ce(t,r,o.getPixelForValue(c)).lo),0,n-1)),f?i=$t(Math.max(ce(l,o.axis,d,!0).hi+1,e?0:ce(t,r,o.getPixelForValue(d),!0).hi+1),a,n)-a:i=n-a}return{start:a,count:i}}function Mo(s){const{xScale:t,yScale:e,_scaleRanges:n}=s,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return s._scaleRanges=a,!0;const i=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,a),i}const Hs=s=>s===0||s===1,ja=(s,t,e)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-t)*ft/e)),Ha=(s,t,e)=>Math.pow(2,-10*s)*Math.sin((s-t)*ft/e)+1,us={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*xt)+1,easeOutSine:s=>Math.sin(s*xt),easeInOutSine:s=>-.5*(Math.cos(mt*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Hs(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Hs(s)?s:ja(s,.075,.3),easeOutElastic:s=>Hs(s)?s:Ha(s,.075,.3),easeInOutElastic(s){return Hs(s)?s:s<.5?.5*ja(s*2,.1125,.45):.5+.5*Ha(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let t=1.70158;return(s/=.5)<1?.5*(s*s*(((t*=1.525)+1)*s-t)):.5*((s-=2)*s*(((t*=1.525)+1)*s+t)+2)},easeInBounce:s=>1-us.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?us.easeInBounce(s*2)*.5:us.easeOutBounce(s*2-1)*.5+.5};function ga(s){if(s&&typeof s=="object"){const t=s.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Wa(s){return ga(s)?s:new bs(s)}function En(s){return ga(s)?s:new bs(s).saturate(.5).darken(.1).hexString()}const md=["x","y","borderWidth","radius","tension"],pd=["color","borderColor","backgroundColor"];function gd(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),s.set("animations",{colors:{type:"color",properties:pd},numbers:{type:"number",properties:md}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function _d(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ua=new Map;function bd(s,t){t=t||{};const e=s+JSON.stringify(t);let n=Ua.get(e);return n||(n=new Intl.NumberFormat(s,t),Ua.set(e,n)),n}function As(s,t,e){return bd(t,e).format(s)}const Co={values(s){return ht(s)?s:""+s},numeric(s,t,e){if(s===0)return"0";const n=this.chart.options.locale;let a,i=s;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(a="scientific"),i=vd(s,e)}const o=fe(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),r={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(r,this.options.ticks.format),As(s,n,r)},logarithmic(s,t,e){if(s===0)return"0";const n=e[t].significand||s/Math.pow(10,Math.floor(fe(s)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?Co.numeric.call(this,s,t,e):""}};function vd(s,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&s!==Math.floor(s)&&(e=s-Math.floor(s)),e}var bn={formatters:Co};function yd(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Oe=Object.create(null),Yn=Object.create(null);function hs(s,t){if(!t)return s;const e=t.split(".");for(let n=0,a=e.length;n<a;++n){const i=e[n];s=s[i]||(s[i]=Object.create(null))}return s}function Pn(s,t,e){return typeof t=="string"?vs(hs(s,t),e):vs(hs(s,""),t)}class xd{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>En(a.backgroundColor),this.hoverBorderColor=(n,a)=>En(a.borderColor),this.hoverColor=(n,a)=>En(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Pn(this,t,e)}get(t){return hs(this,t)}describe(t,e){return Pn(Yn,t,e)}override(t,e){return Pn(Oe,t,e)}route(t,e,n,a){const i=hs(this,t),o=hs(this,n),l="_"+e;Object.defineProperties(i,{[l]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const r=this[l],c=o[a];return et(r)?Object.assign({},c,r):q(r,c)},set(r){this[l]=r}}})}apply(t){t.forEach(e=>e(this))}}var vt=new xd({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[gd,_d,yd]);function Sd(s){return!s||it(s.size)||it(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function fn(s,t,e,n,a){let i=t[a];return i||(i=t[a]=s.measureText(a).width,e.push(a)),i>n&&(n=i),n}function kd(s,t,e,n){n=n||{};let a=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(a=n.data={},i=n.garbageCollect=[],n.font=t),s.save(),s.font=t;let o=0;const l=e.length;let r,c,d,h,f;for(r=0;r<l;r++)if(h=e[r],h!=null&&!ht(h))o=fn(s,a,i,o,h);else if(ht(h))for(c=0,d=h.length;c<d;c++)f=h[c],f!=null&&!ht(f)&&(o=fn(s,a,i,o,f));s.restore();const m=i.length/2;if(m>e.length){for(r=0;r<m;r++)delete a[i[r]];i.splice(0,m)}return o}function De(s,t,e){const n=s.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*n)/n+a}function Ya(s,t){t=t||s.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,s.width,s.height),t.restore()}function Gn(s,t,e,n){Ao(s,t,e,n,null)}function Ao(s,t,e,n,a){let i,o,l,r,c,d,h,f;const m=t.pointStyle,_=t.rotation,b=t.radius;let y=(_||0)*ad;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){s.save(),s.translate(e,n),s.rotate(y),s.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),s.restore();return}if(!(isNaN(b)||b<=0)){switch(s.beginPath(),m){default:a?s.ellipse(e,n,a/2,b,0,0,ft):s.arc(e,n,b,0,ft),s.closePath();break;case"triangle":d=a?a/2:b,s.moveTo(e+Math.sin(y)*d,n-Math.cos(y)*b),y+=Va,s.lineTo(e+Math.sin(y)*d,n-Math.cos(y)*b),y+=Va,s.lineTo(e+Math.sin(y)*d,n-Math.cos(y)*b),s.closePath();break;case"rectRounded":c=b*.516,r=b-c,o=Math.cos(y+we)*r,h=Math.cos(y+we)*(a?a/2-c:r),l=Math.sin(y+we)*r,f=Math.sin(y+we)*(a?a/2-c:r),s.arc(e-h,n-l,c,y-mt,y-xt),s.arc(e+f,n-o,c,y-xt,y),s.arc(e+h,n+l,c,y,y+xt),s.arc(e-f,n+o,c,y+xt,y+mt),s.closePath();break;case"rect":if(!_){r=Math.SQRT1_2*b,d=a?a/2:r,s.rect(e-d,n-r,2*d,2*r);break}y+=we;case"rectRot":h=Math.cos(y)*(a?a/2:b),o=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(a?a/2:b),s.moveTo(e-h,n-l),s.lineTo(e+f,n-o),s.lineTo(e+h,n+l),s.lineTo(e-f,n+o),s.closePath();break;case"crossRot":y+=we;case"cross":h=Math.cos(y)*(a?a/2:b),o=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(a?a/2:b),s.moveTo(e-h,n-l),s.lineTo(e+h,n+l),s.moveTo(e+f,n-o),s.lineTo(e-f,n+o);break;case"star":h=Math.cos(y)*(a?a/2:b),o=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(a?a/2:b),s.moveTo(e-h,n-l),s.lineTo(e+h,n+l),s.moveTo(e+f,n-o),s.lineTo(e-f,n+o),y+=we,h=Math.cos(y)*(a?a/2:b),o=Math.cos(y)*b,l=Math.sin(y)*b,f=Math.sin(y)*(a?a/2:b),s.moveTo(e-h,n-l),s.lineTo(e+h,n+l),s.moveTo(e+f,n-o),s.lineTo(e-f,n+o);break;case"line":o=a?a/2:Math.cos(y)*b,l=Math.sin(y)*b,s.moveTo(e-o,n-l),s.lineTo(e+o,n+l);break;case"dash":s.moveTo(e,n),s.lineTo(e+Math.cos(y)*(a?a/2:b),n+Math.sin(y)*b);break;case!1:s.closePath();break}s.fill(),t.borderWidth>0&&s.stroke()}}function de(s,t,e){return e=e||.5,!t||s&&s.x>t.left-e&&s.x<t.right+e&&s.y>t.top-e&&s.y<t.bottom+e}function vn(s,t){s.save(),s.beginPath(),s.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),s.clip()}function yn(s){s.restore()}function wd(s,t,e,n,a){if(!t)return s.lineTo(e.x,e.y);if(a==="middle"){const i=(t.x+e.x)/2;s.lineTo(i,t.y),s.lineTo(i,e.y)}else a==="after"!=!!n?s.lineTo(t.x,e.y):s.lineTo(e.x,t.y);s.lineTo(e.x,e.y)}function Dd(s,t,e,n){if(!t)return s.lineTo(e.x,e.y);s.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function Td(s,t){t.translation&&s.translate(t.translation[0],t.translation[1]),it(t.rotation)||s.rotate(t.rotation),t.color&&(s.fillStyle=t.color),t.textAlign&&(s.textAlign=t.textAlign),t.textBaseline&&(s.textBaseline=t.textBaseline)}function Md(s,t,e,n,a){if(a.strikethrough||a.underline){const i=s.measureText(n),o=t-i.actualBoundingBoxLeft,l=t+i.actualBoundingBoxRight,r=e-i.actualBoundingBoxAscent,c=e+i.actualBoundingBoxDescent,d=a.strikethrough?(r+c)/2:c;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=a.decorationWidth||2,s.moveTo(o,d),s.lineTo(l,d),s.stroke()}}function Cd(s,t){const e=s.fillStyle;s.fillStyle=t.color,s.fillRect(t.left,t.top,t.width,t.height),s.fillStyle=e}function Fe(s,t,e,n,a,i={}){const o=ht(t)?t:[t],l=i.strokeWidth>0&&i.strokeColor!=="";let r,c;for(s.save(),s.font=a.string,Td(s,i),r=0;r<o.length;++r)c=o[r],i.backdrop&&Cd(s,i.backdrop),l&&(i.strokeColor&&(s.strokeStyle=i.strokeColor),it(i.strokeWidth)||(s.lineWidth=i.strokeWidth),s.strokeText(c,e,n,i.maxWidth)),s.fillText(c,e,n,i.maxWidth),Md(s,e,n,c,i),n+=Number(a.lineHeight);s.restore()}function Ss(s,t){const{x:e,y:n,w:a,h:i,radius:o}=t;s.arc(e+o.topLeft,n+o.topLeft,o.topLeft,1.5*mt,mt,!0),s.lineTo(e,n+i-o.bottomLeft),s.arc(e+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,mt,xt,!0),s.lineTo(e+a-o.bottomRight,n+i),s.arc(e+a-o.bottomRight,n+i-o.bottomRight,o.bottomRight,xt,0,!0),s.lineTo(e+a,n+o.topRight),s.arc(e+a-o.topRight,n+o.topRight,o.topRight,0,-xt,!0),s.lineTo(e+o.topLeft,n)}const Ad=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$d=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ed(s,t){const e=(""+s).match(Ad);if(!e||e[1]==="normal")return t*1.2;switch(s=+e[2],e[3]){case"px":return s;case"%":s/=100;break}return t*s}const Pd=s=>+s||0;function _a(s,t){const e={},n=et(t),a=n?Object.keys(t):t,i=et(s)?n?o=>q(s[o],s[t[o]]):o=>s[o]:()=>s;for(const o of a)e[o]=Pd(i(o));return e}function $o(s){return _a(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Ee(s){return _a(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Ft(s){const t=$o(s);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ct(s,t){s=s||{},t=t||vt.font;let e=q(s.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=q(s.style,t.style);n&&!(""+n).match($d)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:q(s.family,t.family),lineHeight:Ed(q(s.lineHeight,t.lineHeight),e),size:e,style:n,weight:q(s.weight,t.weight),string:""};return a.string=Sd(a),a}function as(s,t,e,n){let a=!0,i,o,l;for(i=0,o=s.length;i<o;++i)if(l=s[i],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t),a=!1),e!==void 0&&ht(l)&&(l=l[e%l.length],a=!1),l!==void 0))return n&&!a&&(n.cacheable=!1),l}function Od(s,t,e){const{min:n,max:a}=s,i=bo(t,(a-n)/2),o=(l,r)=>e&&l===0?0:l+r;return{min:o(n,-Math.abs(i)),max:o(a,i)}}function ve(s,t){return Object.assign(Object.create(s),t)}function ba(s,t=[""],e,n,a=()=>s[0]){const i=e||s;typeof n>"u"&&(n=Fo("_fallback",s));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:i,_fallback:n,_getTarget:a,override:l=>ba([l,...s],t,i,n)};return new Proxy(o,{deleteProperty(l,r){return delete l[r],delete l._keys,delete s[0][r],!0},get(l,r){return Po(l,r,()=>zd(r,t,s,l))},getOwnPropertyDescriptor(l,r){return Reflect.getOwnPropertyDescriptor(l._scopes[0],r)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(l,r){return Xa(l).includes(r)},ownKeys(l){return Xa(l)},set(l,r,c){const d=l._storage||(l._storage=a());return l[r]=d[r]=c,delete l._keys,!0}})}function Ye(s,t,e,n){const a={_cacheable:!1,_proxy:s,_context:t,_subProxy:e,_stack:new Set,_descriptors:Eo(s,n),setContext:i=>Ye(s,i,e,n),override:i=>Ye(s.override(i),t,e,n)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete s[o],!0},get(i,o,l){return Po(i,o,()=>Rd(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(s,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,o)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(i,o){return Reflect.has(s,o)},ownKeys(){return Reflect.ownKeys(s)},set(i,o,l){return s[o]=l,delete i[o],!0}})}function Eo(s,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:a=t.allKeys}=s;return{allKeys:a,scriptable:e,indexable:n,isScriptable:be(e)?e:()=>e,isIndexable:be(n)?n:()=>n}}const Fd=(s,t)=>s?s+ha(t):t,va=(s,t)=>et(t)&&s!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Po(s,t,e){if(Object.prototype.hasOwnProperty.call(s,t))return s[t];const n=e();return s[t]=n,n}function Rd(s,t,e){const{_proxy:n,_context:a,_subProxy:i,_descriptors:o}=s;let l=n[t];return be(l)&&o.isScriptable(t)&&(l=Id(t,l,s,e)),ht(l)&&l.length&&(l=Ld(t,l,s,o.isIndexable)),va(t,l)&&(l=Ye(l,a,i&&i[t],o)),l}function Id(s,t,e,n){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=e;if(l.has(s))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+s);l.add(s);let r=t(i,o||n);return l.delete(s),va(s,r)&&(r=ya(a._scopes,a,s,r)),r}function Ld(s,t,e,n){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=e;if(typeof i.index<"u"&&n(s))return t[i.index%t.length];if(et(t[0])){const r=t,c=a._scopes.filter(d=>d!==r);t=[];for(const d of r){const h=ya(c,a,s,d);t.push(Ye(h,i,o&&o[s],l))}}return t}function Oo(s,t,e){return be(s)?s(t,e):s}const Vd=(s,t)=>s===!0?t:typeof s=="string"?_e(t,s):void 0;function Bd(s,t,e,n,a){for(const i of t){const o=Vd(e,i);if(o){s.add(o);const l=Oo(o._fallback,e,a);if(typeof l<"u"&&l!==e&&l!==n)return l}else if(o===!1&&typeof n<"u"&&e!==n)return null}return!1}function ya(s,t,e,n){const a=t._rootScopes,i=Oo(t._fallback,e,n),o=[...s,...a],l=new Set;l.add(n);let r=Ga(l,o,e,i||e,n);return r===null||typeof i<"u"&&i!==e&&(r=Ga(l,o,i,r,n),r===null)?!1:ba(Array.from(l),[""],a,i,()=>Nd(t,e,n))}function Ga(s,t,e,n,a){for(;e;)e=Bd(s,t,e,n,a);return e}function Nd(s,t,e){const n=s._getTarget();t in n||(n[t]={});const a=n[t];return ht(a)&&et(e)?e:a||{}}function zd(s,t,e,n){let a;for(const i of t)if(a=Fo(Fd(i,s),e),typeof a<"u")return va(s,a)?ya(e,n,s,a):a}function Fo(s,t){for(const e of t){if(!e)continue;const n=e[s];if(typeof n<"u")return n}}function Xa(s){let t=s._keys;return t||(t=s._keys=jd(s._scopes)),t}function jd(s){const t=new Set;for(const e of s)for(const n of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(n);return Array.from(t)}function Ro(s,t,e,n){const{iScale:a}=s,{key:i="r"}=this._parsing,o=new Array(n);let l,r,c,d;for(l=0,r=n;l<r;++l)c=l+e,d=t[c],o[l]={r:a.parse(_e(d,i),c)};return o}const Hd=Number.EPSILON||1e-14,Ge=(s,t)=>t<s.length&&!s[t].skip&&s[t],Io=s=>s==="x"?"y":"x";function Wd(s,t,e,n){const a=s.skip?t:s,i=t,o=e.skip?t:e,l=Un(i,a),r=Un(o,i);let c=l/(l+r),d=r/(l+r);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=n*c,f=n*d;return{previous:{x:i.x-h*(o.x-a.x),y:i.y-h*(o.y-a.y)},next:{x:i.x+f*(o.x-a.x),y:i.y+f*(o.y-a.y)}}}function Ud(s,t,e){const n=s.length;let a,i,o,l,r,c=Ge(s,0);for(let d=0;d<n-1;++d)if(r=c,c=Ge(s,d+1),!(!r||!c)){if(ds(t[d],0,Hd)){e[d]=e[d+1]=0;continue}a=e[d]/t[d],i=e[d+1]/t[d],l=Math.pow(a,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),e[d]=a*o*t[d],e[d+1]=i*o*t[d])}}function Yd(s,t,e="x"){const n=Io(e),a=s.length;let i,o,l,r=Ge(s,0);for(let c=0;c<a;++c){if(o=l,l=r,r=Ge(s,c+1),!l)continue;const d=l[e],h=l[n];o&&(i=(d-o[e])/3,l[`cp1${e}`]=d-i,l[`cp1${n}`]=h-i*t[c]),r&&(i=(r[e]-d)/3,l[`cp2${e}`]=d+i,l[`cp2${n}`]=h+i*t[c])}}function Gd(s,t="x"){const e=Io(t),n=s.length,a=Array(n).fill(0),i=Array(n);let o,l,r,c=Ge(s,0);for(o=0;o<n;++o)if(l=r,r=c,c=Ge(s,o+1),!!r){if(c){const d=c[t]-r[t];a[o]=d!==0?(c[e]-r[e])/d:0}i[o]=l?c?ne(a[o-1])!==ne(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}Ud(s,a,i),Yd(s,i,t)}function Ws(s,t,e){return Math.max(Math.min(s,e),t)}function Xd(s,t){let e,n,a,i,o,l=de(s[0],t);for(e=0,n=s.length;e<n;++e)o=i,i=l,l=e<n-1&&de(s[e+1],t),i&&(a=s[e],o&&(a.cp1x=Ws(a.cp1x,t.left,t.right),a.cp1y=Ws(a.cp1y,t.top,t.bottom)),l&&(a.cp2x=Ws(a.cp2x,t.left,t.right),a.cp2y=Ws(a.cp2y,t.top,t.bottom)))}function Jd(s,t,e,n,a){let i,o,l,r;if(t.spanGaps&&(s=s.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Gd(s,a);else{let c=n?s[s.length-1]:s[0];for(i=0,o=s.length;i<o;++i)l=s[i],r=Wd(c,l,s[Math.min(i+1,o-(n?0:1))%o],t.tension),l.cp1x=r.previous.x,l.cp1y=r.previous.y,l.cp2x=r.next.x,l.cp2y=r.next.y,c=l}t.capBezierPoints&&Xd(s,e)}function xa(){return typeof window<"u"&&typeof document<"u"}function Sa(s){let t=s.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function mn(s,t,e){let n;return typeof s=="string"?(n=parseInt(s,10),s.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=s,n}const xn=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function Kd(s,t){return xn(s).getPropertyValue(t)}const qd=["top","right","bottom","left"];function Pe(s,t,e){const n={};e=e?"-"+e:"";for(let a=0;a<4;a++){const i=qd[a];n[i]=parseFloat(s[t+"-"+i+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Zd=(s,t,e)=>(s>0||t>0)&&(!e||!e.shadowRoot);function Qd(s,t){const e=s.touches,n=e&&e.length?e[0]:s,{offsetX:a,offsetY:i}=n;let o=!1,l,r;if(Zd(a,i,s.target))l=a,r=i;else{const c=t.getBoundingClientRect();l=n.clientX-c.left,r=n.clientY-c.top,o=!0}return{x:l,y:r,box:o}}function Ce(s,t){if("native"in s)return s;const{canvas:e,currentDevicePixelRatio:n}=t,a=xn(e),i=a.boxSizing==="border-box",o=Pe(a,"padding"),l=Pe(a,"border","width"),{x:r,y:c,box:d}=Qd(s,e),h=o.left+(d&&l.left),f=o.top+(d&&l.top);let{width:m,height:_}=t;return i&&(m-=o.width+l.width,_-=o.height+l.height),{x:Math.round((r-h)/m*e.width/n),y:Math.round((c-f)/_*e.height/n)}}function tu(s,t,e){let n,a;if(t===void 0||e===void 0){const i=Sa(s);if(!i)t=s.clientWidth,e=s.clientHeight;else{const o=i.getBoundingClientRect(),l=xn(i),r=Pe(l,"border","width"),c=Pe(l,"padding");t=o.width-c.width-r.width,e=o.height-c.height-r.height,n=mn(l.maxWidth,i,"clientWidth"),a=mn(l.maxHeight,i,"clientHeight")}}return{width:t,height:e,maxWidth:n||hn,maxHeight:a||hn}}const Us=s=>Math.round(s*10)/10;function eu(s,t,e,n){const a=xn(s),i=Pe(a,"margin"),o=mn(a.maxWidth,s,"clientWidth")||hn,l=mn(a.maxHeight,s,"clientHeight")||hn,r=tu(s,t,e);let{width:c,height:d}=r;if(a.boxSizing==="content-box"){const f=Pe(a,"border","width"),m=Pe(a,"padding");c-=m.width+f.width,d-=m.height+f.height}return c=Math.max(0,c-i.width),d=Math.max(0,n?c/n:d-i.height),c=Us(Math.min(c,o,r.maxWidth)),d=Us(Math.min(d,l,r.maxHeight)),c&&!d&&(d=Us(c/2)),(t!==void 0||e!==void 0)&&n&&r.height&&d>r.height&&(d=r.height,c=Us(Math.floor(d*n))),{width:c,height:d}}function Ja(s,t,e){const n=t||1,a=Math.floor(s.height*n),i=Math.floor(s.width*n);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const o=s.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${s.height}px`,o.style.width=`${s.width}px`),s.currentDevicePixelRatio!==n||o.height!==a||o.width!==i?(s.currentDevicePixelRatio=n,o.height=a,o.width=i,s.ctx.setTransform(n,0,0,n,0,0),!0):!1}const su=function(){let s=!1;try{const t={get passive(){return s=!0,!1}};xa()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return s}();function Ka(s,t){const e=Kd(s,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Ae(s,t,e,n){return{x:s.x+e*(t.x-s.x),y:s.y+e*(t.y-s.y)}}function nu(s,t,e,n){return{x:s.x+e*(t.x-s.x),y:n==="middle"?e<.5?s.y:t.y:n==="after"?e<1?s.y:t.y:e>0?t.y:s.y}}function au(s,t,e,n){const a={x:s.cp2x,y:s.cp2y},i={x:t.cp1x,y:t.cp1y},o=Ae(s,a,e),l=Ae(a,i,e),r=Ae(i,t,e),c=Ae(o,l,e),d=Ae(l,r,e);return Ae(c,d,e)}const iu=function(s,t){return{x(e){return s+s+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},ou=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,t){return s+t},leftForLtr(s,t){return s}}};function He(s,t,e){return s?iu(t,e):ou()}function Lo(s,t){let e,n;(t==="ltr"||t==="rtl")&&(e=s.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),s.prevTextDirection=n)}function Vo(s,t){t!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",t[0],t[1]))}function Bo(s){return s==="angle"?{between:xs,compare:ld,normalize:jt}:{between:re,compare:(t,e)=>t-e,normalize:t=>t}}function qa({start:s,end:t,count:e,loop:n,style:a}){return{start:s%e,end:t%e,loop:n&&(t-s+1)%e===0,style:a}}function lu(s,t,e){const{property:n,start:a,end:i}=e,{between:o,normalize:l}=Bo(n),r=t.length;let{start:c,end:d,loop:h}=s,f,m;if(h){for(c+=r,d+=r,f=0,m=r;f<m&&o(l(t[c%r][n]),a,i);++f)c--,d--;c%=r,d%=r}return d<c&&(d+=r),{start:c,end:d,loop:h,style:s.style}}function No(s,t,e){if(!e)return[s];const{property:n,start:a,end:i}=e,o=t.length,{compare:l,between:r,normalize:c}=Bo(n),{start:d,end:h,loop:f,style:m}=lu(s,t,e),_=[];let b=!1,y=null,D,w,$;const P=()=>r(a,$,D)&&l(a,$)!==0,A=()=>l(i,D)===0||r(i,$,D),O=()=>b||P(),C=()=>!b||A();for(let T=d,E=d;T<=h;++T)w=t[T%o],!w.skip&&(D=c(w[n]),D!==$&&(b=r(D,a,i),y===null&&O()&&(y=l(D,a)===0?T:E),y!==null&&C()&&(_.push(qa({start:y,end:T,loop:f,count:o,style:m})),y=null),E=T,$=D));return y!==null&&_.push(qa({start:y,end:h,loop:f,count:o,style:m})),_}function zo(s,t){const e=[],n=s.segments;for(let a=0;a<n.length;a++){const i=No(n[a],s.points,t);i.length&&e.push(...i)}return e}function ru(s,t,e,n){let a=0,i=t-1;if(e&&!n)for(;a<t&&!s[a].skip;)a++;for(;a<t&&s[a].skip;)a++;for(a%=t,e&&(i+=a);i>a&&s[i%t].skip;)i--;return i%=t,{start:a,end:i}}function cu(s,t,e,n){const a=s.length,i=[];let o=t,l=s[t],r;for(r=t+1;r<=e;++r){const c=s[r%a];c.skip||c.stop?l.skip||(n=!1,i.push({start:t%a,end:(r-1)%a,loop:n}),t=o=c.stop?r:null):(o=r,l.skip&&(t=r)),l=c}return o!==null&&i.push({start:t%a,end:o%a,loop:n}),i}function du(s,t){const e=s.points,n=s.options.spanGaps,a=e.length;if(!a)return[];const i=!!s._loop,{start:o,end:l}=ru(e,a,i,n);if(n===!0)return Za(s,[{start:o,end:l,loop:i}],e,t);const r=l<o?l+a:l,c=!!s._fullLoop&&o===0&&l===a-1;return Za(s,cu(e,o,r,c),e,t)}function Za(s,t,e,n){return!n||!n.setContext||!e?t:uu(s,t,e,n)}function uu(s,t,e,n){const a=s._chart.getContext(),i=Qa(s.options),{_datasetIndex:o,options:{spanGaps:l}}=s,r=e.length,c=[];let d=i,h=t[0].start,f=h;function m(_,b,y,D){const w=l?-1:1;if(_!==b){for(_+=r;e[_%r].skip;)_-=w;for(;e[b%r].skip;)b+=w;_%r!==b%r&&(c.push({start:_%r,end:b%r,loop:y,style:D}),d=D,h=b%r)}}for(const _ of t){h=l?h:_.start;let b=e[h%r],y;for(f=h+1;f<=_.end;f++){const D=e[f%r];y=Qa(n.setContext(ve(a,{type:"segment",p0:b,p1:D,p0DataIndex:(f-1)%r,p1DataIndex:f%r,datasetIndex:o}))),hu(y,d)&&m(h,f-1,_.loop,d),b=D,d=y}h<f-1&&m(h,f-1,_.loop,d)}return c}function Qa(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function hu(s,t){if(!t)return!1;const e=[],n=function(a,i){return ga(i)?(e.includes(i)||e.push(i),e.indexOf(i)):i};return JSON.stringify(s,n)!==JSON.stringify(t,n)}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class fu{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,a){const i=e.listeners[a],o=e.duration;i.forEach(l=>l({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=wo.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,l=!1,r;for(;o>=0;--o)r=i[o],r._active?(r._total>n.duration&&(n.duration=r._total),r.tick(t),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,n,t,"progress")),i.length||(n.running=!1,this._notify(a,n,t,"complete"),n.initial=!1),e+=i.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ie=new fu;const ti="transparent",mu={boolean(s,t,e){return e>.5?t:s},color(s,t,e){const n=Wa(s||ti),a=n.valid&&Wa(t||ti);return a&&a.valid?a.mix(n,e).hexString():t},number(s,t,e){return s+(t-s)*e}};class pu{constructor(t,e,n,a){const i=e[n];a=as([t.to,a,i,t.from]);const o=as([t.from,i,a]);this._active=!0,this._fn=t.fn||mu[t.type||typeof o],this._easing=us[t.easing]||us.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=as([t.to,e,a,t.from]),this._from=as([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let r;if(this._active=i!==l&&(o||e<n),!this._active){this._target[a]=l,this._notify(!0);return}if(e<0){this._target[a]=i;return}r=e/n%2,r=o&&r>1?2-r:r,r=this._easing(Math.min(1,Math.max(0,r))),this._target[a]=this._fn(i,l,r)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][e]()}}class jo{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!et(t))return;const e=Object.keys(vt.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const i=t[a];if(!et(i))return;const o={};for(const l of e)o[l]=i[l];(ht(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,o)})})}_animateOptions(t,e){const n=e.options,a=_u(t,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&gu(t.options.$animations,n).then(()=>{t.options=n},()=>{}),i}_createAnimations(t,e){const n=this._properties,a=[],i=t.$animations||(t.$animations={}),o=Object.keys(e),l=Date.now();let r;for(r=o.length-1;r>=0;--r){const c=o[r];if(c.charAt(0)==="$")continue;if(c==="options"){a.push(...this._animateOptions(t,e));continue}const d=e[c];let h=i[c];const f=n.get(c);if(h)if(f&&h.active()){h.update(f,d,l);continue}else h.cancel();if(!f||!f.duration){t[c]=d;continue}i[c]=h=new pu(f,t,c,d),a.push(h)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const n=this._createAnimations(t,e);if(n.length)return ie.add(this._chart,n),!0}}function gu(s,t){const e=[],n=Object.keys(t);for(let a=0;a<n.length;a++){const i=s[n[a]];i&&i.active()&&e.push(i.wait())}return Promise.all(e)}function _u(s,t){if(!t)return;let e=s.options;if(!e){s.options=t;return}return e.$shared&&(s.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function ei(s,t){const e=s&&s.options||{},n=e.reverse,a=e.min===void 0?t:0,i=e.max===void 0?t:0;return{start:n?i:a,end:n?a:i}}function bu(s,t,e){if(e===!1)return!1;const n=ei(s,e),a=ei(t,e);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function vu(s){let t,e,n,a;return et(s)?(t=s.top,e=s.right,n=s.bottom,a=s.left):t=e=n=a=s,{top:t,right:e,bottom:n,left:a,disabled:s===!1}}function Ho(s,t){const e=[],n=s._getSortedDatasetMetas(t);let a,i;for(a=0,i=n.length;a<i;++a)e.push(n[a].index);return e}function si(s,t,e,n={}){const a=s.keys,i=n.mode==="single";let o,l,r,c;if(t!==null){for(o=0,l=a.length;o<l;++o){if(r=+a[o],r===e){if(n.all)continue;break}c=s.values[r],bt(c)&&(i||t===0||ne(t)===ne(c))&&(t+=c)}return t}}function yu(s){const t=Object.keys(s),e=new Array(t.length);let n,a,i;for(n=0,a=t.length;n<a;++n)i=t[n],e[n]={x:i,y:s[i]};return e}function ni(s,t){const e=s&&s.options.stacked;return e||e===void 0&&t.stack!==void 0}function xu(s,t,e){return`${s.id}.${t.id}.${e.stack||e.type}`}function Su(s){const{min:t,max:e,minDefined:n,maxDefined:a}=s.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function ku(s,t,e){const n=s[t]||(s[t]={});return n[e]||(n[e]={})}function ai(s,t,e,n){for(const a of t.getMatchingVisibleMetas(n).reverse()){const i=s[a.index];if(e&&i>0||!e&&i<0)return a.index}return null}function ii(s,t){const{chart:e,_cachedMeta:n}=s,a=e._stacks||(e._stacks={}),{iScale:i,vScale:o,index:l}=n,r=i.axis,c=o.axis,d=xu(i,o,n),h=t.length;let f;for(let m=0;m<h;++m){const _=t[m],{[r]:b,[c]:y}=_,D=_._stacks||(_._stacks={});f=D[c]=ku(a,d,b),f[l]=y,f._top=ai(f,o,!0,n.type),f._bottom=ai(f,o,!1,n.type);const w=f._visualValues||(f._visualValues={});w[l]=y}}function On(s,t){const e=s.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function wu(s,t){return ve(s,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Du(s,t,e){return ve(s,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Ze(s,t){const e=s.controller.index,n=s.vScale&&s.vScale.axis;if(n){t=t||s._parsed;for(const a of t){const i=a._stacks;if(!i||i[n]===void 0||i[n][e]===void 0)return;delete i[n][e],i[n]._visualValues!==void 0&&i[n]._visualValues[e]!==void 0&&delete i[n]._visualValues[e]}}}const Fn=s=>s==="reset"||s==="none",oi=(s,t)=>t?s:Object.assign({},s),Tu=(s,t,e)=>s&&!t.hidden&&t._stacked&&{keys:Ho(e,!0),values:null};class Qt{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ni(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ze(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),a=(h,f,m,_)=>h==="x"?f:h==="r"?_:m,i=e.xAxisID=q(n.xAxisID,On(t,"x")),o=e.yAxisID=q(n.yAxisID,On(t,"y")),l=e.rAxisID=q(n.rAxisID,On(t,"r")),r=e.indexAxis,c=e.iAxisID=a(r,i,o,l),d=e.vAxisID=a(r,o,i,l);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&za(this._data,this),t._stacked&&Ze(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(et(e))this._data=yu(e);else if(n!==e){if(n){za(n,this);const a=this._cachedMeta;Ze(a),a._parsed=[]}e&&Object.isExtensible(e)&&ud(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=e._stacked;e._stacked=ni(e.vScale,e),e.stack!==n.stack&&(a=!0,Ze(e),e.stack=n.stack),this._resyncElements(t),(a||i!==e._stacked)&&ii(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:o}=n,l=i.axis;let r=t===0&&e===a.length?!0:n._sorted,c=t>0&&n._parsed[t-1],d,h,f;if(this._parsing===!1)n._parsed=a,n._sorted=!0,f=a;else{ht(a[t])?f=this.parseArrayData(n,a,t,e):et(a[t])?f=this.parseObjectData(n,a,t,e):f=this.parsePrimitiveData(n,a,t,e);const m=()=>h[l]===null||c&&h[l]<c[l];for(d=0;d<e;++d)n._parsed[d+t]=h=f[d],r&&(m()&&(r=!1),c=h);n._sorted=r}o&&ii(this,f)}parsePrimitiveData(t,e,n,a){const{iScale:i,vScale:o}=t,l=i.axis,r=o.axis,c=i.getLabels(),d=i===o,h=new Array(a);let f,m,_;for(f=0,m=a;f<m;++f)_=f+n,h[f]={[l]:d||i.parse(c[_],_),[r]:o.parse(e[_],_)};return h}parseArrayData(t,e,n,a){const{xScale:i,yScale:o}=t,l=new Array(a);let r,c,d,h;for(r=0,c=a;r<c;++r)d=r+n,h=e[d],l[r]={x:i.parse(h[0],d),y:o.parse(h[1],d)};return l}parseObjectData(t,e,n,a){const{xScale:i,yScale:o}=t,{xAxisKey:l="x",yAxisKey:r="y"}=this._parsing,c=new Array(a);let d,h,f,m;for(d=0,h=a;d<h;++d)f=d+n,m=e[f],c[d]={x:i.parse(_e(m,l),f),y:o.parse(_e(m,r),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const a=this.chart,i=this._cachedMeta,o=e[t.axis],l={keys:Ho(a,!0),values:e._stacks[t.axis]._visualValues};return si(l,o,i.index,{mode:n})}updateRangeFromParsed(t,e,n,a){const i=n[e.axis];let o=i===null?NaN:i;const l=a&&n._stacks[e.axis];a&&l&&(a.values=l,o=si(a,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&t===n.iScale,o=a.length,l=this._getOtherScale(t),r=Tu(e,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=Su(l);let f,m;function _(){m=a[f];const b=m[l.axis];return!bt(m[t.axis])||d>b||h<b}for(f=0;f<o&&!(!_()&&(this.updateRangeFromParsed(c,t,m,r),i));++f);if(i){for(f=o-1;f>=0;--f)if(!_()){this.updateRangeFromParsed(c,t,m,r);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let a,i,o;for(a=0,i=e.length;a<i;++a)o=e[a][t.axis],bt(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,a=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=vu(q(this.options.clip,bu(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,a=n.data||[],i=e.chartArea,o=[],l=this._drawStart||0,r=this._drawCount||a.length-l,c=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(t,i,l,r),d=l;d<l+r;++d){const h=a[d];h.hidden||(h.active&&c?o.push(h):h.draw(t,i))}for(d=0;d<o.length;++d)o[d].draw(t,i)}getStyle(t,e){const n=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const a=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=Du(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=a.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=wu(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const a=e==="active",i=this._cachedDataOpts,o=t+"-"+e,l=i[o],r=this.enableOptionSharing&&ys(n);if(l)return oi(l,r);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,t),h=a?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),d),m=Object.keys(vt.elements[t]),_=()=>this.getContext(n,a,e),b=c.resolveNamedOptions(f,m,_,h);return b.$shared&&(b.$shared=r,i[o]=Object.freeze(oi(b,r))),b}_resolveAnimations(t,e,n){const a=this.chart,i=this._cachedDataOpts,o=`animation-${e}`,l=i[o];if(l)return l;let r;if(a.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,e),f=d.getOptionScopes(this.getDataset(),h);r=d.createResolver(f,this.getContext(t,n,e))}const c=new jo(a,r&&r.animations);return r&&r._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Fn(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),a=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(e,i)||i!==a;return this.updateSharedOptions(i,e,n),{sharedOptions:i,includeOptions:o}}updateElement(t,e,n,a){Fn(a)?Object.assign(t,n):this._resolveAnimations(e,a).update(t,n)}updateSharedOptions(t,e,n){t&&!Fn(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,a){t.active=a;const i=this.getStyle(e,a);this._resolveAnimations(e,n,a).update(t,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[l,r,c]of this._syncList)this[l](r,c);this._syncList=[];const a=n.length,i=e.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,t):i<a&&this._removeElements(i,a-i)}_insertElements(t,e,n=!0){const a=this._cachedMeta,i=a.data,o=t+e;let l;const r=c=>{for(c.length+=e,l=c.length-1;l>=o;l--)c[l]=c[l-e]};for(r(i),l=t;l<o;++l)i[l]=new this.dataElementType;this._parsing&&r(a._parsed),this.parse(t,e),n&&this.updateElements(i,t,e,"reset")}updateElements(t,e,n,a){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(t,e);n._stacked&&Ze(n,a)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,a]=t;this[e](n,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}N(Qt,"defaults",{}),N(Qt,"datasetElementType",null),N(Qt,"dataElementType",null);function Mu(s,t){if(!s._cache.$bar){const e=s.getMatchingVisibleMetas(t);let n=[];for(let a=0,i=e.length;a<i;a++)n=n.concat(e[a].controller.getAllParsedValues(s));s._cache.$bar=ko(n.sort((a,i)=>a-i))}return s._cache.$bar}function Cu(s){const t=s.iScale,e=Mu(t,s.type);let n=t._length,a,i,o,l;const r=()=>{o===32767||o===-32768||(ys(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(a=0,i=e.length;a<i;++a)o=t.getPixelForValue(e[a]),r();for(l=void 0,a=0,i=t.ticks.length;a<i;++a)o=t.getPixelForTick(a),r();return n}function Au(s,t,e,n){const a=e.barThickness;let i,o;return it(a)?(i=t.min*e.categoryPercentage,o=e.barPercentage):(i=a*n,o=1),{chunk:i/n,ratio:o,start:t.pixels[s]-i/2}}function $u(s,t,e,n){const a=t.pixels,i=a[s];let o=s>0?a[s-1]:null,l=s<a.length-1?a[s+1]:null;const r=e.categoryPercentage;o===null&&(o=i-(l===null?t.end-t.start:l-i)),l===null&&(l=i+i-o);const c=i-(i-Math.min(o,l))/2*r;return{chunk:Math.abs(l-o)/2*r/n,ratio:e.barPercentage,start:c}}function Eu(s,t,e,n){const a=e.parse(s[0],n),i=e.parse(s[1],n),o=Math.min(a,i),l=Math.max(a,i);let r=o,c=l;Math.abs(o)>Math.abs(l)&&(r=l,c=o),t[e.axis]=c,t._custom={barStart:r,barEnd:c,start:a,end:i,min:o,max:l}}function Wo(s,t,e,n){return ht(s)?Eu(s,t,e,n):t[e.axis]=e.parse(s,n),t}function li(s,t,e,n){const a=s.iScale,i=s.vScale,o=a.getLabels(),l=a===i,r=[];let c,d,h,f;for(c=e,d=e+n;c<d;++c)f=t[c],h={},h[a.axis]=l||a.parse(o[c],c),r.push(Wo(f,h,i,c));return r}function Rn(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function Pu(s,t,e){return s!==0?ne(s):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Ou(s){let t,e,n,a,i;return s.horizontal?(t=s.base>s.x,e="left",n="right"):(t=s.base<s.y,e="bottom",n="top"),t?(a="end",i="start"):(a="start",i="end"),{start:e,end:n,reverse:t,top:a,bottom:i}}function Fu(s,t,e,n){let a=t.borderSkipped;const i={};if(!a){s.borderSkipped=i;return}if(a===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:r,top:c,bottom:d}=Ou(s);a==="middle"&&e&&(s.enableBorderRadius=!0,(e._top||0)===n?a=c:(e._bottom||0)===n?a=d:(i[ri(d,o,l,r)]=!0,a=c)),i[ri(a,o,l,r)]=!0,s.borderSkipped=i}function ri(s,t,e,n){return n?(s=Ru(s,t,e),s=ci(s,e,t)):s=ci(s,t,e),s}function Ru(s,t,e){return s===t?e:s===e?t:s}function ci(s,t,e){return s==="start"?t:s==="end"?e:s}function Iu(s,{inflateAmount:t},e){s.inflateAmount=t==="auto"?e===1?.33:0:t}class fs extends Qt{parsePrimitiveData(t,e,n,a){return li(t,e,n,a)}parseArrayData(t,e,n,a){return li(t,e,n,a)}parseObjectData(t,e,n,a){const{iScale:i,vScale:o}=t,{xAxisKey:l="x",yAxisKey:r="y"}=this._parsing,c=i.axis==="x"?l:r,d=o.axis==="x"?l:r,h=[];let f,m,_,b;for(f=n,m=n+a;f<m;++f)b=e[f],_={},_[i.axis]=i.parse(_e(b,c),f),h.push(Wo(_e(b,d),_,o,f));return h}updateRangeFromParsed(t,e,n,a){super.updateRangeFromParsed(t,e,n,a);const i=n._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:a}=e,i=this.getParsed(t),o=i._custom,l=Rn(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,r=l.getBasePixel(),c=l.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(e,a);for(let m=e;m<e+n;m++){const _=this.getParsed(m),b=i||it(_[l.axis])?{base:r,head:r}:this._calculateBarValuePixels(m),y=this._calculateBarIndexPixels(m,d),D=(_._stacks||{})[l.axis],w={horizontal:c,base:b.base,enableBorderRadius:!D||Rn(_._custom)||o===D._top||o===D._bottom,x:c?b.head:y.center,y:c?y.center:b.head,height:c?y.size:Math.abs(b.size),width:c?Math.abs(b.size):y.size};f&&(w.options=h||this.resolveDataElementOptions(m,t[m].active?"active":a));const $=w.options||t[m].options;Fu(w,$,D,o),Iu(w,$,d.ratio),this.updateElement(t[m],m,w,a)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(r=>r.controller.options.grouped),i=n.options.stacked,o=[],l=r=>{const c=r.controller.getParsed(e),d=c&&c[r.vScale.axis];if(it(d)||isNaN(d))return!0};for(const r of a)if(!(e!==void 0&&l(r))&&((i===!1||o.indexOf(r.stack)===-1||i===void 0&&r.stack===void 0)&&o.push(r.stack),r.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const a=this._getStacks(t,n),i=e!==void 0?a.indexOf(e):-1;return i===-1?a.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,a=[];let i,o;for(i=0,o=e.data.length;i<o;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=t.barThickness;return{min:l||Cu(e),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,r=this.getParsed(t),c=r._custom,d=Rn(c);let h=r[e.axis],f=0,m=n?this.applyStack(e,r,n):h,_,b;m!==h&&(f=m-h,m=h),d&&(h=c.barStart,m=c.barEnd-c.barStart,h!==0&&ne(h)!==ne(c.barEnd)&&(f=0),f+=h);const y=!it(i)&&!d?i:f;let D=e.getPixelForValue(y);if(this.chart.getDataVisibility(t)?_=e.getPixelForValue(f+m):_=D,b=_-D,Math.abs(b)<o){b=Pu(b,e,l)*o,h===l&&(D-=b/2);const w=e.getPixelForDecimal(0),$=e.getPixelForDecimal(1),P=Math.min(w,$),A=Math.max(w,$);D=Math.max(Math.min(D,A),P),_=D+b,n&&!d&&(r._stacks[e.axis]._visualValues[a]=e.getValueForPixel(_)-e.getValueForPixel(D))}if(D===e.getPixelForValue(l)){const w=ne(b)*e.getLineWidthForValue(l)/2;D+=w,b-=w}return{size:b,base:D,head:_,center:_+b/2}}_calculateBarIndexPixels(t,e){const n=e.scale,a=this.options,i=a.skipNull,o=q(a.maxBarThickness,1/0);let l,r;if(e.grouped){const c=i?this._getStackCount(t):e.stackCount,d=a.barThickness==="flex"?$u(t,e,a,c):Au(t,e,a,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);l=d.start+d.chunk*h+d.chunk/2,r=Math.min(o,d.chunk*d.ratio)}else l=n.getPixelForValue(this.getParsed(t)[n.axis],t),r=Math.min(o,e.min*e.ratio);return{base:l-r/2,head:l+r/2,center:l,size:r}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[e.axis]!==null&&n[i].draw(this._ctx)}}N(fs,"id","bar"),N(fs,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),N(fs,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class tn extends Qt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,a){const i=super.parsePrimitiveData(t,e,n,a);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+n).radius;return i}parseArrayData(t,e,n,a){const i=super.parseArrayData(t,e,n,a);for(let o=0;o<i.length;o++){const l=e[n+o];i[o]._custom=q(l[2],this.resolveDataElementOptions(o+n).radius)}return i}parseObjectData(t,e,n,a){const i=super.parseObjectData(t,e,n,a);for(let o=0;o<i.length;o++){const l=e[n+o];i[o]._custom=q(l&&l.r&&+l.r,this.resolveDataElementOptions(o+n).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=e,o=this.getParsed(t),l=a.getLabelForValue(o.x),r=i.getLabelForValue(o.y),c=o._custom;return{label:n[t]||"",value:"("+l+", "+r+(c?", "+c:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,a){const i=a==="reset",{iScale:o,vScale:l}=this._cachedMeta,{sharedOptions:r,includeOptions:c}=this._getSharedOptions(e,a),d=o.axis,h=l.axis;for(let f=e;f<e+n;f++){const m=t[f],_=!i&&this.getParsed(f),b={},y=b[d]=i?o.getPixelForDecimal(.5):o.getPixelForValue(_[d]),D=b[h]=i?l.getBasePixel():l.getPixelForValue(_[h]);b.skip=isNaN(y)||isNaN(D),c&&(b.options=r||this.resolveDataElementOptions(f,m.active?"active":a),i&&(b.options.radius=0)),this.updateElement(m,f,b,a)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let a=super.resolveDataElementOptions(t,e);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const i=a.radius;return e!=="active"&&(a.radius=0),a.radius+=q(n&&n._custom,i),a}}N(tn,"id","bubble"),N(tn,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),N(tn,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Lu(s,t,e){let n=1,a=1,i=0,o=0;if(t<ft){const l=s,r=l+t,c=Math.cos(l),d=Math.sin(l),h=Math.cos(r),f=Math.sin(r),m=($,P,A)=>xs($,l,r,!0)?1:Math.max(P,P*e,A,A*e),_=($,P,A)=>xs($,l,r,!0)?-1:Math.min(P,P*e,A,A*e),b=m(0,c,h),y=m(xt,d,f),D=_(mt,c,h),w=_(mt+xt,d,f);n=(b-D)/2,a=(y-w)/2,i=-(b+D)/2,o=-(y+w)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:o}}class $e extends Qt{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=r=>+n[r];if(et(n[t])){const{key:r="value"}=this._parsing;i=c=>+_e(n[c],r)}let o,l;for(o=t,l=t+e;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return Zt(this.options.rotation-90)}_getCircumference(){return Zt(this.options.circumference)}_getRotationExtents(){let t=ft,e=-ft;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),o=a._getCircumference();t=Math.min(t,i),e=Math.max(e,i+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),r=Math.min(qc(this.options.cutout,l),1),c=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:_,offsetY:b}=Lu(h,d,r),y=(n.width-o)/f,D=(n.height-o)/m,w=Math.max(Math.min(y,D)/2,0),$=bo(this.options.radius,w),P=Math.max($*r,0),A=($-P)/this._getVisibleDatasetWeightTotal();this.offsetX=_*$,this.offsetY=b*$,a.total=this.calculateTotal(),this.outerRadius=$-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*c,0),this.updateElements(i,0,i.length,t)}_circumference(t,e){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*i/ft)}updateElements(t,e,n,a){const i=a==="reset",o=this.chart,l=o.chartArea,c=o.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=i&&c.animateScale,m=f?0:this.innerRadius,_=f?0:this.outerRadius,{sharedOptions:b,includeOptions:y}=this._getSharedOptions(e,a);let D=this._getRotation(),w;for(w=0;w<e;++w)D+=this._circumference(w,i);for(w=e;w<e+n;++w){const $=this._circumference(w,i),P=t[w],A={x:d+this.offsetX,y:h+this.offsetY,startAngle:D,endAngle:D+$,circumference:$,outerRadius:_,innerRadius:m};y&&(A.options=b||this.resolveDataElementOptions(w,P.active?"active":a)),D+=$,this.updateElement(P,w,A,a)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n=0,a;for(a=0;a<e.length;a++){const i=t._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!e[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ft*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=As(e._parsed[t],n.options.locale);return{label:a[t]||"",value:i}}getMaxBorderWidth(t){let e=0;const n=this.chart;let a,i,o,l,r;if(!t){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){o=n.getDatasetMeta(a),t=o.data,l=o.controller;break}}if(!t)return 0;for(a=0,i=t.length;a<i;++a)r=l.resolveDataElementOptions(a),r.borderAlign!=="inner"&&(e=Math.max(e,r.borderWidth||0,r.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,a=t.length;n<a;++n){const i=this.resolveDataElementOptions(n);e=Math.max(e,i.offset||0,i.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(q(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}N($e,"id","doughnut"),N($e,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),N($e,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),N($e,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:a}}=t.legend.options;return e.labels.map((i,o)=>{const r=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:a,lineWidth:r.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class en extends Qt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=e,o=this.chart._animationsDisabled;let{start:l,count:r}=To(e,a,o);this._drawStart=l,this._drawCount=r,Mo(e)&&(l=0,r=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},t),this.updateElements(a,l,r,t)}updateElements(t,e,n,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:r,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(e,a),f=o.axis,m=l.axis,{spanGaps:_,segment:b}=this.options,y=Ue(_)?_:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||i||a==="none",w=e+n,$=t.length;let P=e>0&&this.getParsed(e-1);for(let A=0;A<$;++A){const O=t[A],C=D?O:{};if(A<e||A>=w){C.skip=!0;continue}const T=this.getParsed(A),E=it(T[m]),B=C[f]=o.getPixelForValue(T[f],A),I=C[m]=i||E?l.getBasePixel():l.getPixelForValue(r?this.applyStack(l,T,r):T[m],A);C.skip=isNaN(B)||isNaN(I)||E,C.stop=A>0&&Math.abs(T[f]-P[f])>y,b&&(C.parsed=T,C.raw=c.data[A]),h&&(C.options=d||this.resolveDataElementOptions(A,O.active?"active":a)),D||this.updateElement(O,A,C,a),P=T}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}N(en,"id","line"),N(en,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),N(en,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ms extends Qt{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=As(e._parsed[t].r,n.options.locale);return{label:a[t]||"",value:i}}parseObjectData(t,e,n,a){return Ro.bind(this)(t,e,n,a)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,a)=>{const i=this.getParsed(a).r;!isNaN(i)&&this.chart.getDataVisibility(a)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,a=Math.min(e.right-e.left,e.bottom-e.top),i=Math.max(a/2,0),o=Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0),l=(i-o)/t.getVisibleDatasetCount();this.outerRadius=i-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,e,n,a){const i=a==="reset",o=this.chart,r=o.options.animation,c=this._cachedMeta.rScale,d=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*mt;let m=f,_;const b=360/this.countVisibleElements();for(_=0;_<e;++_)m+=this._computeAngle(_,a,b);for(_=e;_<e+n;_++){const y=t[_];let D=m,w=m+this._computeAngle(_,a,b),$=o.getDataVisibility(_)?c.getDistanceFromCenterForValue(this.getParsed(_).r):0;m=w,i&&(r.animateScale&&($=0),r.animateRotate&&(D=w=f));const P={x:d,y:h,innerRadius:0,outerRadius:$,startAngle:D,endAngle:w,options:this.resolveDataElementOptions(_,y.active?"active":a)};this.updateElement(y,_,P,a)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?Zt(this.resolveDataElementOptions(t,e).angle||n):0}}N(ms,"id","polarArea"),N(ms,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),N(ms,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:a}}=t.legend.options;return e.labels.map((i,o)=>{const r=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:a,lineWidth:r.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Xn extends $e{}N(Xn,"id","pie"),N(Xn,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class sn extends Qt{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,a){return Ro.bind(this)(t,e,n,a)}update(t){const e=this._cachedMeta,n=e.dataset,a=e.data||[],i=e.iScale.getLabels();if(n.points=a,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:i.length===a.length,options:o};this.updateElement(n,void 0,l,t)}this.updateElements(a,0,a.length,t)}updateElements(t,e,n,a){const i=this._cachedMeta.rScale,o=a==="reset";for(let l=e;l<e+n;l++){const r=t[l],c=this.resolveDataElementOptions(l,r.active?"active":a),d=i.getPointPositionForValue(l,this.getParsed(l).r),h=o?i.xCenter:d.x,f=o?i.yCenter:d.y,m={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(r,l,m,a)}}}N(sn,"id","radar"),N(sn,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),N(sn,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class nn extends Qt{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=e,o=this.getParsed(t),l=a.getLabelForValue(o.x),r=i.getLabelForValue(o.y);return{label:n[t]||"",value:"("+l+", "+r+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,a=this.chart._animationsDisabled;let{start:i,count:o}=To(e,n,a);if(this._drawStart=i,this._drawCount=o,Mo(e)&&(i=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:r}=e;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!r._decimated,l.points=n;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:c},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:r,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(e,a),h=this.getSharedOptions(d),f=this.includeOptions(a,h),m=o.axis,_=l.axis,{spanGaps:b,segment:y}=this.options,D=Ue(b)?b:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||i||a==="none";let $=e>0&&this.getParsed(e-1);for(let P=e;P<e+n;++P){const A=t[P],O=this.getParsed(P),C=w?A:{},T=it(O[_]),E=C[m]=o.getPixelForValue(O[m],P),B=C[_]=i||T?l.getBasePixel():l.getPixelForValue(r?this.applyStack(l,O,r):O[_],P);C.skip=isNaN(E)||isNaN(B)||T,C.stop=P>0&&Math.abs(O[m]-$[m])>D,y&&(C.parsed=O,C.raw=c.data[P]),f&&(C.options=h||this.resolveDataElementOptions(P,A.active?"active":a)),w||this.updateElement(A,P,C,a),$=O}this.updateSharedOptions(h,a,d)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let l=0;for(let r=e.length-1;r>=0;--r)l=Math.max(l,e[r].size(this.resolveDataElementOptions(r))/2);return l>0&&l}const n=t.dataset,a=n.options&&n.options.borderWidth||0;if(!e.length)return a;const i=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(a,i,o)/2}}N(nn,"id","scatter"),N(nn,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),N(nn,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Vu=Object.freeze({__proto__:null,BarController:fs,BubbleController:tn,DoughnutController:$e,LineController:en,PieController:Xn,PolarAreaController:ms,RadarController:sn,ScatterController:nn});function Te(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ka{constructor(t){N(this,"options");this.options=t||{}}static override(t){Object.assign(ka.prototype,t)}init(){}formats(){return Te()}parse(){return Te()}format(){return Te()}add(){return Te()}diff(){return Te()}startOf(){return Te()}endOf(){return Te()}}var Bu={_date:ka};function Nu(s,t,e,n){const{controller:a,data:i,_sorted:o}=s,l=a._cachedMeta.iScale;if(l&&t===l.axis&&t!=="r"&&o&&i.length){const r=l._reversePixels?cd:ce;if(n){if(a._sharedOptions){const c=i[0],d=typeof c.getRange=="function"&&c.getRange(t);if(d){const h=r(i,t,e-d),f=r(i,t,e+d);return{lo:h.lo,hi:f.hi}}}}else return r(i,t,e)}return{lo:0,hi:i.length-1}}function $s(s,t,e,n,a){const i=s.getSortedVisibleDatasetMetas(),o=e[t];for(let l=0,r=i.length;l<r;++l){const{index:c,data:d}=i[l],{lo:h,hi:f}=Nu(i[l],t,o,a);for(let m=h;m<=f;++m){const _=d[m];_.skip||n(_,c,m)}}}function zu(s){const t=s.indexOf("x")!==-1,e=s.indexOf("y")!==-1;return function(n,a){const i=t?Math.abs(n.x-a.x):0,o=e?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function In(s,t,e,n,a){const i=[];return!a&&!s.isPointInArea(t)||$s(s,e,t,function(l,r,c){!a&&!de(l,s.chartArea,0)||l.inRange(t.x,t.y,n)&&i.push({element:l,datasetIndex:r,index:c})},!0),i}function ju(s,t,e,n){let a=[];function i(o,l,r){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],n),{angle:h}=xo(o,{x:t.x,y:t.y});xs(h,c,d)&&a.push({element:o,datasetIndex:l,index:r})}return $s(s,e,t,i),a}function Hu(s,t,e,n,a,i){let o=[];const l=zu(e);let r=Number.POSITIVE_INFINITY;function c(d,h,f){const m=d.inRange(t.x,t.y,a);if(n&&!m)return;const _=d.getCenterPoint(a);if(!(!!i||s.isPointInArea(_))&&!m)return;const y=l(t,_);y<r?(o=[{element:d,datasetIndex:h,index:f}],r=y):y===r&&o.push({element:d,datasetIndex:h,index:f})}return $s(s,e,t,c),o}function Ln(s,t,e,n,a,i){return!i&&!s.isPointInArea(t)?[]:e==="r"&&!n?ju(s,t,e,a):Hu(s,t,e,n,a,i)}function di(s,t,e,n,a){const i=[],o=e==="x"?"inXRange":"inYRange";let l=!1;return $s(s,e,t,(r,c,d)=>{r[o](t[e],a)&&(i.push({element:r,datasetIndex:c,index:d}),l=l||r.inRange(t.x,t.y,a))}),n&&!l?[]:i}var Wu={evaluateInteractionItems:$s,modes:{index(s,t,e,n){const a=Ce(t,s),i=e.axis||"x",o=e.includeInvisible||!1,l=e.intersect?In(s,a,i,n,o):Ln(s,a,i,!1,n,o),r=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(c=>{const d=l[0].index,h=c.data[d];h&&!h.skip&&r.push({element:h,datasetIndex:c.index,index:d})}),r):[]},dataset(s,t,e,n){const a=Ce(t,s),i=e.axis||"xy",o=e.includeInvisible||!1;let l=e.intersect?In(s,a,i,n,o):Ln(s,a,i,!1,n,o);if(l.length>0){const r=l[0].datasetIndex,c=s.getDatasetMeta(r).data;l=[];for(let d=0;d<c.length;++d)l.push({element:c[d],datasetIndex:r,index:d})}return l},point(s,t,e,n){const a=Ce(t,s),i=e.axis||"xy",o=e.includeInvisible||!1;return In(s,a,i,n,o)},nearest(s,t,e,n){const a=Ce(t,s),i=e.axis||"xy",o=e.includeInvisible||!1;return Ln(s,a,i,e.intersect,n,o)},x(s,t,e,n){const a=Ce(t,s);return di(s,a,"x",e.intersect,n)},y(s,t,e,n){const a=Ce(t,s);return di(s,a,"y",e.intersect,n)}}};const Uo=["left","top","right","bottom"];function Qe(s,t){return s.filter(e=>e.pos===t)}function ui(s,t){return s.filter(e=>Uo.indexOf(e.pos)===-1&&e.box.axis===t)}function ts(s,t){return s.sort((e,n)=>{const a=t?n:e,i=t?e:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function Uu(s){const t=[];let e,n,a,i,o,l;for(e=0,n=(s||[]).length;e<n;++e)a=s[e],{position:i,options:{stack:o,stackWeight:l=1}}=a,t.push({index:e,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return t}function Yu(s){const t={};for(const e of s){const{stack:n,pos:a,stackWeight:i}=e;if(!n||!Uo.includes(a))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function Gu(s,t){const e=Yu(s),{vBoxMaxWidth:n,hBoxMaxHeight:a}=t;let i,o,l;for(i=0,o=s.length;i<o;++i){l=s[i];const{fullSize:r}=l.box,c=e[l.stack],d=c&&l.stackWeight/c.weight;l.horizontal?(l.width=d?d*n:r&&t.availableWidth,l.height=a):(l.width=n,l.height=d?d*a:r&&t.availableHeight)}return e}function Xu(s){const t=Uu(s),e=ts(t.filter(c=>c.box.fullSize),!0),n=ts(Qe(t,"left"),!0),a=ts(Qe(t,"right")),i=ts(Qe(t,"top"),!0),o=ts(Qe(t,"bottom")),l=ui(t,"x"),r=ui(t,"y");return{fullSize:e,leftAndTop:n.concat(i),rightAndBottom:a.concat(r).concat(o).concat(l),chartArea:Qe(t,"chartArea"),vertical:n.concat(a).concat(r),horizontal:i.concat(o).concat(l)}}function hi(s,t,e,n){return Math.max(s[e],t[e])+Math.max(s[n],t[n])}function Yo(s,t){s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}function Ju(s,t,e,n){const{pos:a,box:i}=e,o=s.maxPadding;if(!et(a)){e.size&&(s[a]-=e.size);const h=n[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?i.height:i.width),e.size=h.size/h.count,s[a]+=e.size}i.getPadding&&Yo(o,i.getPadding());const l=Math.max(0,t.outerWidth-hi(o,s,"left","right")),r=Math.max(0,t.outerHeight-hi(o,s,"top","bottom")),c=l!==s.w,d=r!==s.h;return s.w=l,s.h=r,e.horizontal?{same:c,other:d}:{same:d,other:c}}function Ku(s){const t=s.maxPadding;function e(n){const a=Math.max(t[n]-s[n],0);return s[n]+=a,a}s.y+=e("top"),s.x+=e("left"),e("right"),e("bottom")}function qu(s,t){const e=t.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(t[o],e[o])}),i}return n(s?["left","right"]:["top","bottom"])}function is(s,t,e,n){const a=[];let i,o,l,r,c,d;for(i=0,o=s.length,c=0;i<o;++i){l=s[i],r=l.box,r.update(l.width||t.w,l.height||t.h,qu(l.horizontal,t));const{same:h,other:f}=Ju(t,e,l,n);c|=h&&a.length,d=d||f,r.fullSize||a.push(l)}return c&&is(a,t,e,n)||d}function Ys(s,t,e,n,a){s.top=e,s.left=t,s.right=t+n,s.bottom=e+a,s.width=n,s.height=a}function fi(s,t,e,n){const a=e.padding;let{x:i,y:o}=t;for(const l of s){const r=l.box,c=n[l.stack]||{count:1,placed:0,weight:1},d=l.stackWeight/c.weight||1;if(l.horizontal){const h=t.w*d,f=c.size||r.height;ys(c.start)&&(o=c.start),r.fullSize?Ys(r,a.left,o,e.outerWidth-a.right-a.left,f):Ys(r,t.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=r.bottom}else{const h=t.h*d,f=c.size||r.width;ys(c.start)&&(i=c.start),r.fullSize?Ys(r,i,a.top,f,e.outerHeight-a.bottom-a.top):Ys(r,i,t.top+c.placed,f,h),c.start=i,c.placed+=h,i=r.right}}t.x=i,t.y=o}var Ot={addBox(s,t){s.boxes||(s.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},s.boxes.push(t)},removeBox(s,t){const e=s.boxes?s.boxes.indexOf(t):-1;e!==-1&&s.boxes.splice(e,1)},configure(s,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(s,t,e,n){if(!s)return;const a=Ft(s.options.layout.padding),i=Math.max(t-a.width,0),o=Math.max(e-a.height,0),l=Xu(s.boxes),r=l.vertical,c=l.horizontal;rt(s.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const d=r.reduce((b,y)=>y.box.options&&y.box.options.display===!1?b:b+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},a);Yo(f,Ft(n));const m=Object.assign({maxPadding:f,w:i,h:o,x:a.left,y:a.top},a),_=Gu(r.concat(c),h);is(l.fullSize,m,h,_),is(r,m,h,_),is(c,m,h,_)&&is(r,m,h,_),Ku(m),fi(l.leftAndTop,m,h,_),m.x+=m.w,m.y+=m.h,fi(l.rightAndBottom,m,h,_),s.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},rt(l.chartArea,b=>{const y=b.box;Object.assign(y,s.chartArea),y.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Go{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,a){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):n)}}isAttached(t){return!0}updateConfig(t){}}class Zu extends Go{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const an="$chartjs",Qu={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mi=s=>s===null||s==="";function th(s,t){const e=s.style,n=s.getAttribute("height"),a=s.getAttribute("width");if(s[an]={initial:{height:n,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",mi(a)){const i=Ka(s,"width");i!==void 0&&(s.width=i)}if(mi(n))if(s.style.height==="")s.height=s.width/(t||2);else{const i=Ka(s,"height");i!==void 0&&(s.height=i)}return s}const Xo=su?{passive:!0}:!1;function eh(s,t,e){s.addEventListener(t,e,Xo)}function sh(s,t,e){s.canvas.removeEventListener(t,e,Xo)}function nh(s,t){const e=Qu[s.type]||s.type,{x:n,y:a}=Ce(s,t);return{type:e,chart:t,native:s,x:n!==void 0?n:null,y:a!==void 0?a:null}}function pn(s,t){for(const e of s)if(e===t||e.contains(t))return!0}function ah(s,t,e){const n=s.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||pn(l.addedNodes,n),o=o&&!pn(l.removedNodes,n);o&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function ih(s,t,e){const n=s.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||pn(l.removedNodes,n),o=o&&!pn(l.addedNodes,n);o&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const ks=new Map;let pi=0;function Jo(){const s=window.devicePixelRatio;s!==pi&&(pi=s,ks.forEach((t,e)=>{e.currentDevicePixelRatio!==s&&t()}))}function oh(s,t){ks.size||window.addEventListener("resize",Jo),ks.set(s,t)}function lh(s){ks.delete(s),ks.size||window.removeEventListener("resize",Jo)}function rh(s,t,e){const n=s.canvas,a=n&&Sa(n);if(!a)return;const i=Do((l,r)=>{const c=a.clientWidth;e(l,r),c<a.clientWidth&&e()},window),o=new ResizeObserver(l=>{const r=l[0],c=r.contentRect.width,d=r.contentRect.height;c===0&&d===0||i(c,d)});return o.observe(a),oh(s,i),o}function Vn(s,t,e){e&&e.disconnect(),t==="resize"&&lh(s)}function ch(s,t,e){const n=s.canvas,a=Do(i=>{s.ctx!==null&&e(nh(i,s))},s);return eh(n,t,a),a}class dh extends Go{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(th(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[an])return!1;const n=e[an].initial;["height","width"].forEach(i=>{const o=n[i];it(o)?e.removeAttribute(i):e.setAttribute(i,o)});const a=n.style||{};return Object.keys(a).forEach(i=>{e.style[i]=a[i]}),e.width=e.width,delete e[an],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),o={attach:ah,detach:ih,resize:rh}[e]||ch;a[e]=o(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),a=n[e];if(!a)return;({attach:Vn,detach:Vn,resize:Vn}[e]||sh)(t,e,a),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,a){return eu(t,e,n,a)}isAttached(t){const e=Sa(t);return!!(e&&e.isConnected)}}function uh(s){return!xa()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?Zu:dh}class te{constructor(){N(this,"x");N(this,"y");N(this,"active",!1);N(this,"options");N(this,"$animations")}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Ue(this.x)&&Ue(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const a={};return t.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}}N(te,"defaults",{}),N(te,"defaultRoutes");function hh(s,t){const e=s.options.ticks,n=fh(s),a=Math.min(e.maxTicksLimit||n,n),i=e.major.enabled?ph(t):[],o=i.length,l=i[0],r=i[o-1],c=[];if(o>a)return gh(t,c,i,o/a),c;const d=mh(i,t,a);if(o>0){let h,f;const m=o>1?Math.round((r-l)/(o-1)):null;for(Gs(t,c,d,it(m)?0:l-m,l),h=0,f=o-1;h<f;h++)Gs(t,c,d,i[h],i[h+1]);return Gs(t,c,d,r,it(m)?t.length:r+m),c}return Gs(t,c,d),c}function fh(s){const t=s.options.offset,e=s._tickSize(),n=s._length/e+(t?0:1),a=s._maxLength/e;return Math.floor(Math.min(n,a))}function mh(s,t,e){const n=_h(s),a=t.length/e;if(!n)return Math.max(a,1);const i=id(n);for(let o=0,l=i.length-1;o<l;o++){const r=i[o];if(r>a)return r}return Math.max(a,1)}function ph(s){const t=[];let e,n;for(e=0,n=s.length;e<n;e++)s[e].major&&t.push(e);return t}function gh(s,t,e,n){let a=0,i=e[0],o;for(n=Math.ceil(n),o=0;o<s.length;o++)o===i&&(t.push(s[o]),a++,i=e[a*n])}function Gs(s,t,e,n,a){const i=q(n,0),o=Math.min(q(a,s.length),s.length);let l=0,r,c,d;for(e=Math.ceil(e),a&&(r=a-n,e=r/Math.floor(r/e)),d=i;d<0;)l++,d=Math.round(i+l*e);for(c=Math.max(i,0);c<o;c++)c===d&&(t.push(s[c]),l++,d=Math.round(i+l*e))}function _h(s){const t=s.length;let e,n;if(t<2)return!1;for(n=s[0],e=1;e<t;++e)if(s[e]-s[e-1]!==n)return!1;return n}const bh=s=>s==="left"?"right":s==="right"?"left":s,gi=(s,t,e)=>t==="top"||t==="left"?s[t]+e:s[t]-e,_i=(s,t)=>Math.min(t||s,s);function bi(s,t){const e=[],n=s.length/t,a=s.length;let i=0;for(;i<a;i+=n)e.push(s[Math.floor(i)]);return e}function vh(s,t,e){const n=s.ticks.length,a=Math.min(t,n-1),i=s._startPixel,o=s._endPixel,l=1e-6;let r=s.getPixelForTick(a),c;if(!(e&&(n===1?c=Math.max(r-i,o-r):t===0?c=(s.getPixelForTick(1)-r)/2:c=(r-s.getPixelForTick(a-1))/2,r+=a<t?c:-c,r<i-l||r>o+l)))return r}function yh(s,t){rt(s,e=>{const n=e.gc,a=n.length/2;let i;if(a>t){for(i=0;i<a;++i)delete e.data[n[i]];n.splice(0,a)}})}function es(s){return s.drawTicks?s.tickLength:0}function vi(s,t){if(!s.display)return 0;const e=Ct(s.font,t),n=Ft(s.padding);return(ht(s.text)?s.text.length:1)*e.lineHeight+n.height}function xh(s,t){return ve(s,{scale:t,type:"scale"})}function Sh(s,t,e){return ve(s,{tick:e,index:t,type:"tick"})}function kh(s,t,e){let n=pa(s);return(e&&t!=="right"||!e&&t==="right")&&(n=bh(n)),n}function wh(s,t,e,n){const{top:a,left:i,bottom:o,right:l,chart:r}=s,{chartArea:c,scales:d}=r;let h=0,f,m,_;const b=o-a,y=l-i;if(s.isHorizontal()){if(m=Pt(n,i,l),et(e)){const D=Object.keys(e)[0],w=e[D];_=d[D].getPixelForValue(w)+b-t}else e==="center"?_=(c.bottom+c.top)/2+b-t:_=gi(s,e,t);f=l-i}else{if(et(e)){const D=Object.keys(e)[0],w=e[D];m=d[D].getPixelForValue(w)-y+t}else e==="center"?m=(c.left+c.right)/2-y+t:m=gi(s,e,t);_=Pt(n,o,a),h=e==="left"?-xt:xt}return{titleX:m,titleY:_,maxWidth:f,rotation:h}}class Le extends te{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:a}=this;return t=zt(t,Number.POSITIVE_INFINITY),e=zt(e,Number.NEGATIVE_INFINITY),n=zt(n,Number.POSITIVE_INFINITY),a=zt(a,Number.NEGATIVE_INFINITY),{min:zt(t,n),max:zt(e,a),minDefined:bt(t),maxDefined:bt(e)}}getMinMax(t){let{min:e,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:e,max:n};const l=this.getMatchingVisibleMetas();for(let r=0,c=l.length;r<c;++r)o=l[r].controller.getMinMax(this,t),a||(e=Math.min(e,o.min)),i||(n=Math.max(n,o.max));return e=i&&e>n?n:e,n=a&&e>n?e:n,{min:zt(e,zt(n,e)),max:zt(n,zt(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ut(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Od(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const r=l<this.ticks.length;this._convertTicksToLabels(r?bi(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=hh(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),r&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ut(this.options.afterUpdate,[this])}beforeSetDimensions(){ut(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ut(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ut(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ut(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n],i.label=ut(e.callback,[i.value,n,t],this)}afterTickToLabelConversion(){ut(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ut(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=_i(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,i=e.maxRotation;let o=a,l,r,c;if(!this._isVisible()||!e.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,m=$t(this.chart.width-h,0,this.maxWidth);l=t.offset?this.maxWidth/n:m/(n-1),h+6>l&&(l=m/(n-(t.offset?.5:1)),r=this.maxHeight-es(t.grid)-e.padding-vi(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=fa(Math.min(Math.asin($t((d.highest.height+6)/l,-1,1)),Math.asin($t(r/c,-1,1))-Math.asin($t(f/c,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){ut(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ut(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const r=vi(a,e.options.font);if(l?(t.width=this.maxWidth,t.height=es(i)+r):(t.height=this.maxHeight,t.width=es(i)+r),n.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:f}=this._getLabelSizes(),m=n.padding*2,_=Zt(this.labelRotation),b=Math.cos(_),y=Math.sin(_);if(l){const D=n.mirror?0:y*h.width+b*f.height;t.height=Math.min(this.maxHeight,t.height+D+m)}else{const D=n.mirror?0:b*h.width+y*f.height;t.width=Math.min(this.maxWidth,t.width+D+m)}this._calculatePadding(c,d,y,b)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,a){const{ticks:{align:i,padding:o},position:l}=this.options,r=this.labelRotation!==0,c=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;r?c?(f=a*t.width,m=n*e.height):(f=n*t.height,m=a*e.width):i==="start"?m=e.width:i==="end"?f=t.width:i!=="inner"&&(f=t.width/2,m=e.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let d=e.height/2,h=t.height/2;i==="start"?(d=0,h=t.height):i==="end"&&(d=e.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ut(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)it(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=bi(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],r=Math.floor(e/_i(e,n));let c=0,d=0,h,f,m,_,b,y,D,w,$,P,A;for(h=0;h<e;h+=r){if(_=t[h].label,b=this._resolveTickFontOptions(h),a.font=y=b.string,D=i[y]=i[y]||{data:{},gc:[]},w=b.lineHeight,$=P=0,!it(_)&&!ht(_))$=fn(a,D.data,D.gc,$,_),P=w;else if(ht(_))for(f=0,m=_.length;f<m;++f)A=_[f],!it(A)&&!ht(A)&&($=fn(a,D.data,D.gc,$,A),P+=w);o.push($),l.push(P),c=Math.max($,c),d=Math.max(P,d)}yh(i,e);const O=o.indexOf(c),C=l.indexOf(d),T=E=>({width:o[E]||0,height:l[E]||0});return{first:T(0),last:T(e-1),widest:T(O),highest:T(C),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return rd(this._alignToPixels?De(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=Sh(this.getContext(),t,n))}return this.$context||(this.$context=xh(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Zt(this.labelRotation),n=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,l=i?i.widest.width+o:0,r=i?i.highest.height+o:0;return this.isHorizontal()?r*n>l*a?l/n:r/a:r*a<l*n?r/n:l/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,a=this.options,{grid:i,position:o,border:l}=a,r=i.offset,c=this.isHorizontal(),h=this.ticks.length+(r?1:0),f=es(i),m=[],_=l.setContext(this.getContext()),b=_.display?_.width:0,y=b/2,D=function(J){return De(n,J,b)};let w,$,P,A,O,C,T,E,B,I,Y,lt;if(o==="top")w=D(this.bottom),C=this.bottom-f,E=w-y,I=D(t.top)+y,lt=t.bottom;else if(o==="bottom")w=D(this.top),I=t.top,lt=D(t.bottom)-y,C=w+y,E=this.top+f;else if(o==="left")w=D(this.right),O=this.right-f,T=w-y,B=D(t.left)+y,Y=t.right;else if(o==="right")w=D(this.left),B=t.left,Y=D(t.right)-y,O=w+y,T=this.left+f;else if(e==="x"){if(o==="center")w=D((t.top+t.bottom)/2+.5);else if(et(o)){const J=Object.keys(o)[0],nt=o[J];w=D(this.chart.scales[J].getPixelForValue(nt))}I=t.top,lt=t.bottom,C=w+y,E=C+f}else if(e==="y"){if(o==="center")w=D((t.left+t.right)/2);else if(et(o)){const J=Object.keys(o)[0],nt=o[J];w=D(this.chart.scales[J].getPixelForValue(nt))}O=w-y,T=O-f,B=t.left,Y=t.right}const W=q(a.ticks.maxTicksLimit,h),Q=Math.max(1,Math.ceil(h/W));for($=0;$<h;$+=Q){const J=this.getContext($),nt=i.setContext(J),_t=l.setContext(J),pt=nt.lineWidth,Lt=nt.color,Tt=_t.dash||[],Ut=_t.dashOffset,Yt=nt.tickWidth,Mt=nt.tickColor,Gt=nt.tickBorderDash||[],Dt=nt.tickBorderDashOffset;P=vh(this,$,r),P!==void 0&&(A=De(n,P,pt),c?O=T=B=Y=A:C=E=I=lt=A,m.push({tx1:O,ty1:C,tx2:T,ty2:E,x1:B,y1:I,x2:Y,y2:lt,width:pt,color:Lt,borderDash:Tt,borderDashOffset:Ut,tickWidth:Yt,tickColor:Mt,tickBorderDash:Gt,tickBorderDashOffset:Dt}))}return this._ticksLength=h,this._borderValue=w,m}_computeLabelItems(t){const e=this.axis,n=this.options,{position:a,ticks:i}=n,o=this.isHorizontal(),l=this.ticks,{align:r,crossAlign:c,padding:d,mirror:h}=i,f=es(n.grid),m=f+d,_=h?-d:m,b=-Zt(this.labelRotation),y=[];let D,w,$,P,A,O,C,T,E,B,I,Y,lt="middle";if(a==="top")O=this.bottom-_,C=this._getXAxisLabelAlignment();else if(a==="bottom")O=this.top+_,C=this._getXAxisLabelAlignment();else if(a==="left"){const Q=this._getYAxisLabelAlignment(f);C=Q.textAlign,A=Q.x}else if(a==="right"){const Q=this._getYAxisLabelAlignment(f);C=Q.textAlign,A=Q.x}else if(e==="x"){if(a==="center")O=(t.top+t.bottom)/2+m;else if(et(a)){const Q=Object.keys(a)[0],J=a[Q];O=this.chart.scales[Q].getPixelForValue(J)+m}C=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")A=(t.left+t.right)/2-m;else if(et(a)){const Q=Object.keys(a)[0],J=a[Q];A=this.chart.scales[Q].getPixelForValue(J)}C=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(r==="start"?lt="top":r==="end"&&(lt="bottom"));const W=this._getLabelSizes();for(D=0,w=l.length;D<w;++D){$=l[D],P=$.label;const Q=i.setContext(this.getContext(D));T=this.getPixelForTick(D)+i.labelOffset,E=this._resolveTickFontOptions(D),B=E.lineHeight,I=ht(P)?P.length:1;const J=I/2,nt=Q.color,_t=Q.textStrokeColor,pt=Q.textStrokeWidth;let Lt=C;o?(A=T,C==="inner"&&(D===w-1?Lt=this.options.reverse?"left":"right":D===0?Lt=this.options.reverse?"right":"left":Lt="center"),a==="top"?c==="near"||b!==0?Y=-I*B+B/2:c==="center"?Y=-W.highest.height/2-J*B+B:Y=-W.highest.height+B/2:c==="near"||b!==0?Y=B/2:c==="center"?Y=W.highest.height/2-J*B:Y=W.highest.height-I*B,h&&(Y*=-1),b!==0&&!Q.showLabelBackdrop&&(A+=B/2*Math.sin(b))):(O=T,Y=(1-I)*B/2);let Tt;if(Q.showLabelBackdrop){const Ut=Ft(Q.backdropPadding),Yt=W.heights[D],Mt=W.widths[D];let Gt=Y-Ut.top,Dt=0-Ut.left;switch(lt){case"middle":Gt-=Yt/2;break;case"bottom":Gt-=Yt;break}switch(C){case"center":Dt-=Mt/2;break;case"right":Dt-=Mt;break;case"inner":D===w-1?Dt-=Mt:D>0&&(Dt-=Mt/2);break}Tt={left:Dt,top:Gt,width:Mt+Ut.width,height:Yt+Ut.height,color:Q.backdropColor}}y.push({label:P,font:E,textOffset:Y,options:{rotation:b,color:nt,strokeColor:_t,strokeWidth:pt,textAlign:Lt,textBaseline:lt,translation:[A,O],backdrop:Tt}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Zt(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=t+i,r=o.widest.width;let c,d;return e==="left"?a?(d=this.right+i,n==="near"?c="left":n==="center"?(c="center",d+=r/2):(c="right",d+=r)):(d=this.right-l,n==="near"?c="right":n==="center"?(c="center",d-=r/2):(c="left",d=this.left)):e==="right"?a?(d=this.left+i,n==="near"?c="right":n==="center"?(c="center",d-=r/2):(c="left",d-=r)):(d=this.left+l,n==="near"?c="left":n==="center"?(c="center",d+=r/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:a,width:i,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,a,i,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(i=>i.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const l=(r,c,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(r.x,r.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(e.display)for(i=0,o=a.length;i<o;++i){const r=a[i];e.drawOnChartArea&&l({x:r.x1,y:r.y1},{x:r.x2,y:r.y2},r),e.drawTicks&&l({x:r.tx1,y:r.ty1},{x:r.tx2,y:r.ty2},{color:r.tickColor,width:r.tickWidth,borderDash:r.tickBorderDash,borderDashOffset:r.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,r=this._borderValue;let c,d,h,f;this.isHorizontal()?(c=De(t,this.left,o)-o/2,d=De(t,this.right,l)+l/2,h=f=r):(h=De(t,this.top,o)-o/2,f=De(t,this.bottom,l)+l/2,c=d=r),e.save(),e.lineWidth=i.width,e.strokeStyle=i.color,e.beginPath(),e.moveTo(c,h),e.lineTo(d,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&vn(n,a);const i=this.getLabelItems(t);for(const o of i){const l=o.options,r=o.font,c=o.label,d=o.textOffset;Fe(n,c,0,d,r,l)}a&&yn(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:a}}=this;if(!n.display)return;const i=Ct(n.font),o=Ft(n.padding),l=n.align;let r=i.lineHeight/2;e==="bottom"||e==="center"||et(e)?(r+=o.bottom,ht(n.text)&&(r+=i.lineHeight*(n.text.length-1))):r+=o.top;const{titleX:c,titleY:d,maxWidth:h,rotation:f}=wh(this,r,e,l);Fe(t,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:kh(l,e,a),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=q(t.grid&&t.grid.z,-1),a=q(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Le.prototype.draw?[{z:e,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,o;for(i=0,o=e.length;i<o;++i){const l=e[i];l[n]===this.id&&(!t||l.type===t)&&a.push(l)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ct(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Xs{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;Mh(e)&&(n=this.register(e));const a=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in a||(a[i]=t,Dh(t,o,n),this.override&&vt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,a=this.scope;n in e&&delete e[n],a&&n in vt[a]&&(delete vt[a][n],this.override&&delete Oe[n])}}function Dh(s,t,e){const n=vs(Object.create(null),[e?vt.get(e):{},vt.get(t),s.defaults]);vt.set(t,n),s.defaultRoutes&&Th(t,s.defaultRoutes),s.descriptors&&vt.describe(t,s.descriptors)}function Th(s,t){Object.keys(t).forEach(e=>{const n=e.split("."),a=n.pop(),i=[s].concat(n).join("."),o=t[e].split("."),l=o.pop(),r=o.join(".");vt.route(i,a,r,l)})}function Mh(s){return"id"in s&&"defaults"in s}class Ch{constructor(){this.controllers=new Xs(Qt,"datasets",!0),this.elements=new Xs(te,"elements"),this.plugins=new Xs(Object,"plugins"),this.scales=new Xs(Le,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(t,i,a):rt(a,o=>{const l=n||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,e,n){const a=ha(t);ut(n["before"+a],[],n),e[t](n),ut(n["after"+a],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return a}}var se=new Ch;class Ah{constructor(){this._init=[]}notify(t,e,n,a){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=a?this._descriptors(t).filter(a):this._descriptors(t),o=this._notify(i,t,e,n);return e==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,a){a=a||{};for(const i of t){const o=i.plugin,l=o[n],r=[e,a,i.options];if(ut(l,r,o)===!1&&a.cancelable)return!1}return!0}invalidate(){it(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,a=q(n.options&&n.options.plugins,{}),i=$h(n);return a===!1&&!e?[]:Ph(t,i,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,a=(i,o)=>i.filter(l=>!o.some(r=>l.plugin.id===r.plugin.id));this._notify(a(e,n),t,"stop"),this._notify(a(n,e),t,"start")}}function $h(s){const t={},e=[],n=Object.keys(se.plugins.items);for(let i=0;i<n.length;i++)e.push(se.getPlugin(n[i]));const a=s.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function Eh(s,t){return!t&&s===!1?null:s===!0?{}:s}function Ph(s,{plugins:t,localIds:e},n,a){const i=[],o=s.getContext();for(const l of t){const r=l.id,c=Eh(n[r],a);c!==null&&i.push({plugin:l,options:Oh(s.config,{plugin:l,local:e[r]},c,o)})}return i}function Oh(s,{plugin:t,local:e},n,a){const i=s.pluginScopeKeys(t),o=s.getOptionScopes(n,i);return e&&t.defaults&&o.push(t.defaults),s.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Jn(s,t){const e=vt.datasets[s]||{};return((t.datasets||{})[s]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Fh(s,t){let e=s;return s==="_index_"?e=t:s==="_value_"&&(e=t==="x"?"y":"x"),e}function Rh(s,t){return s===t?"_index_":"_value_"}function yi(s){if(s==="x"||s==="y"||s==="r")return s}function Ih(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function Kn(s,...t){if(yi(s))return s;for(const e of t){const n=e.axis||Ih(e.position)||s.length>1&&yi(s[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function xi(s,t,e){if(e[t+"AxisID"]===s)return{axis:t}}function Lh(s,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(n=>n.xAxisID===s||n.yAxisID===s);if(e.length)return xi(s,"x",e[0])||xi(s,"y",e[0])}return{}}function Vh(s,t){const e=Oe[s.type]||{scales:{}},n=t.scales||{},a=Jn(s.type,t),i=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!et(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const r=Kn(o,l,Lh(o,s),vt.scales[l.type]),c=Rh(r,a),d=e.scales||{};i[o]=cs(Object.create(null),[{axis:r},l,d[r],d[c]])}),s.data.datasets.forEach(o=>{const l=o.type||s.type,r=o.indexAxis||Jn(l,t),d=(Oe[l]||{}).scales||{};Object.keys(d).forEach(h=>{const f=Fh(h,r),m=o[f+"AxisID"]||f;i[m]=i[m]||Object.create(null),cs(i[m],[{axis:f},n[m],d[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];cs(l,[vt.scales[l.type],vt.scale])}),i}function Ko(s){const t=s.options||(s.options={});t.plugins=q(t.plugins,{}),t.scales=Vh(s,t)}function qo(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function Bh(s){return s=s||{},s.data=qo(s.data),Ko(s),s}const Si=new Map,Zo=new Set;function Js(s,t){let e=Si.get(s);return e||(e=t(),Si.set(s,e),Zo.add(e)),e}const ss=(s,t,e)=>{const n=_e(t,e);n!==void 0&&s.add(n)};class Nh{constructor(t){this._config=Bh(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=qo(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Ko(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Js(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Js(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Js(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return Js(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let a=n.get(t);return(!a||e)&&(a=new Map,n.set(t,a)),a}getOptionScopes(t,e,n){const{options:a,type:i}=this,o=this._cachedScopes(t,n),l=o.get(e);if(l)return l;const r=new Set;e.forEach(d=>{t&&(r.add(t),d.forEach(h=>ss(r,t,h))),d.forEach(h=>ss(r,a,h)),d.forEach(h=>ss(r,Oe[i]||{},h)),d.forEach(h=>ss(r,vt,h)),d.forEach(h=>ss(r,Yn,h))});const c=Array.from(r);return c.length===0&&c.push(Object.create(null)),Zo.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,Oe[e]||{},vt.datasets[e]||{},{type:e},vt,Yn]}resolveNamedOptions(t,e,n,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=ki(this._resolverCache,t,a);let r=o;if(jh(o,e)){i.$shared=!1,n=be(n)?n():n;const c=this.createResolver(t,n,l);r=Ye(o,n,c)}for(const c of e)i[c]=r[c];return i}createResolver(t,e,n=[""],a){const{resolver:i}=ki(this._resolverCache,t,n);return et(e)?Ye(i,e,void 0,a):i}}function ki(s,t,e){let n=s.get(t);n||(n=new Map,s.set(t,n));const a=e.join();let i=n.get(a);return i||(i={resolver:ba(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,i)),i}const zh=s=>et(s)&&Object.getOwnPropertyNames(s).some(t=>be(s[t]));function jh(s,t){const{isScriptable:e,isIndexable:n}=Eo(s);for(const a of t){const i=e(a),o=n(a),l=(o||i)&&s[a];if(i&&(be(l)||zh(l))||o&&ht(l))return!0}return!1}var Hh="4.4.1";const Wh=["top","bottom","left","right","chartArea"];function wi(s,t){return s==="top"||s==="bottom"||Wh.indexOf(s)===-1&&t==="x"}function Di(s,t){return function(e,n){return e[s]===n[s]?e[t]-n[t]:e[s]-n[s]}}function Ti(s){const t=s.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ut(e&&e.onComplete,[s],t)}function Uh(s){const t=s.chart,e=t.options.animation;ut(e&&e.onProgress,[s],t)}function Qo(s){return xa()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const on={},Mi=s=>{const t=Qo(s);return Object.values(on).filter(e=>e.canvas===t).pop()};function Yh(s,t,e){const n=Object.keys(s);for(const a of n){const i=+a;if(i>=t){const o=s[a];delete s[a],(e>0||i>t)&&(s[i+e]=o)}}}function Gh(s,t,e,n){return!e||s.type==="mouseout"?null:n?t:s}function Ks(s,t,e){return s.options.clip?s[e]:t[e]}function Xh(s,t){const{xScale:e,yScale:n}=s;return e&&n?{left:Ks(e,t,"left"),right:Ks(e,t,"right"),top:Ks(n,t,"top"),bottom:Ks(n,t,"bottom")}:t}var ue;let Sn=(ue=class{static register(...t){se.add(...t),Ci()}static unregister(...t){se.remove(...t),Ci()}constructor(t,e){const n=this.config=new Nh(e),a=Qo(t),i=Mi(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||uh(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,o.aspectRatio),r=l&&l.canvas,c=r&&r.height,d=r&&r.width;if(this.id=Kc(),this.ctx=l,this.canvas=r,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ah,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=hd(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],on[this.id]=this,!l||!r){console.error("Failed to create chart: can't acquire context from the given item");return}ie.listen(this,"complete",Ti),ie.listen(this,"progress",Uh),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:a,_aspectRatio:i}=this;return it(t)?e&&i?i:a?n/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return se}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ja(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ya(this.canvas,this.ctx),this}stop(){return ie.stop(this),this}resize(t,e){ie.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,t,e,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),r=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ja(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),ut(n.onResize,[this,o],this),this.attached&&this._doResize(r)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};rt(e,(n,a)=>{n.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,a=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let i=[];e&&(i=i.concat(Object.keys(e).map(o=>{const l=e[o],r=Kn(o,l),c=r==="r",d=r==="x";return{options:l,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),rt(i,o=>{const l=o.options,r=l.id,c=Kn(r,l),d=q(l.type,o.dtype);(l.position===void 0||wi(l.position,c)!==wi(o.dposition))&&(l.position=o.dposition),a[r]=!0;let h=null;if(r in n&&n[r].type===d)h=n[r];else{const f=se.getScale(d);h=new f({id:r,type:d,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,t)}),rt(a,(o,l)=>{o||delete n[l]}),rt(n,o=>{Ot.configure(this,o,o.options),Ot.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((a,i)=>a.index-i.index),n>e){for(let a=e;a<n;++a)this._destroyDatasetMeta(a);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(Di("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((n,a)=>{e.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=e.length;n<a;n++){const i=e[n];let o=this.getDatasetMeta(n);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=i.indexAxis||Jn(l,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const r=se.getController(l),{datasetElementType:c,dataElementType:d}=vt.datasets[l];Object.assign(r,{dataElementType:se.getElement(d),datasetElementType:c&&se.getElement(c)}),o.controller=new r(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){rt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:h}=this.getDatasetMeta(c),f=!a&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||rt(i,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Di("z","_idx"));const{_active:l,_lastEvent:r}=this;r?this._eventHandler(r,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){rt(this.scales,t=>{Ot.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!La(e,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of e){const o=n==="_removeElements"?-i:i;Yh(t,a,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=i=>new Set(t.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=n(0);for(let i=1;i<e;i++)if(!La(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ot.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],rt(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,be(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),a={meta:n,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ie.has(this)?this.attached&&!ie.running(this)&&ie.start(this):(this.draw(),Ti({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resize(n,a),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let a,i;for(a=0,i=e.length;a<i;++a){const o=e[a];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,a=!n.disabled,i=Xh(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(a&&vn(e,{left:n.left===!1?0:i.left-n.left,right:n.right===!1?this.width:i.right+n.right,top:n.top===!1?0:i.top-n.top,bottom:n.bottom===!1?this.height:i.bottom+n.bottom}),t.controller.draw(),a&&yn(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return de(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,a){const i=Wu.modes[e];return typeof i=="function"?i(this,t,n,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let a=n.filter(i=>i&&i._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=ve(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const a=n?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,a);ys(e)?(i.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(i,{visible:n}),this.update(l=>l.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ie.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ya(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete on[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(i,o)=>{e.addEventListener(this,i,o),t[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};rt(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(r,c)=>{e.addEventListener(this,r,c),t[r]=c},a=(r,c)=>{t[r]&&(e.removeEventListener(this,r,c),delete t[r])},i=(r,c)=>{this.canvas&&this.resize(r,c)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",l)},e.isAttached(this.canvas)?l():o()}unbindEvents(){rt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},rt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const a=n?"set":"remove";let i,o,l,r;for(e==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,r=t.length;l<r;++l){o=t[l];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!dn(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,n){const a=this.options.hover,i=(r,c)=>r.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=i(e,t),l=n?t:i(t,e);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:a=[],options:i}=this,o=e,l=this._getActiveElements(t,a,n,o),r=sd(t),c=Gh(t,this._lastEvent,n,r);n&&(this._lastEvent=null,ut(i.onHover,[t,l,this],this),r&&ut(i.onClick,[t,l,this],this));const d=!dn(l,a);return(d||e)&&(this._active=l,this._updateHoverStyles(l,a,e)),this._lastEvent=c,d}_getActiveElements(t,e,n,a){if(t.type==="mouseout")return[];if(!n)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,a)}},N(ue,"defaults",vt),N(ue,"instances",on),N(ue,"overrides",Oe),N(ue,"registry",se),N(ue,"version",Hh),N(ue,"getChart",Mi),ue);function Ci(){return rt(Sn.instances,s=>s._plugins.invalidate())}function Jh(s,t,e){const{startAngle:n,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:r}=t;let c=a/l;s.beginPath(),s.arc(i,o,l,n-c,e+c),r>a?(c=a/r,s.arc(i,o,r,e+c,n-c,!0)):s.arc(i,o,a,e+xt,n-xt),s.closePath(),s.clip()}function Kh(s){return _a(s,["outerStart","outerEnd","innerStart","innerEnd"])}function qh(s,t,e,n){const a=Kh(s.options.borderRadius),i=(e-t)/2,o=Math.min(i,n*t/2),l=r=>{const c=(e-Math.min(i,r))*n/2;return $t(r,0,Math.min(i,c))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:$t(a.innerStart,0,o),innerEnd:$t(a.innerEnd,0,o)}}function ze(s,t,e,n){return{x:e+s*Math.cos(t),y:n+s*Math.sin(t)}}function gn(s,t,e,n,a,i){const{x:o,y:l,startAngle:r,pixelMargin:c,innerRadius:d}=t,h=Math.max(t.outerRadius+n+e-c,0),f=d>0?d+n+e+c:0;let m=0;const _=a-r;if(n){const Q=d>0?d-n:0,J=h>0?h-n:0,nt=(Q+J)/2,_t=nt!==0?_*nt/(nt+n):_;m=(_-_t)/2}const b=Math.max(.001,_*h-e/mt)/h,y=(_-b)/2,D=r+y+m,w=a-y-m,{outerStart:$,outerEnd:P,innerStart:A,innerEnd:O}=qh(t,f,h,w-D),C=h-$,T=h-P,E=D+$/C,B=w-P/T,I=f+A,Y=f+O,lt=D+A/I,W=w-O/Y;if(s.beginPath(),i){const Q=(E+B)/2;if(s.arc(o,l,h,E,Q),s.arc(o,l,h,Q,B),P>0){const pt=ze(T,B,o,l);s.arc(pt.x,pt.y,P,B,w+xt)}const J=ze(Y,w,o,l);if(s.lineTo(J.x,J.y),O>0){const pt=ze(Y,W,o,l);s.arc(pt.x,pt.y,O,w+xt,W+Math.PI)}const nt=(w-O/f+(D+A/f))/2;if(s.arc(o,l,f,w-O/f,nt,!0),s.arc(o,l,f,nt,D+A/f,!0),A>0){const pt=ze(I,lt,o,l);s.arc(pt.x,pt.y,A,lt+Math.PI,D-xt)}const _t=ze(C,D,o,l);if(s.lineTo(_t.x,_t.y),$>0){const pt=ze(C,E,o,l);s.arc(pt.x,pt.y,$,D-xt,E)}}else{s.moveTo(o,l);const Q=Math.cos(E)*h+o,J=Math.sin(E)*h+l;s.lineTo(Q,J);const nt=Math.cos(B)*h+o,_t=Math.sin(B)*h+l;s.lineTo(nt,_t)}s.closePath()}function Zh(s,t,e,n,a){const{fullCircles:i,startAngle:o,circumference:l}=t;let r=t.endAngle;if(i){gn(s,t,e,n,r,a);for(let c=0;c<i;++c)s.fill();isNaN(l)||(r=o+(l%ft||ft))}return gn(s,t,e,n,r,a),s.fill(),r}function Qh(s,t,e,n,a){const{fullCircles:i,startAngle:o,circumference:l,options:r}=t,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:f}=r,m=r.borderAlign==="inner";if(!c)return;s.setLineDash(h||[]),s.lineDashOffset=f,m?(s.lineWidth=c*2,s.lineJoin=d||"round"):(s.lineWidth=c,s.lineJoin=d||"bevel");let _=t.endAngle;if(i){gn(s,t,e,n,_,a);for(let b=0;b<i;++b)s.stroke();isNaN(l)||(_=o+(l%ft||ft))}m&&Jh(s,t,_),i||(gn(s,t,e,n,_,a),s.stroke())}class os extends te{constructor(e){super();N(this,"circumference");N(this,"endAngle");N(this,"fullCircles");N(this,"innerRadius");N(this,"outerRadius");N(this,"pixelMargin");N(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,a){const i=this.getProps(["x","y"],a),{angle:o,distance:l}=xo(i,{x:e,y:n}),{startAngle:r,endAngle:c,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),m=(this.options.spacing+this.options.borderWidth)/2,b=q(f,c-r)>=ft||xs(o,r,c),y=re(l,d+m,h+m);return b&&y}getCenterPoint(e){const{x:n,y:a,startAngle:i,endAngle:o,innerRadius:l,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:d}=this.options,h=(i+o)/2,f=(l+r+d+c)/2;return{x:n+Math.cos(h)*f,y:a+Math.sin(h)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:a}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>ft?Math.floor(a/ft):0,a===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const r=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(r)*i,Math.sin(r)*i);const c=1-Math.sin(Math.min(mt,a||0)),d=i*c;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,Zh(e,this,d,o,l),Qh(e,this,d,o,l),e.restore()}}N(os,"id","arc"),N(os,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),N(os,"defaultRoutes",{backgroundColor:"backgroundColor"}),N(os,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function tl(s,t,e=t){s.lineCap=q(e.borderCapStyle,t.borderCapStyle),s.setLineDash(q(e.borderDash,t.borderDash)),s.lineDashOffset=q(e.borderDashOffset,t.borderDashOffset),s.lineJoin=q(e.borderJoinStyle,t.borderJoinStyle),s.lineWidth=q(e.borderWidth,t.borderWidth),s.strokeStyle=q(e.borderColor,t.borderColor)}function tf(s,t,e){s.lineTo(e.x,e.y)}function ef(s){return s.stepped?wd:s.tension||s.cubicInterpolationMode==="monotone"?Dd:tf}function el(s,t,e={}){const n=s.length,{start:a=0,end:i=n-1}=e,{start:o,end:l}=t,r=Math.max(a,o),c=Math.min(i,l),d=a<o&&i<o||a>l&&i>l;return{count:n,start:r,loop:t.loop,ilen:c<r&&!d?n+c-r:c-r}}function sf(s,t,e,n){const{points:a,options:i}=t,{count:o,start:l,loop:r,ilen:c}=el(a,e,n),d=ef(i);let{move:h=!0,reverse:f}=n||{},m,_,b;for(m=0;m<=c;++m)_=a[(l+(f?c-m:m))%o],!_.skip&&(h?(s.moveTo(_.x,_.y),h=!1):d(s,b,_,f,i.stepped),b=_);return r&&(_=a[(l+(f?c:0))%o],d(s,b,_,f,i.stepped)),!!r}function nf(s,t,e,n){const a=t.points,{count:i,start:o,ilen:l}=el(a,e,n),{move:r=!0,reverse:c}=n||{};let d=0,h=0,f,m,_,b,y,D;const w=P=>(o+(c?l-P:P))%i,$=()=>{b!==y&&(s.lineTo(d,y),s.lineTo(d,b),s.lineTo(d,D))};for(r&&(m=a[w(0)],s.moveTo(m.x,m.y)),f=0;f<=l;++f){if(m=a[w(f)],m.skip)continue;const P=m.x,A=m.y,O=P|0;O===_?(A<b?b=A:A>y&&(y=A),d=(h*d+P)/++h):($(),s.lineTo(P,A),_=O,h=0,b=y=A),D=A}$()}function qn(s){const t=s.options,e=t.borderDash&&t.borderDash.length;return!s._decimated&&!s._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?nf:sf}function af(s){return s.stepped?nu:s.tension||s.cubicInterpolationMode==="monotone"?au:Ae}function of(s,t,e,n){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,n)&&a.closePath()),tl(s,t.options),s.stroke(a)}function lf(s,t,e,n){const{segments:a,options:i}=t,o=qn(t);for(const l of a)tl(s,i,l.style),s.beginPath(),o(s,t,l,{start:e,end:e+n-1})&&s.closePath(),s.stroke()}const rf=typeof Path2D=="function";function cf(s,t,e,n){rf&&!t.options.segment?of(s,t,e,n):lf(s,t,e,n)}class me extends te{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;Jd(this._points,n,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=du(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,a=t[e],i=this.points,o=zo(this,{property:e,start:a,end:a});if(!o.length)return;const l=[],r=af(n);let c,d;for(c=0,d=o.length;c<d;++c){const{start:h,end:f}=o[c],m=i[h],_=i[f];if(m===_){l.push(m);continue}const b=Math.abs((a-m[e])/(_[e]-m[e])),y=r(m,_,b,n.stepped);y[e]=t[e],l.push(y)}return l.length===1?l[0]:l}pathSegment(t,e,n){return qn(this)(t,this,e,n)}path(t,e,n){const a=this.segments,i=qn(this);let o=this._loop;e=e||0,n=n||this.points.length-e;for(const l of a)o&=i(t,this,l,{start:e,end:e+n-1});return!!o}draw(t,e,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),cf(t,this,n,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}N(me,"id","line"),N(me,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),N(me,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),N(me,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Ai(s,t,e,n){const a=s.options,{[e]:i}=s.getProps([e],n);return Math.abs(t-i)<a.radius+a.hitRadius}class ln extends te{constructor(e){super();N(this,"parsed");N(this,"skip");N(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,a){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],a);return Math.pow(e-o,2)+Math.pow(n-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return Ai(this,e,"x",n)}inYRange(e,n){return Ai(this,e,"y",n)}getCenterPoint(e){const{x:n,y:a}=this.getProps(["x","y"],e);return{x:n,y:a}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const a=n&&e.borderWidth||0;return(n+a)*2}draw(e,n){const a=this.options;this.skip||a.radius<.1||!de(this,n,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,Gn(e,a,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}N(ln,"id","point"),N(ln,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),N(ln,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function sl(s,t){const{x:e,y:n,base:a,width:i,height:o}=s.getProps(["x","y","base","width","height"],t);let l,r,c,d,h;return s.horizontal?(h=o/2,l=Math.min(e,a),r=Math.max(e,a),c=n-h,d=n+h):(h=i/2,l=e-h,r=e+h,c=Math.min(n,a),d=Math.max(n,a)),{left:l,top:c,right:r,bottom:d}}function pe(s,t,e,n){return s?0:$t(t,e,n)}function df(s,t,e){const n=s.options.borderWidth,a=s.borderSkipped,i=$o(n);return{t:pe(a.top,i.top,0,e),r:pe(a.right,i.right,0,t),b:pe(a.bottom,i.bottom,0,e),l:pe(a.left,i.left,0,t)}}function uf(s,t,e){const{enableBorderRadius:n}=s.getProps(["enableBorderRadius"]),a=s.options.borderRadius,i=Ee(a),o=Math.min(t,e),l=s.borderSkipped,r=n||et(a);return{topLeft:pe(!r||l.top||l.left,i.topLeft,0,o),topRight:pe(!r||l.top||l.right,i.topRight,0,o),bottomLeft:pe(!r||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:pe(!r||l.bottom||l.right,i.bottomRight,0,o)}}function hf(s){const t=sl(s),e=t.right-t.left,n=t.bottom-t.top,a=df(s,e/2,n/2),i=uf(s,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:i},inner:{x:t.left+a.l,y:t.top+a.t,w:e-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function Bn(s,t,e,n){const a=t===null,i=e===null,l=s&&!(a&&i)&&sl(s,n);return l&&(a||re(t,l.left,l.right))&&(i||re(e,l.top,l.bottom))}function ff(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function mf(s,t){s.rect(t.x,t.y,t.w,t.h)}function Nn(s,t,e={}){const n=s.x!==e.x?-t:0,a=s.y!==e.y?-t:0,i=(s.x+s.w!==e.x+e.w?t:0)-n,o=(s.y+s.h!==e.y+e.h?t:0)-a;return{x:s.x+n,y:s.y+a,w:s.w+i,h:s.h+o,radius:s.radius}}class rn extends te{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:o}=hf(this),l=ff(o.radius)?Ss:mf;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),l(t,Nn(o,e,i)),t.clip(),l(t,Nn(i,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),l(t,Nn(i,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,n){return Bn(this,t,e,n)}inXRange(t,e){return Bn(this,t,null,e)}inYRange(t,e){return Bn(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+a)/2:e,y:i?n:(n+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}N(rn,"id","bar"),N(rn,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),N(rn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var pf=Object.freeze({__proto__:null,ArcElement:os,BarElement:rn,LineElement:me,PointElement:ln});const Zn=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],$i=Zn.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function nl(s){return Zn[s%Zn.length]}function al(s){return $i[s%$i.length]}function gf(s,t){return s.borderColor=nl(t),s.backgroundColor=al(t),++t}function _f(s,t){return s.backgroundColor=s.data.map(()=>nl(t++)),t}function bf(s,t){return s.backgroundColor=s.data.map(()=>al(t++)),t}function vf(s){let t=0;return(e,n)=>{const a=s.getDatasetMeta(n).controller;a instanceof $e?t=_f(e,t):a instanceof ms?t=bf(e,t):a&&(t=gf(e,t))}}function Ei(s){let t;for(t in s)if(s[t].borderColor||s[t].backgroundColor)return!0;return!1}function yf(s){return s&&(s.borderColor||s.backgroundColor)}var xf={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,t,e){if(!e.enabled)return;const{data:{datasets:n},options:a}=s.config,{elements:i}=a;if(!e.forceOverride&&(Ei(n)||yf(a)||i&&Ei(i)))return;const o=vf(s);n.forEach(o)}};function Sf(s,t,e,n,a){const i=a.samples||n;if(i>=e)return s.slice(t,t+e);const o=[],l=(e-2)/(i-2);let r=0;const c=t+e-1;let d=t,h,f,m,_,b;for(o[r++]=s[d],h=0;h<i-2;h++){let y=0,D=0,w;const $=Math.floor((h+1)*l)+1+t,P=Math.min(Math.floor((h+2)*l)+1,e)+t,A=P-$;for(w=$;w<P;w++)y+=s[w].x,D+=s[w].y;y/=A,D/=A;const O=Math.floor(h*l)+1+t,C=Math.min(Math.floor((h+1)*l)+1,e)+t,{x:T,y:E}=s[d];for(m=_=-1,w=O;w<C;w++)_=.5*Math.abs((T-y)*(s[w].y-E)-(T-s[w].x)*(D-E)),_>m&&(m=_,f=s[w],b=w);o[r++]=f,d=b}return o[r++]=s[c],o}function kf(s,t,e,n){let a=0,i=0,o,l,r,c,d,h,f,m,_,b;const y=[],D=t+e-1,w=s[t].x,P=s[D].x-w;for(o=t;o<t+e;++o){l=s[o],r=(l.x-w)/P*n,c=l.y;const A=r|0;if(A===d)c<_?(_=c,h=o):c>b&&(b=c,f=o),a=(i*a+l.x)/++i;else{const O=o-1;if(!it(h)&&!it(f)){const C=Math.min(h,f),T=Math.max(h,f);C!==m&&C!==O&&y.push({...s[C],x:a}),T!==m&&T!==O&&y.push({...s[T],x:a})}o>0&&O!==m&&y.push(s[O]),y.push(l),d=A,i=0,_=b=c,h=f=m=o}}return y}function il(s){if(s._decimated){const t=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Pi(s){s.data.datasets.forEach(t=>{il(t)})}function wf(s,t){const e=t.length;let n=0,a;const{iScale:i}=s,{min:o,max:l,minDefined:r,maxDefined:c}=i.getUserBounds();return r&&(n=$t(ce(t,i.axis,o).lo,0,e-1)),c?a=$t(ce(t,i.axis,l).hi+1,n,e)-n:a=e-n,{start:n,count:a}}var Df={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,t,e)=>{if(!e.enabled){Pi(s);return}const n=s.width;s.data.datasets.forEach((a,i)=>{const{_data:o,indexAxis:l}=a,r=s.getDatasetMeta(i),c=o||a.data;if(as([l,s.options.indexAxis])==="y"||!r.controller.supportsDecimation)return;const d=s.scales[r.xAxisID];if(d.type!=="linear"&&d.type!=="time"||s.options.parsing)return;let{start:h,count:f}=wf(r,c);const m=e.threshold||4*n;if(f<=m){il(a);return}it(o)&&(a._data=c,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let _;switch(e.algorithm){case"lttb":_=Sf(c,h,f,n,e);break;case"min-max":_=kf(c,h,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}a._decimated=_})},destroy(s){Pi(s)}};function Tf(s,t,e){const n=s.segments,a=s.points,i=t.points,o=[];for(const l of n){let{start:r,end:c}=l;c=wa(r,c,a);const d=Qn(e,a[r],a[c],l.loop);if(!t.segments){o.push({source:l,target:d,start:a[r],end:a[c]});continue}const h=zo(t,d);for(const f of h){const m=Qn(e,i[f.start],i[f.end],f.loop),_=No(l,a,m);for(const b of _)o.push({source:b,target:f,start:{[e]:Oi(d,m,"start",Math.max)},end:{[e]:Oi(d,m,"end",Math.min)}})}}return o}function Qn(s,t,e,n){if(n)return;let a=t[s],i=e[s];return s==="angle"&&(a=jt(a),i=jt(i)),{property:s,start:a,end:i}}function Mf(s,t){const{x:e=null,y:n=null}=s||{},a=t.points,i=[];return t.segments.forEach(({start:o,end:l})=>{l=wa(o,l,a);const r=a[o],c=a[l];n!==null?(i.push({x:r.x,y:n}),i.push({x:c.x,y:n})):e!==null&&(i.push({x:e,y:r.y}),i.push({x:e,y:c.y}))}),i}function wa(s,t,e){for(;t>s;t--){const n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Oi(s,t,e,n){return s&&t?n(s[e],t[e]):s?s[e]:t?t[e]:0}function ol(s,t){let e=[],n=!1;return ht(s)?(n=!0,e=s):e=Mf(s,t),e.length?new me({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function Fi(s){return s&&s.fill!==!1}function Cf(s,t,e){let a=s[t].fill;const i=[t];let o;if(!e)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!bt(a))return a;if(o=s[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function Af(s,t,e){const n=Of(s);if(et(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return bt(a)&&Math.floor(a)===a?$f(n[0],t,a,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function $f(s,t,e,n){return(s==="-"||s==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function Ef(s,t){let e=null;return s==="start"?e=t.bottom:s==="end"?e=t.top:et(s)?e=t.getPixelForValue(s.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Pf(s,t,e){let n;return s==="start"?n=e:s==="end"?n=t.options.reverse?t.min:t.max:et(s)?n=s.value:n=t.getBaseValue(),n}function Of(s){const t=s.options,e=t.fill;let n=q(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Ff(s){const{scale:t,index:e,line:n}=s,a=[],i=n.segments,o=n.points,l=Rf(t,e);l.push(ol({x:null,y:t.bottom},n));for(let r=0;r<i.length;r++){const c=i[r];for(let d=c.start;d<=c.end;d++)If(a,o[d],l)}return new me({points:a,options:{}})}function Rf(s,t){const e=[],n=s.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const i=n[a];if(i.index===t)break;i.hidden||e.unshift(i.dataset)}return e}function If(s,t,e){const n=[];for(let a=0;a<e.length;a++){const i=e[a],{first:o,last:l,point:r}=Lf(i,t,"x");if(!(!r||o&&l)){if(o)n.unshift(r);else if(s.push(r),!l)break}}s.push(...n)}function Lf(s,t,e){const n=s.interpolate(t,e);if(!n)return{};const a=n[e],i=s.segments,o=s.points;let l=!1,r=!1;for(let c=0;c<i.length;c++){const d=i[c],h=o[d.start][e],f=o[d.end][e];if(re(a,h,f)){l=a===h,r=a===f;break}}return{first:l,last:r,point:n}}class ll{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:a,y:i,radius:o}=this;return e=e||{start:0,end:ft},t.arc(a,i,o,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:a}=this,i=t.angle;return{x:e+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function Vf(s){const{chart:t,fill:e,line:n}=s;if(bt(e))return Bf(t,e);if(e==="stack")return Ff(s);if(e==="shape")return!0;const a=Nf(s);return a instanceof ll?a:ol(a,n)}function Bf(s,t){const e=s.getDatasetMeta(t);return e&&s.isDatasetVisible(t)?e.dataset:null}function Nf(s){return(s.scale||{}).getPointPositionForValue?jf(s):zf(s)}function zf(s){const{scale:t={},fill:e}=s,n=Ef(e,t);if(bt(n)){const a=t.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function jf(s){const{scale:t,fill:e}=s,n=t.options,a=t.getLabels().length,i=n.reverse?t.max:t.min,o=Pf(e,t,i),l=[];if(n.grid.circular){const r=t.getPointPositionForValue(0,i);return new ll({x:r.x,y:r.y,radius:t.getDistanceFromCenterForValue(o)})}for(let r=0;r<a;++r)l.push(t.getPointPositionForValue(r,o));return l}function zn(s,t,e){const n=Vf(t),{line:a,scale:i,axis:o}=t,l=a.options,r=l.fill,c=l.backgroundColor,{above:d=c,below:h=c}=r||{};n&&a.points.length&&(vn(s,e),Hf(s,{line:a,target:n,above:d,below:h,area:e,scale:i,axis:o}),yn(s))}function Hf(s,t){const{line:e,target:n,above:a,below:i,area:o,scale:l}=t,r=e._loop?"angle":t.axis;s.save(),r==="x"&&i!==a&&(Ri(s,n,o.top),Ii(s,{line:e,target:n,color:a,scale:l,property:r}),s.restore(),s.save(),Ri(s,n,o.bottom)),Ii(s,{line:e,target:n,color:i,scale:l,property:r}),s.restore()}function Ri(s,t,e){const{segments:n,points:a}=t;let i=!0,o=!1;s.beginPath();for(const l of n){const{start:r,end:c}=l,d=a[r],h=a[wa(r,c,a)];i?(s.moveTo(d.x,d.y),i=!1):(s.lineTo(d.x,e),s.lineTo(d.x,d.y)),o=!!t.pathSegment(s,l,{move:o}),o?s.closePath():s.lineTo(h.x,e)}s.lineTo(t.first().x,e),s.closePath(),s.clip()}function Ii(s,t){const{line:e,target:n,property:a,color:i,scale:o}=t,l=Tf(e,n,a);for(const{source:r,target:c,start:d,end:h}of l){const{style:{backgroundColor:f=i}={}}=r,m=n!==!0;s.save(),s.fillStyle=f,Wf(s,o,m&&Qn(a,d,h)),s.beginPath();const _=!!e.pathSegment(s,r);let b;if(m){_?s.closePath():Li(s,n,h,a);const y=!!n.pathSegment(s,c,{move:_,reverse:!0});b=_&&y,b||Li(s,n,d,a)}s.closePath(),s.fill(b?"evenodd":"nonzero"),s.restore()}}function Wf(s,t,e){const{top:n,bottom:a}=t.chart.chartArea,{property:i,start:o,end:l}=e||{};i==="x"&&(s.beginPath(),s.rect(o,n,l-o,a-n),s.clip())}function Li(s,t,e,n){const a=t.interpolate(e,n);a&&s.lineTo(a.x,a.y)}var Uf={id:"filler",afterDatasetsUpdate(s,t,e){const n=(s.data.datasets||[]).length,a=[];let i,o,l,r;for(o=0;o<n;++o)i=s.getDatasetMeta(o),l=i.dataset,r=null,l&&l.options&&l instanceof me&&(r={visible:s.isDatasetVisible(o),index:o,fill:Af(l,o,n),chart:s,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=r,a.push(r);for(o=0;o<n;++o)r=a[o],!(!r||r.fill===!1)&&(r.fill=Cf(a,o,e.propagate))},beforeDraw(s,t,e){const n=e.drawTime==="beforeDraw",a=s.getSortedVisibleDatasetMetas(),i=s.chartArea;for(let o=a.length-1;o>=0;--o){const l=a[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),n&&l.fill&&zn(s.ctx,l,i))}},beforeDatasetsDraw(s,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const n=s.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const i=n[a].$filler;Fi(i)&&zn(s.ctx,i,s.chartArea)}},beforeDatasetDraw(s,t,e){const n=t.meta.$filler;!Fi(n)||e.drawTime!=="beforeDatasetDraw"||zn(s.ctx,n,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Vi=(s,t)=>{let{boxHeight:e=t,boxWidth:n=t}=s;return s.usePointStyle&&(e=Math.min(e,t),n=s.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},Yf=(s,t)=>s!==null&&t!==null&&s.datasetIndex===t.datasetIndex&&s.index===t.index;class Bi extends te{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ut(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,a)=>t.sort(n,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,a=Ct(n.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:r}=Vi(n,i);let c,d;e.font=a.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,i,l,r)+10):(d=this.maxHeight,c=this._fitCols(o,a,l,r)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,r=this.legendHitBoxes=[],c=this.lineWidths=[0],d=a+l;let h=t;i.textAlign="left",i.textBaseline="middle";let f=-1,m=-d;return this.legendItems.forEach((_,b)=>{const y=n+e/2+i.measureText(_.text).width;(b===0||c[c.length-1]+y+2*l>o)&&(h+=d,c[c.length-(b>0?0:1)]=0,m+=d,f++),r[b]={left:0,top:m,row:f,width:y,height:a},c[c.length-1]+=y+l}),h}_fitCols(t,e,n,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,r=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-t;let h=l,f=0,m=0,_=0,b=0;return this.legendItems.forEach((y,D)=>{const{itemWidth:w,itemHeight:$}=Gf(n,e,i,y,a);D>0&&m+$+2*l>d&&(h+=f+l,c.push({width:f,height:m}),_+=f+l,b++,f=m=0),r[D]={left:_,top:m,col:b,width:w,height:$},f=Math.max(f,w),m+=$+l}),h+=f,c.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:a},rtl:i}}=this,o=He(i,this.left,this.width);if(this.isHorizontal()){let l=0,r=Pt(n,this.left+a,this.right-this.lineWidths[l]);for(const c of e)l!==c.row&&(l=c.row,r=Pt(n,this.left+a,this.right-this.lineWidths[l])),c.top+=this.top+t+a,c.left=o.leftForLtr(o.x(r),c.width),r+=c.width+a}else{let l=0,r=Pt(n,this.top+t+a,this.bottom-this.columnSizes[l].height);for(const c of e)c.col!==l&&(l=c.col,r=Pt(n,this.top+t+a,this.bottom-this.columnSizes[l].height)),c.top=r,c.left+=this.left+a,c.left=o.leftForLtr(o.x(c.left),c.width),r+=c.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;vn(t,this),this._draw(),yn(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:a}=this,{align:i,labels:o}=t,l=vt.color,r=He(t.rtl,this.left,this.width),c=Ct(o.font),{padding:d}=o,h=c.size,f=h/2;let m;this.drawTitle(),a.textAlign=r.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=c.string;const{boxWidth:_,boxHeight:b,itemHeight:y}=Vi(o,h),D=function(O,C,T){if(isNaN(_)||_<=0||isNaN(b)||b<0)return;a.save();const E=q(T.lineWidth,1);if(a.fillStyle=q(T.fillStyle,l),a.lineCap=q(T.lineCap,"butt"),a.lineDashOffset=q(T.lineDashOffset,0),a.lineJoin=q(T.lineJoin,"miter"),a.lineWidth=E,a.strokeStyle=q(T.strokeStyle,l),a.setLineDash(q(T.lineDash,[])),o.usePointStyle){const B={radius:b*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:E},I=r.xPlus(O,_/2),Y=C+f;Ao(a,B,I,Y,o.pointStyleWidth&&_)}else{const B=C+Math.max((h-b)/2,0),I=r.leftForLtr(O,_),Y=Ee(T.borderRadius);a.beginPath(),Object.values(Y).some(lt=>lt!==0)?Ss(a,{x:I,y:B,w:_,h:b,radius:Y}):a.rect(I,B,_,b),a.fill(),E!==0&&a.stroke()}a.restore()},w=function(O,C,T){Fe(a,T.text,O,C+y/2,c,{strikethrough:T.hidden,textAlign:r.textAlign(T.textAlign)})},$=this.isHorizontal(),P=this._computeTitleHeight();$?m={x:Pt(i,this.left+d,this.right-n[0]),y:this.top+d+P,line:0}:m={x:this.left+d,y:Pt(i,this.top+P+d,this.bottom-e[0].height),line:0},Lo(this.ctx,t.textDirection);const A=y+d;this.legendItems.forEach((O,C)=>{a.strokeStyle=O.fontColor,a.fillStyle=O.fontColor;const T=a.measureText(O.text).width,E=r.textAlign(O.textAlign||(O.textAlign=o.textAlign)),B=_+f+T;let I=m.x,Y=m.y;r.setWidth(this.width),$?C>0&&I+B+d>this.right&&(Y=m.y+=A,m.line++,I=m.x=Pt(i,this.left+d,this.right-n[m.line])):C>0&&Y+A>this.bottom&&(I=m.x=I+e[m.line].width+d,m.line++,Y=m.y=Pt(i,this.top+P+d,this.bottom-e[m.line].height));const lt=r.x(I);if(D(lt,Y,O),I=fd(E,I+_+f,$?I+B:this.right,t.rtl),w(r.x(I),Y,O),$)m.x+=B+d;else if(typeof O.text!="string"){const W=c.lineHeight;m.y+=rl(O,W)+d}else m.y+=A}),Vo(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Ct(e.font),a=Ft(e.padding);if(!e.display)return;const i=He(t.rtl,this.left,this.width),o=this.ctx,l=e.position,r=n.size/2,c=a.top+r;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,h=Pt(t.align,h,this.right-f);else{const _=this.columnSizes.reduce((b,y)=>Math.max(b,y.height),0);d=c+Pt(t.align,this.top,this.bottom-_-t.labels.padding-this._computeTitleHeight())}const m=Pt(l,h,h+f);o.textAlign=i.textAlign(pa(l)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,Fe(o,e.text,m,d,n)}_computeTitleHeight(){const t=this.options.title,e=Ct(t.font),n=Ft(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,a,i;if(re(t,this.left,this.right)&&re(e,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],re(t,a.left,a.left+a.width)&&re(e,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(t){const e=this.options;if(!Kf(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,i=Yf(a,n);a&&!i&&ut(e.onLeave,[t,a,this],this),this._hoveredItem=n,n&&!i&&ut(e.onHover,[t,n,this],this)}else n&&ut(e.onClick,[t,n,this],this)}}function Gf(s,t,e,n,a){const i=Xf(n,s,t,e),o=Jf(a,n,t.lineHeight);return{itemWidth:i,itemHeight:o}}function Xf(s,t,e,n){let a=s.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),t+e.size/2+n.measureText(a).width}function Jf(s,t,e){let n=s;return typeof t.text!="string"&&(n=rl(t,e)),n}function rl(s,t){const e=s.text?s.text.length:0;return t*e}function Kf(s,t){return!!((s==="mousemove"||s==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(s==="click"||s==="mouseup"))}var qf={id:"legend",_element:Bi,start(s,t,e){const n=s.legend=new Bi({ctx:s.ctx,options:e,chart:s});Ot.configure(s,n,e),Ot.addBox(s,n)},stop(s){Ot.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,t,e){const n=s.legend;Ot.configure(s,n,e),n.options=e},afterUpdate(s){const t=s.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(s,t){t.replay||s.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,t,e){const n=t.datasetIndex,a=e.chart;a.isDatasetVisible(n)?(a.hide(n),t.hidden=!0):(a.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const t=s.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(r=>{const c=r.controller.getStyle(e?0:void 0),d=Ft(c.borderWidth);return{text:t[r.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!r.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:a||c.textAlign,borderRadius:o&&(l||c.borderRadius),datasetIndex:r.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class Da extends te{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=ht(n.text)?n.text.length:1;this._padding=Ft(n.padding);const i=a*Ct(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:n,bottom:a,right:i,options:o}=this,l=o.align;let r=0,c,d,h;return this.isHorizontal()?(d=Pt(l,n,i),h=e+t,c=i-n):(o.position==="left"?(d=n+t,h=Pt(l,a,e),r=mt*-.5):(d=i-t,h=Pt(l,e,a),r=mt*.5),c=a-e),{titleX:d,titleY:h,maxWidth:c,rotation:r}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Ct(e.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:r,rotation:c}=this._drawArgs(i);Fe(t,e.text,0,0,n,{color:e.color,maxWidth:r,rotation:c,textAlign:pa(e.align),textBaseline:"middle",translation:[o,l]})}}function Zf(s,t){const e=new Da({ctx:s.ctx,options:t,chart:s});Ot.configure(s,e,t),Ot.addBox(s,e),s.titleBlock=e}var Qf={id:"title",_element:Da,start(s,t,e){Zf(s,e)},stop(s){const t=s.titleBlock;Ot.removeBox(s,t),delete s.titleBlock},beforeUpdate(s,t,e){const n=s.titleBlock;Ot.configure(s,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qs=new WeakMap;var tm={id:"subtitle",start(s,t,e){const n=new Da({ctx:s.ctx,options:e,chart:s});Ot.configure(s,n,e),Ot.addBox(s,n),qs.set(s,n)},stop(s){Ot.removeBox(s,qs.get(s)),qs.delete(s)},beforeUpdate(s,t,e){const n=qs.get(s);Ot.configure(s,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ls={average(s){if(!s.length)return!1;let t,e,n=0,a=0,i=0;for(t=0,e=s.length;t<e;++t){const o=s[t].element;if(o&&o.hasValue()){const l=o.tooltipPosition();n+=l.x,a+=l.y,++i}}return{x:n/i,y:a/i}},nearest(s,t){if(!s.length)return!1;let e=t.x,n=t.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=s.length;i<o;++i){const r=s[i].element;if(r&&r.hasValue()){const c=r.getCenterPoint(),d=Un(t,c);d<a&&(a=d,l=r)}}if(l){const r=l.tooltipPosition();e=r.x,n=r.y}return{x:e,y:n}}};function ee(s,t){return t&&(ht(t)?Array.prototype.push.apply(s,t):s.push(t)),s}function oe(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function em(s,t){const{element:e,datasetIndex:n,index:a}=t,i=s.getDatasetMeta(n).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:s,label:o,parsed:i.getParsed(a),raw:s.data.datasets[n].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:e}}function Ni(s,t){const e=s.chart.ctx,{body:n,footer:a,title:i}=s,{boxWidth:o,boxHeight:l}=t,r=Ct(t.bodyFont),c=Ct(t.titleFont),d=Ct(t.footerFont),h=i.length,f=a.length,m=n.length,_=Ft(t.padding);let b=_.height,y=0,D=n.reduce((P,A)=>P+A.before.length+A.lines.length+A.after.length,0);if(D+=s.beforeBody.length+s.afterBody.length,h&&(b+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),D){const P=t.displayColors?Math.max(l,r.lineHeight):r.lineHeight;b+=m*P+(D-m)*r.lineHeight+(D-1)*t.bodySpacing}f&&(b+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let w=0;const $=function(P){y=Math.max(y,e.measureText(P).width+w)};return e.save(),e.font=c.string,rt(s.title,$),e.font=r.string,rt(s.beforeBody.concat(s.afterBody),$),w=t.displayColors?o+2+t.boxPadding:0,rt(n,P=>{rt(P.before,$),rt(P.lines,$),rt(P.after,$)}),w=0,e.font=d.string,rt(s.footer,$),e.restore(),y+=_.width,{width:y,height:b}}function sm(s,t){const{y:e,height:n}=t;return e<n/2?"top":e>s.height-n/2?"bottom":"center"}function nm(s,t,e,n){const{x:a,width:i}=n,o=e.caretSize+e.caretPadding;if(s==="left"&&a+i+o>t.width||s==="right"&&a-i-o<0)return!0}function am(s,t,e,n){const{x:a,width:i}=e,{width:o,chartArea:{left:l,right:r}}=s;let c="center";return n==="center"?c=a<=(l+r)/2?"left":"right":a<=i/2?c="left":a>=o-i/2&&(c="right"),nm(c,s,t,e)&&(c="center"),c}function zi(s,t,e){const n=e.yAlign||t.yAlign||sm(s,e);return{xAlign:e.xAlign||t.xAlign||am(s,t,e,n),yAlign:n}}function im(s,t){let{x:e,width:n}=s;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function om(s,t,e){let{y:n,height:a}=s;return t==="top"?n+=e:t==="bottom"?n-=a+e:n-=a/2,n}function ji(s,t,e,n){const{caretSize:a,caretPadding:i,cornerRadius:o}=s,{xAlign:l,yAlign:r}=e,c=a+i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=Ee(o);let _=im(t,l);const b=om(t,r,c);return r==="center"?l==="left"?_+=c:l==="right"&&(_-=c):l==="left"?_-=Math.max(d,f)+a:l==="right"&&(_+=Math.max(h,m)+a),{x:$t(_,0,n.width-t.width),y:$t(b,0,n.height-t.height)}}function Zs(s,t,e){const n=Ft(e.padding);return t==="center"?s.x+s.width/2:t==="right"?s.x+s.width-n.right:s.x+n.left}function Hi(s){return ee([],oe(s))}function lm(s,t,e){return ve(s,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Wi(s,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?s.override(e):s}const cl={beforeTitle:ae,title(s){if(s.length>0){const t=s[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:ae,beforeBody:ae,beforeLabel:ae,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let t=s.dataset.label||"";t&&(t+=": ");const e=s.formattedValue;return it(e)||(t+=e),t},labelColor(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ae,afterBody:ae,beforeFooter:ae,footer:ae,afterFooter:ae};function Vt(s,t,e,n){const a=s[t].call(e,n);return typeof a>"u"?cl[t].call(e,n):a}class ta extends te{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&e.options.animation&&n.animations,i=new jo(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=lm(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,a=Vt(n,"beforeTitle",this,t),i=Vt(n,"title",this,t),o=Vt(n,"afterTitle",this,t);let l=[];return l=ee(l,oe(a)),l=ee(l,oe(i)),l=ee(l,oe(o)),l}getBeforeBody(t,e){return Hi(Vt(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,a=[];return rt(t,i=>{const o={before:[],lines:[],after:[]},l=Wi(n,i);ee(o.before,oe(Vt(l,"beforeLabel",this,i))),ee(o.lines,Vt(l,"label",this,i)),ee(o.after,oe(Vt(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(t,e){return Hi(Vt(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,a=Vt(n,"beforeFooter",this,t),i=Vt(n,"footer",this,t),o=Vt(n,"afterFooter",this,t);let l=[];return l=ee(l,oe(a)),l=ee(l,oe(i)),l=ee(l,oe(o)),l}_createItems(t){const e=this._active,n=this.chart.data,a=[],i=[],o=[];let l=[],r,c;for(r=0,c=e.length;r<c;++r)l.push(em(this.chart,e[r]));return t.filter&&(l=l.filter((d,h,f)=>t.filter(d,h,f,n))),t.itemSort&&(l=l.sort((d,h)=>t.itemSort(d,h,n))),rt(l,d=>{const h=Wi(t.callbacks,d);a.push(Vt(h,"labelColor",this,d)),i.push(Vt(h,"labelPointStyle",this,d)),o.push(Vt(h,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=ls[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const r=this._size=Ni(this,n),c=Object.assign({},l,r),d=zi(this.chart,n,c),h=ji(n,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:h.x,y:h.y,width:r.width,height:r.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,a){const i=this.getCaretPosition(t,n,a);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:r,topRight:c,bottomLeft:d,bottomRight:h}=Ee(l),{x:f,y:m}=t,{width:_,height:b}=e;let y,D,w,$,P,A;return i==="center"?(P=m+b/2,a==="left"?(y=f,D=y-o,$=P+o,A=P-o):(y=f+_,D=y+o,$=P-o,A=P+o),w=y):(a==="left"?D=f+Math.max(r,d)+o:a==="right"?D=f+_-Math.max(c,h)-o:D=this.caretX,i==="top"?($=m,P=$-o,y=D-o,w=D+o):($=m+b,P=$+o,y=D+o,w=D-o),A=$),{x1:y,x2:D,x3:w,y1:$,y2:P,y3:A}}drawTitle(t,e,n){const a=this.title,i=a.length;let o,l,r;if(i){const c=He(n.rtl,this.x,this.width);for(t.x=Zs(this,n.titleAlign,n),e.textAlign=c.textAlign(n.titleAlign),e.textBaseline="middle",o=Ct(n.titleFont),l=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,r=0;r<i;++r)e.fillText(a[r],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,r+1===i&&(t.y+=n.titleMarginBottom-l)}}_drawColorBox(t,e,n,a,i){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:r,boxWidth:c}=i,d=Ct(i.bodyFont),h=Zs(this,"left",i),f=a.x(h),m=r<d.lineHeight?(d.lineHeight-r)/2:0,_=e.y+m;if(i.usePointStyle){const b={radius:Math.min(c,r)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=a.leftForLtr(f,c)+c/2,D=_+r/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,Gn(t,b,y,D),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Gn(t,b,y,D)}else{t.lineWidth=et(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const b=a.leftForLtr(f,c),y=a.leftForLtr(a.xPlus(f,1),c-2),D=Ee(o.borderRadius);Object.values(D).some(w=>w!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Ss(t,{x:b,y:_,w:c,h:r,radius:D}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Ss(t,{x:y,y:_+1,w:c-2,h:r-2,radius:D}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(b,_,c,r),t.strokeRect(b,_,c,r),t.fillStyle=o.backgroundColor,t.fillRect(y,_+1,c-2,r-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:r,boxWidth:c,boxPadding:d}=n,h=Ct(n.bodyFont);let f=h.lineHeight,m=0;const _=He(n.rtl,this.x,this.width),b=function(T){e.fillText(T,_.x(t.x+m),t.y+f/2),t.y+=f+i},y=_.textAlign(o);let D,w,$,P,A,O,C;for(e.textAlign=o,e.textBaseline="middle",e.font=h.string,t.x=Zs(this,y,n),e.fillStyle=n.bodyColor,rt(this.beforeBody,b),m=l&&y!=="right"?o==="center"?c/2+d:c+2+d:0,P=0,O=a.length;P<O;++P){for(D=a[P],w=this.labelTextColors[P],e.fillStyle=w,rt(D.before,b),$=D.lines,l&&$.length&&(this._drawColorBox(e,t,P,_,n),f=Math.max(h.lineHeight,r)),A=0,C=$.length;A<C;++A)b($[A]),f=h.lineHeight;rt(D.after,b)}m=0,f=h.lineHeight,rt(this.afterBody,b),t.y-=i}drawFooter(t,e,n){const a=this.footer,i=a.length;let o,l;if(i){const r=He(n.rtl,this.x,this.width);for(t.x=Zs(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=r.textAlign(n.footerAlign),e.textBaseline="middle",o=Ct(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,l=0;l<i;++l)e.fillText(a[l],r.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,a){const{xAlign:i,yAlign:o}=this,{x:l,y:r}=t,{width:c,height:d}=n,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:_}=Ee(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(l+h,r),o==="top"&&this.drawCaret(t,e,n,a),e.lineTo(l+c-f,r),e.quadraticCurveTo(l+c,r,l+c,r+f),o==="center"&&i==="right"&&this.drawCaret(t,e,n,a),e.lineTo(l+c,r+d-_),e.quadraticCurveTo(l+c,r+d,l+c-_,r+d),o==="bottom"&&this.drawCaret(t,e,n,a),e.lineTo(l+m,r+d),e.quadraticCurveTo(l,r+d,l,r+d-m),o==="center"&&i==="left"&&this.drawCaret(t,e,n,a),e.lineTo(l,r+h),e.quadraticCurveTo(l,r,l+h,r),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const o=ls[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Ni(this,t),r=Object.assign({},o,this._size),c=zi(e,t,r),d=ji(t,r,c,e);(a._to!==d.x||i._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Ft(e.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&l&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,a,e),Lo(t,e.textDirection),i.y+=o.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),Vo(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,a=t.map(({datasetIndex:l,index:r})=>{const c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[r],index:r}}),i=!dn(n,a),o=this._positionChanged(a,e);(i||o)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(t,i,e,n),l=this._positionChanged(o,t),r=e||!dn(o,i)||l;return r&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),r}_getActiveElements(t,e,n,a){const i=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:a,options:i}=this,o=ls[i.position].call(this,t,e);return o!==!1&&(n!==o.x||a!==o.y)}}N(ta,"positioners",ls);var rm={id:"tooltip",_element:ta,positioners:ls,afterInit(s,t,e){e&&(s.tooltip=new ta({chart:s,options:e}))},beforeUpdate(s,t,e){s.tooltip&&s.tooltip.initialize(e)},reset(s,t,e){s.tooltip&&s.tooltip.initialize(e)},afterDraw(s){const t=s.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(s.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",e)}},afterEvent(s,t){if(s.tooltip){const e=t.replay;s.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,t)=>t.bodyFont.size,boxWidth:(s,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cl},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},cm=Object.freeze({__proto__:null,Colors:xf,Decimation:Df,Filler:Uf,Legend:qf,SubTitle:tm,Title:Qf,Tooltip:rm});const dm=(s,t,e,n)=>(typeof t=="string"?(e=s.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function um(s,t,e,n){const a=s.indexOf(t);if(a===-1)return dm(s,t,e,n);const i=s.lastIndexOf(t);return a!==i?e:a}const hm=(s,t)=>s===null?null:$t(Math.round(s),0,t);function Ui(s){const t=this.getLabels();return s>=0&&s<t.length?t[s]:s}class ea extends Le{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const n=this.getLabels();for(const{index:a,label:i}of e)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(it(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:um(n,t,q(e,t),this._addedLabels),hm(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),e||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=t===0&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=e;o++)a.push({value:o});return a}getLabelForValue(t){return Ui.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}N(ea,"id","category"),N(ea,"defaults",{ticks:{callback:Ui}});function fm(s,t){const e=[],{bounds:a,step:i,min:o,max:l,precision:r,count:c,maxTicks:d,maxDigits:h,includeBounds:f}=s,m=i||1,_=d-1,{min:b,max:y}=t,D=!it(o),w=!it(l),$=!it(c),P=(y-b)/(h+1);let A=Ba((y-b)/_/m)*m,O,C,T,E;if(A<1e-14&&!D&&!w)return[{value:b},{value:y}];E=Math.ceil(y/A)-Math.floor(b/A),E>_&&(A=Ba(E*A/_/m)*m),it(r)||(O=Math.pow(10,r),A=Math.ceil(A*O)/O),a==="ticks"?(C=Math.floor(b/A)*A,T=Math.ceil(y/A)*A):(C=b,T=y),D&&w&&i&&od((l-o)/i,A/1e3)?(E=Math.round(Math.min((l-o)/A,d)),A=(l-o)/E,C=o,T=l):$?(C=D?o:C,T=w?l:T,E=c-1,A=(T-C)/E):(E=(T-C)/A,ds(E,Math.round(E),A/1e3)?E=Math.round(E):E=Math.ceil(E));const B=Math.max(Na(A),Na(C));O=Math.pow(10,it(r)?B:r),C=Math.round(C*O)/O,T=Math.round(T*O)/O;let I=0;for(D&&(f&&C!==o?(e.push({value:o}),C<o&&I++,ds(Math.round((C+I*A)*O)/O,o,Yi(o,P,s))&&I++):C<o&&I++);I<E;++I){const Y=Math.round((C+I*A)*O)/O;if(w&&Y>l)break;e.push({value:Y})}return w&&f&&T!==l?e.length&&ds(e[e.length-1].value,l,Yi(l,P,s))?e[e.length-1].value=l:e.push({value:l}):(!w||T===l)&&e.push({value:T}),e}function Yi(s,t,{horizontal:e,minRotation:n}){const a=Zt(n),i=(e?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+s).length;return Math.min(t/i,o)}class _n extends Le{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return it(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const o=r=>a=e?a:r,l=r=>i=n?i:r;if(t){const r=ne(a),c=ne(i);r<0&&c<0?l(0):r>0&&c>0&&o(0)}if(a===i){let r=i===0?1:Math.abs(i*.05);l(i+r),t||o(a-r)}this.min=a,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:n}=t,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},i=this._range||this,o=fm(a,i);return t.bounds==="ticks"&&yo(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const a=(n-e)/Math.max(t.length-1,1)/2;e-=a,n+=a}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return As(t,this.chart.options.locale,this.options.ticks.format)}}class sa extends _n{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=bt(t)?t:0,this.max=bt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Zt(this.options.ticks.minRotation),a=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}N(sa,"id","linear"),N(sa,"defaults",{ticks:{callback:bn.formatters.numeric}});const ws=s=>Math.floor(fe(s)),Me=(s,t)=>Math.pow(10,ws(s)+t);function Gi(s){return s/Math.pow(10,ws(s))===1}function Xi(s,t,e){const n=Math.pow(10,e),a=Math.floor(s/n);return Math.ceil(t/n)-a}function mm(s,t){const e=t-s;let n=ws(e);for(;Xi(s,t,n)>10;)n++;for(;Xi(s,t,n)<10;)n--;return Math.min(n,ws(s))}function pm(s,{min:t,max:e}){t=zt(s.min,t);const n=[],a=ws(t);let i=mm(t,e),o=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),r=a>i?Math.pow(10,a):0,c=Math.round((t-r)*o)/o,d=Math.floor((t-r)/l/10)*l*10;let h=Math.floor((c-d)/Math.pow(10,i)),f=zt(s.min,Math.round((r+d+h*Math.pow(10,i))*o)/o);for(;f<e;)n.push({value:f,major:Gi(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(i++,h=2,o=i>=0?1:o),f=Math.round((r+d+h*Math.pow(10,i))*o)/o;const m=zt(s.max,f);return n.push({value:m,major:Gi(m),significand:h}),n}class na extends Le{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=_n.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return bt(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=bt(t)?Math.max(0,t):null,this.max=bt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!bt(this._userMin)&&(this.min=t===Me(this.min,0)?Me(this.min,-1):Me(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,a=this.max;const i=l=>n=t?n:l,o=l=>a=e?a:l;n===a&&(n<=0?(i(1),o(10)):(i(Me(n,-1)),o(Me(a,1)))),n<=0&&i(Me(a,-1)),a<=0&&o(Me(n,1)),this.min=n,this.max=a}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},n=pm(e,this);return t.bounds==="ticks"&&yo(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":As(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=fe(t),this._valueRange=fe(this.max)-fe(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(fe(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}N(na,"id","logarithmic"),N(na,"defaults",{ticks:{callback:bn.formatters.logarithmic,major:{enabled:!0}}});function aa(s){const t=s.ticks;if(t.display&&s.display){const e=Ft(t.backdropPadding);return q(t.font&&t.font.size,vt.font.size)+e.height}return 0}function gm(s,t,e){return e=ht(e)?e:[e],{w:kd(s,t.string,e),h:e.length*t.lineHeight}}function Ji(s,t,e,n,a){return s===n||s===a?{start:t-e/2,end:t+e/2}:s<n||s>a?{start:t-e,end:t}:{start:t,end:t+e}}function _m(s){const t={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},e=Object.assign({},t),n=[],a=[],i=s._pointLabels.length,o=s.options.pointLabels,l=o.centerPointLabels?mt/i:0;for(let r=0;r<i;r++){const c=o.setContext(s.getPointLabelContext(r));a[r]=c.padding;const d=s.getPointPosition(r,s.drawingArea+a[r],l),h=Ct(c.font),f=gm(s.ctx,h,s._pointLabels[r]);n[r]=f;const m=jt(s.getIndexAngle(r)+l),_=Math.round(fa(m)),b=Ji(_,d.x,f.w,0,180),y=Ji(_,d.y,f.h,90,270);bm(e,t,m,b,y)}s.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),s._pointLabelItems=xm(s,n,a)}function bm(s,t,e,n,a){const i=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let l=0,r=0;n.start<t.l?(l=(t.l-n.start)/i,s.l=Math.min(s.l,t.l-l)):n.end>t.r&&(l=(n.end-t.r)/i,s.r=Math.max(s.r,t.r+l)),a.start<t.t?(r=(t.t-a.start)/o,s.t=Math.min(s.t,t.t-r)):a.end>t.b&&(r=(a.end-t.b)/o,s.b=Math.max(s.b,t.b+r))}function vm(s,t,e){const n=s.drawingArea,{extra:a,additionalAngle:i,padding:o,size:l}=e,r=s.getPointPosition(t,n+a+o,i),c=Math.round(fa(jt(r.angle+xt))),d=wm(r.y,l.h,c),h=Sm(c),f=km(r.x,l.w,h);return{visible:!0,x:r.x,y:d,textAlign:h,left:f,top:d,right:f+l.w,bottom:d+l.h}}function ym(s,t){if(!t)return!0;const{left:e,top:n,right:a,bottom:i}=s;return!(de({x:e,y:n},t)||de({x:e,y:i},t)||de({x:a,y:n},t)||de({x:a,y:i},t))}function xm(s,t,e){const n=[],a=s._pointLabels.length,i=s.options,{centerPointLabels:o,display:l}=i.pointLabels,r={extra:aa(i)/2,additionalAngle:o?mt/a:0};let c;for(let d=0;d<a;d++){r.padding=e[d],r.size=t[d];const h=vm(s,d,r);n.push(h),l==="auto"&&(h.visible=ym(h,c),h.visible&&(c=h))}return n}function Sm(s){return s===0||s===180?"center":s<180?"left":"right"}function km(s,t,e){return e==="right"?s-=t:e==="center"&&(s-=t/2),s}function wm(s,t,e){return e===90||e===270?s-=t/2:(e>270||e<90)&&(s-=t),s}function Dm(s,t,e){const{left:n,top:a,right:i,bottom:o}=e,{backdropColor:l}=t;if(!it(l)){const r=Ee(t.borderRadius),c=Ft(t.backdropPadding);s.fillStyle=l;const d=n-c.left,h=a-c.top,f=i-n+c.width,m=o-a+c.height;Object.values(r).some(_=>_!==0)?(s.beginPath(),Ss(s,{x:d,y:h,w:f,h:m,radius:r}),s.fill()):s.fillRect(d,h,f,m)}}function Tm(s,t){const{ctx:e,options:{pointLabels:n}}=s;for(let a=t-1;a>=0;a--){const i=s._pointLabelItems[a];if(!i.visible)continue;const o=n.setContext(s.getPointLabelContext(a));Dm(e,o,i);const l=Ct(o.font),{x:r,y:c,textAlign:d}=i;Fe(e,s._pointLabels[a],r,c+l.lineHeight/2,l,{color:o.color,textAlign:d,textBaseline:"middle"})}}function dl(s,t,e,n){const{ctx:a}=s;if(e)a.arc(s.xCenter,s.yCenter,t,0,ft);else{let i=s.getPointPosition(0,t);a.moveTo(i.x,i.y);for(let o=1;o<n;o++)i=s.getPointPosition(o,t),a.lineTo(i.x,i.y)}}function Mm(s,t,e,n,a){const i=s.ctx,o=t.circular,{color:l,lineWidth:r}=t;!o&&!n||!l||!r||e<0||(i.save(),i.strokeStyle=l,i.lineWidth=r,i.setLineDash(a.dash),i.lineDashOffset=a.dashOffset,i.beginPath(),dl(s,e,o,n),i.closePath(),i.stroke(),i.restore())}function Cm(s,t,e){return ve(s,{label:e,index:t,type:"pointLabel"})}class rs extends _n{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ft(aa(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=bt(t)&&!isNaN(t)?t:0,this.max=bt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/aa(this.options))}generateTickLabels(t){_n.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{const a=ut(this.options.pointLabels.callback,[e,n],this);return a||a===0?a:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?_m(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,a){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,a))}getIndexAngle(t){const e=ft/(this._pointLabels.length||1),n=this.options.startAngle||0;return jt(t*e+Zt(n))}getDistanceFromCenterForValue(t){if(it(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(it(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return Cm(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const a=this.getIndexAngle(t)-xt+n;return{x:Math.cos(a)*e+this.xCenter,y:Math.sin(a)*e+this.yCenter,angle:a}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:a,bottom:i}=this._pointLabelItems[t];return{left:e,top:n,right:a,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),dl(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:a,border:i}=e,o=this._pointLabels.length;let l,r,c;if(e.pointLabels.display&&Tm(this,o),a.display&&this.ticks.forEach((d,h)=>{if(h!==0){r=this.getDistanceFromCenterForValue(d.value);const f=this.getContext(h),m=a.setContext(f),_=i.setContext(f);Mm(this,m,r,o,_)}}),n.display){for(t.save(),l=o-1;l>=0;l--){const d=n.setContext(this.getPointLabelContext(l)),{color:h,lineWidth:f}=d;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,r=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),c=this.getPointPosition(l,r),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let i,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,r)=>{if(r===0&&!e.reverse)return;const c=n.setContext(this.getContext(r)),d=Ct(c.font);if(i=this.getDistanceFromCenterForValue(this.ticks[r].value),c.showLabelBackdrop){t.font=d.string,o=t.measureText(l.label).width,t.fillStyle=c.backdropColor;const h=Ft(c.backdropPadding);t.fillRect(-o/2-h.left,-i-d.size/2-h.top,o+h.width,d.size+h.height)}Fe(t,l.label,0,-i,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}N(rs,"id","radialLinear"),N(rs,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:bn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),N(rs,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),N(rs,"descriptors",{angleLines:{_fallback:"grid"}});const kn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bt=Object.keys(kn);function Ki(s,t){return s-t}function qi(s,t){if(it(t))return null;const e=s._adapter,{parser:n,round:a,isoWeekday:i}=s._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),bt(o)||(o=typeof n=="string"?e.parse(o,n):e.parse(o)),o===null?null:(a&&(o=a==="week"&&(Ue(i)||i===!0)?e.startOf(o,"isoWeek",i):e.startOf(o,a)),+o)}function Zi(s,t,e,n){const a=Bt.length;for(let i=Bt.indexOf(s);i<a-1;++i){const o=kn[Bt[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(l*o.size))<=n)return Bt[i]}return Bt[a-1]}function Am(s,t,e,n,a){for(let i=Bt.length-1;i>=Bt.indexOf(e);i--){const o=Bt[i];if(kn[o].common&&s._adapter.diff(a,n,o)>=t-1)return o}return Bt[e?Bt.indexOf(e):0]}function $m(s){for(let t=Bt.indexOf(s)+1,e=Bt.length;t<e;++t)if(kn[Bt[t]].common)return Bt[t]}function Qi(s,t,e){if(!e)s[t]=!0;else if(e.length){const{lo:n,hi:a}=ma(e,t),i=e[n]>=t?e[n]:e[a];s[i]=!0}}function Em(s,t,e,n){const a=s._adapter,i=+a.startOf(t[0].value,n),o=t[t.length-1].value;let l,r;for(l=i;l<=o;l=+a.add(l,1,n))r=e[l],r>=0&&(t[r].major=!0);return t}function to(s,t,e){const n=[],a={},i=t.length;let o,l;for(o=0;o<i;++o)l=t[o],a[l]=o,n.push({value:l,major:!1});return i===0||!e?n:Em(s,n,a,e)}class Ds extends Le{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),a=this._adapter=new Bu._date(t.adapters.date);a.init(e),cs(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:qi(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function r(c){!o&&!isNaN(c.min)&&(a=Math.min(a,c.min)),!l&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!l)&&(r(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&r(this.getMinMax(!1))),a=bt(a)&&!isNaN(a)?a:+e.startOf(Date.now(),n),i=bt(i)&&!isNaN(i)?i:+e.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=dd(a,i,o);return this._unit=e.unit||(n.autoSkip?Zi(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):Am(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:$m(this._unit),this.initOffsets(a),t.reverse&&l.reverse(),to(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,n=0,a,i;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?n=i:n=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=$t(e,0,o),n=$t(n,0,o),this._offsets={start:e,end:n,factor:1/(e+1+n)}}_generate(){const t=this._adapter,e=this.min,n=this.max,a=this.options,i=a.time,o=i.unit||Zi(i.minUnit,e,n,this._getLabelCapacity(e)),l=q(a.ticks.stepSize,1),r=o==="week"?i.isoWeekday:!1,c=Ue(r)||r===!0,d={};let h=e,f,m;if(c&&(h=+t.startOf(h,"isoWeek",r)),h=+t.startOf(h,c?"day":o),t.diff(n,e,o)>1e5*l)throw new Error(e+" and "+n+" are too far apart with stepSize of "+l+" "+o);const _=a.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<n;f=+t.add(f,l,o),m++)Qi(d,f,_);return(f===n||a.bounds==="ticks"||m===1)&&Qi(d,f,_),Object.keys(d).sort(Ki).map(b=>+b)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,i=this._unit,o=e||a[i];return this._adapter.format(t,o)}_tickFormatFunction(t,e,n,a){const i=this.options,o=i.ticks.callback;if(o)return ut(o,[t,e,n],this);const l=i.time.displayFormats,r=this._unit,c=this._majorUnit,d=r&&l[r],h=c&&l[c],f=n[e],m=c&&h&&f&&f.major;return this._adapter.format(t,a||(m?h:d))}generateTickLabels(t){let e,n,a;for(e=0,n=t.length;e<n;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,a=Zt(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*o,h:n*o+l*i}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,a=n[e.unit]||n.millisecond,i=this._tickFormatFunction(t,0,to(this,[t],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],e,n;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,n=a.length;e<n;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const a=this.getLabels();for(e=0,n=a.length;e<n;++e)t.push(qi(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ko(t.sort(Ki))}}N(Ds,"id","time"),N(Ds,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Qs(s,t,e){let n=0,a=s.length-1,i,o,l,r;e?(t>=s[n].pos&&t<=s[a].pos&&({lo:n,hi:a}=ce(s,"pos",t)),{pos:i,time:l}=s[n],{pos:o,time:r}=s[a]):(t>=s[n].time&&t<=s[a].time&&({lo:n,hi:a}=ce(s,"time",t)),{time:i,pos:l}=s[n],{time:o,pos:r}=s[a]);const c=o-i;return c?l+(r-l)*(t-i)/c:l}class ia extends Ds{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Qs(e,this.min),this._tableRange=Qs(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,a=[],i=[];let o,l,r,c,d;for(o=0,l=t.length;o<l;++o)c=t[o],c>=e&&c<=n&&a.push(c);if(a.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,l=a.length;o<l;++o)d=a[o+1],r=a[o-1],c=a[o],Math.round((d+r)/2)!==c&&i.push({time:c,pos:o/(l-1)});return i}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Qs(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return Qs(this._table,n*this._tableRange+this._minPos,!0)}}N(ia,"id","timeseries"),N(ia,"defaults",Ds.defaults);var Pm=Object.freeze({__proto__:null,CategoryScale:ea,LinearScale:sa,LogarithmicScale:na,RadialLinearScale:rs,TimeScale:Ds,TimeSeriesScale:ia});const Om=[Vu,pf,cm,Pm];Sn.register(...Om);const ul={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},Fm={ariaLabel:{type:String},ariaDescribedby:{type:String}},Rm={type:{type:String,required:!0},...ul,...Fm},Im=Ml[0]==="2"?(s,t)=>Object.assign(s,{attrs:t}):(s,t)=>Object.assign(s,t);function je(s){return co(s)?Hn(s):s}function Lm(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return co(t)?new Proxy(s,{}):s}function Vm(s,t){const e=s.options;e&&t&&Object.assign(e,t)}function hl(s,t){s.labels=t}function fl(s,t,e){const n=[];s.datasets=t.map(a=>{const i=s.datasets.find(o=>o[e]===a[e]);return!i||!a.data||n.includes(i)?{...a}:(n.push(i),Object.assign(i,a),i)})}function Bm(s,t){const e={labels:[],datasets:[]};return hl(e,s.labels),fl(e,s.datasets,t),e}const Nm=Z({props:Rm,setup(s,t){let{expose:e,slots:n}=t;const a=S(null),i=oo(null);e({chart:i});const o=()=>{if(!a.value)return;const{type:c,data:d,options:h,plugins:f,datasetIdKey:m}=s,_=Bm(d,m),b=Lm(_,d);i.value=new Sn(a.value,{type:c,data:b,options:{...h},plugins:f})},l=()=>{const c=Hn(i.value);c&&(c.destroy(),i.value=null)},r=c=>{c.update(s.updateMode)};return Cl(o),lo(l),We([()=>s.options,()=>s.data],(c,d)=>{let[h,f]=c,[m,_]=d;const b=Hn(i.value);if(!b)return;let y=!1;if(h){const D=je(h),w=je(m);D&&D!==w&&(Vm(b,D),y=!0)}if(f){const D=je(f.labels),w=je(_.labels),$=je(f.datasets),P=je(_.datasets);D!==w&&(hl(b.config.data,D),y=!0),$&&$!==P&&(fl(b.config.data,$,s.datasetIdKey),y=!0)}y&&ro(()=>{r(b)})},{deep:!0}),()=>jn("canvas",{role:"img",ariaLabel:s.ariaLabel,ariaDescribedby:s.ariaDescribedby,ref:a},[jn("p",{},[n.default?n.default():""])])}});function zm(s,t){return Sn.register(t),Z({props:ul,setup(e,n){let{expose:a}=n;const i=oo(null),o=l=>{i.value=l==null?void 0:l.chart};return a({chart:i}),()=>jn(Nm,Im({ref:o},{type:s,...e}))}})}const Ts=zm("bar",fs),wt=s=>(St("data-v-edf760ca"),s=s(),kt(),s),jm={class:"flex-all-c w-100 h-100"},Hm={class:"table-container"},Wm={key:0,class:"term-table"},Um={class:"term-three table-title-container",style:{position:"relative"}},Ym=wt(()=>u("td",null,"Justice",-1)),Gm={key:0,class:"table-title term-three"},Xm={class:"term-three"},Jm=wt(()=>u("td",{class:"table-data"},"Highest Score",-1)),Km={class:"table-data-value"},qm={class:"term-three"},Zm=wt(()=>u("td",{class:"table-data"},"Average Score",-1)),Qm={class:"table-data-value"},tp={class:"term-three"},ep=wt(()=>u("td",{class:"table-data"},"Lowest Score",-1)),sp={class:"table-data-value"},np={class:"term-three"},ap=wt(()=>u("td",{class:"table-data"},"pass( score>50 ) rate",-1)),ip={class:"table-data-value"},op={class:"term-three"},lp=wt(()=>u("td",{class:"table-data"},"weak pass( 50<=score>=40 ) rate",-1)),rp={class:"table-data-value"},cp={class:"term-three"},dp=wt(()=>u("td",{class:"table-data"},"fail( score<40 ) rate",-1)),up={class:"table-data-value"},hp={key:1,class:"term-table"},fp={class:"term-two table-title-container",style:{position:"relative"}},mp=wt(()=>u("td",null,"Justice",-1)),pp={key:0,class:"table-title term-two"},gp={key:1,class:"table-title term-two"},_p={class:"term-two"},bp=wt(()=>u("td",{class:"table-data"},"Highest Score",-1)),vp={class:"table-data-value"},yp={class:"term-two"},xp=wt(()=>u("td",{class:"table-data"},"Average Score",-1)),Sp={class:"table-data-value"},kp={key:0,class:"term-two"},wp=wt(()=>u("td",{class:"table-data"},"Lowest Score",-1)),Dp={class:"table-data-value"},Tp={class:"term-two"},Mp=wt(()=>u("td",{class:"table-data"},"pass( score>50 ) rate",-1)),Cp={class:"table-data-value"},Ap={class:"term-two"},$p=wt(()=>u("td",{class:"table-data"},"weak pass( 50<=score>=40 ) rate",-1)),Ep={class:"table-data-value"},Pp={class:"term-two"},Op=wt(()=>u("td",{class:"table-data"},"fail( score<40 ) rate",-1)),Fp={class:"table-data-value"},Rp={key:2,class:"term-table"},Ip={class:"term-one table-title-container",style:{position:"relative"}},Lp=wt(()=>u("td",null,"Justice",-1)),Vp={key:0,class:"table-title term-one"},Bp={key:1,class:"table-title term-one"},Np={class:"term-one"},zp=wt(()=>u("td",{class:"table-data"},"Highest Score",-1)),jp={class:"table-data-value"},Hp={class:"term-one"},Wp=wt(()=>u("td",{class:"table-data"},"Average Score",-1)),Up={class:"table-data-value"},Yp={class:"term-one"},Gp=wt(()=>u("td",{class:"table-data"},"Lowest Score",-1)),Xp={class:"table-data-value"},Jp={class:"term-one"},Kp=wt(()=>u("td",{class:"table-data"},"pass( score>50 ) rate",-1)),qp={class:"table-data-value"},Zp={class:"term-one"},Qp=wt(()=>u("td",{class:"table-data"},"weak pass( 50<=score>=40 ) rate",-1)),tg={class:"table-data-value"},eg={class:"term-one"},sg=wt(()=>u("td",{class:"table-data"},"fail( score<40 ) rate",-1)),ng={class:"table-data-value"},ag=Z({__name:"HeadYearPerformance",props:{year:{}},setup(s){const{year:t}=s,e=S(t.term_one).value.length,n=S(t.term_two).value.length,a=S(t.term_three).value.length,i=ot(),o=L(()=>(S(t.term_one.filter(V=>V.score>=80)).value.length/e*100).toFixed(1)),l=L(()=>(S(t.term_one.filter(V=>V.score>=75&&V.score<80)).value.length/e*100).toFixed(1)),r=L(()=>(S(t.term_one.filter(V=>V.score>=70&&V.score<75)).value.length/e*100).toFixed(1)),c=L(()=>(S(t.term_one.filter(V=>V.score>=65&&V.score<70)).value.length/e*100).toFixed(1)),d=L(()=>(S(t.term_one.filter(V=>V.score>=60&&V.score<65)).value.length/e*100).toFixed(1)),h=L(()=>(S(t.term_one.filter(V=>V.score>=55&&V.score<60)).value.length/e*100).toFixed(1)),f=L(()=>(S(t.term_one.filter(V=>V.score>=50&&V.score<55)).value.length/e*100).toFixed(1)),m=L(()=>(S(t.term_one.filter(V=>V.score>=40&&V.score<50)).value.length/e*100).toFixed(1)),_=L(()=>(S(t.term_one.filter(V=>V.score<40)).value.length/e*100).toFixed(1)),b=L(()=>(S(t.term_two.filter(V=>V.score>=80)).value.length/n*100).toFixed(1)),y=L(()=>(S(t.term_two.filter(V=>V.score>=75&&V.score<80)).value.length/n*100).toFixed(1)),D=L(()=>(S(t.term_two.filter(V=>V.score>=70&&V.score<75)).value.length/n*100).toFixed(1)),w=L(()=>(S(t.term_two.filter(V=>V.score>=65&&V.score<70)).value.length/n*100).toFixed(1)),$=L(()=>(S(t.term_two.filter(V=>V.score>=60&&V.score<65)).value.length/n*100).toFixed(1)),P=L(()=>(S(t.term_two.filter(V=>V.score>=55&&V.score<60)).value.length/n*100).toFixed(1)),A=L(()=>(S(t.term_two.filter(V=>V.score>=50&&V.score<55)).value.length/n*100).toFixed(1)),O=L(()=>(S(t.term_two.filter(V=>V.score>=40&&V.score<50)).value.length/n*100).toFixed(1)),C=L(()=>(S(t.term_two.filter(V=>V.score<40)).value.length/n*100).toFixed(1)),T=L(()=>(S(t.term_three.filter(V=>V.score>=80)).value.length/a*100).toFixed(1)),E=L(()=>(S(t.term_three.filter(V=>V.score>=75&&V.score<80)).value.length/a*100).toFixed(1)),B=L(()=>(S(t.term_three.filter(V=>V.score>=70&&V.score<75)).value.length/a*100).toFixed(1)),I=L(()=>(S(t.term_three.filter(V=>V.score>=65&&V.score<70)).value.length/a*100).toFixed(1)),Y=L(()=>(S(t.term_three.filter(V=>V.score>=60&&V.score<65)).value.length/a*100).toFixed(1)),lt=L(()=>(S(t.term_three.filter(V=>V.score>=55&&V.score<60)).value.length/a*100).toFixed(1)),W=L(()=>(S(t.term_three.filter(V=>V.score>=50&&V.score<55)).value.length/a*100).toFixed(1)),Q=L(()=>(S(t.term_three.filter(V=>V.score>=40&&V.score<50)).value.length/a*100).toFixed(1)),J=L(()=>(S(t.term_three.filter(V=>V.score<40)).value.length/a*100).toFixed(1)),nt=S(["A1","B2","B3","C4","C5","C6","D7","E8","F9"]),_t=S([o.value,l.value,r.value,c.value,d.value,h.value,f.value,m.value,_.value]),pt=S([b.value,y.value,D.value,w.value,$.value,P.value,A.value,O.value,C.value]),Lt=S([T.value,E.value,B.value,I.value,Y.value,lt.value,W.value,Q.value,J.value]),Tt=S({labels:nt.value,datasets:[{label:"Semester 1 Rate(%)",data:_t.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Semester 2 Rate(%)",data:pt.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1}]}),Ut=S({labels:nt.value,datasets:[{label:"Trimester 1 Rate(%)",data:_t.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Trimester 2 Rate(%)",data:pt.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1},{label:"Trimester 3 Rate(%)",data:Lt.value,borderColor:"indigo",backgroundColor:"indigo",borderWidth:2,fill:!1}]}),Yt=S({responsive:!0}),Mt=S(t.term_one.map(z=>z.score)),Gt=L(()=>(Mt.value.reduce((V,Se)=>V+Se,0)/Mt.value.length).toFixed(0)),Dt=L(()=>Math.max(...Mt.value)),qe=L(()=>Math.min(...Mt.value)),Fs=L(()=>t.term_one.filter(z=>z.score>=50).length),Rs=L(()=>t.term_one.filter(z=>z.score<50&&z.score>=40).length),Is=L(()=>t.term_one.filter(z=>z.score<40).length),It=S(t.term_two.map(z=>z.score)),wn=L(()=>(It.value.reduce((V,Se)=>V+Se,0)/It.value.length).toFixed(0)),Dn=L(()=>Math.max(...It.value)),ye=L(()=>Math.min(...It.value)),Tn=L(()=>t.term_two.filter(z=>z.score>=50).length),Mn=L(()=>t.term_two.filter(z=>z.score<50&&z.score>=40).length),Ls=L(()=>t.term_two.filter(z=>z.score<40).length),xe=S(t.term_three.map(z=>z.score)),Vs=L(()=>(xe.value.reduce((V,Se)=>V+Se,0)/xe.value.length).toFixed(0)),Bs=L(()=>Math.max(...xe.value)),Xt=L(()=>Math.min(...xe.value)),Cn=L(()=>t.term_three.filter(z=>z.score>=50).length),An=L(()=>t.term_three.filter(z=>z.score<50&&z.score>=40).length),Ve=L(()=>t.term_three.filter(z=>z.score<40).length);return(z,V)=>(p(),v("div",jm,[!z.year||z.year&&z.year.term_one.length===0?(p(),H(At,{key:0})):k("",!0),z.year&&g(i).userData.school.semesters&&z.year.term_one.length>0||z.year&&!g(i).userData.academic_year.sem_3_start_date&&z.year.term_two.length>0?(p(),H(g(Ts),{key:1,class:"chart",options:Yt.value,data:Tt.value,fill:!1},null,8,["options","data"])):k("",!0),z.year&&!g(i).userData.school.semesters&&z.year.term_one.length>0||z.year&&g(i).userData.academic_year.sem_3_start_date&&z.year.term_two.length>0||z.year&&g(i).userData.academic_year.sem_3_start_date&&z.year.term_three.length>0?(p(),H(g(Ts),{key:2,class:"chart",options:Yt.value,data:Ut.value,fill:!1},null,8,["options","data"])):k("",!0),u("div",Hm,[z.year.term_three&&z.year.term_three.length>0?(p(),v("div",Wm,[M(yt,{density:"comfortable"},{default:R(()=>[u("tbody",null,[u("tr",Um,[Ym,g(i).userData.school.semesters?k("",!0):(p(),v("td",Gm,"trimester 3"))]),u("tr",Xm,[Jm,u("td",Km,x(Bs.value),1)]),u("tr",qm,[Zm,u("td",Qm,x(Vs.value),1)]),u("tr",tp,[ep,u("td",sp,x(Xt.value),1)]),u("tr",np,[ap,u("td",ip," ["+x((Cn.value/g(a)*100).toFixed(1))+"%] ",1)]),u("tr",op,[lp,u("td",rp," ["+x((An.value/g(a)*100).toFixed(1))+"%] ",1)]),u("tr",cp,[dp,u("td",up," ["+x((Ve.value/g(a)*100).toFixed(1))+"%] ",1)])])]),_:1})])):k("",!0),z.year.term_two&&z.year.term_two.length>0?(p(),v("div",hp,[M(yt,{density:"comfortable"},{default:R(()=>[u("tbody",null,[u("tr",fp,[mp,g(i).userData.school.semesters?(p(),v("td",pp,"semester 2")):k("",!0),g(i).userData.school.semesters?k("",!0):(p(),v("td",gp,"trimester 2"))]),u("tr",_p,[bp,u("td",vp,x(Dn.value),1)]),u("tr",yp,[xp,u("td",Sp,x(wn.value),1)]),ye.value?(p(),v("tr",kp,[wp,u("td",Dp,x(ye.value),1)])):k("",!0),u("tr",Tp,[Mp,u("td",Cp," ["+x((Tn.value/g(n)*100).toFixed(1))+"%] ",1)]),u("tr",Ap,[$p,u("td",Ep," ["+x((Mn.value/g(n)*100).toFixed(1))+"%] ",1)]),u("tr",Pp,[Op,u("td",Fp," ["+x((Ls.value/g(n)*100).toFixed(1))+"%] ",1)])])]),_:1})])):k("",!0),z.year.term_one&&z.year.term_one.length>0?(p(),v("div",Rp,[M(yt,{density:"comfortable"},{default:R(()=>[u("tbody",null,[u("tr",Ip,[Lp,g(i).userData.school.semesters?(p(),v("td",Vp,"semester 1")):k("",!0),g(i).userData.school.semesters?k("",!0):(p(),v("td",Bp,"trimester 1"))]),u("tr",Np,[zp,u("td",jp,x(Dt.value),1)]),u("tr",Hp,[Wp,u("td",Up,x(Gt.value),1)]),u("tr",Yp,[Gp,u("td",Xp,x(qe.value),1)]),u("tr",Jp,[Kp,u("td",qp," ["+x((Fs.value/g(e)*100).toFixed(1))+"%] ",1)]),u("tr",Zp,[Qp,u("td",tg," ["+x((Rs.value/g(e)*100).toFixed(1))+"%] ",1)]),u("tr",eg,[sg,u("td",ng," ["+x((Is.value/g(e)*100).toFixed(1))+"%] ",1)])])]),_:1})])):k("",!0)])]))}}),ig=at(ag,[["__scopeId","data-v-edf760ca"]]),og={class:"subsections-container"},lg={class:"subsections"},rg=Z({__name:"HeadPerformanceDepartment",props:{data:null},setup(s){const t=s,e=S("section1"),n=a=>{e.value=a};return(a,i)=>{const o=ig;return p(),v("div",og,[M(Xe,{class:"subsection-nav-container",elevation:"0"},{default:R(()=>[u("button",{class:U(["nav-btn-2",{"nav-btn-2-active":e.value==="section1"}]),onClick:i[0]||(i[0]=l=>n("section1"))},"form 1 students",2),u("button",{class:U(["nav-btn-2",{"nav-btn-2-active":e.value==="section2"}]),onClick:i[1]||(i[1]=l=>n("section2"))},"form 2 students",2),u("button",{class:U(["nav-btn-2",{"nav-btn-2-active":e.value==="section3"}]),onClick:i[2]||(i[2]=l=>n("section3"))},"form 3 students",2)]),_:1}),u("div",lg,[u("div",{style:G(e.value==="section1"?{display:"flex"}:{display:"none"})},[M(o,{year:t.data.year_one},null,8,["year"])],4),u("div",{style:G(e.value==="section2"?{display:"flex"}:{display:"none"})},[M(o,{year:t.data.year_two},null,8,["year"])],4),u("div",{style:G(e.value==="section3"?{display:"flex"}:{display:"none"})},[M(o,{year:t.data.year_three},null,8,["year"])],4)])])}}}),cg={class:"sections-container"},dg={key:1,class:"section-nav-container"},ug=["onClick"],hg={key:2,class:"sections"},fg=Z({__name:"HeadPerformance",setup(s){const t=S("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=At,l=rg;return p(),v("div",cg,[g(e).headStudentsPerformance?k("",!0):(p(),H(o,{key:0})),g(e).headStudentsPerformance?(p(),v("div",dg,[(p(!0),v(X,null,tt(g(e).headStudentsPerformance,(r,c)=>(p(),v("button",{key:c,class:U(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[u("span",null,x(r.department),1)],10,ug))),128))])):k("",!0),g(e).headStudentsPerformance?(p(),v("div",hg,[(p(!0),v(X,null,tt(g(e).headStudentsPerformance,(r,c)=>(p(),v("div",{class:"h-100",key:c,style:G(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[M(l,{data:r},null,8,["data"])],4))),128))])):k("",!0)])}}}),mg=at(fg,[["__scopeId","data-v-465701ed"]]),pg=s=>(St("data-v-75fec6a8"),s=s(),kt(),s),gg={style:{width:"100%",position:"relatve",height:"100%"}},_g={key:1,class:"no-data flex-all"},bg={key:0},vg={key:1},yg=pg(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"STUDENTS")])],-1)),xg={class:"table-data"},Sg={class:"table-data"},kg={class:"table-data"},wg={style:{padding:"0"}},Dg={class:"student-info-container"},Tg=["src"],Mg={class:"flex-all-c"},Cg={class:"user-name"},Ag={class:"user-name"},$g=Z({__name:"TeacherTermCourseWork",props:{term:{},termNumber:{}},setup(s){const t=ot(),e=Re();return(n,a)=>{const i=At;return p(),v("div",gg,[g(t).staffSubjectAssignment[n.term]?k("",!0):(p(),H(i,{key:0})),g(t).staffSubjectAssignment[n.term]&&g(t).staffSubjectAssignment[n.term].length===0?(p(),v("h4",_g,[g(t).userData.school.semesters?(p(),v("p",bg,"No coursework for semester "+x(n.termNumber)+" yet",1)):k("",!0),g(t).userData&&!g(t).userData.school.semesters?(p(),v("p",vg,"No coursework for trimester "+x(n.termNumber)+" yet",1)):k("",!0)])):k("",!0),g(t).staffSubjectAssignment[n.term]&&g(t).staffSubjectAssignment[n.term].length>0?(p(),H(yt,{key:2,"fixed-header":"",class:"table-1"},{default:R(()=>[yg,u("tbody",null,[(p(!0),v(X,null,tt(g(t).staffSubjectAssignment[n.term],(o,l)=>(p(),v("tr",{key:l},[u("td",xg,x(o.subject.name),1),u("td",Sg,x(o.students_class.name),1),u("td",kg,x(o.students_class.students_year),1),u("td",wg,[M(ps,{class:"pa-0"},{default:R(()=>[M(gs,null,{activator:R(({props:r})=>[M(Ht,Wt({class:"title"},r),{default:R(()=>[M(K,{icon:"mdi-account-circle"}),j(x(o.students_class.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:R(()=>[M(_s,{class:"v-scroll",height:"22vh",items:o.students_class.students},{default:R(({item:r})=>[M(Ht,{style:{position:"relative"}},{default:R(()=>[u("div",Dg,[u("img",{class:"student-img",src:g(e).getBaseUrl+r.img},null,8,Tg),u("div",Mg,[u("p",Cg,x(r.user.first_name+" "+r.user.last_name),1),u("p",Ag,x(r.st_id),1)])])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1})):k("",!0)])}}}),Eg=at($g,[["__scopeId","data-v-75fec6a8"]]),Pg={key:0,class:"section-nav-container"},Og={key:1,class:"section-nav-container"},Fg={class:"sections"},Rg=Z({__name:"TeacherCourseWork",setup(s){const t=ot(),e=S(t.activeTerm),n=a=>{e.value=a};return(a,i)=>{const o=Eg;return p(),v(X,null,[g(t).userData&&g(t).userData.school.semesters?(p(),v("div",Pg,[u("button",{class:U(["nav-btn-1 btn-1",{"nav-btn-1-active":e.value===1}]),onClick:i[0]||(i[0]=l=>n(1))},"SEMESTER 1",2),u("button",{class:U(["nav-btn-1 btn-2",{"nav-btn-1-active":e.value===2}]),onClick:i[1]||(i[1]=l=>n(2))},"SEMESTER 2",2)])):k("",!0),g(t).userData&&!g(t).userData.school.semesters?(p(),v("div",Og,[u("button",{class:U(["nav-btn-1 btn-1",{"nav-btn-1-active":e.value===1}]),onClick:i[2]||(i[2]=l=>n(1))},"TRIMESTER 1",2),u("button",{class:U(["nav-btn-1 btn-2",{"nav-btn-1-active":e.value===2}]),onClick:i[3]||(i[3]=l=>n(2))},"TRIMESTER 2",2),u("button",{class:U(["nav-btn-1 btn-3",{"nav-btn-1-active":e.value===3}]),onClick:i[4]||(i[4]=l=>n(3))},"TRIMESTER 3",2)])):k("",!0),u("div",Fg,[u("div",{class:"h-100",style:G(e.value===1?{display:"flex"}:{display:"none"})},[M(o,{term:"termOne","term-number":1})],4),u("div",{class:"h-100",style:G(e.value===2?{display:"flex"}:{display:"none"})},[M(o,{term:"termTwo","term-number":2})],4),g(t).userData&&!g(t).userData.school.semesters?(p(),v("div",{key:0,class:"h-100",style:G(e.value===3?{display:"flex"}:{display:"none"})},[M(o,{term:"termThree","term-number":3})],4)):k("",!0)])],64)}}}),Ig=at(Rg,[["__scopeId","data-v-21918f58"]]),Lg=so({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:s=>typeof s=="boolean"||[1e3,1024].includes(s)},...ho({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:s=>Al(s).every(t=>t!=null&&typeof t=="object")},...Fl({clearable:!0})},"VFileInput"),Ta=no()({name:"VFileInput",inheritAttrs:!1,props:Lg(),emits:{"click:control":s=>!0,"mousedown:control":s=>!0,"update:focused":s=>!0,"update:modelValue":s=>!0},setup(s,t){let{attrs:e,emit:n,slots:a}=t;const{t:i}=$l(),o=ao(s,"modelValue"),{isFocused:l,focus:r,blur:c}=fo(s),d=L(()=>typeof s.showSize!="boolean"?s.showSize:void 0),h=L(()=>(o.value??[]).reduce((E,B)=>{let{size:I=0}=B;return E+I},0)),f=L(()=>Ea(h.value,d.value)),m=L(()=>(o.value??[]).map(E=>{const{name:B="",size:I=0}=E;return s.showSize?`${B} (${Ea(I,d.value)})`:B})),_=L(()=>{var B;const E=((B=o.value)==null?void 0:B.length)??0;return s.showSize?i(s.counterSizeString,E,f.value):i(s.counterString,E)}),b=S(),y=S(),D=S(),w=L(()=>l.value||s.active),$=L(()=>["plain","underlined"].includes(s.variant));function P(){var E;D.value!==document.activeElement&&((E=D.value)==null||E.focus()),l.value||r()}function A(E){C(E)}function O(E){n("mousedown:control",E)}function C(E){var B;(B=D.value)==null||B.click(),n("click:control",E)}function T(E){E.stopPropagation(),P(),ro(()=>{o.value=[],El(s["onClick:clear"],E)})}return We(o,E=>{(!Array.isArray(E)||!E.length)&&D.value&&(D.value.value="")}),uo(()=>{const E=!!(a.counter||s.counter),B=!!(E||a.details),[I,Y]=io(e),{modelValue:lt,...W}=cn.filterProps(s),Q=Rl(s);return M(cn,Wt({ref:b,modelValue:o.value,"onUpdate:modelValue":J=>o.value=J,class:["v-file-input",{"v-file-input--chips":!!s.chips,"v-input--plain-underlined":$.value},s.class],style:s.style,"onClick:prepend":A},I,W,{centerAffix:!$.value,focused:l.value}),{...a,default:J=>{let{id:nt,isDisabled:_t,isDirty:pt,isReadonly:Lt,isValid:Tt}=J;return M(Il,Wt({ref:y,"prepend-icon":s.prependIcon,onMousedown:O,onClick:C,"onClick:clear":T,"onClick:prependInner":s["onClick:prependInner"],"onClick:appendInner":s["onClick:appendInner"]},Q,{id:nt.value,active:w.value||pt.value,dirty:pt.value,disabled:_t.value,focused:l.value,error:Tt.value===!1}),{...a,default:Ut=>{var Gt;let{props:{class:Yt,...Mt}}=Ut;return M(X,null,[M("input",Wt({ref:D,type:"file",readonly:Lt.value,disabled:_t.value,multiple:s.multiple,name:s.name,onClick:Dt=>{Dt.stopPropagation(),Lt.value&&Dt.preventDefault(),P()},onChange:Dt=>{if(!Dt.target)return;const qe=Dt.target;o.value=[...qe.files??[]]},onFocus:P,onBlur:c},Mt,Y),null),M("div",{class:Yt},[!!((Gt=o.value)!=null&&Gt.length)&&(a.selection?a.selection({fileNames:m.value,totalBytes:h.value,totalBytesReadable:f.value}):s.chips?m.value.map(Dt=>M(eo,{key:Dt,size:"small",color:s.color},{default:()=>[Dt]})):m.value.join(", "))])])}})},details:B?J=>{var nt,_t;return M(X,null,[(nt=a.details)==null?void 0:nt.call(a,J),E&&M(X,null,[M("span",null,null),M(Ll,{active:!!((_t=o.value)!=null&&_t.length),value:_.value},a.counter)])])}:void 0})}),Vl({},b,y,D)}}),Je=s=>(St("data-v-25f82d81"),s=s(),kt(),s),Vg={id:"singleForm",class:"overlay"},Bg={style:{position:"relative"}},Ng={class:"info mt-3"},zg=Je(()=>u("strong",null,"CLASS:",-1)),jg={class:"info"},Hg=Je(()=>u("strong",null,"SUBJECT:",-1)),Wg={key:0,class:"form-message",style:{color:"green"}},Ug={key:1,class:"form-message",style:{color:"red"}},Yg={key:4,class:"flex-all-c"},Gg=Je(()=>u("p",{class:"checkbox"},"Check this box if you want to upload results for multiple students with same score",-1)),Xg={id:"fileForm",class:"overlay"},Jg={style:{position:"relative"}},Kg={class:"info mt-3"},qg=Je(()=>u("strong",null,"CLASS:",-1)),Zg={class:"info"},Qg=Je(()=>u("strong",null,"SUBJECT:",-1)),t_={key:0,class:"form-message",style:{color:"green"}},e_={key:1,class:"form-message",style:{color:"green"}},s_={key:2,class:"form-message",style:{color:"red"}},n_={class:"flex-all-c mt-5"},a_={key:1,class:"checkbox"},i_={key:3,class:"line"},o_={style:{width:"100%"}},l_=Je(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"UPLOAD")])],-1)),r_={class:"table-data"},c_={class:"table-data"},d_={class:"table-data"},u_={style:{padding:"0"},class:"upload-btn-container"},h_=["onClick"],f_=["onClick"],m_=Z({__name:"TeacherStudentsResultsUpload",setup(s){const t=ot(),e=S(""),n=S(""),a=S(null),i=S(""),o=S(""),l=S([]),r=S(""),c=S([]),d=S(null),h=S(!1),f=S(!1),m=S(null),_=S(!1),b=S(!0),y=()=>{setTimeout(()=>{o.value="",i.value=""},15e3)},D=async()=>{_.value=!0,i.value="",o.value="";const T={students_year:a.value,students_class:n.value,subject:e.value,st_id:l.value,score:"generate",year:t.activeAcademicYear,term:t.activeTerm};try{const E=await Et.post("teacher/results/upload/",T);if(E.status===200){o.value=E.data.message,t.staffStudentsResultsFileGenerated=!0;const B=document.createElement("a");B.href=E.data.file_path,B.download=E.data.filename,B.click()}else i.value="Oops! an error occurred while generating the file. Try again later"}catch{i.value="Something went wrong. Try again later"}finally{_.value=!1,y()}},w=T=>{const E=T.target.files[0];m.value=E||null},$=async()=>{f.value=!0,i.value="",o.value="";const T=new FormData;T.append("students_year",a.value),T.append("students_class",n.value),T.append("subject",e.value),T.append("st_id",m.value),T.append("score","upload"),T.append("year",t.activeAcademicYear),T.append("term",t.activeTerm.toString());try{const E=await Et.post("teacher/results/upload/",T);E.status===200?(t.userData.staff_role==="hod"&&t.getHodPerformance(),t.staffStudentResultsSubjectAssignment=E.data.data[0],t.staffStudentResultsEdit=E.data.data[1],o.value=E.data.message):E.status===201?(t.staffStudentResultsSubjectAssignment=E.data.data[0],t.staffStudentResultsEdit=E.data.data[1],i.value=E.data.message):E.status===202&&(i.value=E.data.message)}catch{i.value="Something went wrong!"}finally{f.value=!1,y()}},P=async()=>{f.value=!0,i.value="",o.value="",d.value=Number(d.value),typeof d.value=="number"&&d.value<=100&&d.value>0?h.value?(r.value="",await t.teacherUploadResults(c.value,e.value,d.value).then(T=>{t.getTeacherStudentResults(),t.userData.staff_role==="hod"&&t.getHodPerformance(),o.value=`Result for students with IDs [${c.value}] uploaded and saved successfully`,c.value=[],h.value=!1,d.value=null,f.value=!1}).catch(T=>{i.value="Oops! something went wrong while generating the file. Try again",f.value=!1})):h.value||(c.value=[],await t.teacherUploadResults(r.value,e.value,d.value).then(T=>{t.getTeacherStudentResults(),t.userData.staff_role==="hod"&&t.getHodPerformance();const E=r.value;o.value=`Result for student with ID ${E} uploaded and saved successfully`,r.value="",d.value=null,f.value=!1}).catch(T=>{i.value="Oops! something went wrong. try again",f.value=!1})):typeof d.value=="number"&&d.value>100?(i.value="The exams score must not exceed 100",f.value=!1):typeof d.value=="number"&&d.value<0?(i.value="The exams score can not be negative",f.value=!1):(i.value="The exams score must be a number",f.value=!1),y()},A=L(()=>!(c.value&&d.value)&&!(r.value&&d.value)),O=T=>{const E=document.getElementById(T);E&&(l.value=[],c.value=[],d.value=null,i.value="",o.value="",r.value="",f.value=!1,b.value=!0,h.value=!1,m.value=null,t.staffStudentsResultsFileGenerated=!1,E.style.display="none")},C=(T,E,B,I,Y,lt)=>{e.value=T,n.value=E,a.value=Y,l.value=B,B.length>0?We(()=>t.staffStudentResultsSubjectAssignment,Q=>{if(Q){const J=Q[I];J&&J.students&&(l.value=J.students)}}):(i.value="You have already uploaded results for students in this class",b.value=!1);const W=document.getElementById(lt);W&&(W.style.display="flex")};return(T,E)=>{const B=At;return p(),v(X,null,[u("div",Vg,[u("form",Bg,[u("button",{onClick:E[0]||(E[0]=qt(I=>O("singleForm"),["prevent"])),class:"close-btn flex-all"},"X"),u("h2",Ng,[zg,j(" "+x(n.value)+" FORM "+x(a.value),1)]),u("h2",jg,[Hg,j(" "+x(e.value),1)]),o.value?(p(),v("h2",Wg,x(o.value),1)):k("",!0),i.value?(p(),v("h2",Ug,x(i.value),1)):k("",!0),!h.value&&b.value?(p(),H(Nt,{key:2,disabled:f.value,modelValue:r.value,"onUpdate:modelValue":E[1]||(E[1]=I=>r.value=I),class:"select",label:"STUDENT",variant:"outlined",items:l.value,"item-title":"name","item-value":"st_id","persistent-hint":"",hint:"Select the student you want to upload result for"},{item:R(({props:I,item:Y})=>[M(Ht,Wt(I,{subtitle:Y.raw.st_id}),null,16,["subtitle"])]),_:1},8,["disabled","modelValue","items"])):k("",!0),h.value&&b.value?(p(),H(Nt,{key:3,disabled:f.value,multiple:"",modelValue:c.value,"onUpdate:modelValue":E[2]||(E[2]=I=>c.value=I),chips:"",class:"select",label:"STUDENT",variant:"outlined",items:l.value,"item-title":"name","item-value":"st_id","persistent-hint":"",hint:"Select the student you want to upload result for"},{item:R(({props:I,item:Y})=>[M(Ht,Wt(I,{subtitle:Y.raw.st_id}),null,16,["subtitle"])]),_:1},8,["disabled","modelValue","items"])):k("",!0),b.value?(p(),v("div",Yg,[Gg,M(zl,{disabled:f.value,modelValue:h.value,"onUpdate:modelValue":E[3]||(E[3]=I=>h.value=I)},null,8,["disabled","modelValue"])])):k("",!0),b.value?(p(),H(dt,{key:5,disabled:f.value,type:"number",modelValue:d.value,"onUpdate:modelValue":E[4]||(E[4]=I=>d.value=I),class:"input-field","persistent-hint":"",hint:"Enter the student(s) exams score",label:"EXAMS SCORE",variant:"outlined"},null,8,["disabled","modelValue"])):k("",!0),b.value?(p(),H(ct,{key:6,loading:f.value,disabled:A.value,onClick:qt(P,["prevent"]),type:"submit",class:"submit-btn"},{default:R(()=>[j("SUBMIT")]),_:1},8,["loading","disabled"])):k("",!0)])]),u("div",Xg,[u("form",Jg,[u("button",{onClick:E[5]||(E[5]=qt(I=>O("fileForm"),["prevent"])),class:"close-btn flex-all"},"X"),u("h2",Kg,[qg,j(" "+x(n.value)+" FORM "+x(a.value),1)]),u("h2",Zg,[Qg,j(" "+x(e.value),1)]),o.value?(p(),v("h2",t_,x(o.value),1)):k("",!0),g(t).staffStudentsResultsFileGenerated&&!_.value&&!f.value?(p(),v("h2",e_,"Note: you can now edit only the students score, save and upload the same file")):k("",!0),i.value?(p(),v("h2",s_,x(i.value),1)):k("",!0),u("div",n_,[b.value?(p(),H(ct,{key:0,loading:_.value,disabled:f.value,onClick:qt(D,["prevent"]),type:"submit",class:"submit-btn"},{default:R(()=>[j("GET FILE")]),_:1},8,["loading","disabled"])):k("",!0),!g(t).staffStudentsResultsFileGenerated&&b.value?(p(),v("p",a_,"Click to get an excel file that contains the students names and IDs")):k("",!0)]),b.value?(p(),v("hr",i_)):k("",!0),b.value?(p(),H(Ta,{key:4,disabled:f.value||_.value,onChange:w,"show-size":"",class:"file-field",label:"Choose an excel file",density:"compact",variant:"outlined",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},null,8,["disabled"])):k("",!0),b.value?(p(),H(ct,{key:5,loading:f.value,disabled:!m.value||_.value,onClick:qt($,["prevent"]),type:"submit",class:"submit-btn"},{default:R(()=>[j("UPLOAD")]),_:1},8,["loading","disabled"])):k("",!0)])]),u("div",o_,[g(t).staffStudentResultsSubjectAssignment?k("",!0):(p(),H(B,{key:0})),g(t).staffStudentResultsSubjectAssignment?(p(),H(yt,{key:1,"fixed-header":"",class:"table-1"},{default:R(()=>[l_,u("tbody",null,[(p(!0),v(X,null,tt(g(t).staffStudentResultsSubjectAssignment,(I,Y)=>(p(),v("tr",{key:Y},[u("td",r_,x(I.subject),1),u("td",c_,x(I.class_name),1),u("td",d_,x(I.students_year),1),u("td",u_,[u("button",{onClick:lt=>C(I.subject,I.class_name,I.students,Y,I.students_year,"singleForm"),class:"upload-btn"},"SELECT",8,h_),u("button",{onClick:lt=>C(I.subject,I.class_name,I.students,Y,I.students_year,"fileForm"),class:"upload-btn last-btn"},"FILE",8,f_)])]))),128))])]),_:1})):k("",!0)])],64)}}}),p_=at(m_,[["__scopeId","data-v-25f82d81"]]),Es=s=>(St("data-v-7bdda36b"),s=s(),kt(),s),g_={id:"editForm",class:"overlay"},__={style:{position:"relative"}},b_={class:"info"},v_=Es(()=>u("strong",null,"CLASS:",-1)),y_={class:"info"},x_=Es(()=>u("strong",null,"SUBJECT:",-1)),S_={class:"info"},k_=Es(()=>u("strong",null,"STUDENT:",-1)),w_={key:0,class:"form-message",style:{color:"green"}},D_={key:1,class:"form-message",style:{color:"red"}},T_={style:{width:"100%",position:"relative",height:"100%"}},M_=Es(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"STUDENTS")])],-1)),C_={class:"table-data"},A_={class:"table-data"},$_={class:"table-data"},E_={style:{padding:"0"}},P_={class:"student-info-container"},O_=["src"],F_={class:"flex-all-c"},R_={class:"user-name"},I_={class:"user-name"},L_={class:"score-container flex-all-c"},V_=Es(()=>u("p",{class:"title"},"SCORE",-1)),B_={class:"score"},N_={class:"flex-all pa-2"},z_=["onClick"],j_=Z({__name:"TeacherStudentsViewResults",setup(s){const t=ot(),e=Re(),n=S(""),a=S(""),i=S(!1),o=S(""),l=S(""),r=S(""),c=S(""),d=S(null),h=S(null),f=async()=>{if(i.value=!0,a.value="",n.value="",h.value=Number(h.value),typeof h.value=="number"&&h.value<=100&&h.value>0){const b=new FormData;b.append("student_year",d.value),b.append("student_class",c.value),b.append("student_name",o.value),b.append("subject",r.value),b.append("st_id",l.value),b.append("score","edit"),b.append("mark",h.value),b.append("year",t.activeAcademicYear),b.append("term",t.activeTerm.toString());try{const y=await Et.post("teacher/results/upload/",b);y.status===200?(t.userData.staff_role==="hod"&&t.getHodPerformance(),n.value=`Result for ${o.value} [${l.value}] updated successfully`,t.staffStudentResultsSubjectAssignment=y.data[0],t.staffStudentResultsEdit=y.data[1],h.value=null):y.status===202?a.value=y.data.message:a.value="Oops! something went wrong. try again"}catch{a.value="Oops! something went wrong. try again"}finally{i.value=!1}}else typeof h.value=="number"&&h.value>100?(a.value="The exams score must not exceed 100",i.value=!1):typeof h.value=="number"&&h.value<0?(a.value="The exams score can not be negative",i.value=!1):(a.value="The exams score must be a number",i.value=!1)},m=()=>{const b=document.getElementById("editForm");b&&(h.value=null,a.value="",n.value="",i.value=!1,b.style.display="none")},_=(b,y,D,w,$)=>{r.value=b,c.value=y,d.value=$,l.value=w,o.value=D;const P=document.getElementById("editForm");P&&(P.style.display="flex")};return(b,y)=>{const D=At;return p(),v(X,null,[u("div",g_,[u("form",__,[u("button",{onClick:qt(m,["prevent"]),class:"close-btn flex-all"},"X"),u("h2",b_,[v_,j(" "+x(c.value)+" FORM "+x(d.value),1)]),u("h2",y_,[x_,j(" "+x(r.value),1)]),u("h2",S_,[k_,j(" "+x(o.value)+" ["+x(l.value)+"]",1)]),n.value?(p(),v("h2",w_,x(n.value),1)):k("",!0),a.value?(p(),v("h2",D_,x(a.value),1)):k("",!0),M(dt,{disabled:i.value,modelValue:h.value,"onUpdate:modelValue":y[0]||(y[0]=w=>h.value=w),type:"number",class:"input-field","persistent-hint":"",hint:"Enter the student(s) exams score",label:"EXAMS SCORE",variant:"outlined"},null,8,["disabled","modelValue"]),M(ct,{loading:i.value,disabled:!h.value,onClick:qt(f,["prevent"]),type:"submit",class:"submit-btn"},{default:R(()=>[j("SUBMIT")]),_:1},8,["loading","disabled"])])]),u("div",T_,[g(t).staffStudentResultsEdit?k("",!0):(p(),H(D,{key:0,class:"no-data flex-all"})),g(t).staffStudentResultsEdit?(p(),H(yt,{key:1,"fixed-header":"",class:"table-1"},{default:R(()=>[M_,u("tbody",null,[(p(!0),v(X,null,tt(g(t).staffStudentResultsEdit,(w,$)=>(p(),v("tr",{key:$},[u("td",C_,x(w.subject),1),u("td",A_,x(w.class_name),1),u("td",$_,x(w.students_year),1),u("td",E_,[M(ps,{class:"pa-0"},{default:R(()=>[M(gs,null,{activator:R(({props:P})=>[M(Ht,Wt({class:"title"},P),{default:R(()=>[M(K,{icon:"mdi-account-circle"}),j(x(w.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:R(()=>[M(_s,{class:"v-scroll",height:"22vh",items:w.students},{default:R(({item:P})=>[M(Ht,{style:{position:"relative"}},{default:R(()=>[u("div",P_,[u("img",{class:"student-img",src:g(e).getBaseUrl+P.student.img},null,8,O_),u("div",F_,[u("p",R_,x(P.student.user.first_name+" "+P.student.user.last_name),1),u("p",I_,x(P.student.st_id),1)]),u("div",L_,[V_,u("p",B_,x(P.score),1)]),u("div",N_,[u("button",{onClick:A=>_(w.subject,w.class_name,`${P.student.user.first_name} ${P.student.user.last_name}`,P.student.st_id,w.students_year),class:"edit-btn page-btn"},"Edit",8,z_)])])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1})):k("",!0)])],64)}}}),H_=at(j_,[["__scopeId","data-v-7bdda36b"]]),W_={class:"sections-container"},U_={class:"sections"},Y_=Z({__name:"TeacherStudents",setup(s){const t=S("section1"),e=n=>{t.value=n};return(n,a)=>{const i=p_,o=H_;return p(),v("div",W_,[M(Xe,{class:"section-nav-container",elevation:"0"},{default:R(()=>[u("button",{class:U(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value==="section1"}]),onClick:a[0]||(a[0]=l=>e("section1"))},"UPLOAD RESULTS",2),u("button",{class:U(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value==="section2"}]),onClick:a[1]||(a[1]=l=>e("section2"))},"ALL UPLOADED RESULTS",2)]),_:1}),u("div",U_,[u("div",{class:"h-100",style:G(t.value==="section1"?{display:"flex"}:{display:"none"})},[M(i)],4),u("div",{class:"h-100",style:G(t.value==="section2"?{display:"flex"}:{display:"none"})},[M(o)],4)])])}}}),G_=at(Y_,[["__scopeId","data-v-af63e402"]]),Rt=s=>(St("data-v-4ca2a921"),s=s(),kt(),s),X_={class:"flex-all-c w-100"},J_={key:0,class:"notice"},K_=Rt(()=>u("span",{style:{color:"red"}},"NOTE: ",-1)),q_={key:1,class:"notice"},Z_=Rt(()=>u("span",{style:{color:"red"}},"NOTE: ",-1)),Q_={class:"table-container"},tb=Rt(()=>u("td",{class:"table-data"},"Total Students",-1)),eb={class:"table-data-value"},sb=Rt(()=>u("td",{class:"table-data"},"Highest Score",-1)),nb={class:"table-data-value"},ab=Rt(()=>u("td",{class:"table-data"},"Average Score",-1)),ib={class:"table-data-value"},ob=Rt(()=>u("td",{class:"table-data"},"Lowest Score",-1)),lb={class:"table-data-value"},rb=Rt(()=>u("td",{class:"table-data"},"Grade A Students (>=80)",-1)),cb={class:"table-data-value"},db=Rt(()=>u("td",{class:"table-data"},"Grade B Students (70-79)",-1)),ub={class:"table-data-value"},hb=Rt(()=>u("td",{class:"table-data"},"Grade C Students (60-69)",-1)),fb={class:"table-data-value"},mb=Rt(()=>u("td",{class:"table-data"},"Grade D Students (50-59)",-1)),pb={class:"table-data-value"},gb=Rt(()=>u("td",{class:"table-data"},"Passed Students (>=50)",-1)),_b={class:"table-data-value"},bb=Rt(()=>u("td",{class:"table-data"},"Failed Students (<50)",-1)),vb={class:"table-data-value"},yb={key:0,class:"table-title-container",style:{position:"relative"}},xb=Rt(()=>u("td",null,"Justice",-1)),Sb=Rt(()=>u("td",{class:"table-title"},"top 5 students",-1)),kb=[xb,Sb],wb={key:0,class:"table-data"},Db={key:1,class:"table-data-value"},Tb={key:1,class:"table-title-container",style:{position:"relative"}},Mb=Rt(()=>u("td",null,"Justice",-1)),Cb=Rt(()=>u("td",{class:"table-title"},"last 5 students",-1)),Ab=[Mb,Cb],$b={key:0,class:"table-data"},Eb={key:1,class:"table-data-value"},Pb=Z({__name:"TeacherAnalyticsStatistics",props:{studentsData:{}},setup(s){const{studentsData:t}=s,e=ot(),n=S(t.slice(0,5)),a=S(t.slice(-5)),i=S(t.filter(W=>W.score>=80)),o=S(t.filter(W=>W.score>=75&&W.score<80)),l=S(t.filter(W=>W.score>=70&&W.score<75)),r=S(t.filter(W=>W.score>=65&&W.score<70)),c=S(t.filter(W=>W.score>=60&&W.score<65)),d=S(t.filter(W=>W.score>=55&&W.score<60)),h=S(t.filter(W=>W.score>=50&&W.score<55)),f=S(t.filter(W=>W.score>=40&&W.score<50)),m=S(t.filter(W=>W.score<40)),_=S(["A1","B2","B3","C4","C5","C6","D7","E8","F9"]),b=S([i.value.length,o.value.length,l.value.length,r.value.length,c.value.length,d.value.length,h.value.length,f.value.length,m.value.length]),y=S({labels:_.value,datasets:[{label:"Number of Students",data:b.value,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,fill:!1}]}),D=S({responsive:!0}),w=S(t.map(W=>Number(W.score))),$=S(w.value.reduce((W,Q)=>W+Q,0)),P=S(w.value.length),A=S(($.value/P.value).toFixed(2)),O=S(Math.max(...w.value)),C=S(Math.min(...w.value)),T=L(()=>w.value.filter(W=>W>=50).length),E=L(()=>w.value.filter(W=>W<50).length),B=L(()=>w.value.filter(W=>W>=80).length),I=L(()=>w.value.filter(W=>W>=70&&W<80).length),Y=L(()=>w.value.filter(W=>W>=60&&W<70).length),lt=L(()=>w.value.filter(W=>W>=50&&W<60).length);return(W,Q)=>(p(),v("div",X_,[g(e).userData&&g(e).userData.school.semesters?(p(),v("p",J_,[K_,j("This analytics is based on SEMESTER "+x(g(e).activeTerm)+" of the "+x(g(e).activeAcademicYear)+" academic year.",1)])):k("",!0),g(e).userData&&!g(e).userData.school.semesters?(p(),v("p",q_,[Z_,j("This analytics is based on TRIMESTER "+x(g(e).activeTerm)+" of the "+x(g(e).activeAcademicYear)+" academic year.",1)])):k("",!0),M(g(Ts),{class:"chart",options:D.value,data:y.value,fill:!1},null,8,["options","data"]),u("div",Q_,[M(yt,{class:"analytics-table",density:"comfortable"},{default:R(()=>[u("tbody",null,[u("tr",null,[tb,u("td",eb,x(w.value.length),1)]),u("tr",null,[sb,u("td",nb,x(O.value),1)]),u("tr",null,[ab,u("td",ib,x(A.value),1)]),u("tr",null,[ob,u("td",lb,x(C.value),1)]),u("tr",null,[rb,u("td",cb,x(B.value)+" ("+x((B.value/w.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[db,u("td",ub,x(I.value)+" ("+x((I.value/w.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[hb,u("td",fb,x(Y.value)+" ("+x((Y.value/w.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[mb,u("td",pb,x(lt.value)+" ("+x((lt.value/w.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[gb,u("td",_b,x(T.value)+" ("+x((T.value/w.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[bb,u("td",vb,x(E.value)+" ("+x((E.value/w.value.length*100).toFixed(2))+"%)",1)]),w.value.length>10?(p(),v("tr",yb,kb)):k("",!0),(p(!0),v(X,null,tt(n.value,(J,nt)=>(p(),v("tr",{key:nt},[w.value.length>10?(p(),v("td",wb,x(J.student.user.first_name)+" "+x(J.student.user.last_name)+"["+x(J.student.st_id)+"]",1)):k("",!0),w.value.length>10?(p(),v("td",Db,x(J.score),1)):k("",!0)]))),128)),w.value.length>10?(p(),v("tr",Tb,Ab)):k("",!0),(p(!0),v(X,null,tt(a.value,(J,nt)=>(p(),v("tr",{key:nt},[w.value.length>10?(p(),v("td",$b,x(J.student.user.first_name)+" "+x(J.student.user.last_name)+"["+x(J.student.st_id)+"]",1)):k("",!0),w.value.length>10?(p(),v("td",Eb,x(J.score),1)):k("",!0)]))),128))])]),_:1})])]))}}),Ob=at(Pb,[["__scopeId","data-v-4ca2a921"]]),Fb={class:"sections-container"},Rb={key:1,class:"section-nav-container"},Ib=["onClick"],Lb={key:2,class:"sections"},Vb={key:1,class:"no-data"},Bb=Z({__name:"TeacherAnalytics",setup(s){const t=S("section1"),e=ot(),n=i=>{t.value=i},a=S(null);return We(()=>e.staffStudentResultsEdit,(i,o)=>{i&&(a.value=i)},{deep:!0,immediate:!0}),(i,o)=>{const l=At,r=Ob;return p(),v("div",Fb,[a.value?k("",!0):(p(),H(l,{key:0})),a.value?(p(),v("div",Rb,[(p(!0),v(X,null,tt(a.value,(c,d)=>(p(),v("button",{key:d,class:U(["nav-btn-1",{"nav-btn-1-active":t.value===`section${d+1}`}]),onClick:h=>n(`section${d+1}`)},[u("span",null,x(c.subject),1),u("span",null,x(c.class_name),1),u("span",null,"FORM "+x(c.students_year),1)],10,Ib))),128))])):k("",!0),a.value?(p(),v("div",Lb,[(p(!0),v(X,null,tt(a.value,(c,d)=>(p(),v("div",{key:d,style:G(t.value===`section${d+1}`?{display:"flex"}:{display:"none"})},[c.students&&c.students.length>0?(p(),H(r,{studentsData:c.students,key:c.students},null,8,["studentsData"])):k("",!0),c.students&&c.students.length===0?(p(),v("p",Vb,"You have not uploaded results for students under this subject yet")):k("",!0)],4))),128))])):k("",!0)])}}}),Nb=at(Bb,[["__scopeId","data-v-ed8d5ee6"]]),zb=s=>(St("data-v-9a6b6ab2"),s=s(),kt(),s),jb={style:{width:"100%",position:"relative",height:"100%"}},Hb=zb(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"NAME"),u("th",{class:"table-head"},"STAFF ID"),u("th",{class:"table-head"},"SUBJECT(S)"),u("th",{class:"table-head"},"IMAGE")])],-1)),Wb={class:"table-data"},Ub={key:0,style:{color:"seagreen"}},Yb={class:"table-data"},Gb={class:"table-data"},Xb={class:"table-data"},Jb=["src"],Kb=Z({__name:"HodTeachersProfile",props:{staff:null},setup(s){const t=s,e=Re();return(n,a)=>{const i=At;return p(),v("div",jb,[!t.staff||t.staff&&t.staff.length===0?(p(),H(i,{key:0})):k("",!0),t.staff&&t.staff.length>0?(p(),H(yt,{key:1,"fixed-header":"",height:"55dvh"},{default:R(()=>[Hb,u("tbody",null,[(p(!0),v(X,null,tt(t.staff,(o,l)=>(p(),v("tr",{key:l},[u("td",Wb,[j(x(o.name)+" ",1),o.role==="hod"?(p(),v("span",Ub,"[HOD]")):k("",!0)]),u("td",Yb,x(o.stf_id),1),u("td",Gb,[(p(!0),v(X,null,tt(o.subjects,(r,c)=>(p(),v("p",{key:c},x(r.name),1))),128))]),u("td",Xb,[u("img",{class:"student-img",src:g(e).getBaseUrl+o.img},null,8,Jb)])]))),128))])]),_:1})):k("",!0)])}}}),qb=at(Kb,[["__scopeId","data-v-9a6b6ab2"]]),Zb={class:"flex-all w-100"},Qb={key:0,class:"form"},tv={key:0,class:"mt-10 info"},ev={key:1,class:"mt-10 info"},sv={key:2,class:"form-message",style:{color:"green"}},nv={key:3,class:"form-message",style:{color:"red"}},av={class:"flex-all justify-center mt-5 w-100"},iv={class:"select-wrap"},ov={class:"select-wrap ml-5"},lv=Z({__name:"HodSubjectAssignmentUpload",setup(s){const t=ot(),e=S(""),n=S(""),a=S(""),i=S(""),o=S(""),l=S(!1),r=()=>{setTimeout(()=>{o.value="",i.value=""},1e4)},c=async()=>{l.value=!0,i.value="",o.value="";const h=new FormData;h.append("subject",e.value),h.append("class_name",n.value),h.append("staff_id",a.value),h.append("year",t.activeAcademicYear),h.append("type","create"),h.append("term",t.activeTerm.toString());try{const f=await Et.post("hod/data",h);f.status===200?(t.hodSubjectAssignment.termOne=f.data.data.term_one,t.hodSubjectAssignment.termTwo=f.data.data.term_two,t.hodSubjectAssignment.termThree=f.data.data.term_three,t.getTeacherSubjectAssignments(),t.getTeacherStudentResults(),o.value=f.data.ms,e.value="",n.value="",a.value=""):f.status===201?i.value=f.data.ms:i.value="Oops! an error occurred during the upload. Try again later"}catch{i.value="Oops! something went wrong"}finally{l.value=!1,r()}},d=L(()=>!(e.value&&n.value&&a.value));return(h,f)=>(p(),v("div",Zb,[g(t).hodSubjectAssignmentUpload.staff?(p(),v("form",Qb,[g(t).userData.school.semesters?(p(),v("p",tv,"NB: All subject assignment will be for the current semester")):k("",!0),g(t).userData&&!g(t).userData.school.semesters?(p(),v("p",ev,"NB: All subject assignment will be for the current trimester")):k("",!0),o.value?(p(),v("h2",sv,x(o.value),1)):k("",!0),i.value?(p(),v("h2",nv,x(i.value),1)):k("",!0),u("div",av,[u("div",iv,[M(Nt,{disabled:l.value,modelValue:e.value,"onUpdate:modelValue":f[0]||(f[0]=m=>e.value=m),clearable:"",label:"SUBJECT",style:{width:"100%",color:"black","font-weight":"bold"},density:"compact",variant:"outlined",items:g(t).hodSubjectAssignmentUpload.subjects,"persistent-hint":"",hint:"Select the subject"},null,8,["disabled","modelValue","items"])]),u("div",ov,[M(Nt,{disabled:l.value,modelValue:n.value,"onUpdate:modelValue":f[1]||(f[1]=m=>n.value=m),clearable:"",label:"CLASS",style:{width:"100%",color:"black","font-weight":"bold"},density:"compact",variant:"outlined",items:g(t).hodSubjectAssignmentUpload.classes,"persistent-hint":"",hint:"Select the students class"},null,8,["disabled","modelValue","items"])])]),M(Nt,{disabled:l.value,modelValue:a.value,"onUpdate:modelValue":f[2]||(f[2]=m=>a.value=m),class:"select",clearable:"",label:"TEACHER",density:"compact",variant:"outlined",items:g(t).hodSubjectAssignmentUpload.staff,"item-title":"name","item-value":"stf_id","persistent-hint":"",hint:"Select the teacher who will be teaching the subject"},{item:R(({props:m,item:_})=>[M(Ht,Wt(m,{subtitle:_.raw.stf_id}),null,16,["subtitle"])]),_:1},8,["disabled","modelValue","items"]),M(ct,{loading:l.value,disabled:d.value,onClick:qt(c,["prevent"]),type:"submit",class:"submit-btn"},{default:R(()=>[j("SUBMIT")]),_:1},8,["loading","disabled"])])):k("",!0)]))}}),rv=at(lv,[["__scopeId","data-v-91c8d962"]]),ml=s=>(St("data-v-198a50b3"),s=s(),kt(),s),cv=["id"],dv=ml(()=>u("p",null,"Continue to delete ?",-1)),uv={key:0,class:"mt-5",style:{color:"red"}},hv={style:{width:"100%",position:"relative",height:"100%"}},fv={key:0,class:"no-data flex-all"},mv={key:0},pv={key:1},gv=ml(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"TEACHER"),u("th",{class:"table-head"},"ACTION")])],-1)),_v={class:"table-data"},bv={class:"table-data"},vv={class:"table-data"},yv={class:"table-data"},xv={key:0},Sv=Z({__name:"HodTermSubjectAssignment",props:{term:{},data:{}},setup(s){const t=ot(),e=S(!1),n=S(""),a=S(""),i=S(""),o=S(""),{term:l,data:r}=s,c=()=>{const f=document.getElementById(`delete${l}`);f&&(f.style.display="none"),n.value="",a.value="",i.value="",o.value=""},d=async()=>{e.value=!0;const f=new FormData;f.append("subject_name",a.value),f.append("students_class_name",i.value),f.append("teacher_id",o.value),f.append("year",t.activeAcademicYear),f.append("type","delete"),f.append("term",l.toString());try{if((await Et.post("hod/data",f)).status===200){const _=t.hodSubjectAssignment[r].find(y=>y.subject.name===a.value&&y.students_class.name===i.value&&y.teacher.staff_id===o.value);if(_){const y=t.hodSubjectAssignment[r].indexOf(_);t.hodSubjectAssignment[r].splice(y,1)}const b=t.staffSubjectAssignment[r].find(y=>y.subject.name===a.value&&y.students_class.name===i.value&&y.teacher.staff_id===o.value);if(b){const y=t.staffSubjectAssignment[r].indexOf(b);t.staffSubjectAssignment[r].splice(y,1)}await t.getTeacherStudentResults(),c(),e.value=!1}}catch{n.value="Oops! something went wrong. Check your internet connection and try again",e.value=!1}},h=async(f,m,_)=>{const b=document.getElementById(`delete${l}`);a.value=f,i.value=m,o.value=_,b&&(b.style.display="flex")};return(f,m)=>(p(),v(X,null,[u("div",{id:`delete${f.term}`,class:"overlay"},[M(ra,{class:"d-flex flex-column align-center"},{default:R(()=>[M(oa,{style:{"font-size":".8rem","font-family":"sans-serif","text-align":"left","line-height":"1.2","font-weight":"bold"}},{default:R(()=>[dv,n.value?(p(),v("p",uv,x(n.value),1)):k("",!0)]),_:1}),M(la,null,{default:R(()=>[M(ct,{loading:e.value,class:"overlay-btn mr-5",elevation:"4",onClick:d},{default:R(()=>[j("YES")]),_:1},8,["loading"]),M(ct,{disabled:e.value,class:"overlay-btn ml-5",elevation:"4",onClick:c},{default:R(()=>[j("NO")]),_:1},8,["disabled"])]),_:1})]),_:1})],8,cv),u("div",hv,[g(t).hodSubjectAssignment[f.data]&&g(t).hodSubjectAssignment[f.data].length===0?(p(),v("h4",fv,[g(t).userData&&g(t).userData.school.semesters?(p(),v("p",mv,"You have not uploaded any subject-assignment for semester "+x(f.term)+" yet",1)):k("",!0),g(t).userData&&!g(t).userData.school.semesters?(p(),v("p",pv,"You have not uploaded any subject-assignment for trimester "+x(f.term)+" yet",1)):k("",!0)])):k("",!0),g(t).hodSubjectAssignment[f.data]&&g(t).hodSubjectAssignment[f.data].length>0?(p(),H(yt,{key:1,"fixed-header":"",height:"320px"},{default:R(()=>[gv,u("tbody",null,[(p(!0),v(X,null,tt(g(t).hodSubjectAssignment[f.data],(_,b)=>(p(),v("tr",{key:b},[u("td",_v,x(_.subject.name),1),u("td",bv,x(_.students_class.name),1),u("td",vv,x(_.students_class.students_year),1),u("td",yv,x(_.teacher.user.first_name)+" "+x(_.teacher.user.last_name)+" ["+x(_.teacher.staff_id)+"]",1),g(t).activeTerm===f.term?(p(),v("td",xv,[M(ct,{onClick:y=>h(_.subject.name,_.students_class.name,_.teacher.staff_id),size:"small",density:"comfortable",class:"delete-btn"},{default:R(()=>[j("Delete")]),_:2},1032,["onClick"])])):k("",!0)]))),128))])]),_:1})):k("",!0)])],64))}}),kv=at(Sv,[["__scopeId","data-v-198a50b3"]]),wv={class:"subsections-container"},Dv={key:0,class:"subsection-nav-container flex-all"},Tv={key:1,class:"subsection-nav-container flex-all"},Mv={class:"subsections"},Cv=Z({__name:"HodViewSubjectAssignment",setup(s){const t=ot(),e=S(t.activeTerm),n=a=>{e.value=a};return(a,i)=>{const o=kv;return p(),v("div",wv,[g(t).userData&&g(t).userData.school.semesters?(p(),v("div",Dv,[u("button",{class:U(["nav-btn-2 btn-1",{"nav-btn-2-active":e.value===1}]),onClick:i[0]||(i[0]=l=>n(1))},"SEMESTER 1",2),u("button",{class:U(["nav-btn-2 btn-2",{"nav-btn-2-active":e.value===2}]),onClick:i[1]||(i[1]=l=>n(2))},"SEMESTER 2",2)])):k("",!0),g(t).userData&&!g(t).userData.school.semesters?(p(),v("div",Tv,[u("button",{class:U(["nav-btn-2 btn-1",{"nav-btn-2-active":e.value===1}]),onClick:i[2]||(i[2]=l=>n(1))},"TRIMESTER 1",2),u("button",{class:U(["nav-btn-2 btn-2",{"nav-btn-2-active":e.value===2}]),onClick:i[3]||(i[3]=l=>n(2))},"TRIMESTER 2",2),u("button",{class:U(["nav-btn-2 btn-3",{"nav-btn-2-active":e.value===3}]),onClick:i[4]||(i[4]=l=>n(3))},"TRIMESTER 3",2)])):k("",!0),u("div",Mv,[u("div",{style:G(e.value===1?{display:"flex"}:{display:"none"})},[M(o,{data:"termOne",term:1,"term-number":1})],4),u("div",{style:G(e.value===2?{display:"flex"}:{display:"none"})},[M(o,{data:"termTwo",term:2,"term-number":2})],4),g(t).userData&&!g(t).userData.school.semesters?(p(),v("div",{key:0,style:G(e.value===3?{display:"flex"}:{display:"none"})},[M(o,{data:"termThree",term:3,"term-number":3})],4)):k("",!0)])])}}}),Av=at(Cv,[["__scopeId","data-v-300c46f2"]]),$v={class:"sections-container"},Ev={class:"sections"},Pv=Z({__name:"HodTeachers",setup(s){const t=S("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=qb,l=rv,r=Av;return p(),v("div",$v,[M(Xe,{class:"section-nav-container",elevation:"0"},{default:R(()=>[u("button",{class:U(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value==="section1"}]),onClick:i[0]||(i[0]=c=>n("section1"))},[M(K,{icon:"mdi-account"}),j(" PROFILE ")],2),u("button",{class:U(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value==="section2"}]),onClick:i[1]||(i[1]=c=>n("section2"))},[M(K,{icon:"mdi-clipboard-check"}),j(" ASSIGN SUBJECTS")],2),u("button",{class:U(["nav-btn-1 btn-3",{"nav-btn-1-active":t.value==="section3"}]),onClick:i[2]||(i[2]=c=>n("section3"))},[M(K,{icon:"mdi-book-open-outline"}),j(" ALL SUBJECTS ASSIGNMENT")],2)]),_:1}),u("div",Ev,[u("div",{class:"h-100",style:G(t.value==="section1"?{display:"flex"}:{display:"none"})},[M(o,{staff:g(e).hodSubjectAssignmentUpload.staff},null,8,["staff"])],4),u("div",{class:"h-100",style:G(t.value==="section2"?{display:"flex"}:{display:"none"})},[M(l)],4),u("div",{class:"h-100",style:G(t.value==="section3"?{display:"flex"}:{display:"none"})},[M(r)],4)])])}}}),Ov=at(Pv,[["__scopeId","data-v-9f33e497"]]),st=s=>(St("data-v-4985e707"),s=s(),kt(),s),Fv={class:"flex-all-c w-100 h-100"},Rv={key:3,class:"table-container"},Iv={key:0,class:"term-table"},Lv={class:"term-three table-title-container",style:{position:"relative"}},Vv=st(()=>u("td",null,"Justice",-1)),Bv={key:0,class:"table-title term-three"},Nv={class:"term-three"},zv=st(()=>u("td",{class:"table-data"},"Total Students",-1)),jv={class:"table-data-value"},Hv={class:"term-three"},Wv=st(()=>u("td",{class:"table-data"},"Highest Score",-1)),Uv={class:"table-data-value"},Yv={class:"term-three"},Gv=st(()=>u("td",{class:"table-data"},"Average Score",-1)),Xv={class:"table-data-value"},Jv={class:"term-three"},Kv=st(()=>u("td",{class:"table-data"},"Lowest Score",-1)),qv={class:"table-data-value"},Zv={class:"term-three"},Qv=st(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),ty={class:"table-data-value"},ey={class:"term-three"},sy=st(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),ny={class:"table-data-value"},ay={class:"term-three"},iy=st(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),oy={class:"table-data-value"},ly={key:0,class:"table-title-container",style:{position:"relative"}},ry=st(()=>u("td",null,"Justice",-1)),cy=st(()=>u("td",{class:"subtitle"},"top 5 students",-1)),dy=[ry,cy],uy={key:0,class:"table-data"},hy={key:1,class:"table-data-value"},fy={key:1,class:"table-title-container",style:{position:"relative"}},my=st(()=>u("td",null,"Justice",-1)),py=st(()=>u("td",{class:"subtitle"},"last 5 students",-1)),gy=[my,py],_y={key:0,class:"table-data"},by={key:1,class:"table-data-value"},vy={key:1,class:"term-table"},yy={class:"term-two table-title-container",style:{position:"relative"}},xy=st(()=>u("td",null,"Justice",-1)),Sy={key:0,class:"table-title term-two"},ky={key:1,class:"table-title term-two"},wy={class:"term-two"},Dy=st(()=>u("td",{class:"table-data"},"Total Students",-1)),Ty={class:"table-data-value"},My={class:"term-two"},Cy=st(()=>u("td",{class:"table-data"},"Highest Score",-1)),Ay={class:"table-data-value"},$y={class:"term-two"},Ey=st(()=>u("td",{class:"table-data"},"Average Score",-1)),Py={class:"table-data-value"},Oy={key:0,class:"term-two"},Fy=st(()=>u("td",{class:"table-data"},"Lowest Score",-1)),Ry={class:"table-data-value"},Iy={class:"term-two"},Ly=st(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),Vy={class:"table-data-value"},By={class:"term-two"},Ny=st(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),zy={class:"table-data-value"},jy={class:"term-two"},Hy=st(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),Wy={class:"table-data-value"},Uy={key:1,class:"table-title-container",style:{position:"relative"}},Yy=st(()=>u("td",null,"Justice",-1)),Gy=st(()=>u("td",{class:"subtitle"},"top 5 students",-1)),Xy=[Yy,Gy],Jy={key:0,class:"table-data"},Ky={key:1,class:"table-data-value"},qy={key:2,class:"table-title-container",style:{position:"relative"}},Zy=st(()=>u("td",null,"Justice",-1)),Qy=st(()=>u("td",{class:"subtitle"},"last 5 students",-1)),t0=[Zy,Qy],e0={key:0,class:"table-data"},s0={key:1,class:"table-data-value"},n0={key:2,class:"term-table"},a0={class:"term-one table-title-container",style:{position:"relative"}},i0=st(()=>u("td",null,"Justice",-1)),o0={key:0,class:"table-title term-one"},l0={key:1,class:"table-title term-one"},r0={class:"term-one"},c0=st(()=>u("td",{class:"table-data"},"Total Students",-1)),d0={class:"table-data-value"},u0={class:"term-one"},h0=st(()=>u("td",{class:"table-data"},"Highest Score",-1)),f0={class:"table-data-value"},m0={class:"term-one"},p0=st(()=>u("td",{class:"table-data"},"Average Score",-1)),g0={class:"table-data-value"},_0={class:"term-one"},b0=st(()=>u("td",{class:"table-data"},"Lowest Score",-1)),v0={class:"table-data-value"},y0={class:"term-one"},x0=st(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),S0={class:"table-data-value"},k0={class:"term-one"},w0=st(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),D0={class:"table-data-value"},T0={class:"term-one"},M0=st(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),C0={class:"table-data-value"},A0={key:0,class:"table-title-container",style:{position:"relative"}},$0=st(()=>u("td",null,"Justice",-1)),E0=st(()=>u("td",{class:"subtitle"},"top 5 students",-1)),P0=[$0,E0],O0={key:0,class:"table-data"},F0={key:1,class:"table-data-value"},R0={key:1,class:"table-title-container",style:{position:"relative"}},I0=st(()=>u("td",null,"Justice",-1)),L0=st(()=>u("td",{class:"subtitle"},"last 5 students",-1)),V0=[I0,L0],B0={key:0,class:"table-data"},N0={key:1,class:"table-data-value"},z0=Z({__name:"HodYearPerformance",props:{year:{}},setup(s){const t=ot(),{year:e}=s,n=S(e.term_one.filter(F=>F.score>=80)).value.length,a=S(e.term_one.filter(F=>F.score>=75&&F.score<80)).value.length,i=S(e.term_one.filter(F=>F.score>=70&&F.score<75)).value.length,o=S(e.term_one.filter(F=>F.score>=65&&F.score<70)).value.length,l=S(e.term_one.filter(F=>F.score>=60&&F.score<65)).value.length,r=S(e.term_one.filter(F=>F.score>=55&&F.score<60)).value.length,c=S(e.term_one.filter(F=>F.score>=50&&F.score<55)).value.length,d=S(e.term_one.filter(F=>F.score>=40&&F.score<50)).value.length,h=S(e.term_one.filter(F=>F.score<40)).value.length,f=S(e.term_two.filter(F=>F.score>=80)).value.length,m=S(e.term_two.filter(F=>F.score>=75&&F.score<80)).value.length,_=S(e.term_two.filter(F=>F.score>=70&&F.score<75)).value.length,b=S(e.term_two.filter(F=>F.score>=65&&F.score<70)).value.length,y=S(e.term_two.filter(F=>F.score>=60&&F.score<65)).value.length,D=S(e.term_two.filter(F=>F.score>=55&&F.score<60)).value.length,w=S(e.term_two.filter(F=>F.score>=50&&F.score<55)).value.length,$=S(e.term_two.filter(F=>F.score>=40&&F.score<50)).value.length,P=S(e.term_two.filter(F=>F.score<40)).value.length,A=S(e.term_three.filter(F=>F.score>=80)).value.length,O=S(e.term_three.filter(F=>F.score>=75&&F.score<80)).value.length,C=S(e.term_three.filter(F=>F.score>=70&&F.score<75)).value.length,T=S(e.term_three.filter(F=>F.score>=65&&F.score<70)).value.length,E=S(e.term_three.filter(F=>F.score>=60&&F.score<65)).value.length,B=S(e.term_three.filter(F=>F.score>=55&&F.score<60)).value.length,I=S(e.term_three.filter(F=>F.score>=50&&F.score<55)).value.length,Y=S(e.term_three.filter(F=>F.score>=40&&F.score<50)).value.length,lt=S(e.term_three.filter(F=>F.score<40)).value.length,W=S(["A1","B2","B3","C4","C5","C6","D7","E8","F9"]),Q=S([n,a,i,o,l,r,c,d,h]),J=S([f,m,_,b,y,D,w,$,P]),nt=S([A,O,C,T,E,B,I,Y,lt]),_t=S({labels:W.value,datasets:[{label:"Semester 1",data:Q.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Semester 2",data:J.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1}]}),pt=S({labels:W.value,datasets:[{label:"Semester 1",data:Q.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Semester 2",data:J.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1},{label:"Semester 3",data:nt.value,borderColor:"indigo",backgroundColor:"indigo",borderWidth:2,fill:!1}]}),Lt=S({responsive:!0}),Tt=S(e.term_one).value.length,Ut=S(e.term_one).value.slice(0,5),Yt=S(e.term_one).value.slice(-5),Mt=S(e.term_one.map(F=>Number(F.score))),Gt=L(()=>(Mt.value.reduce((Be,ke)=>Be+ke,0)/Mt.value.length).toFixed(0)),Dt=L(()=>Math.max(...Mt.value)),qe=L(()=>Math.min(...Mt.value)),Fs=L(()=>e.term_one.filter(F=>F.score>=50).length),Rs=L(()=>e.term_one.filter(F=>F.score<50&&F.score>=40).length),Is=L(()=>e.term_one.filter(F=>F.score<40).length),It=S(e.term_two).value.length,wn=S(e.term_two).value.slice(0,5),Dn=S(e.term_two).value.slice(-5),ye=S(e.term_two.map(F=>Number(F.score))),Tn=L(()=>(ye.value.reduce((Be,ke)=>Be+ke,0)/ye.value.length).toFixed(0)),Mn=L(()=>Math.max(...ye.value)),Ls=L(()=>Math.min(...ye.value)),xe=L(()=>e.term_two.filter(F=>F.score>=50).length),Vs=L(()=>e.term_two.filter(F=>F.score<50&&F.score>=40).length),Bs=L(()=>e.term_two.filter(F=>F.score<40).length),Xt=S(e.term_three).value.length,Cn=S(e.term_three).value.slice(0,5),An=S(e.term_three).value.slice(-5),Ve=S(e.term_three.map(F=>Number(F.score))),z=L(()=>(Ve.value.reduce((Be,ke)=>Be+ke,0)/Ve.value.length).toFixed(0)),V=L(()=>Math.max(...Ve.value)),Se=L(()=>Math.min(...Ve.value)),Ma=L(()=>e.term_three.filter(F=>F.score>=50).length),Ca=L(()=>e.term_three.filter(F=>F.score<50&&F.score>=40).length),Aa=L(()=>e.term_three.filter(F=>F.score<40).length);return(F,Be)=>{const ke=At;return p(),v("div",Fv,[!F.year||F.year&&F.year.term_one.length===0?(p(),H(ke,{key:0})):k("",!0),F.year&&g(t).userData.school.semesters&&F.year.term_one.length>0?(p(),H(g(Ts),{key:1,class:"chart",options:Lt.value,data:_t.value,fill:!1},null,8,["options","data"])):k("",!0),F.year&&!g(t).userData.school.semesters&&F.year.term_one.length>0?(p(),H(g(Ts),{key:2,class:"chart",options:Lt.value,data:pt.value,fill:!1},null,8,["options","data"])):k("",!0),F.year&&F.year.term_one.length>0?(p(),v("div",Rv,[F.year.term_three&&F.year.term_three.length>0?(p(),v("div",Iv,[M(yt,{density:"comfortable"},{default:R(()=>[u("tbody",null,[u("tr",Lv,[Vv,g(t).userData&&!g(t).userData.school.semesters?(p(),v("td",Bv,"TRIMESTER 3")):k("",!0)]),u("tr",Nv,[zv,u("td",jv,x(g(Xt)),1)]),u("tr",Hv,[Wv,u("td",Uv,x(V.value),1)]),u("tr",Yv,[Gv,u("td",Xv,x(z.value),1)]),u("tr",Jv,[Kv,u("td",qv,x(Se.value),1)]),u("tr",Zv,[Qv,u("td",ty,x(Ma.value)+" ["+x((Ma.value/g(Xt)*100).toFixed(1))+"%] ",1)]),u("tr",ey,[sy,u("td",ny,x(Ca.value)+" ["+x((Ca.value/g(Xt)*100).toFixed(1))+"%] ",1)]),u("tr",ay,[iy,u("td",oy,x(Aa.value)+" ["+x((Aa.value/g(Xt)*100).toFixed(1))+"%] ",1)]),g(Xt)>15?(p(),v("tr",ly,dy)):k("",!0),(p(!0),v(X,null,tt(g(Cn),(gt,Kt)=>(p(),v("tr",{class:"term-three",key:Kt},[g(Xt)>15?(p(),v("td",uy,x(gt.name)+" ["+x(gt.st_id)+"]",1)):k("",!0),g(Xt)>15?(p(),v("td",hy,x(gt.score),1)):k("",!0)]))),128)),g(Xt)>15?(p(),v("tr",fy,gy)):k("",!0),(p(!0),v(X,null,tt(g(An),(gt,Kt)=>(p(),v("tr",{class:"term-three",key:Kt},[g(Xt)>15?(p(),v("td",_y,x(gt.name)+" ["+x(gt.st_id)+"]",1)):k("",!0),g(Xt)>15?(p(),v("td",by,x(gt.score),1)):k("",!0)]))),128))])]),_:1})])):k("",!0),F.year.term_two&&F.year.term_two.length>0?(p(),v("div",vy,[M(yt,{density:"comfortable"},{default:R(()=>[u("tbody",null,[u("tr",yy,[xy,g(t).userData&&g(t).userData.school.semesters?(p(),v("td",Sy,"SEMESTER 2")):k("",!0),g(t).userData&&!g(t).userData.school.semesters?(p(),v("td",ky,"TRIMESTER 2")):k("",!0)]),u("tr",wy,[Dy,u("td",Ty,x(g(It)),1)]),u("tr",My,[Cy,u("td",Ay,x(Mn.value),1)]),u("tr",$y,[Ey,u("td",Py,x(Tn.value),1)]),Ls.value?(p(),v("tr",Oy,[Fy,u("td",Ry,x(Ls.value),1)])):k("",!0),u("tr",Iy,[Ly,u("td",Vy,x(xe.value)+" ["+x((xe.value/g(It)*100).toFixed(1))+"%] ",1)]),u("tr",By,[Ny,u("td",zy,x(Vs.value)+" ["+x((Vs.value/g(It)*100).toFixed(1))+"%] ",1)]),u("tr",jy,[Hy,u("td",Wy,x(Bs.value)+" ["+x((Bs.value/g(It)*100).toFixed(1))+"%] ",1)]),g(It)>15?(p(),v("tr",Uy,Xy)):k("",!0),(p(!0),v(X,null,tt(g(wn),(gt,Kt)=>(p(),v("tr",{class:"term-two",key:Kt},[g(It)>15?(p(),v("td",Jy,x(gt.name)+" ["+x(gt.st_id)+"]",1)):k("",!0),g(It)>15?(p(),v("td",Ky,x(gt.score),1)):k("",!0)]))),128)),g(It)>15?(p(),v("tr",qy,t0)):k("",!0),(p(!0),v(X,null,tt(g(Dn),(gt,Kt)=>(p(),v("tr",{class:"term-two",key:Kt},[g(It)>15?(p(),v("td",e0,x(gt.name)+" ["+x(gt.st_id)+"]",1)):k("",!0),g(It)>15?(p(),v("td",s0,x(gt.score),1)):k("",!0)]))),128))])]),_:1})])):k("",!0),F.year.term_one&&F.year.term_one.length>0?(p(),v("div",n0,[M(yt,{density:"comfortable"},{default:R(()=>[u("tbody",null,[u("tr",a0,[i0,g(t).userData&&g(t).userData.school.semesters?(p(),v("td",o0,"SEMESTER 1")):k("",!0),g(t).userData&&!g(t).userData.school.semesters?(p(),v("td",l0,"TRIMESTER 1")):k("",!0)]),u("tr",r0,[c0,u("td",d0,x(g(Tt)),1)]),u("tr",u0,[h0,u("td",f0,x(Dt.value),1)]),u("tr",m0,[p0,u("td",g0,x(Gt.value),1)]),u("tr",_0,[b0,u("td",v0,x(qe.value),1)]),u("tr",y0,[x0,u("td",S0,x(Fs.value)+" ["+x((Fs.value/g(Tt)*100).toFixed(1))+"%] ",1)]),u("tr",k0,[w0,u("td",D0,x(Rs.value)+" ["+x((Rs.value/g(Tt)*100).toFixed(1))+"%] ",1)]),u("tr",T0,[M0,u("td",C0,x(Is.value)+" ["+x((Is.value/g(Tt)*100).toFixed(1))+"%] ",1)]),g(Tt)>15?(p(),v("tr",A0,P0)):k("",!0),(p(!0),v(X,null,tt(g(Ut),(gt,Kt)=>(p(),v("tr",{class:"term-one",key:Kt},[g(Tt)>15?(p(),v("td",O0,x(gt.name)+" ["+x(gt.st_id)+"]",1)):k("",!0),g(Tt)>15?(p(),v("td",F0,x(gt.score),1)):k("",!0)]))),128)),g(Tt)>15?(p(),v("tr",R0,V0)):k("",!0),(p(!0),v(X,null,tt(g(Yt),(gt,Kt)=>(p(),v("tr",{class:"term-one",key:Kt},[g(Tt)>15?(p(),v("td",B0,x(gt.name)+" ["+x(gt.st_id)+"]",1)):k("",!0),g(Tt)>15?(p(),v("td",N0,x(gt.score),1)):k("",!0)]))),128))])]),_:1})])):k("",!0)])):k("",!0)])}}}),j0=at(z0,[["__scopeId","data-v-4985e707"]]),H0={class:"subsections-container"},W0={class:"subsections"},U0=Z({__name:"HodPerformanceSubject",props:{data:{}},setup(s){const t=S("section1"),e=n=>{t.value=n};return(n,a)=>{const i=j0;return p(),v("div",H0,[M(Xe,{class:"subsection-nav-container",elevation:"0"},{default:R(()=>[u("button",{class:U(["nav-btn-2",{"nav-btn-2-active":t.value==="section1"}]),onClick:a[0]||(a[0]=o=>e("section1"))},"Form 1 students",2),u("button",{class:U(["nav-btn-2",{"nav-btn-2-active":t.value==="section2"}]),onClick:a[1]||(a[1]=o=>e("section2"))},"Form 2 students",2),u("button",{class:U(["nav-btn-2",{"nav-btn-2-active":t.value==="section3"}]),onClick:a[2]||(a[2]=o=>e("section3"))},"Form 3 students",2)]),_:1}),u("div",W0,[u("div",{style:G(t.value==="section1"?{display:"flex"}:{display:"none"})},[M(i,{year:n.data.year_one},null,8,["year"])],4),u("div",{style:G(t.value==="section2"?{display:"flex"}:{display:"none"})},[M(i,{year:n.data.year_two},null,8,["year"])],4),u("div",{style:G(t.value==="section3"?{display:"flex"}:{display:"none"})},[M(i,{year:n.data.year_three},null,8,["year"])],4)])])}}}),Y0={class:"sections-container"},G0={key:1,class:"section-nav-container"},X0=["onClick"],J0={key:2,class:"sections"},K0=Z({__name:"HodPerformance",setup(s){const t=S("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=At,l=U0;return p(),v("div",Y0,[g(e).hodPerformance?k("",!0):(p(),H(o,{key:0})),g(e).hodPerformance?(p(),v("div",G0,[(p(!0),v(X,null,tt(g(e).hodPerformance,(r,c)=>(p(),v("button",{key:c,class:U(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[r.subject==="CORE MATHEMATICS"?(p(),H(K,{key:0,icon:"mdi-calculator-variant"})):k("",!0),r.subject==="ELECTIVE MATHEMATICS"?(p(),H(K,{key:1,icon:"mdi-function-variant"})):k("",!0),r.subject==="BIOLOGY"?(p(),H(K,{key:2,icon:"mdi-microscope"})):k("",!0),r.subject==="CHEMISTRY"?(p(),H(K,{key:3,icon:"mdi-flask"})):k("",!0),r.subject==="FINANCIAL ACCOUNTING"?(p(),H(K,{key:4,icon:"mdi-currency-usd"})):k("",!0),r.subject==="BUSINESS MANAGEMENT"?(p(),H(K,{key:5,icon:"mdi-chart-bar"})):k("",!0),r.subject==="ENGLISH LANGUAGE"?(p(),H(K,{key:6,icon:"mdi-book-open-variant"})):k("",!0),r.subject==="SOCIAL STUDIES"?(p(),H(K,{key:7,icon:"mdi-account-group"})):k("",!0),r.subject==="INTEGRATED SCIENCE"?(p(),H(K,{key:8,icon:"mdi-scale"})):k("",!0),r.subject==="CHRISTIAN RELIGIOUS STUDIES (CRS)"?(p(),H(K,{key:9,icon:"mdi-book-cross"})):k("",!0),r.subject==="LITERATURE"?(p(),H(K,{key:10,icon:"mdi-library"})):k("",!0),r.subject==="HISTORY"?(p(),H(K,{key:11,icon:"mdi-history"})):k("",!0),r.subject==="GOVERNMENT"?(p(),H(K,{key:12,icon:"mdi-briefcase-account"})):k("",!0),r.subject==="GEOGRAPHY"?(p(),H(K,{key:13,icon:"mdi-earth"})):k("",!0),r.subject==="PHYSICS"?(p(),H(K,{key:14,icon:"mdi-atom"})):k("",!0),r.subject==="ELECTIVE ICT"?(p(),H(K,{key:15,icon:"mdi-desktop-tower-monitor"})):k("",!0),r.subject==="COST ACCOUNTING"?(p(),H(K,{key:16,icon:"mdi-cash-register"})):k("",!0),r.subject==="ECONOMICS"?(p(),H(K,{key:17,icon:"mdi-finance"})):k("",!0),u("span",null,x(r.subject),1)],10,X0))),128))])):k("",!0),g(e).hodPerformance?(p(),v("div",J0,[(p(!0),v(X,null,tt(g(e).hodPerformance,(r,c)=>(p(),v("div",{class:"h-100",key:c,style:G(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[(p(),H(l,{data:r,key:r},null,8,["data"]))],4))),128))])):k("",!0)])}}}),q0=at(K0,[["__scopeId","data-v-88b900ef"]]),Ke=s=>(St("data-v-b37d724c"),s=s(),kt(),s),Z0={class:"flex-all w-100",style:{overflow:"hidden"}},Q0={class:"form"},t1=Ke(()=>u("p",{class:"info"},"You cannot delete a particular academic year after creation, so ensure accurate data input.",-1)),e1={key:0,class:"form-message",style:{color:"green"}},s1={key:1,class:"form-message",style:{color:"red"}},n1={key:2,class:"fields-container"},a1={class:"select-container mt-5 w-100"},i1=Ke(()=>u("p",null,"FIRST SEMESTER",-1)),o1={class:"select-container w-100"},l1=Ke(()=>u("p",null,"SECOND SEMESTER",-1)),r1={class:"select-container w-100"},c1={key:4,class:"fields-container"},d1={class:"select-container mt-5 w-100"},u1=Ke(()=>u("p",null,"FIRST TRIMESTER",-1)),h1={class:"select-container w-100"},f1=Ke(()=>u("p",null,"SECOND TRIMESTER",-1)),m1={class:"select-container w-100"},p1=Ke(()=>u("p",null,"THIRD TRIMESTER",-1)),g1={class:"select-container mb-5 w-100"},_1=Z({__name:"AdminAddAcademicYear",setup(s){const t=ot(),e=S(""),n=S(""),a=S(""),i=S(""),o=S(""),l=S(""),r=S(""),c=S(""),d=S(""),h=S(""),f=S(!1),m=()=>{setTimeout(()=>{h.value="",d.value=""},1e4)},_=async()=>{f.value=!0,d.value="",h.value="";const D=new FormData;D.append("startDate",n.value),D.append("endDate",a.value),D.append("year",t.activeAcademicYear),D.append("type","create-year"),D.append("yearName",e.value.trim()),D.append("sem1EndDate",i.value),D.append("sem2StartDate",o.value),D.append("sem2EndDate",l.value),D.append("sem3StartDate",r.value),D.append("sem3EndDate",c.value),D.append("term",t.activeTerm.toString());try{const w=await Et.post("sch-admin/data",D);w.status===200?(t.adminStaff.academicYears.unshift(w.data.new_year),await t.getUserData().then($=>(h.value=w.data.ms,e.value="",Promise.resolve())).catch($=>Promise.reject($))):w.status===201&&(d.value=w.data.ms)}catch{d.value="Oops! something went wrong"}finally{f.value=!1,m()}},b=L(()=>!(e.value&&n.value&&a.value&&i.value&&o.value&&l.value)),y=L(()=>!(e.value&&n.value&&a.value&&i.value&&o.value&&l.value&&r.value&&c.value));return(D,w)=>(p(),v("div",Z0,[u("form",Q0,[t1,h.value?(p(),v("h2",e1,x(h.value),1)):k("",!0),d.value?(p(),v("h2",s1,x(d.value),1)):k("",!0),g(t).userData&&g(t).userData.school.semesters?(p(),v("div",n1,[M(dt,{label:"YEAR NAME",clearable:"",class:"input-field year-name",modelValue:e.value,"onUpdate:modelValue":w[0]||(w[0]=$=>e.value=$),density:"compact",variant:"outlined","persistent-hint":"",hint:"Enter the name of the academic year",placeholder:"eg. 2023-2024"},null,8,["modelValue"]),u("div",a1,[M(dt,{label:"START DATE",clearable:"",class:"input-field",modelValue:n.value,"onUpdate:modelValue":w[1]||(w[1]=$=>n.value=$),"persistent-hint":"",hint:"The date the academic year starts",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),M(dt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:a.value,"onUpdate:modelValue":w[2]||(w[2]=$=>a.value=$),"persistent-hint":"",hint:"The expected date the academic year ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])]),i1,u("div",o1,[M(dt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:i.value,"onUpdate:modelValue":w[3]||(w[3]=$=>i.value=$),"persistent-hint":"",hint:"The expected date first semester ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])]),l1,u("div",r1,[M(dt,{label:"START DATE",clearable:"",class:"input-field",modelValue:o.value,"onUpdate:modelValue":w[4]||(w[4]=$=>o.value=$),"persistent-hint":"",hint:"The date second semester starts",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),M(dt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:l.value,"onUpdate:modelValue":w[5]||(w[5]=$=>l.value=$),"persistent-hint":"",hint:"The expected date second semester ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])])])):k("",!0),g(t).userData&&g(t).userData.school.semesters?(p(),H(ct,{key:3,loading:f.value,disabled:b.value,onClick:qt(_,["prevent"]),type:"submit",class:"submit-btn"},{default:R(()=>[j("SUBMIT")]),_:1},8,["loading","disabled"])):k("",!0),g(t).userData&&!g(t).userData.school.semesters?(p(),v("div",c1,[M(dt,{label:"YEAR NAME",clearable:"",class:"input-field year-name",modelValue:e.value,"onUpdate:modelValue":w[6]||(w[6]=$=>e.value=$),density:"compact",variant:"outlined","persistent-hint":"",hint:"Enter the name of the academic year",placeholder:"eg. 2023-2024"},null,8,["modelValue"]),u("div",d1,[M(dt,{label:"START DATE",clearable:"",class:"input-field",modelValue:n.value,"onUpdate:modelValue":w[7]||(w[7]=$=>n.value=$),"persistent-hint":"",hint:"The date the academic year starts",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),M(dt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:a.value,"onUpdate:modelValue":w[8]||(w[8]=$=>a.value=$),"persistent-hint":"",hint:"The expected date the academic year ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])]),u1,u("div",h1,[M(dt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:i.value,"onUpdate:modelValue":w[9]||(w[9]=$=>i.value=$),"persistent-hint":"",hint:"The expected date first trimester ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])]),f1,u("div",m1,[M(dt,{label:"START DATE",clearable:"",class:"input-field",modelValue:o.value,"onUpdate:modelValue":w[10]||(w[10]=$=>o.value=$),"persistent-hint":"",hint:"The date second trimester starts",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),M(dt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:l.value,"onUpdate:modelValue":w[11]||(w[11]=$=>l.value=$),"persistent-hint":"",hint:"The expected date second trimester ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])]),p1,u("div",g1,[M(dt,{label:"START DATE",clearable:"",class:"input-field",modelValue:r.value,"onUpdate:modelValue":w[12]||(w[12]=$=>r.value=$),"persistent-hint":"",hint:"The date third trimester starts",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),M(dt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:c.value,"onUpdate:modelValue":w[13]||(w[13]=$=>c.value=$),"persistent-hint":"",hint:"The expected date third trimester ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])])])):k("",!0),g(t).userData&&!g(t).userData.school.semesters?(p(),H(ct,{key:5,loading:f.value,disabled:y.value,onClick:qt(_,["prevent"]),type:"submit",class:"submit-btn"},{default:R(()=>[j("SUBMIT")]),_:1},8,["loading","disabled"])):k("",!0)])]))}}),b1=at(_1,[["__scopeId","data-v-b37d724c"]]),pl=s=>(St("data-v-2d3f43a2"),s=s(),kt(),s),v1={style:{width:"100%",position:"relative",height:"100%"}},y1=pl(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"NAME"),u("th",{class:"table-head"},"START DATE"),u("th",{class:"table-head"},"END DATE"),u("th",{class:"table-head"},"SEM 1 END DATE"),u("th",{class:"table-head"},"SEM 2 START DATE"),u("th",{class:"table-head"},"SEM 2 END DATE")])],-1)),x1={class:"table-data"},S1={class:"table-data"},k1={class:"table-data"},w1={class:"table-data"},D1={class:"table-data"},T1={class:"table-data"},M1=pl(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"NAME"),u("th",{class:"table-head"},"START DATE"),u("th",{class:"table-head"},"END DATE"),u("th",{class:"table-head"},"TRIM 1 END DATE"),u("th",{class:"table-head"},"TRIM 2 START DATE"),u("th",{class:"table-head"},"TRIM 2 END DATE"),u("th",{class:"table-head"},"TRIM 3 START DATE"),u("th",{class:"table-head"},"TRIM 3 END DATE")])],-1)),C1={class:"table-data"},A1={class:"table-data"},$1={class:"table-data"},E1={class:"table-data"},P1={class:"table-data"},O1={class:"table-data"},F1={class:"table-data"},R1={class:"table-data"},I1=Z({__name:"AdminAllAcademicYears",setup(s){const t=ot();return(e,n)=>{const a=At;return p(),v("div",v1,[g(t).adminStaff.academicYears?k("",!0):(p(),H(a,{key:0})),g(t).userData.school.semesters&&g(t).adminStaff.academicYears?(p(),H(yt,{key:1,"fixed-header":"",height:"55dvh"},{default:R(()=>[y1,u("tbody",null,[(p(!0),v(X,null,tt(g(t).adminStaff.academicYears,(i,o)=>(p(),v("tr",{key:o},[u("td",x1,x(i.name),1),u("td",S1,x(i.start_date),1),u("td",k1,x(i.end_date),1),u("td",w1,x(i.sem_1_end_date),1),u("td",D1,x(i.sem_2_start_date),1),u("td",T1,x(i.sem_2_end_date),1)]))),128))])]),_:1})):k("",!0),!g(t).userData.school.semesters&&g(t).adminStaff.academicYears?(p(),H(yt,{key:2,"fixed-header":"",height:"55dvh"},{default:R(()=>[M1,u("tbody",null,[(p(!0),v(X,null,tt(g(t).adminStaff.academicYears,(i,o)=>(p(),v("tr",{key:o},[u("td",C1,x(i.name),1),u("td",A1,x(i.start_date),1),u("td",$1,x(i.end_date),1),u("td",E1,x(i.sem_1_end_date),1),u("td",P1,x(i.sem_2_start_date),1),u("td",O1,x(i.sem_2_end_date),1),u("td",F1,x(i.sem_3_start_date),1),u("td",R1,x(i.sem_3_end_date),1)]))),128))])]),_:1})):k("",!0)])}}}),L1=at(I1,[["__scopeId","data-v-2d3f43a2"]]),V1={class:"section-nav-container"},B1={class:"sections"},N1=Z({__name:"AdminCalendar",setup(s){const t=S(1),e=n=>{t.value=n};return(n,a)=>{const i=b1,o=L1;return p(),v(X,null,[u("div",V1,[u("button",{class:U(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value===1}]),onClick:a[0]||(a[0]=l=>e(1))},"ADD ACADEMIC YEAR",2),u("button",{class:U(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value===2}]),onClick:a[1]||(a[1]=l=>e(2))},"ALL ACADEMIC YEARS",2)]),u("div",B1,[u("div",{class:"h-100",style:G(t.value===1?{display:"flex"}:{display:"none"})},[M(i)],4),u("div",{class:"h-100",style:G(t.value===2?{display:"flex"}:{display:"none"})},[M(o)],4)])],64)}}}),z1=at(N1,[["__scopeId","data-v-e040bcf3"]]),j1=s=>(St("data-v-57345406"),s=s(),kt(),s),H1={class:"flex-all w-100",style:{overflow:"hidden"}},W1={key:1,class:"form"},U1=j1(()=>u("p",{class:"info"},"Use uppercase for class names. It will be converted to uppercase though",-1)),Y1={key:0,class:"form-message",style:{color:"green"}},G1={key:1,class:"form-message",style:{color:"red"}},X1={class:"field-container"},J1={class:"select-container mt-5 w-100"},K1={class:"select-wrap"},q1={class:"select-wrap"},Z1={key:1,class:"text-grey text-caption align-self-center"},Q1={class:"select-container mt-5 w-100"},tx=Z({__name:"AdminStudentsAddClass",setup(s){const t=ot(),e=S(""),n=S(null),a=S(""),i=S(""),o=S(""),l=S(""),r=S(""),c=S(!1),d=()=>{setTimeout(()=>{r.value="",l.value=""},1e4)},h=async()=>{c.value=!0,l.value="",r.value="";const m=new FormData;m.append("subjects",n.value),m.append("program",a.value),m.append("completionDate",e.value),m.append("year",t.activeAcademicYear),m.append("type","create-class"),m.append("className",o.value.trim()),m.append("enrollmentDate",i.value),m.append("term",t.activeTerm.toString());try{const _=await Et.post("sch-admin/students",m);_.status===200?(t.adminClasses.names.unshift(_.data.class_name),t.adminClasses.yearOne.unshift(_.data.new_class),r.value=_.data.ms,o.value=""):_.status===201&&(l.value=_.data.ms)}catch{l.value="Oops! something went wrong"}finally{c.value=!1,d()}},f=L(()=>!(o.value&&n.value&&a.value&&e.value&&i.value));return(m,_)=>{const b=At;return p(),v("div",H1,[g(t).adminClasses.programs?k("",!0):(p(),H(b,{key:0})),g(t).adminClasses.programs?(p(),v("form",W1,[U1,r.value?(p(),v("h2",Y1,x(r.value),1)):k("",!0),l.value?(p(),v("h2",G1,x(l.value),1)):k("",!0),u("div",X1,[M(dt,{label:"CLASS NAME",class:"input-field class-name",modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=y=>o.value=y),density:"compact",variant:"outlined","persistent-hint":"",hint:"Enter the name of the class",placeholder:"eg. SCIENCE or SCIENCE-1 or SCIENCE-1-A"},null,8,["modelValue"]),u("div",J1,[u("div",K1,[M(Nt,{disabled:c.value,modelValue:a.value,"onUpdate:modelValue":_[1]||(_[1]=y=>a.value=y),class:"select",clearable:"",label:"PROGRAM",style:{width:"100%",color:"black","font-weight":"bold"},density:"compact",variant:"outlined",items:g(t).adminClasses.programs,"persistent-hint":"",hint:"Select the program that students in this class are enrolled in"},null,8,["disabled","modelValue","items"])]),u("div",q1,[M(Nt,{disabled:c.value,modelValue:n.value,"onUpdate:modelValue":_[2]||(_[2]=y=>n.value=y),multiple:"",clearable:"",label:"SUBJECTS",style:{width:"100%",color:"black","font-weight":"bold"},density:"compact",variant:"outlined",items:g(t).adminStaff.subjects,"persistent-hint":"",hint:"Select the subjects students in this class will study"},{selection:R(({item:y,index:D})=>[D<1?(p(),H(eo,{key:0},{default:R(()=>[u("span",null,x(y.title),1)]),_:2},1024)):k("",!0),D===1?(p(),v("span",Z1," (+"+x(n.value.length-1)+" others) ",1)):k("",!0)]),_:1},8,["disabled","modelValue","items"])])]),u("div",Q1,[M(dt,{label:"DATE ENROLLED",class:"input-field",modelValue:i.value,"onUpdate:modelValue":_[3]||(_[3]=y=>i.value=y),"persistent-hint":"",hint:"The enrollment date of the students",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),M(dt,{label:"COMPLETION DATE",class:"input-field mb-5",modelValue:e.value,"onUpdate:modelValue":_[4]||(_[4]=y=>e.value=y),"persistent-hint":"",hint:"The expected completion date of the students",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])])]),M(ct,{loading:c.value,disabled:f.value,onClick:qt(h,["prevent"]),type:"submit",class:"submit-btn"},{default:R(()=>[j("SUBMIT")]),_:1},8,["loading","disabled"])])):k("",!0)])}}}),ex=at(tx,[["__scopeId","data-v-57345406"]]),gl=s=>(St("data-v-03f14a82"),s=s(),kt(),s),sx={id:"inputForm",class:"overlay"},nx={class:"form",style:{position:"relative"}},ax={key:0,class:"form-message",style:{color:"green"}},ix={key:1,class:"form-message",style:{color:"red"}},ox={class:"input-container"},lx={class:"wrap one"},rx={class:"wrap-1 flex-all"},cx={class:"wrap"},dx={class:"wrap-1"},ux={class:"ml-16"},hx={id:"fileForm",class:"overlay"},fx={class:"form",style:{position:"relative"}},mx={key:0,class:"form-message",style:{color:"green"}},px={key:1,class:"form-message",style:{color:"red"}},gx={class:"flex-all-c mt-16"},_x=gl(()=>u("p",{class:"hint mt-0"},"Click to get an excel file based on the selected class",-1)),bx=gl(()=>u("hr",{class:"line"},null,-1)),vx={class:"w-100 h-100"},yx={class:"flex-all w-100 h-100"},xx=Z({__name:"AdminStudentsAdmission",setup(s){const t=ot(),e=S(""),n=S(""),a=S(null),i=S(null),o=S(null),l=S(null),r=S(null),c=S(!1),d=S(null),h=S(["MALE","FEMALE"]),f=S(!1),m=S(null),_=()=>{setTimeout(()=>{n.value="",e.value=""},5e3)},b=async()=>{c.value=!0,e.value="",n.value="";const O=new FormData;O.append("className",a.value),O.append("type","get-students-file");try{const C=await Et.post("sch-admin/students",O);if(C.status===200){n.value="File generated successfully. wait for it to be downloaded";const T=document.createElement("a");T.href=C.data.file_path,T.download=C.data.filename,T.click()}else e.value="Oops! an error occurred while generating the file. Try again later"}catch{e.value="Something went wrong. Try again later"}finally{c.value=!1,_()}},y=O=>{const C=O.target.files[0];m.value=C||null},D=async()=>{f.value=!0,e.value="",n.value="";const O=new FormData;O.append("className",a.value),O.append("file",m.value),O.append("type","upload-students-file");try{const C=await Et.post("sch-admin/students",O);if(C.status===200){const T=C.data.year,E=C.data.data,B=t.adminClasses[T].find(I=>I.name===E.name);if(B){const I=t.adminClasses[T].indexOf(B);t.adminClasses[T][I]=E}else t.adminClasses[T].push(E);n.value=C.data.ms}else C.status===201&&(e.value=C.data.ms)}catch{e.value="Something went wrong!"}finally{f.value=!1,_()}},w=async()=>{f.value=!0,e.value="",n.value="";const O=new FormData;O.append("className",a.value.trim()),O.append("firstName",i.value.trim()),O.append("lastName",o.value.trim()),O.append("stId",l.value.toString().trim()),O.append("gender",r.value),O.append("dob",d.value),O.append("type","input-student");try{const C=await Et.post("sch-admin/students",O);if(C.status===200){const T=C.data.year,E=t.adminClasses[T].find(B=>B.name===C.data.class_name);if(E){const B=t.adminClasses[T].indexOf(E);t.adminClasses[T][B].students.push(C.data.student)}n.value=C.data.ms}else C.status===201&&(e.value=C.data.ms)}catch{e.value="Oops something went wrong, check you internet connection"}finally{f.value=!1}_()},$=L(()=>!(a.value&&i.value&&o.value&&l.value&&r.value&&d.value)),P=O=>{const C=document.getElementById(O);C&&(e.value="",n.value="",a.value="",f.value=!1,m.value=null,C.style.display="none")},A=O=>{const C=document.getElementById(O);C&&(C.style.display="flex")};return(O,C)=>(p(),v(X,null,[u("div",sx,[u("div",nx,[u("button",{onClick:C[0]||(C[0]=T=>P("inputForm")),class:"close-btn flex-all"},"X"),n.value?(p(),v("h2",ax,x(n.value),1)):k("",!0),e.value?(p(),v("h2",ix,x(e.value),1)):k("",!0),u("div",ox,[u("div",lx,[u("div",rx,[g(t).adminClasses.names?(p(),H(Nt,{key:0,disabled:f.value,modelValue:a.value,"onUpdate:modelValue":C[1]||(C[1]=T=>a.value=T),class:"select",label:"CLASS",density:"compact",variant:"outlined",items:g(t).adminClasses.names,"persistent-hint":"",hint:"Select the students's class"},null,8,["disabled","modelValue","items"])):k("",!0)])]),u("div",cx,[M(dt,{disabled:f.value,modelValue:i.value,"onUpdate:modelValue":C[2]||(C[2]=T=>i.value=T),clearable:"",class:"input-field",label:"FIRST NAME",variant:"underlined"},null,8,["disabled","modelValue"]),M(dt,{disabled:f.value,modelValue:o.value,"onUpdate:modelValue":C[3]||(C[3]=T=>o.value=T),clearable:"",class:"input-field",label:"LAST NAME",variant:"underlined"},null,8,["disabled","modelValue"])]),u("div",dx,[M(Nt,{disabled:f.value,modelValue:r.value,"onUpdate:modelValue":C[4]||(C[4]=T=>r.value=T),class:"select",label:"GENDER",density:"compact",variant:"outlined",items:h.value},null,8,["disabled","modelValue","items"])]),u("div",ux,[M(dt,{disabled:f.value,modelValue:l.value,"onUpdate:modelValue":C[5]||(C[5]=T=>l.value=T),type:"number",clearable:"",class:"input-field",label:"STUDENT ID",variant:"underlined"},null,8,["disabled","modelValue"])]),u("div",null,[M(dt,{disabled:f.value,modelValue:d.value,"onUpdate:modelValue":C[6]||(C[6]=T=>d.value=T),type:"date",class:"input-field",label:"DATE OF BIRTH",variant:"underlined"},null,8,["disabled","modelValue"])])]),M(ct,{loading:f.value,disabled:$.value,onClick:w,class:"submit-btn"},{default:R(()=>[j("SUBMIT")]),_:1},8,["loading","disabled"])])]),u("div",hx,[u("div",fx,[u("button",{onClick:C[7]||(C[7]=T=>P("fileForm")),class:"close-btn flex-all"},"X"),n.value?(p(),v("h2",mx,x(n.value),1)):k("",!0),e.value?(p(),v("h2",px,x(e.value),1)):k("",!0),g(t).adminClasses.names?(p(),H(Nt,{key:2,disabled:f.value,modelValue:a.value,"onUpdate:modelValue":C[8]||(C[8]=T=>a.value=T),class:"select file",label:"CLASS",variant:"outlined",density:"compact",items:g(t).adminClasses.names,"persistent-hint":"",hint:"select the students class"},null,8,["disabled","modelValue","items"])):k("",!0),u("div",gx,[M(ct,{loading:c.value,disabled:f.value||!a.value,onClick:b,class:"submit-btn"},{default:R(()=>[j("GET FILE")]),_:1},8,["loading","disabled"]),_x]),bx,M(Ta,{disabled:f.value,onChange:y,clearable:"","show-size":"",class:"file-field",label:"upload an excel file",density:"compact",variant:"outlined",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},null,8,["disabled"]),M(ct,{loading:f.value,disabled:!m.value||!a.value,onClick:D,class:"submit-btn"},{default:R(()=>[j("UPLOAD")]),_:1},8,["loading","disabled"])])]),u("div",vx,[u("div",yx,[M(ct,{size:"small",class:"btn mr-5",onClick:C[9]||(C[9]=T=>A("inputForm"))},{default:R(()=>[j("INPUT DATA")]),_:1}),M(ct,{size:"small",class:"btn ml-5",onClick:C[10]||(C[10]=T=>A("fileForm"))},{default:R(()=>[j("USE FILE")]),_:1})])])],64))}}),Sx=at(xx,[["__scopeId","data-v-03f14a82"]]),Ps=s=>(St("data-v-5cf45ee2"),s=s(),kt(),s),kx={style:{width:"100%",position:"relative"}},wx=Ps(()=>u("th",{class:"table-head"},"CLASS",-1)),Dx=Ps(()=>u("th",{class:"table-head"},"DATE ENROLLED",-1)),Tx=Ps(()=>u("th",{class:"table-head"},"EXPECTED COMPLETION DATE",-1)),Mx=Ps(()=>u("th",{class:"table-head"},"SUBJECTS",-1)),Cx=Ps(()=>u("th",{class:"table-head"},"STUDENTS",-1)),Ax={key:0,class:"table-head"},$x={class:"table-data"},Ex={class:"table-data"},Px={class:"table-data"},Ox={style:{padding:"0"}},Fx={class:"student-info-container"},Rx={key:0,class:"flex-all pa-2"},Ix={style:{padding:"0"}},Lx={class:"student-info-container"},Vx=["src"],Bx={class:"flex-all-c"},Nx={class:"user-name"},zx={class:"user-name"},jx={key:0,class:"flex-all pa-2"},Hx={key:0,class:"table-data"},Wx={class:"flex-all pa-2"},Ux=Z({__name:"AdminStudentsYear",props:{classYear:{}},setup(s){const t=ot(),e=Re(),n=S(1e3),a=async(l,r,c)=>{n.value=c;const d=new FormData;d.append("className",l),d.append("subject",r),d.append("type","delete-subject"),await Et.post("sch-admin/students",d).then(h=>{const f=h.data,m=f.year,_=t.adminClasses[m].find(b=>b.name===f.class_name);if(_){const b=t.adminClasses[m].indexOf(_),y=t.adminClasses[m][b].subjects.filter(D=>D.name!==r);t.adminClasses[m][b].subjects=y}n.value=1e3}).catch(h=>(n.value=1e3,Promise.reject(h)))},i=async(l,r,c)=>{n.value=c;const d=new FormData;d.append("className",l),d.append("stId",r),d.append("type","delete-student"),await Et.post("sch-admin/students",d).then(h=>{const f=h.data,m=f.year,_=t.adminClasses[m].find(b=>b.name===f.class_name);if(_){const b=t.adminClasses[m].indexOf(_),y=t.adminClasses[m][b].students.filter(D=>D.st_id!==r);t.adminClasses[m][b].students=y}n.value=1e3}).catch(h=>(n.value=1e3,Promise.reject(h)))},o=async(l,r)=>{n.value=r;const c=new FormData;c.append("className",l),c.append("type","delete-class"),await Et.post("sch-admin/students",c).then(d=>{const h=t.adminClasses.yearOne.find(f=>f.name===l);if(h){const f=t.adminClasses.yearOne.indexOf(h);t.adminClasses.yearOne.splice(f,1);const m=t.adminClasses.names.filter(_=>_!==`${l} FORM-1`);m&&(t.adminClasses.names=m)}n.value=1e3}).catch(d=>(n.value=1e3,Promise.reject(d)))};return(l,r)=>{const c=At;return p(),v("div",kx,[!l.classYear||l.classYear&&l.classYear.length===0?(p(),H(c,{key:0,class:"no-data flex-all"})):k("",!0),l.classYear&&l.classYear.length>0?(p(),H(yt,{key:1,"fixed-header":"",class:"table-2"},{default:R(()=>[u("thead",null,[u("tr",null,[wx,Dx,Tx,Mx,Cx,g(t).userData.school.delete_class?(p(),v("th",Ax,"ACTION")):k("",!0)])]),u("tbody",null,[(p(!0),v(X,null,tt(l.classYear,(d,h)=>(p(),v("tr",{key:h},[u("td",$x,x(d.name),1),u("td",Ex,x(d.date_enrolled),1),u("td",Px,x(d.completion_date),1),u("td",Ox,[M(ps,{class:"pa-0"},{default:R(()=>[M(gs,null,{activator:R(({props:f})=>[M(Ht,Wt({class:"title"},f),{default:R(()=>[M(K,{icon:"mdi-lightbulb-on"}),j(x(d.subjects.length)+" SUBJECTS ",1)]),_:2},1040)]),default:R(()=>[M(_s,{class:"v-scroll",height:"22vh",items:d.subjects},{default:R(({item:f})=>[M(Ht,{style:{position:"relative"}},{default:R(()=>[u("div",Fx,[u("p",null,x(f.name),1),d.students_year===1&&g(t).userData.school.delete_class?(p(),v("div",Rx,[M(ct,{loading:n.value===d.subjects.indexOf(f),onClick:m=>a(d.name,f.name,d.subjects.indexOf(f)),size:"x-small",class:"edit-btn remove"},{default:R(()=>[j("delete")]),_:2},1032,["loading","onClick"])])):k("",!0)])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)]),u("td",Ix,[M(ps,{class:"pa-0"},{default:R(()=>[M(gs,null,{activator:R(({props:f})=>[M(Ht,Wt({class:"title"},f),{default:R(()=>[M(K,{icon:"mdi-account-circle"}),j(x(d.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:R(()=>[M(_s,{class:"v-scroll",height:"22vh",items:d.students},{default:R(({item:f})=>[M(Ht,{style:{position:"relative"}},{default:R(()=>[u("div",Lx,[u("img",{class:"student-img",src:g(e).getBaseUrl+f.img},null,8,Vx),u("div",Bx,[u("p",Nx,x(f.user.first_name)+" "+x(f.user.last_name),1),u("p",zx,x(f.st_id),1)]),d.students_year===1&&g(t).userData.school.delete_class?(p(),v("div",jx,[M(ct,{loading:n.value===d.students.indexOf(f),onClick:m=>i(d.name,f.st_id,d.students.indexOf(f)),size:"x-small",class:"edit-btn remove"},{default:R(()=>[j("delete")]),_:2},1032,["loading","onClick"])])):k("",!0)])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)]),d.students_year===1&&g(t).userData.school.delete_class?(p(),v("td",Hx,[u("div",Wx,[M(ct,{loading:n.value===h,onClick:f=>o(d.name,h),size:"x-small",class:"edit-btn remove"},{default:R(()=>[j("delete")]),_:2},1032,["loading","onClick"])])])):k("",!0)]))),128))])]),_:1})):k("",!0)])}}}),Yx=at(Ux,[["__scopeId","data-v-5cf45ee2"]]),Gx={class:"subsections-container"},Xx={class:"subsections"},Jx=Z({__name:"AdminStudentsViewAdmittedStudents",setup(s){const t=S("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=Yx;return p(),v("div",Gx,[M(Xe,{class:"subsection-nav-container",elevation:"0"},{default:R(()=>[u("button",{class:U(["nav-btn-2",{"nav-btn-2-active":t.value==="section1"}]),onClick:i[0]||(i[0]=l=>n("section1"))},"Form 1 students",2),u("button",{class:U(["nav-btn-2",{"nav-btn-2-active":t.value==="section2"}]),onClick:i[1]||(i[1]=l=>n("section2"))},"Form 2 students",2),u("button",{class:U(["nav-btn-2",{"nav-btn-2-active":t.value==="section3"}]),onClick:i[2]||(i[2]=l=>n("section3"))},"Form 3 students",2)]),_:1}),u("div",Xx,[u("div",{style:G(t.value==="section1"?{display:"flex"}:{display:"none"})},[M(o,{classYear:g(e).adminClasses.yearOne},null,8,["classYear"])],4),u("div",{style:G(t.value==="section2"?{display:"flex"}:{display:"none"})},[M(o,{classYear:g(e).adminClasses.yearTwo},null,8,["classYear"])],4),u("div",{style:G(t.value==="section3"?{display:"flex"}:{display:"none"})},[M(o,{classYear:g(e).adminClasses.yearThree},null,8,["classYear"])],4)])])}}}),Kx={class:"section-nav-container"},qx={class:"sections"},Zx=Z({__name:"AdminStudents",setup(s){ot();const t=S(1),e=n=>{t.value=n};return(n,a)=>{const i=ex,o=Sx,l=Jx;return p(),v(X,null,[u("div",Kx,[u("button",{class:U(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value===1}]),onClick:a[0]||(a[0]=r=>e(1))},"CREATE CLASS",2),u("button",{class:U(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value===2}]),onClick:a[1]||(a[1]=r=>e(2))},"ADMISSION",2),u("button",{class:U(["nav-btn-1 btn-3",{"nav-btn-1-active":t.value===3}]),onClick:a[2]||(a[2]=r=>e(3))},"ALL ADMITTED STUDENTS",2)]),u("div",qx,[u("div",{class:"h-100",style:G(t.value===1?{display:"flex"}:{display:"none"})},[M(i)],4),u("div",{class:"h-100",style:G(t.value===2?{display:"flex"}:{display:"none"})},[M(o)],4),u("div",{class:"h-100",style:G(t.value===3?{display:"flex"}:{display:"none"})},[M(l)],4)])],64)}}}),Qx=at(Zx,[["__scopeId","data-v-0ec2c153"]]),_l=s=>(St("data-v-2253c498"),s=s(),kt(),s),tS={id:"staffInputForm",class:"overlay"},eS={class:"form",style:{position:"relative"}},sS={key:0,class:"form-message",style:{color:"green"}},nS={key:1,class:"form-message",style:{color:"red"}},aS={class:"input-container"},iS={class:"wrap one"},oS={class:"wrap-1 department"},lS={class:"wrap"},rS={class:"wrap-1"},cS={class:"ml-16"},dS={id:"staffFileForm",class:"overlay"},uS={class:"form",style:{position:"relative"}},hS={key:0,class:"form-message",style:{color:"green"}},fS={key:1,class:"form-message",style:{color:"red"}},mS={class:"flex-all-c mt-16"},pS=_l(()=>u("p",{class:"hint mt-0"},"Click to get an excel file based on the selected department",-1)),gS=_l(()=>u("hr",{class:"line"},null,-1)),_S={class:"w-100 h-100"},bS={class:"flex-all w-100 h-100"},vS=Z({__name:"AdminAddStaff",setup(s){const t=ot(),e=S(""),n=S(""),a=S(null),i=S(null),o=S(null),l=S(null),r=S(null),c=S(null),d=S(!1),h=S(null),f=S(["MALE","FEMALE"]),m=S(!1),_=S(null),b=()=>{setTimeout(()=>{n.value="",e.value=""},5e3)},y=async()=>{d.value=!0,e.value="",n.value="";const C=new FormData;C.append("departmentName",a.value),C.append("type","get-staff-file");try{const T=await Et.post("sch-admin/staff",C);if(T.status===200){n.value="File generated successfully. Wait for it to be downloaded";const E=document.createElement("a");E.href=T.data.file_path,E.download=T.data.filename,E.click()}else e.value="Oops! an error occurred while generating the file. Try again later"}catch{e.value="Something went wrong. Try again later"}finally{d.value=!1,b()}},D=C=>{const T=C.target.files[0];_.value=T||null},w=async()=>{m.value=!0,e.value="",n.value="";const C=new FormData;C.append("departmentName",a.value),C.append("file",_.value),C.append("type","upload-staff-file");try{const T=await Et.post("sch-admin/staff",C);if(T.status===200){const E=T.data.data,B=t.adminStaff.departments.find(I=>I.name===E.name);if(B){const I=t.adminStaff.departments.indexOf(B);t.adminStaff.departments[I]=E}n.value=T.data.ms}else T.status===201&&(e.value=T.data.ms)}catch{e.value="Something went wrong!"}finally{m.value=!1,b()}},$=async()=>{m.value=!0,e.value="",n.value="";const C=new FormData;C.append("departmentName",a.value),C.append("firstName",i.value),C.append("lastName",l.value),C.append("staffId",r.value),C.append("gender",c.value),C.append("subjects",o.value),C.append("dob",h.value),C.append("type","input-staff");try{const T=await Et.post("sch-admin/staff",C);if(T.status===200){const E=T.data,B=t.adminStaff.departments.find(I=>I.name===E.department_name);if(B){const I=t.adminStaff.departments.indexOf(B);t.adminStaff.departments[I].teachers.unshift(E.staff)}i.value=null,l.value=null,r.value=null,o.value=null,h.value=null,n.value=T.data.ms}else T.status===201&&(e.value=T.data.ms)}catch{e.value="Oops something went wrong, check you internet connection"}finally{m.value=!1}b()},P=L(()=>!(a.value&&o.value&&i.value&&l.value&&r.value&&c.value&&h.value)),A=C=>{const T=document.getElementById(C);T&&(e.value="",n.value="",a.value=null,o.value="",m.value=!1,_.value=null,T.style.display="none")},O=C=>{const T=document.getElementById(C);T&&(T.style.display="flex")};return(C,T)=>(p(),v(X,null,[u("div",tS,[u("div",eS,[u("button",{onClick:T[0]||(T[0]=E=>A("staffInputForm")),class:"close-btn flex-all"},"X"),n.value?(p(),v("h2",sS,x(n.value),1)):k("",!0),e.value?(p(),v("h2",nS,x(e.value),1)):k("",!0),u("div",aS,[u("div",iS,[u("div",oS,[g(t).adminStaff.departmentNames?(p(),H(Nt,{key:0,disabled:m.value,modelValue:a.value,"onUpdate:modelValue":T[1]||(T[1]=E=>a.value=E),class:"select",label:"DEPARTMENT",density:"compact",variant:"outlined",items:g(t).adminStaff.departmentNames,"persistent-hint":"",hint:"Select the department the teacher belongs to"},null,8,["disabled","modelValue","items"])):k("",!0),g(t).adminStaff.subjects?(p(),H(Nt,{key:1,multiple:"",disabled:m.value,chips:"",modelValue:o.value,"onUpdate:modelValue":T[2]||(T[2]=E=>o.value=E),class:"select",label:"SUBJECTS(S)",density:"compact",variant:"outlined",items:g(t).adminStaff.subjects,"persistent-hint":"",hint:"Select the subject(s) the teacher teaches"},null,8,["disabled","modelValue","items"])):k("",!0)])]),u("div",lS,[M(dt,{disabled:m.value,modelValue:i.value,"onUpdate:modelValue":T[3]||(T[3]=E=>i.value=E),clearable:"",class:"input-field",label:"FIRST NAME",variant:"underlined"},null,8,["disabled","modelValue"]),M(dt,{disabled:m.value,modelValue:l.value,"onUpdate:modelValue":T[4]||(T[4]=E=>l.value=E),clearable:"",class:"input-field",label:"LAST NAME",variant:"underlined"},null,8,["disabled","modelValue"])]),u("div",rS,[M(Nt,{disabled:m.value,modelValue:c.value,"onUpdate:modelValue":T[5]||(T[5]=E=>c.value=E),class:"select",label:"GENDER",density:"compact",variant:"outlined",items:f.value},null,8,["disabled","modelValue","items"])]),u("div",cS,[M(dt,{disabled:m.value,modelValue:r.value,"onUpdate:modelValue":T[6]||(T[6]=E=>r.value=E),type:"number",clearable:"",class:"input-field",label:"STAFF ID",variant:"underlined"},null,8,["disabled","modelValue"])]),u("div",null,[M(dt,{disabled:m.value,modelValue:h.value,"onUpdate:modelValue":T[7]||(T[7]=E=>h.value=E),type:"date",class:"input-field",label:"DATE OF BIRTH",variant:"underlined"},null,8,["disabled","modelValue"])])]),M(ct,{loading:m.value,disabled:P.value,onClick:$,class:"submit-btn"},{default:R(()=>[j("SUBMIT")]),_:1},8,["loading","disabled"])])]),u("div",dS,[u("div",uS,[u("button",{onClick:T[8]||(T[8]=E=>A("staffFileForm")),class:"close-btn flex-all"},"X"),n.value?(p(),v("h2",hS,x(n.value),1)):k("",!0),e.value?(p(),v("h2",fS,x(e.value),1)):k("",!0),g(t).adminStaff.departmentNames?(p(),H(Nt,{key:2,disabled:m.value,modelValue:a.value,"onUpdate:modelValue":T[9]||(T[9]=E=>a.value=E),class:"select file",label:"DEPARTMENT",variant:"outlined",density:"compact",items:g(t).adminStaff.departmentNames,"persistent-hint":"",hint:"select the department the teacher belongs to"},null,8,["disabled","modelValue","items"])):k("",!0),u("div",mS,[M(ct,{loading:d.value,disabled:m.value||!a.value,onClick:y,class:"submit-btn"},{default:R(()=>[j("GET FILE")]),_:1},8,["loading","disabled"]),pS]),gS,M(Ta,{disabled:m.value,onChange:D,clearable:"","show-size":"",class:"file-field",label:"upload an excel file",density:"compact",variant:"outlined",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},null,8,["disabled"]),M(ct,{loading:m.value,disabled:!_.value||!a.value,onClick:w,class:"submit-btn"},{default:R(()=>[j("UPLOAD")]),_:1},8,["loading","disabled"])])]),u("div",_S,[u("div",bS,[M(ct,{size:"small",class:"btn mr-5",onClick:T[10]||(T[10]=E=>O("staffInputForm"))},{default:R(()=>[j("INPUT DATA")]),_:1}),M(ct,{size:"small",class:"btn ml-5",onClick:T[11]||(T[11]=E=>O("staffFileForm"))},{default:R(()=>[j("USE FILE")]),_:1})])])],64))}}),yS=at(vS,[["__scopeId","data-v-2253c498"]]),Os=s=>(St("data-v-2578507a"),s=s(),kt(),s),xS=["id"],SS=Os(()=>u("p",null,"Continue to delete ?",-1)),kS={key:0,class:"mt-5",style:{color:"red"}},wS={style:{width:"100%",position:"relative",height:"100%"}},DS=Os(()=>u("th",{class:"table-head"},"NAME",-1)),TS=Os(()=>u("th",{class:"table-head"},"STAFF ID",-1)),MS=Os(()=>u("th",{class:"table-head"},"SUBJECT(S)",-1)),CS=Os(()=>u("th",{class:"table-head"},"IMAGE",-1)),AS={key:0,class:"table-head"},$S={class:"table-data"},ES={key:0,style:{color:"seagreen"}},PS={class:"table-data"},OS={class:"table-data"},FS={class:"table-data"},RS=["src"],IS={key:0,class:"table-data"},LS=Z({__name:"AdminDepartmentStaff",props:{staff:null,overlayIndex:null},setup(s){const t=s,e=Re(),n=ot(),a=S(!1),i=S(""),o=S(""),l=()=>{const d=document.getElementById(`deleteStaff${t.overlayIndex}`);d&&(d.style.display="none"),i.value="",o.value=""},r=async()=>{a.value=!0;const d=new FormData;d.append("staffId",o.value),d.append("type","delete-staff"),await Et.post("sch-admin/staff",d).then(h=>{const f=h.data,m=n.adminStaff.departments.find(_=>_.name===f.department_name);if(m){const _=n.adminStaff.departments.indexOf(m),b=n.adminStaff.departments[_].teachers.filter(y=>y.staff_id!==o.value);n.adminStaff.departments[_].teachers=b}l(),a.value=!1}).catch(h=>{i.value="Oops! something went wrong. Check your internet connection and try again",a.value=!1})},c=d=>{o.value=d;const h=document.getElementById(`deleteStaff${t.overlayIndex}`);h&&(h.style.display="flex")};return(d,h)=>{const f=At;return p(),v(X,null,[g(n).userData.school.delete_staff?(p(),v("div",{key:0,id:`deleteStaff${t.overlayIndex}`,class:"overlay"},[M(ra,{class:"d-flex flex-column align-center"},{default:R(()=>[M(oa,{style:{"font-size":".8rem","font-family":"sans-serif","text-align":"left","line-height":"1.2","font-weight":"bold"}},{default:R(()=>[SS,g(i)?(p(),v("p",kS,x(g(i)),1)):k("",!0)]),_:1}),M(la,null,{default:R(()=>[M(ct,{loading:g(a),class:"overlay-btn mr-5",elevation:"4",onClick:r},{default:R(()=>[j("YES")]),_:1},8,["loading"]),M(ct,{disabled:g(a),class:"overlay-btn ml-5",elevation:"4",onClick:l},{default:R(()=>[j("NO")]),_:1},8,["disabled"])]),_:1})]),_:1})],8,xS)):k("",!0),u("div",wS,[t.staff?k("",!0):(p(),H(f,{key:0})),t.staff?(p(),H(yt,{key:1,"fixed-header":"",height:"55dvh"},{default:R(()=>[u("thead",null,[u("tr",null,[DS,TS,MS,CS,g(n).userData.school.delete_staff?(p(),v("th",AS,"ACTION")):k("",!0)])]),u("tbody",null,[(p(!0),v(X,null,tt(t.staff,(m,_)=>(p(),v("tr",{key:_},[u("td",$S,[j(x(m.user.first_name)+" "+x(m.user.last_name)+" ",1),m.role==="hod"?(p(),v("span",ES,"[HOD]")):k("",!0)]),u("td",PS,x(m.staff_id),1),u("td",OS,[(p(!0),v(X,null,tt(m.subjects,(b,y)=>(p(),v("p",{key:y},x(b.name),1))),128))]),u("td",FS,[u("img",{class:"student-img",src:g(e).getBaseUrl+m.img},null,8,RS)]),g(n).userData.school.delete_staff?(p(),v("td",IS,[M(ct,{onClick:b=>c(m.staff_id),size:"x-small",class:"edit-btn remove"},{default:R(()=>[j("delete")]),_:2},1032,["onClick"])])):k("",!0)]))),128))])]),_:1})):k("",!0)])],64)}}}),VS=at(LS,[["__scopeId","data-v-2578507a"]]),BS={class:"subsections-container"},NS={key:1,class:"subsection-nav-container"},zS=["onClick"],jS={key:2,class:"sections"},HS=Z({__name:"AdminAllStaff",setup(s){const t=S("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=At,l=VS;return p(),v("div",BS,[!g(e).adminStaff.departments||g(e).adminStaff.departments&&g(e).adminStaff.departments.length===0?(p(),H(o,{key:0,class:"no-data"})):k("",!0),g(e).adminStaff.departments&&g(e).adminStaff.departments.length>0?(p(),v("div",NS,[(p(!0),v(X,null,tt(g(e).adminStaff.departments,(r,c)=>(p(),v("button",{key:c,class:U(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[u("span",null,x(r.name),1)],10,zS))),128))])):k("",!0),g(e).adminStaff.departments&&g(e).adminStaff.departments.length>0?(p(),v("div",jS,[(p(!0),v(X,null,tt(g(e).adminStaff.departments,(r,c)=>(p(),v("div",{class:"h-100",key:c,style:G(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[M(l,{staff:r.teachers,overlayIndex:c},null,8,["staff","overlayIndex"])],4))),128))])):k("",!0)])}}}),WS={class:"section-nav-container"},US={class:"sections"},YS=Z({__name:"AdminStaff",setup(s){ot();const t=S(1),e=n=>{t.value=n};return(n,a)=>{const i=yS,o=HS;return p(),v(X,null,[u("div",WS,[u("button",{class:U(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value===1}]),onClick:a[0]||(a[0]=l=>e(1))},"ADD TEACHER(S)",2),u("button",{class:U(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value===2}]),onClick:a[1]||(a[1]=l=>e(2))},"ALL TEACHERS",2)]),u("div",US,[u("div",{class:"h-100",style:G(t.value===1?{display:"flex"}:{display:"none"})},[M(i)],4),u("div",{class:"h-100",style:G(t.value===2?{display:"flex"}:{display:"none"})},[M(o)],4)])],64)}}}),GS=at(YS,[["__scopeId","data-v-d7460ba0"]]),bl=s=>(St("data-v-94dfba46"),s=s(),kt(),s),XS={key:0,id:"welcome",class:"welcome-overlay"},JS={style:{"text-align":"center"}},KS=bl(()=>u("p",null,"We're thrilled to have you on board as part of our dedicated teaching team. Your passion, expertise, and commitment to education are greatly appreciated. This is your personalized dashboard, designed to make your teaching experience as smooth and rewarding as possible. Here, you'll find all the tools and resources you need to inspire and guide your students to success. Feel free to explore and familiarize yourself with your dashboard.",-1)),qS=bl(()=>u("p",null,"If you have any questions or need assistance, our support team is always here to help.",-1)),ZS={class:"main"},QS={class:"pages-container"},tk={class:"page-nav-container"},ek=Z({__name:"staff",setup(s){Bl({meta:[{name:"robots",content:"no-index"}]});const t=ot(),e=S(null),n=S("page1");lo(()=>{document.body.style.overflow="auto"}),Pl(()=>{t.isAuthenticated&&t.userData&&(document.title="EduAAP"),document.body.style.overflow="hidden",e.value=localStorage.getItem("RozmachAuth"),e.value&&(e.value=JSON.parse(e.value))});const a=()=>{const l=document.getElementById("welcome");l&&(e.value&&!e.value.last_login&&(i(),e.value.last_login=!0,localStorage.setItem("RozmachAuth",JSON.stringify(e))),l.style.display="none")},i=()=>{const l=document.getElementById("welcome");l&&(l.style.display="flex")},o=l=>{n.value=l};return(l,r)=>{const c=Sl,d=Tr,h=cc,f=Mc,m=mg,_=kl,b=Ig,y=G_,D=Nb,w=Ov,$=q0,P=z1,A=Qx,O=GS,C=wl;return p(),v(X,null,[g(e)&&!g(e).last_login&&g(t).userData&&g(t).userData.role==="staff"?(p(),v("div",XS,[M(ra,{class:"card flex-all-c"},{default:R(()=>[M(Ol,{id:"school-name"},{default:R(()=>[j(x(g(t).userData.school.name),1)]),_:1}),M(oa,{style:{"font-size":".9rem","font-family":"sans-serif","text-align":"left","line-height":"1.5"}},{default:R(()=>[u("p",JS,[u("strong",null,"Welcome "+x(g(t).userData.first_name+" "+g(t).userData.last_name)+"!",1)]),KS,qS]),_:1}),M(la,{class:"flex-all"},{default:R(()=>[M(ct,{class:"overlay-btn",elevation:"4",onClick:r[0]||(r[0]=T=>a())},{default:R(()=>[j("OK")]),_:1})]),_:1})]),_:1})])):k("",!0),M(c),u("main",ZS,[u("div",QS,[u("div",tk,[g(t).userData&&g(t).userData.role&&g(t).userData.role==="head"?(p(),v("button",{key:0,class:U(["nav-btn",{"nav-btn-active":g(n)==="page1"}]),onClick:r[1]||(r[1]=T=>o("page1"))},[M(K,{icon:"mdi-eye"}),j(" OVERVIEW ")],2)):k("",!0),g(t).userData&&g(t).userData.role&&g(t).userData.role==="head"?(p(),v("button",{key:1,class:U(["nav-btn",{"nav-btn-active":g(n)==="page2"}]),onClick:r[2]||(r[2]=T=>o("page2"))},[M(K,{icon:"mdi-account"}),j(" DEPARTMENTS ")],2)):k("",!0),g(t).userData&&g(t).userData.role&&g(t).userData.role==="head"?(p(),v("button",{key:2,class:U(["nav-btn",{"nav-btn-active":g(n)==="page3"}]),onClick:r[3]||(r[3]=T=>o("page3"))},[M(K,{icon:"mdi-account-group-outline"}),j(" STUDENTS ")],2)):k("",!0),g(t).userData&&g(t).userData.role&&g(t).userData.role==="head"?(p(),v("button",{key:3,class:U(["nav-btn",{"nav-btn-active":g(n)==="page4"}]),onClick:r[4]||(r[4]=T=>o("page4"))},[M(K,{icon:"mdi-chart-bar"}),j(" ANALYTICS ")],2)):k("",!0),g(t).userData&&g(t).userData.role&&g(t).userData.role==="head"?(p(),v("button",{key:4,class:U(["nav-btn",{"nav-btn-active":g(n)==="page5"}]),onClick:r[5]||(r[5]=T=>o("page5"))},[M(K,{icon:"mdi-alert-octagon-outline"}),j(" HELP ")],2)):k("",!0),g(t).userData&&g(t).userData.staff_role==="teacher"||g(t).userData&&g(t).userData.staff_role==="hod"?(p(),v("button",{key:5,class:U(["nav-btn",{"nav-btn-active":g(n)==="page1"}]),onClick:r[6]||(r[6]=T=>o("page1"))},[M(K,{icon:"mdi-book-open-outline"}),j(" COURSEWORK ")],2)):k("",!0),g(t).userData&&g(t).userData.staff_role==="teacher"||g(t).userData&&g(t).userData.staff_role==="hod"?(p(),v("button",{key:6,class:U(["nav-btn",{"nav-btn-active":g(n)==="page2"}]),onClick:r[7]||(r[7]=T=>o("page2"))},[M(K,{icon:"mdi-account-group-outline"}),j(" STUDENTS ")],2)):k("",!0),g(t).userData&&g(t).userData.staff_role==="teacher"||g(t).userData&&g(t).userData.staff_role==="hod"?(p(),v("button",{key:7,class:U(["nav-btn",{"nav-btn-active":g(n)==="page3"}]),onClick:r[8]||(r[8]=T=>o("page3"))},[M(K,{icon:"mdi-chart-bar"}),j(" ANALYTICS ")],2)):k("",!0),g(t).userData&&g(t).userData.staff_role==="hod"?(p(),v("button",{key:8,class:U(["nav-btn",{"nav-btn-active":g(n)==="page4"}]),onClick:r[9]||(r[9]=T=>o("page4"))},[M(K,{icon:"mdi-account-multiple"}),j(" TEACHERS ")],2)):k("",!0),g(t).userData&&g(t).userData.staff_role==="hod"?(p(),v("button",{key:9,class:U(["nav-btn",{"nav-btn-active":g(n)==="page5"}]),onClick:r[10]||(r[10]=T=>o("page5"))},[M(K,{icon:"mdi-chart-line"}),j(" PERFORMANCE ")],2)):k("",!0),g(t).userData&&g(t).userData.staff_role==="admin"?(p(),v("button",{key:10,class:U(["nav-btn",{"nav-btn-active":g(n)==="page1"}]),onClick:r[11]||(r[11]=T=>o("page1"))},[M(K,{icon:"mdi-calendar"}),j(" CALENDAR ")],2)):k("",!0),g(t).userData&&g(t).userData.staff_role==="admin"?(p(),v("button",{key:11,class:U(["nav-btn",{"nav-btn-active":g(n)==="page2"}]),onClick:r[12]||(r[12]=T=>o("page2"))},[M(K,{icon:"mdi-account-group-outline"}),j(" STUDENTS ")],2)):k("",!0),g(t).userData&&g(t).userData.staff_role==="admin"?(p(),v("button",{key:12,class:U(["nav-btn",{"nav-btn-active":g(n)==="page3"}]),onClick:r[13]||(r[13]=T=>o("page3"))},[M(K,{icon:"mdi-account-multiple"}),j(" TEACHERS ")],2)):k("",!0),g(t).userData&&g(t).userData.role==="staff"?(p(),v("button",{key:13,class:U(["nav-btn",{"nav-btn-active":g(n)==="page6"}]),onClick:r[14]||(r[14]=T=>o("page6"))},[M(K,{icon:"mdi-alert-octagon-outline"}),j(" HELP ")],2)):k("",!0)]),g(t).userData&&g(t).userData.role&&g(t).userData.role==="head"?(p(),v("div",{key:0,class:"pages",style:G(g(n)==="page1"?{display:"flex"}:{display:"none"})},[M(d)],4)):k("",!0),g(t).userData&&g(t).userData.role&&g(t).userData.role==="head"?(p(),v("div",{key:1,class:"pages",style:G(g(n)==="page2"?{display:"flex"}:{display:"none"})},[M(h)],4)):k("",!0),g(t).userData&&g(t).userData.role&&g(t).userData.role==="head"?(p(),v("div",{key:2,class:"pages",style:G(g(n)==="page3"?{display:"flex"}:{display:"none"})},[M(f)],4)):k("",!0),g(t).userData&&g(t).userData.role&&g(t).userData.role==="head"?(p(),v("div",{key:3,class:"pages",style:G(g(n)==="page4"?{display:"flex"}:{display:"none"})},[M(m)],4)):k("",!0),g(t).userData&&g(t).userData.role&&g(t).userData.role==="head"?(p(),v("div",{key:4,class:"pages",style:G(g(n)==="page5"?{display:"flex"}:{display:"none"})},[M(_)],4)):k("",!0),g(t).userData&&g(t).userData.staff_role==="teacher"||g(t).userData&&g(t).userData.staff_role==="hod"?(p(),v("div",{key:5,class:"pages",style:G(g(n)==="page1"?{display:"flex"}:{display:"none"})},[M(b)],4)):k("",!0),g(t).userData&&g(t).userData.staff_role==="teacher"||g(t).userData&&g(t).userData.staff_role==="hod"?(p(),v("div",{key:6,class:"pages",style:G(g(n)==="page2"?{display:"flex"}:{display:"none"})},[M(y)],4)):k("",!0),g(t).userData&&g(t).userData.staff_role==="teacher"||g(t).userData&&g(t).userData.staff_role==="hod"?(p(),v("div",{key:7,class:"pages",style:G(g(n)==="page3"?{display:"flex"}:{display:"none"})},[M(D)],4)):k("",!0),g(t).userData&&g(t).userData.staff_role==="hod"?(p(),v("div",{key:8,class:"pages",style:G(g(n)==="page4"?{display:"flex"}:{display:"none"})},[M(w)],4)):k("",!0),g(t).userData&&g(t).userData.staff_role==="hod"?(p(),v("div",{key:9,class:"pages",style:G(g(n)==="page5"?{display:"flex"}:{display:"none"})},[M($)],4)):k("",!0),g(t).userData&&g(t).userData.staff_role==="admin"?(p(),v("div",{key:10,class:"pages",style:G(g(n)==="page1"?{display:"flex"}:{display:"none"})},[M(P)],4)):k("",!0),g(t).userData&&g(t).userData.staff_role==="admin"?(p(),v("div",{key:11,class:"pages",style:G(g(n)==="page2"?{display:"flex"}:{display:"none"})},[M(A)],4)):k("",!0),g(t).userData&&g(t).userData.staff_role==="admin"?(p(),v("div",{key:12,class:"pages",style:G(g(n)==="page3"?{display:"flex"}:{display:"none"})},[M(O)],4)):k("",!0),g(t).userData&&g(t).userData.role&&g(t).userData.role==="staff"?(p(),v("div",{key:13,class:"pages",style:G(g(n)==="page6"?{display:"flex"}:{display:"none"})},[M(_)],4)):k("",!0)])]),M(C)],64)}}}),dk=at(ek,[["__scopeId","data-v-94dfba46"]]);export{dk as default};
