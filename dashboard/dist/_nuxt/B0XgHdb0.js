var Tl=Object.defineProperty;var Dl=(s,t,e)=>t in s?Tl(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var z=(s,t,e)=>(Dl(s,typeof t!="symbol"?t+"":t,e),e);import{m as Ml,V as La,a as pt,_ as St,b as Fe,c as Le,d as $t,e as Ve,f as ts,g as Pt,h as Xn,i as Jn,j as ro,k as Cl,l as Al}from"./t0hFyzsI.js";import{M as co,N as $l,O as uo,P as ho,Q as El,c as G,R as fo,z as w,S as Rt,d as q,t as m,v as x,x as u,y,_ as tt,F as ot,r as D,T as L,A as I,B as V,L as k,C as kt,D as wt,U as Ke,K as p,V as U,W as st,X as W,Y as X,Z as mo,g as Kn,$ as Pl,o as Ol,e as po,a0 as qn,a1 as go,a2 as _o,a3 as Xe,a4 as xt,a5 as Il,a6 as Rl,a7 as Va,a8 as Fl,J as Kt,G as Ll}from"./CkHxpEjH.js";import{u as vo,a as H,V as Z}from"./s0wVK-VI.js";import{u as ma,V as Fs,a as Ls,b as es,c as Vl}from"./ByCaPt8l.js";import{m as bo,u as yo,b as bn,a as nt,c as Nl,f as Bl,d as zl,e as jl,g as Hl,_ as Wl}from"./YIhk8lEr.js";import{u as Ul}from"./CiQTG2uH.js";const Yl=co({...bo(),...$l(Ml(),["inline"])},"VCheckbox"),Gl=uo()({name:"VCheckbox",inheritAttrs:!1,props:Yl(),emits:{"update:modelValue":s=>!0,"update:focused":s=>!0},setup(s,t){let{attrs:e,slots:n}=t;const a=ho(s,"modelValue"),{isFocused:i,focus:o,blur:l}=yo(s),r=El(),c=G(()=>s.id||`checkbox-${r}`);return vo(()=>{const[d,h]=fo(e),f=bn.filterProps(s),g=La.filterProps(s);return w(bn,Rt({class:["v-checkbox",s.class]},d,f,{modelValue:a.value,"onUpdate:modelValue":v=>a.value=v,id:c.value,focused:i.value,style:s.style}),{...n,default:v=>{let{id:_,messagesId:b,isDisabled:T,isReadonly:S}=v;return w(La,Rt(g,{id:_.value,"aria-describedby":b.value,disabled:T.value,readonly:S.value},h,{modelValue:a.value,"onUpdate:modelValue":A=>a.value=A,onFocus:o,onBlur:l}),n)}})}),{}}}),Xl={class:"w-100 h-100 flex-all-c"},Jl={class:"no-data"},Kl=q({__name:"NoData",props:{message:{}},setup(s){return(t,e)=>(m(),x("div",Xl,[u("h4",Jl,[u("p",null,y(t.message),1)])]))}}),ue=tt(Kl,[["__scopeId","data-v-f46f0caa"]]),Vs=s=>(kt("data-v-97a291fc"),s=s(),wt(),s),ql={style:{width:"100%",position:"relative",height:"100%"}},Zl={class:"table-title-container",style:{position:"relative"}},Ql=Vs(()=>u("td",null,"Justice",-1)),tr={class:"subtitle"},er=Vs(()=>u("td",{class:"table-data"},"Total",-1)),sr={class:"table-data-value"},nr={key:0,class:"table-data"},ar=Vs(()=>u("td",{class:"table-data"},"form one",-1)),ir={class:"table-data-value"},or={key:0,class:"table-data"},lr=Vs(()=>u("td",{class:"table-data"},"form two",-1)),rr={class:"table-data-value"},cr={key:0,class:"table-data"},dr=Vs(()=>u("td",{class:"table-data"},"form three",-1)),ur={class:"table-data-value"},hr={key:0,class:"table-data"},fr=q({__name:"HeadOverviewPrograms",props:{program:{}},setup(s){const{program:t}=s;ot();const e=D([]),n=D([]),a=D([]),i=D([]),o=D([]),l=D([]),r=D([]),c=D([]),d=D([]),h=D([]),f=D([]),g=D([]);return t.classes.forEach(v=>{v&&v.students&&v.students.forEach(_=>{e.value.push(_),_.gender&&_.gender==="MALE"||_.gender==="M"?n.value.push(_):a.value.push(_),_.current_year&&_.current_year===1?(i.value.push(_),_.gender&&_.gender==="MALE"||_.gender==="M"?o.value.push(_):l.value.push(_)):_.current_year&&_.current_year===2?(r.value.push(_),_.gender&&_.gender==="MALE"||_.gender==="M"?c.value.push(_):d.value.push(_)):_.current_year&&_.current_year===3&&(h.value.push(_),_.gender&&_.gender==="MALE"||_.gender==="M"?f.value.push(_):g.value.push(_))})}),(v,_)=>(m(),x("div",ql,[e.value.length>0?(m(),L(pt,{key:0,class:"mt-5",height:"300px"},{default:I(()=>[u("tbody",null,[u("tr",Zl,[Ql,u("td",tr,y(v.program.name),1)]),u("tr",null,[er,u("td",sr,[V(y(e.value.length)+" ",1),e.value&&e.value.length>0&&e.value[0].gender?(m(),x("span",nr," [ M: "+y(n.value.length)+"("+y(parseFloat((n.value.length/e.value.length*100).toFixed(1)))+")%] [ F: "+y(a.value.length)+"("+y(parseFloat((a.value.length/e.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])]),u("tr",null,[ar,u("td",ir,[V(y(i.value.length)+" ",1),i.value&&i.value.length>0&&i.value[0].gender?(m(),x("span",or," [ M: "+y(o.value.length)+"("+y(parseFloat((o.value.length/i.value.length*100).toFixed(1)))+")%] [ F: "+y(l.value.length)+"("+y(parseFloat((l.value.length/i.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])]),u("tr",null,[lr,u("td",rr,[V(y(r.value.length)+" ",1),r.value&&r.value.length>0&&r.value[0].gender?(m(),x("span",cr," [ M: "+y(c.value.length)+"("+y(parseFloat((c.value.length/r.value.length*100).toFixed(1)))+")%] [ F: "+y(d.value.length)+"("+y(parseFloat((d.value.length/r.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])]),u("tr",null,[dr,u("td",ur,[V(y(h.value.length)+" ",1),h.value&&h.value.length>0&&h.value[0].gender?(m(),x("span",hr," [ M: "+y(f.value.length)+"("+y(parseFloat((f.value.length/h.value.length*100).toFixed(1)))+")%] [ F: "+y(g.value.length)+"("+y(parseFloat((g.value.length/h.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])])])]),_:1})):k("",!0)]))}}),mr=tt(fr,[["__scopeId","data-v-97a291fc"]]),ze=s=>(kt("data-v-a79dd4bb"),s=s(),wt(),s),pr={style:{width:"100%",position:"relative",height:"100%"},class:"overview"},gr=ze(()=>u("tr",{class:"table-title-container",style:{position:"relative"}},[u("td",null,"Justice"),u("td",{class:"table-title"},"students")],-1)),_r=ze(()=>u("td",{class:"table-data"},"Total",-1)),vr={class:"table-data-value"},br={key:0,class:"table-data"},yr=ze(()=>u("td",{class:"table-data"},"form one",-1)),xr={class:"table-data-value"},Sr={key:0,class:"table-data"},kr=ze(()=>u("td",{class:"table-data"},"form two",-1)),wr={class:"table-data-value"},Tr={key:0,class:"table-data"},Dr=ze(()=>u("td",{class:"table-data"},"form three",-1)),Mr={class:"table-data-value"},Cr={key:0,class:"table-data"},Ar=ze(()=>u("tr",{class:"table-title-container",style:{position:"relative"}},[u("td",null,"Justice"),u("td",{class:"table-title"},"teachers")],-1)),$r={key:0},Er=ze(()=>u("td",{class:"table-data"},"total",-1)),Pr={class:"table-data-value"},Or={key:0,class:"table-data"},Ir=q({__name:"HeadOverview",setup(s){const t=ot(),e=D([]),n=D([]),a=D([]),i=D([]),o=D([]),l=D([]),r=D([]),c=D([]),d=D([]),h=D([]),f=D([]),g=D([]),v=D([]),_=D([]),b=D([]);return Ke(()=>t.headDepartments,(T,S)=>{T&&T.forEach(A=>{A&&A.department.teachers.forEach(E=>{v.value.push(E),E.gender&&E.gender==="MALE"||E.gender==="M"?_.value.push(E):b.value.push(E)})})}),Ke(()=>t.headPrograms,(T,S)=>{T&&T.forEach(A=>{A.classes.forEach(E=>{E&&E.students&&E.students.forEach(M=>{e.value.push(M),M.gender&&M.gender==="MALE"||M.gender==="M"?n.value.push(M):a.value.push(M),M.current_year&&M.current_year===1?(i.value.push(M),M.gender&&M.gender==="MALE"||M.gender==="M"?o.value.push(M):l.value.push(M)):M.current_year&&M.current_year===2?(r.value.push(M),M.gender&&M.gender==="MALE"||M.gender==="M"?c.value.push(M):d.value.push(M)):M.current_year&&M.current_year===3&&(h.value.push(M),M.gender&&M.gender==="MALE"||M.gender==="M"?f.value.push(M):g.value.push(M))})})})}),(T,S)=>{const A=St,E=ue,M=mr;return m(),x("div",pr,[!p(t).headDepartments&&!p(t).headPrograms?(m(),L(A,{key:0})):k("",!0),p(t).headDepartments&&p(t).headPrograms&&e.value.length===0&&v.value.length===0?(m(),L(E,{key:1,message:"No data yet"})):k("",!0),e.value.length>0||v.value.length>0?(m(),L(pt,{key:2,class:"mt-5",height:"300px"},{default:I(()=>[u("tbody",null,[gr,u("tr",null,[_r,u("td",vr,[V(y(e.value.length)+" ",1),e.value&&e.value.length>0&&e.value[0].gender?(m(),x("span",br," [ M: "+y(n.value.length)+"("+y(parseFloat((n.value.length/e.value.length*100).toFixed(1)))+")%] [ F: "+y(a.value.length)+"("+y(parseFloat((a.value.length/e.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])]),u("tr",null,[yr,u("td",xr,[V(y(i.value.length)+" ",1),i.value&&i.value.length>0&&i.value[0].gender?(m(),x("span",Sr," [ M: "+y(o.value.length)+"("+y(parseFloat((o.value.length/i.value.length*100).toFixed(1)))+")%] [ F: "+y(l.value.length)+"("+y(parseFloat((l.value.length/i.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])]),u("tr",null,[kr,u("td",wr,[V(y(r.value.length)+" ",1),r.value&&r.value.length>0&&r.value[0].gender?(m(),x("span",Tr," [ M: "+y(c.value.length)+"("+y(parseFloat((c.value.length/r.value.length*100).toFixed(1)))+")%] [ F: "+y(d.value.length)+"("+y(parseFloat((d.value.length/r.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])]),u("tr",null,[Dr,u("td",Mr,[V(y(h.value.length)+" ",1),h.value&&h.value.length>0&&h.value[0].gender?(m(),x("span",Cr," [ M: "+y(f.value.length)+"("+y(parseFloat((f.value.length/h.value.length*100).toFixed(1)))+")%] [ F: "+y(g.value.length)+"("+y(parseFloat((g.value.length/h.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])])])]),_:1})):k("",!0),(m(!0),x(U,null,st(p(t).headPrograms,(O,$)=>(m(),x("div",{key:$},[w(M,{program:O},null,8,["program"])]))),128)),e.value.length>0||v.value.length>0?(m(),L(pt,{key:3,class:"mt-5",height:"110px"},{default:I(()=>[u("tbody",null,[Ar,v.value?(m(),x("tr",$r,[Er,u("td",Pr,[V(y(v.value.length)+" ",1),v.value.length>0&&v.value[0].gender?(m(),x("span",Or," [ M: "+y(_.value.length)+"("+y(parseFloat((_.value.length/v.value.length*100).toFixed(1)))+")%] [ F: "+y(b.value.length)+"("+y(parseFloat((b.value.length/v.value.length*100).toFixed(1)))+")%] ",1)):k("",!0)])])):k("",!0)])]),_:1})):k("",!0)])}}}),Rr=tt(Ir,[["__scopeId","data-v-a79dd4bb"]]),Fr=s=>(kt("data-v-ffd145ef"),s=s(),wt(),s),Lr={style:{width:"100%",position:"relative",height:"100%"}},Vr=Fr(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"NAME"),u("th",{class:"table-head"},"STAFF ID"),u("th",{class:"table-head"},"SUBJECT(S)"),u("th",{class:"table-head"},"IMAGE")])],-1)),Nr={class:"table-data"},Br={key:0,style:{color:"seagreen"}},zr={class:"table-data"},jr={class:"table-data"},Hr={class:"table-data"},Wr=["src"],Ur=q({__name:"HeadDepartmentStaffProfile",props:{staff:null},setup(s){const t=s;return(e,n)=>{const a=St,i=ue;return m(),x("div",Lr,[t.staff?k("",!0):(m(),L(a,{key:0})),t.staff&&t.staff.length===0?(m(),L(i,{key:1,message:"No data yet"})):k("",!0),t.staff&&t.staff.length>0?(m(),L(pt,{key:2,"fixed-header":"",height:"55dvh"},{default:I(()=>[Vr,u("tbody",null,[(m(!0),x(U,null,st(t.staff,(o,l)=>(m(),x("tr",{key:l},[u("td",Nr,[V(y(o.user.first_name)+" "+y(o.user.last_name)+" ",1),o.role==="hod"?(m(),x("span",Br,"[HOD]")):k("",!0)]),u("td",zr,y(o.staff_id),1),u("td",jr,[(m(!0),x(U,null,st(o.subjects,(r,c)=>(m(),x("p",{key:c},y(r.name),1))),128))]),u("td",Hr,[u("img",{class:"profile-img",src:o.img},null,8,Wr)])]))),128))])]),_:1})):k("",!0)])}}}),Yr=tt(Ur,[["__scopeId","data-v-ffd145ef"]]),xo=s=>(kt("data-v-7df1e18b"),s=s(),wt(),s),Gr={style:{width:"100%",position:"relative",height:"100%"}},Xr=xo(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"TEACHER"),u("th",{class:"table-head"},"STAFF ID"),u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM")])],-1)),Jr={class:"table-data"},Kr={class:"table-data"},qr={class:"table-data"},Zr={class:"table-data"},Qr={class:"table-data"},tc=xo(()=>u("tr",{class:"empty-row"},"Justice",-1)),ec=q({__name:"HeadDepartmentTermCourseAssignment",props:{term:{}},setup(s){return(t,e)=>{const n=St,a=ue;return m(),x("div",Gr,[t.term?k("",!0):(m(),L(n,{key:0})),t.term&&t.term.length===0?(m(),L(a,{key:1,message:"No data yet"})):k("",!0),t.term&&t.term.length>0?(m(),L(pt,{key:2,"fixed-header":"",height:"45dvh"},{default:I(()=>[Xr,u("tbody",null,[(m(!0),x(U,null,st(t.term,(i,o)=>(m(),x("tr",{key:o},[u("td",Jr,y(i.teacher.user.first_name)+" "+y(i.teacher.user.last_name),1),u("td",Kr,y(i.teacher.staff_id),1),u("td",qr,y(i.subject.name),1),u("td",Zr,y(i.students_class.name),1),u("td",Qr,y(i.students_class.students_year),1)]))),128)),tc])]),_:1})):k("",!0)])}}}),sc=tt(ec,[["__scopeId","data-v-7df1e18b"]]),nc={class:"subsections-container"},ac={key:0,class:"subsection-nav-container"},ic={key:1,class:"subsection-nav-container"},oc={class:"subsections"},lc=q({__name:"HeadDepartmentsCourseAssignment",props:{subjectAssignment:{}},setup(s){const t=ot(),e=D(t.activeTerm),n=a=>{e.value=a};return(a,i)=>{const o=sc;return m(),x("div",nc,[p(t).userData&&p(t).userData.school.semesters?(m(),x("div",ac,[u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value===1}]),onClick:i[0]||(i[0]=l=>n(1))},"SEMESTER 1",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value===2}]),onClick:i[1]||(i[1]=l=>n(2))},"SEMESTER 2",2)])):k("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("div",ic,[u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value===1}]),onClick:i[2]||(i[2]=l=>n(1))},"TRIMESTER 1",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value===2}]),onClick:i[3]||(i[3]=l=>n(2))},"TRIMESTER 2",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value===3}]),onClick:i[4]||(i[4]=l=>n(3))},"TRIMESTER 3",2)])):k("",!0),u("div",oc,[u("div",{class:"h-100",style:X(e.value===1?{display:"flex"}:{display:"none"})},[w(o,{term:a.subjectAssignment.term_one},null,8,["term"])],4),u("div",{class:"h-100",style:X(e.value===2?{display:"flex"}:{display:"none"})},[w(o,{term:a.subjectAssignment.term_two},null,8,["term"])],4),p(t).userData&&!p(t).userData.school.semesters?(m(),x("div",{key:0,class:"h-100",style:X(e.value===3?{display:"flex"}:{display:"none"})},[w(o,{term:a.subjectAssignment.term_three},null,8,["term"])],4)):k("",!0)])])}}}),rc={class:"subsections-container"},cc={class:"subsection-nav-container"},dc={class:"subsections"},uc=q({__name:"HeadDepartmentPage",props:{department:null},setup(s){const t=s,e=D("section1"),n=a=>{e.value=a};return(a,i)=>{const o=Yr,l=lc;return m(),x("div",rc,[u("div",cc,[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":e.value==="section1"}]),onClick:i[0]||(i[0]=r=>n("section1"))},[w(H,{icon:"mdi-account"}),V(" TEACHERS PROFILE ")],2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":e.value==="section2"}]),onClick:i[1]||(i[1]=r=>n("section2"))},[w(H,{icon:"mdi-book-open-outline"}),V(" TEACHERS COURSEWORK ")],2)]),u("div",dc,[u("div",{style:X(e.value==="section1"?{display:"flex"}:{display:"none"})},[w(o,{staff:t.department.department.teachers},null,8,["staff"])],4),u("div",{class:"h-100",style:X(e.value==="section2"?{display:"flex"}:{display:"none"})},[w(l,{subjectAssignment:t.department.subject_assignments},null,8,["subjectAssignment"])],4)])])}}}),hc=tt(uc,[["__scopeId","data-v-d521e7d1"]]),fc={class:"sections-container"},mc={key:2,class:"section-nav-container"},pc=["onClick"],gc={key:3,class:"sections"},_c=q({__name:"HeadDepartments",setup(s){const t=D("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=St,l=ue,r=hc;return m(),x("div",fc,[p(e).headDepartments?k("",!0):(m(),L(o,{key:0,class:"no-data"})),p(e).headDepartments&&p(e).headDepartments.length===0?(m(),L(l,{key:1,message:"No data yet"})):k("",!0),p(e).headDepartments&&p(e).headDepartments.length>0?(m(),x("div",mc,[(m(!0),x(U,null,st(p(e).headDepartments,(c,d)=>(m(),x("button",{key:d,class:W(["nav-btn-1",{"nav-btn-1-active":t.value===`section${d+1}`}]),onClick:h=>n(`section${d+1}`)},[c.department.name==="MATHEMATICS"?(m(),L(H,{key:0,icon:"mdi-function-variant"})):k("",!0),c.department.name==="ENGLISH"?(m(),L(H,{key:1,icon:"mdi-book-open-variant"})):k("",!0),c.department.name==="LANGUAGES"?(m(),L(H,{key:2,icon:"mdi-book-open-variant"})):k("",!0),c.department.name==="ARTS"?(m(),L(H,{key:3,icon:"mdi-history"})):k("",!0),c.department.name==="SCIENCE"?(m(),L(H,{key:4,icon:"mdi-flask"})):k("",!0),c.department.name==="BUSINESS"?(m(),L(H,{key:5,icon:"mdi-finance"})):k("",!0),u("span",null,y(c.department.name),1)],10,pc))),128))])):k("",!0),p(e).headDepartments&&p(e).headDepartments.length>0?(m(),x("div",gc,[(m(!0),x(U,null,st(p(e).headDepartments,(c,d)=>(m(),x("div",{class:"h-100",key:d,style:X(t.value===`section${d+1}`?{display:"flex"}:{display:"none"})},[w(r,{department:c},null,8,["department"])],4))),128))])):k("",!0)])}}}),vc=tt(_c,[["__scopeId","data-v-c7ac5865"]]),bc=s=>(kt("data-v-64f01a30"),s=s(),wt(),s),yc={style:{width:"100%",position:"relative",height:"100%"}},xc=bc(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"STUDENTS")])],-1)),Sc={class:"table-data"},kc={class:"table-data"},wc={style:{padding:"0"}},Tc={class:"student-info-container"},Dc=["src"],Mc={class:"flex-all-c"},Cc={class:"user-name"},Ac={class:"user-name"},$c=q({__name:"HeadStudentsProgram",props:{program:{}},setup(s){return ma(),(t,e)=>(m(),x("div",yc,[w(pt,{"fixed-header":"",height:"300px"},{default:I(()=>[xc,u("tbody",null,[(m(!0),x(U,null,st(t.program.classes,(n,a)=>(m(),x("tr",{key:a},[u("td",Sc,y(n.name),1),u("td",kc,y(n.students_year),1),u("td",wc,[w(Fe,{class:"pa-0"},{default:I(()=>[w(Le,null,{activator:I(({props:i})=>[w($t,Rt({class:"title",ref_for:!0},i),{default:I(()=>[w(H,{icon:"mdi-account-circle"}),V(y(n.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:I(()=>[w(Ve,{class:"v-scroll",height:"22vh",items:n.students},{default:I(({item:i})=>[w($t,{style:{position:"relative"}},{default:I(()=>[u("div",Tc,[u("img",{class:"profile-img",src:i.img},null,8,Dc),u("div",Mc,[u("p",Cc,y(i.user.first_name+" "+i.user.last_name),1),u("p",Ac,y(i.st_id),1)])])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1})]))}}),Ec=tt($c,[["__scopeId","data-v-64f01a30"]]),Pc={class:"sections-container"},Oc=["onClick"],Ic={key:3,class:"sections"},Rc=q({__name:"HeadStudents",setup(s){const t=D("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=St,l=ue,r=Ec;return m(),x("div",Pc,[p(e).headPrograms?k("",!0):(m(),L(o,{key:0})),p(e).headPrograms&&p(e).headPrograms.length===0?(m(),L(l,{key:1,message:"No data yet"})):k("",!0),p(e).headPrograms&&p(e).headPrograms.length>0?(m(),L(ts,{key:2,class:"section-nav-container",elevation:"0"},{default:I(()=>[(m(!0),x(U,null,st(p(e).headPrograms,(c,d)=>(m(),x("button",{key:d,class:W(["nav-btn-2 btn-1",{"nav-btn-2-active":t.value===`section${d+1}`}]),onClick:h=>n(`section${d+1}`)},[c.name==="AGRICULTURAL SCIENCE"?(m(),L(H,{key:0,icon:"mdi-function-variant"})):k("",!0),c.name==="VISUAL ARTS"?(m(),L(H,{key:1,icon:"mdi-book-open-variant"})):k("",!0),c.name==="GENERAL ARTS"?(m(),L(H,{key:2,icon:"mdi-history"})):k("",!0),c.name==="GENERAL SCIENCE"?(m(),L(H,{key:3,icon:"mdi-flask"})):k("",!0),c.name==="BUSINESS"?(m(),L(H,{key:4,icon:"mdi-finance"})):k("",!0),c.name==="HOME ECONOMICS"?(m(),L(H,{key:5,icon:"mdi-finance"})):k("",!0),V(" "+y(c.name),1)],10,Oc))),128))]),_:1})):k("",!0),p(e).headPrograms&&p(e).headPrograms.length>0?(m(),x("div",Ic,[(m(!0),x(U,null,st(p(e).headPrograms,(c,d)=>(m(),x("div",{class:"w-100 h-100",style:X(t.value===`section${d+1}`?{display:"flex"}:{display:"none"}),key:d},[w(r,{program:c},null,8,["program"])],4))),128))])):k("",!0)])}}}),Fc=tt(Rc,[["__scopeId","data-v-8d6ad48c"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Ns(s){return s+.5|0}const me=(s,t,e)=>Math.max(Math.min(s,e),t);function ps(s){return me(Ns(s*2.55),0,255)}function ve(s){return me(Ns(s*255),0,255)}function le(s){return me(Ns(s/2.55)/100,0,1)}function Na(s){return me(Ns(s*100),0,100)}const Xt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zn=[..."0123456789ABCDEF"],Lc=s=>Zn[s&15],Vc=s=>Zn[(s&240)>>4]+Zn[s&15],Ks=s=>(s&240)>>4===(s&15),Nc=s=>Ks(s.r)&&Ks(s.g)&&Ks(s.b)&&Ks(s.a);function Bc(s){var t=s.length,e;return s[0]==="#"&&(t===4||t===5?e={r:255&Xt[s[1]]*17,g:255&Xt[s[2]]*17,b:255&Xt[s[3]]*17,a:t===5?Xt[s[4]]*17:255}:(t===7||t===9)&&(e={r:Xt[s[1]]<<4|Xt[s[2]],g:Xt[s[3]]<<4|Xt[s[4]],b:Xt[s[5]]<<4|Xt[s[6]],a:t===9?Xt[s[7]]<<4|Xt[s[8]]:255})),e}const zc=(s,t)=>s<255?t(s):"";function jc(s){var t=Nc(s)?Lc:Vc;return s?"#"+t(s.r)+t(s.g)+t(s.b)+zc(s.a,t):void 0}const Hc=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function So(s,t,e){const n=t*Math.min(e,1-e),a=(i,o=(i+s/30)%12)=>e-n*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function Wc(s,t,e){const n=(a,i=(a+s/60)%6)=>e-e*t*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function Uc(s,t,e){const n=So(s,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)n[a]*=1-t-e,n[a]+=t;return n}function Yc(s,t,e,n,a){return s===a?(t-e)/n+(t<e?6:0):t===a?(e-s)/n+2:(s-t)/n+4}function pa(s){const e=s.r/255,n=s.g/255,a=s.b/255,i=Math.max(e,n,a),o=Math.min(e,n,a),l=(i+o)/2;let r,c,d;return i!==o&&(d=i-o,c=l>.5?d/(2-i-o):d/(i+o),r=Yc(e,n,a,d,i),r=r*60+.5),[r|0,c||0,l]}function ga(s,t,e,n){return(Array.isArray(t)?s(t[0],t[1],t[2]):s(t,e,n)).map(ve)}function _a(s,t,e){return ga(So,s,t,e)}function Gc(s,t,e){return ga(Uc,s,t,e)}function Xc(s,t,e){return ga(Wc,s,t,e)}function ko(s){return(s%360+360)%360}function Jc(s){const t=Hc.exec(s);let e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?ps(+t[5]):ve(+t[5]));const a=ko(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=Gc(a,i,o):t[1]==="hsv"?n=Xc(a,i,o):n=_a(a,i,o),{r:n[0],g:n[1],b:n[2],a:e}}function Kc(s,t){var e=pa(s);e[0]=ko(e[0]+t),e=_a(e),s.r=e[0],s.g=e[1],s.b=e[2]}function qc(s){if(!s)return;const t=pa(s),e=t[0],n=Na(t[1]),a=Na(t[2]);return s.a<255?`hsla(${e}, ${n}%, ${a}%, ${le(s.a)})`:`hsl(${e}, ${n}%, ${a}%)`}const Ba={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},za={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Zc(){const s={},t=Object.keys(za),e=Object.keys(Ba);let n,a,i,o,l;for(n=0;n<t.length;n++){for(o=l=t[n],a=0;a<e.length;a++)i=e[a],l=l.replace(i,Ba[i]);i=parseInt(za[o],16),s[l]=[i>>16&255,i>>8&255,i&255]}return s}let qs;function Qc(s){qs||(qs=Zc(),qs.transparent=[0,0,0,0]);const t=qs[s.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const td=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ed(s){const t=td.exec(s);let e=255,n,a,i;if(t){if(t[7]!==n){const o=+t[7];e=t[8]?ps(o):me(o*255,0,255)}return n=+t[1],a=+t[3],i=+t[5],n=255&(t[2]?ps(n):me(n,0,255)),a=255&(t[4]?ps(a):me(a,0,255)),i=255&(t[6]?ps(i):me(i,0,255)),{r:n,g:a,b:i,a:e}}}function sd(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${le(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const Fn=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,Ue=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function nd(s,t,e){const n=Ue(le(s.r)),a=Ue(le(s.g)),i=Ue(le(s.b));return{r:ve(Fn(n+e*(Ue(le(t.r))-n))),g:ve(Fn(a+e*(Ue(le(t.g))-a))),b:ve(Fn(i+e*(Ue(le(t.b))-i))),a:s.a+e*(t.a-s.a)}}function Zs(s,t,e){if(s){let n=pa(s);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=_a(n),s.r=n[0],s.g=n[1],s.b=n[2]}}function wo(s,t){return s&&Object.assign(t||{},s)}function ja(s){var t={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(t={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(t.a=ve(s[3]))):(t=wo(s,{r:0,g:0,b:0,a:1}),t.a=ve(t.a)),t}function ad(s){return s.charAt(0)==="r"?ed(s):Jc(s)}class Ms{constructor(t){if(t instanceof Ms)return t;const e=typeof t;let n;e==="object"?n=ja(t):e==="string"&&(n=Bc(t)||Qc(t)||ad(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=wo(this._rgb);return t&&(t.a=le(t.a)),t}set rgb(t){this._rgb=ja(t)}rgbString(){return this._valid?sd(this._rgb):void 0}hexString(){return this._valid?jc(this._rgb):void 0}hslString(){return this._valid?qc(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,a=t.rgb;let i;const o=e===i?.5:e,l=2*o-1,r=n.a-a.a,c=((l*r===-1?l:(l+r)/(1+l*r))+1)/2;i=1-c,n.r=255&c*n.r+i*a.r+.5,n.g=255&c*n.g+i*a.g+.5,n.b=255&c*n.b+i*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=nd(this._rgb,t._rgb,e)),this}clone(){return new Ms(this.rgb)}alpha(t){return this._rgb.a=ve(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Ns(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Zs(this._rgb,2,t),this}darken(t){return Zs(this._rgb,2,-t),this}saturate(t){return Zs(this._rgb,1,t),this}desaturate(t){return Zs(this._rgb,1,-t),this}rotate(t){return Kc(this._rgb,t),this}}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function ae(){}const id=(()=>{let s=0;return()=>s++})();function lt(s){return s===null||typeof s>"u"}function mt(s){if(Array.isArray&&Array.isArray(s))return!0;const t=Object.prototype.toString.call(s);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function at(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function bt(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function jt(s,t){return bt(s)?s:t}function et(s,t){return typeof s>"u"?t:s}const od=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/t,To=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*t:+s;function dt(s,t,e){if(s&&typeof s.call=="function")return s.apply(e,t)}function ct(s,t,e,n){let a,i,o;if(mt(s))for(i=s.length,a=0;a<i;a++)t.call(e,s[a],a);else if(at(s))for(o=Object.keys(s),i=o.length,a=0;a<i;a++)t.call(e,s[o[a]],o[a])}function yn(s,t){let e,n,a,i;if(!s||!t||s.length!==t.length)return!1;for(e=0,n=s.length;e<n;++e)if(a=s[e],i=t[e],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function xn(s){if(mt(s))return s.map(xn);if(at(s)){const t=Object.create(null),e=Object.keys(s),n=e.length;let a=0;for(;a<n;++a)t[e[a]]=xn(s[e[a]]);return t}return s}function Do(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function ld(s,t,e,n){if(!Do(s))return;const a=t[s],i=e[s];at(a)&&at(i)?Cs(a,i,n):t[s]=xn(i)}function Cs(s,t,e){const n=mt(t)?t:[t],a=n.length;if(!at(s))return s;e=e||{};const i=e.merger||ld;let o;for(let l=0;l<a;++l){if(o=n[l],!at(o))continue;const r=Object.keys(o);for(let c=0,d=r.length;c<d;++c)i(r[c],s,o,e)}return s}function xs(s,t){return Cs(s,t,{merger:rd})}function rd(s,t,e){if(!Do(s))return;const n=t[s],a=e[s];at(n)&&at(a)?xs(n,a):Object.prototype.hasOwnProperty.call(t,s)||(t[s]=xn(a))}const Ha={"":s=>s,x:s=>s.x,y:s=>s.y};function cd(s){const t=s.split("."),e=[];let n="";for(const a of t)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function dd(s){const t=cd(s);return e=>{for(const n of t){if(n==="")break;e=e&&e[n]}return e}}function be(s,t){return(Ha[t]||(Ha[t]=dd(t)))(s)}function va(s){return s.charAt(0).toUpperCase()+s.slice(1)}const As=s=>typeof s<"u",ye=s=>typeof s=="function",Wa=(s,t)=>{if(s.size!==t.size)return!1;for(const e of s)if(!t.has(e))return!1;return!0};function ud(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const ht=Math.PI,ut=2*ht,hd=ut+ht,Sn=Number.POSITIVE_INFINITY,fd=ht/180,Tt=ht/2,Me=ht/4,Ua=ht*2/3,pe=Math.log10,se=Math.sign;function Ss(s,t,e){return Math.abs(s-t)<e}function Ya(s){const t=Math.round(s);s=Ss(s,t,s/1e3)?t:s;const e=Math.pow(10,Math.floor(pe(s))),n=s/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function md(s){const t=[],e=Math.sqrt(s);let n;for(n=1;n<e;n++)s%n===0&&(t.push(n),t.push(s/n));return e===(e|0)&&t.push(e),t.sort((a,i)=>a-i).pop(),t}function qe(s){return!isNaN(parseFloat(s))&&isFinite(s)}function pd(s,t){const e=Math.round(s);return e-t<=s&&e+t>=s}function Mo(s,t,e){let n,a,i;for(n=0,a=s.length;n<a;n++)i=s[n][e],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function qt(s){return s*(ht/180)}function ba(s){return s*(180/ht)}function Ga(s){if(!bt(s))return;let t=1,e=0;for(;Math.round(s*t)/t!==s;)t*=10,e++;return e}function Co(s,t){const e=t.x-s.x,n=t.y-s.y,a=Math.sqrt(e*e+n*n);let i=Math.atan2(n,e);return i<-.5*ht&&(i+=ut),{angle:i,distance:a}}function Qn(s,t){return Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))}function gd(s,t){return(s-t+hd)%ut-ht}function Ht(s){return(s%ut+ut)%ut}function $s(s,t,e,n){const a=Ht(s),i=Ht(t),o=Ht(e),l=Ht(i-a),r=Ht(o-a),c=Ht(a-i),d=Ht(a-o);return a===i||a===o||n&&i===o||l>r&&c<d}function Et(s,t,e){return Math.max(t,Math.min(e,s))}function _d(s){return Et(s,-32768,32767)}function re(s,t,e,n=1e-6){return s>=Math.min(t,e)-n&&s<=Math.max(t,e)+n}function ya(s,t,e){e=e||(o=>s[o]<t);let n=s.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,e(i)?a=i:n=i;return{lo:a,hi:n}}const ce=(s,t,e,n)=>ya(s,e,n?a=>{const i=s[a][t];return i<e||i===e&&s[a+1][t]===e}:a=>s[a][t]<e),vd=(s,t,e)=>ya(s,e,n=>s[n][t]>=e);function bd(s,t,e){let n=0,a=s.length;for(;n<a&&s[n]<t;)n++;for(;a>n&&s[a-1]>e;)a--;return n>0||a<s.length?s.slice(n,a):s}const Ao=["push","pop","shift","splice","unshift"];function yd(s,t){if(s._chartjs){s._chartjs.listeners.push(t);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ao.forEach(e=>{const n="_onData"+va(e),a=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return s._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),o}})})}function Xa(s,t){const e=s._chartjs;if(!e)return;const n=e.listeners,a=n.indexOf(t);a!==-1&&n.splice(a,1),!(n.length>0)&&(Ao.forEach(i=>{delete s[i]}),delete s._chartjs)}function $o(s){const t=new Set(s);return t.size===s.length?s:Array.from(t)}const Eo=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function Po(s,t){let e=[],n=!1;return function(...a){e=a,n||(n=!0,Eo.call(window,()=>{n=!1,s.apply(t,e)}))}}function xd(s,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(s,t,n)):s.apply(this,n),t}}const xa=s=>s==="start"?"left":s==="end"?"right":"center",Ot=(s,t,e)=>s==="start"?t:s==="end"?e:(t+e)/2,Sd=(s,t,e,n)=>s===(n?"left":"right")?e:s==="center"?(t+e)/2:t;function Oo(s,t,e){const n=t.length;let a=0,i=n;if(s._sorted){const{iScale:o,_parsed:l}=s,r=o.axis,{min:c,max:d,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(a=Et(Math.min(ce(l,r,c).lo,e?n:ce(t,r,o.getPixelForValue(c)).lo),0,n-1)),f?i=Et(Math.max(ce(l,o.axis,d,!0).hi+1,e?0:ce(t,r,o.getPixelForValue(d),!0).hi+1),a,n)-a:i=n-a}return{start:a,count:i}}function Io(s){const{xScale:t,yScale:e,_scaleRanges:n}=s,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return s._scaleRanges=a,!0;const i=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,a),i}const Qs=s=>s===0||s===1,Ja=(s,t,e)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-t)*ut/e)),Ka=(s,t,e)=>Math.pow(2,-10*s)*Math.sin((s-t)*ut/e)+1,ks={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*Tt)+1,easeOutSine:s=>Math.sin(s*Tt),easeInOutSine:s=>-.5*(Math.cos(ht*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Qs(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Qs(s)?s:Ja(s,.075,.3),easeOutElastic:s=>Qs(s)?s:Ka(s,.075,.3),easeInOutElastic(s){return Qs(s)?s:s<.5?.5*Ja(s*2,.1125,.45):.5+.5*Ka(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let t=1.70158;return(s/=.5)<1?.5*(s*s*(((t*=1.525)+1)*s-t)):.5*((s-=2)*s*(((t*=1.525)+1)*s+t)+2)},easeInBounce:s=>1-ks.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?ks.easeInBounce(s*2)*.5:ks.easeOutBounce(s*2-1)*.5+.5};function Sa(s){if(s&&typeof s=="object"){const t=s.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function qa(s){return Sa(s)?s:new Ms(s)}function Ln(s){return Sa(s)?s:new Ms(s).saturate(.5).darken(.1).hexString()}const kd=["x","y","borderWidth","radius","tension"],wd=["color","borderColor","backgroundColor"];function Td(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),s.set("animations",{colors:{type:"color",properties:wd},numbers:{type:"number",properties:kd}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Dd(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Za=new Map;function Md(s,t){t=t||{};const e=s+JSON.stringify(t);let n=Za.get(e);return n||(n=new Intl.NumberFormat(s,t),Za.set(e,n)),n}function Bs(s,t,e){return Md(t,e).format(s)}const Ro={values(s){return mt(s)?s:""+s},numeric(s,t,e){if(s===0)return"0";const n=this.chart.options.locale;let a,i=s;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(a="scientific"),i=Cd(s,e)}const o=pe(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),r={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(r,this.options.ticks.format),Bs(s,n,r)},logarithmic(s,t,e){if(s===0)return"0";const n=e[t].significand||s/Math.pow(10,Math.floor(pe(s)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?Ro.numeric.call(this,s,t,e):""}};function Cd(s,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&s!==Math.floor(s)&&(e=s-Math.floor(s)),e}var Cn={formatters:Ro};function Ad(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Cn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ne=Object.create(null),ta=Object.create(null);function ws(s,t){if(!t)return s;const e=t.split(".");for(let n=0,a=e.length;n<a;++n){const i=e[n];s=s[i]||(s[i]=Object.create(null))}return s}function Vn(s,t,e){return typeof t=="string"?Cs(ws(s,t),e):Cs(ws(s,""),t)}class $d{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>Ln(a.backgroundColor),this.hoverBorderColor=(n,a)=>Ln(a.borderColor),this.hoverColor=(n,a)=>Ln(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Vn(this,t,e)}get(t){return ws(this,t)}describe(t,e){return Vn(ta,t,e)}override(t,e){return Vn(Ne,t,e)}route(t,e,n,a){const i=ws(this,t),o=ws(this,n),l="_"+e;Object.defineProperties(i,{[l]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const r=this[l],c=o[a];return at(r)?Object.assign({},c,r):et(r,c)},set(r){this[l]=r}}})}apply(t){t.forEach(e=>e(this))}}var yt=new $d({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Td,Dd,Ad]);function Ed(s){return!s||lt(s.size)||lt(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function kn(s,t,e,n,a){let i=t[a];return i||(i=t[a]=s.measureText(a).width,e.push(a)),i>n&&(n=i),n}function Pd(s,t,e,n){n=n||{};let a=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(a=n.data={},i=n.garbageCollect=[],n.font=t),s.save(),s.font=t;let o=0;const l=e.length;let r,c,d,h,f;for(r=0;r<l;r++)if(h=e[r],h!=null&&!mt(h))o=kn(s,a,i,o,h);else if(mt(h))for(c=0,d=h.length;c<d;c++)f=h[c],f!=null&&!mt(f)&&(o=kn(s,a,i,o,f));s.restore();const g=i.length/2;if(g>e.length){for(r=0;r<g;r++)delete a[i[r]];i.splice(0,g)}return o}function Ce(s,t,e){const n=s.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*n)/n+a}function Qa(s,t){t=t||s.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,s.width,s.height),t.restore()}function ea(s,t,e,n){Fo(s,t,e,n,null)}function Fo(s,t,e,n,a){let i,o,l,r,c,d,h,f;const g=t.pointStyle,v=t.rotation,_=t.radius;let b=(v||0)*fd;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){s.save(),s.translate(e,n),s.rotate(b),s.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),s.restore();return}if(!(isNaN(_)||_<=0)){switch(s.beginPath(),g){default:a?s.ellipse(e,n,a/2,_,0,0,ut):s.arc(e,n,_,0,ut),s.closePath();break;case"triangle":d=a?a/2:_,s.moveTo(e+Math.sin(b)*d,n-Math.cos(b)*_),b+=Ua,s.lineTo(e+Math.sin(b)*d,n-Math.cos(b)*_),b+=Ua,s.lineTo(e+Math.sin(b)*d,n-Math.cos(b)*_),s.closePath();break;case"rectRounded":c=_*.516,r=_-c,o=Math.cos(b+Me)*r,h=Math.cos(b+Me)*(a?a/2-c:r),l=Math.sin(b+Me)*r,f=Math.sin(b+Me)*(a?a/2-c:r),s.arc(e-h,n-l,c,b-ht,b-Tt),s.arc(e+f,n-o,c,b-Tt,b),s.arc(e+h,n+l,c,b,b+Tt),s.arc(e-f,n+o,c,b+Tt,b+ht),s.closePath();break;case"rect":if(!v){r=Math.SQRT1_2*_,d=a?a/2:r,s.rect(e-d,n-r,2*d,2*r);break}b+=Me;case"rectRot":h=Math.cos(b)*(a?a/2:_),o=Math.cos(b)*_,l=Math.sin(b)*_,f=Math.sin(b)*(a?a/2:_),s.moveTo(e-h,n-l),s.lineTo(e+f,n-o),s.lineTo(e+h,n+l),s.lineTo(e-f,n+o),s.closePath();break;case"crossRot":b+=Me;case"cross":h=Math.cos(b)*(a?a/2:_),o=Math.cos(b)*_,l=Math.sin(b)*_,f=Math.sin(b)*(a?a/2:_),s.moveTo(e-h,n-l),s.lineTo(e+h,n+l),s.moveTo(e+f,n-o),s.lineTo(e-f,n+o);break;case"star":h=Math.cos(b)*(a?a/2:_),o=Math.cos(b)*_,l=Math.sin(b)*_,f=Math.sin(b)*(a?a/2:_),s.moveTo(e-h,n-l),s.lineTo(e+h,n+l),s.moveTo(e+f,n-o),s.lineTo(e-f,n+o),b+=Me,h=Math.cos(b)*(a?a/2:_),o=Math.cos(b)*_,l=Math.sin(b)*_,f=Math.sin(b)*(a?a/2:_),s.moveTo(e-h,n-l),s.lineTo(e+h,n+l),s.moveTo(e+f,n-o),s.lineTo(e-f,n+o);break;case"line":o=a?a/2:Math.cos(b)*_,l=Math.sin(b)*_,s.moveTo(e-o,n-l),s.lineTo(e+o,n+l);break;case"dash":s.moveTo(e,n),s.lineTo(e+Math.cos(b)*(a?a/2:_),n+Math.sin(b)*_);break;case!1:s.closePath();break}s.fill(),t.borderWidth>0&&s.stroke()}}function de(s,t,e){return e=e||.5,!t||s&&s.x>t.left-e&&s.x<t.right+e&&s.y>t.top-e&&s.y<t.bottom+e}function An(s,t){s.save(),s.beginPath(),s.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),s.clip()}function $n(s){s.restore()}function Od(s,t,e,n,a){if(!t)return s.lineTo(e.x,e.y);if(a==="middle"){const i=(t.x+e.x)/2;s.lineTo(i,t.y),s.lineTo(i,e.y)}else a==="after"!=!!n?s.lineTo(t.x,e.y):s.lineTo(e.x,t.y);s.lineTo(e.x,e.y)}function Id(s,t,e,n){if(!t)return s.lineTo(e.x,e.y);s.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function Rd(s,t){t.translation&&s.translate(t.translation[0],t.translation[1]),lt(t.rotation)||s.rotate(t.rotation),t.color&&(s.fillStyle=t.color),t.textAlign&&(s.textAlign=t.textAlign),t.textBaseline&&(s.textBaseline=t.textBaseline)}function Fd(s,t,e,n,a){if(a.strikethrough||a.underline){const i=s.measureText(n),o=t-i.actualBoundingBoxLeft,l=t+i.actualBoundingBoxRight,r=e-i.actualBoundingBoxAscent,c=e+i.actualBoundingBoxDescent,d=a.strikethrough?(r+c)/2:c;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=a.decorationWidth||2,s.moveTo(o,d),s.lineTo(l,d),s.stroke()}}function Ld(s,t){const e=s.fillStyle;s.fillStyle=t.color,s.fillRect(t.left,t.top,t.width,t.height),s.fillStyle=e}function Be(s,t,e,n,a,i={}){const o=mt(t)?t:[t],l=i.strokeWidth>0&&i.strokeColor!=="";let r,c;for(s.save(),s.font=a.string,Rd(s,i),r=0;r<o.length;++r)c=o[r],i.backdrop&&Ld(s,i.backdrop),l&&(i.strokeColor&&(s.strokeStyle=i.strokeColor),lt(i.strokeWidth)||(s.lineWidth=i.strokeWidth),s.strokeText(c,e,n,i.maxWidth)),s.fillText(c,e,n,i.maxWidth),Fd(s,e,n,c,i),n+=Number(a.lineHeight);s.restore()}function Es(s,t){const{x:e,y:n,w:a,h:i,radius:o}=t;s.arc(e+o.topLeft,n+o.topLeft,o.topLeft,1.5*ht,ht,!0),s.lineTo(e,n+i-o.bottomLeft),s.arc(e+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,ht,Tt,!0),s.lineTo(e+a-o.bottomRight,n+i),s.arc(e+a-o.bottomRight,n+i-o.bottomRight,o.bottomRight,Tt,0,!0),s.lineTo(e+a,n+o.topRight),s.arc(e+a-o.topRight,n+o.topRight,o.topRight,0,-Tt,!0),s.lineTo(e+o.topLeft,n)}const Vd=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Nd=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Bd(s,t){const e=(""+s).match(Vd);if(!e||e[1]==="normal")return t*1.2;switch(s=+e[2],e[3]){case"px":return s;case"%":s/=100;break}return t*s}const zd=s=>+s||0;function ka(s,t){const e={},n=at(t),a=n?Object.keys(t):t,i=at(s)?n?o=>et(s[o],s[t[o]]):o=>s[o]:()=>s;for(const o of a)e[o]=zd(i(o));return e}function Lo(s){return ka(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Ie(s){return ka(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Ft(s){const t=Lo(s);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function At(s,t){s=s||{},t=t||yt.font;let e=et(s.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=et(s.style,t.style);n&&!(""+n).match(Nd)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:et(s.family,t.family),lineHeight:Bd(et(s.lineHeight,t.lineHeight),e),size:e,style:n,weight:et(s.weight,t.weight),string:""};return a.string=Ed(a),a}function gs(s,t,e,n){let a,i,o;for(a=0,i=s.length;a<i;++a)if(o=s[a],o!==void 0&&o!==void 0)return o}function jd(s,t,e){const{min:n,max:a}=s,i=To(t,(a-n)/2),o=(l,r)=>e&&l===0?0:l+r;return{min:o(n,-Math.abs(i)),max:o(a,i)}}function xe(s,t){return Object.assign(Object.create(s),t)}function wa(s,t=[""],e,n,a=()=>s[0]){const i=e||s;typeof n>"u"&&(n=zo("_fallback",s));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:i,_fallback:n,_getTarget:a,override:l=>wa([l,...s],t,i,n)};return new Proxy(o,{deleteProperty(l,r){return delete l[r],delete l._keys,delete s[0][r],!0},get(l,r){return No(l,r,()=>Kd(r,t,s,l))},getOwnPropertyDescriptor(l,r){return Reflect.getOwnPropertyDescriptor(l._scopes[0],r)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(l,r){return ei(l).includes(r)},ownKeys(l){return ei(l)},set(l,r,c){const d=l._storage||(l._storage=a());return l[r]=d[r]=c,delete l._keys,!0}})}function Ze(s,t,e,n){const a={_cacheable:!1,_proxy:s,_context:t,_subProxy:e,_stack:new Set,_descriptors:Vo(s,n),setContext:i=>Ze(s,i,e,n),override:i=>Ze(s.override(i),t,e,n)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete s[o],!0},get(i,o,l){return No(i,o,()=>Wd(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(s,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,o)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(i,o){return Reflect.has(s,o)},ownKeys(){return Reflect.ownKeys(s)},set(i,o,l){return s[o]=l,delete i[o],!0}})}function Vo(s,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:a=t.allKeys}=s;return{allKeys:a,scriptable:e,indexable:n,isScriptable:ye(e)?e:()=>e,isIndexable:ye(n)?n:()=>n}}const Hd=(s,t)=>s?s+va(t):t,Ta=(s,t)=>at(t)&&s!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function No(s,t,e){if(Object.prototype.hasOwnProperty.call(s,t))return s[t];const n=e();return s[t]=n,n}function Wd(s,t,e){const{_proxy:n,_context:a,_subProxy:i,_descriptors:o}=s;let l=n[t];return ye(l)&&o.isScriptable(t)&&(l=Ud(t,l,s,e)),mt(l)&&l.length&&(l=Yd(t,l,s,o.isIndexable)),Ta(t,l)&&(l=Ze(l,a,i&&i[t],o)),l}function Ud(s,t,e,n){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=e;if(l.has(s))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+s);l.add(s);let r=t(i,o||n);return l.delete(s),Ta(s,r)&&(r=Da(a._scopes,a,s,r)),r}function Yd(s,t,e,n){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=e;if(typeof i.index<"u"&&n(s))return t[i.index%t.length];if(at(t[0])){const r=t,c=a._scopes.filter(d=>d!==r);t=[];for(const d of r){const h=Da(c,a,s,d);t.push(Ze(h,i,o&&o[s],l))}}return t}function Bo(s,t,e){return ye(s)?s(t,e):s}const Gd=(s,t)=>s===!0?t:typeof s=="string"?be(t,s):void 0;function Xd(s,t,e,n,a){for(const i of t){const o=Gd(e,i);if(o){s.add(o);const l=Bo(o._fallback,e,a);if(typeof l<"u"&&l!==e&&l!==n)return l}else if(o===!1&&typeof n<"u"&&e!==n)return null}return!1}function Da(s,t,e,n){const a=t._rootScopes,i=Bo(t._fallback,e,n),o=[...s,...a],l=new Set;l.add(n);let r=ti(l,o,e,i||e,n);return r===null||typeof i<"u"&&i!==e&&(r=ti(l,o,i,r,n),r===null)?!1:wa(Array.from(l),[""],a,i,()=>Jd(t,e,n))}function ti(s,t,e,n,a){for(;e;)e=Xd(s,t,e,n,a);return e}function Jd(s,t,e){const n=s._getTarget();t in n||(n[t]={});const a=n[t];return mt(a)&&at(e)?e:a||{}}function Kd(s,t,e,n){let a;for(const i of t)if(a=zo(Hd(i,s),e),typeof a<"u")return Ta(s,a)?Da(e,n,s,a):a}function zo(s,t){for(const e of t){if(!e)continue;const n=e[s];if(typeof n<"u")return n}}function ei(s){let t=s._keys;return t||(t=s._keys=qd(s._scopes)),t}function qd(s){const t=new Set;for(const e of s)for(const n of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(n);return Array.from(t)}function jo(s,t,e,n){const{iScale:a}=s,{key:i="r"}=this._parsing,o=new Array(n);let l,r,c,d;for(l=0,r=n;l<r;++l)c=l+e,d=t[c],o[l]={r:a.parse(be(d,i),c)};return o}const Zd=Number.EPSILON||1e-14,Qe=(s,t)=>t<s.length&&!s[t].skip&&s[t],Ho=s=>s==="x"?"y":"x";function Qd(s,t,e,n){const a=s.skip?t:s,i=t,o=e.skip?t:e,l=Qn(i,a),r=Qn(o,i);let c=l/(l+r),d=r/(l+r);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=n*c,f=n*d;return{previous:{x:i.x-h*(o.x-a.x),y:i.y-h*(o.y-a.y)},next:{x:i.x+f*(o.x-a.x),y:i.y+f*(o.y-a.y)}}}function tu(s,t,e){const n=s.length;let a,i,o,l,r,c=Qe(s,0);for(let d=0;d<n-1;++d)if(r=c,c=Qe(s,d+1),!(!r||!c)){if(Ss(t[d],0,Zd)){e[d]=e[d+1]=0;continue}a=e[d]/t[d],i=e[d+1]/t[d],l=Math.pow(a,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),e[d]=a*o*t[d],e[d+1]=i*o*t[d])}}function eu(s,t,e="x"){const n=Ho(e),a=s.length;let i,o,l,r=Qe(s,0);for(let c=0;c<a;++c){if(o=l,l=r,r=Qe(s,c+1),!l)continue;const d=l[e],h=l[n];o&&(i=(d-o[e])/3,l[`cp1${e}`]=d-i,l[`cp1${n}`]=h-i*t[c]),r&&(i=(r[e]-d)/3,l[`cp2${e}`]=d+i,l[`cp2${n}`]=h+i*t[c])}}function su(s,t="x"){const e=Ho(t),n=s.length,a=Array(n).fill(0),i=Array(n);let o,l,r,c=Qe(s,0);for(o=0;o<n;++o)if(l=r,r=c,c=Qe(s,o+1),!!r){if(c){const d=c[t]-r[t];a[o]=d!==0?(c[e]-r[e])/d:0}i[o]=l?c?se(a[o-1])!==se(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}tu(s,a,i),eu(s,i,t)}function tn(s,t,e){return Math.max(Math.min(s,e),t)}function nu(s,t){let e,n,a,i,o,l=de(s[0],t);for(e=0,n=s.length;e<n;++e)o=i,i=l,l=e<n-1&&de(s[e+1],t),i&&(a=s[e],o&&(a.cp1x=tn(a.cp1x,t.left,t.right),a.cp1y=tn(a.cp1y,t.top,t.bottom)),l&&(a.cp2x=tn(a.cp2x,t.left,t.right),a.cp2y=tn(a.cp2y,t.top,t.bottom)))}function au(s,t,e,n,a){let i,o,l,r;if(t.spanGaps&&(s=s.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")su(s,a);else{let c=n?s[s.length-1]:s[0];for(i=0,o=s.length;i<o;++i)l=s[i],r=Qd(c,l,s[Math.min(i+1,o-(n?0:1))%o],t.tension),l.cp1x=r.previous.x,l.cp1y=r.previous.y,l.cp2x=r.next.x,l.cp2y=r.next.y,c=l}t.capBezierPoints&&nu(s,e)}function Ma(){return typeof window<"u"&&typeof document<"u"}function Ca(s){let t=s.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function wn(s,t,e){let n;return typeof s=="string"?(n=parseInt(s,10),s.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=s,n}const En=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function iu(s,t){return En(s).getPropertyValue(t)}const ou=["top","right","bottom","left"];function Re(s,t,e){const n={};e=e?"-"+e:"";for(let a=0;a<4;a++){const i=ou[a];n[i]=parseFloat(s[t+"-"+i+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const lu=(s,t,e)=>(s>0||t>0)&&(!e||!e.shadowRoot);function ru(s,t){const e=s.touches,n=e&&e.length?e[0]:s,{offsetX:a,offsetY:i}=n;let o=!1,l,r;if(lu(a,i,s.target))l=a,r=i;else{const c=t.getBoundingClientRect();l=n.clientX-c.left,r=n.clientY-c.top,o=!0}return{x:l,y:r,box:o}}function Ee(s,t){if("native"in s)return s;const{canvas:e,currentDevicePixelRatio:n}=t,a=En(e),i=a.boxSizing==="border-box",o=Re(a,"padding"),l=Re(a,"border","width"),{x:r,y:c,box:d}=ru(s,e),h=o.left+(d&&l.left),f=o.top+(d&&l.top);let{width:g,height:v}=t;return i&&(g-=o.width+l.width,v-=o.height+l.height),{x:Math.round((r-h)/g*e.width/n),y:Math.round((c-f)/v*e.height/n)}}function cu(s,t,e){let n,a;if(t===void 0||e===void 0){const i=Ca(s);if(!i)t=s.clientWidth,e=s.clientHeight;else{const o=i.getBoundingClientRect(),l=En(i),r=Re(l,"border","width"),c=Re(l,"padding");t=o.width-c.width-r.width,e=o.height-c.height-r.height,n=wn(l.maxWidth,i,"clientWidth"),a=wn(l.maxHeight,i,"clientHeight")}}return{width:t,height:e,maxWidth:n||Sn,maxHeight:a||Sn}}const en=s=>Math.round(s*10)/10;function du(s,t,e,n){const a=En(s),i=Re(a,"margin"),o=wn(a.maxWidth,s,"clientWidth")||Sn,l=wn(a.maxHeight,s,"clientHeight")||Sn,r=cu(s,t,e);let{width:c,height:d}=r;if(a.boxSizing==="content-box"){const f=Re(a,"border","width"),g=Re(a,"padding");c-=g.width+f.width,d-=g.height+f.height}return c=Math.max(0,c-i.width),d=Math.max(0,n?c/n:d-i.height),c=en(Math.min(c,o,r.maxWidth)),d=en(Math.min(d,l,r.maxHeight)),c&&!d&&(d=en(c/2)),(t!==void 0||e!==void 0)&&n&&r.height&&d>r.height&&(d=r.height,c=en(Math.floor(d*n))),{width:c,height:d}}function si(s,t,e){const n=t||1,a=Math.floor(s.height*n),i=Math.floor(s.width*n);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const o=s.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${s.height}px`,o.style.width=`${s.width}px`),s.currentDevicePixelRatio!==n||o.height!==a||o.width!==i?(s.currentDevicePixelRatio=n,o.height=a,o.width=i,s.ctx.setTransform(n,0,0,n,0,0),!0):!1}const uu=function(){let s=!1;try{const t={get passive(){return s=!0,!1}};Ma()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return s}();function ni(s,t){const e=iu(s,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Pe(s,t,e,n){return{x:s.x+e*(t.x-s.x),y:s.y+e*(t.y-s.y)}}function hu(s,t,e,n){return{x:s.x+e*(t.x-s.x),y:n==="middle"?e<.5?s.y:t.y:n==="after"?e<1?s.y:t.y:e>0?t.y:s.y}}function fu(s,t,e,n){const a={x:s.cp2x,y:s.cp2y},i={x:t.cp1x,y:t.cp1y},o=Pe(s,a,e),l=Pe(a,i,e),r=Pe(i,t,e),c=Pe(o,l,e),d=Pe(l,r,e);return Pe(c,d,e)}const mu=function(s,t){return{x(e){return s+s+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},pu=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,t){return s+t},leftForLtr(s,t){return s}}};function Je(s,t,e){return s?mu(t,e):pu()}function Wo(s,t){let e,n;(t==="ltr"||t==="rtl")&&(e=s.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),s.prevTextDirection=n)}function Uo(s,t){t!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",t[0],t[1]))}function Yo(s){return s==="angle"?{between:$s,compare:gd,normalize:Ht}:{between:re,compare:(t,e)=>t-e,normalize:t=>t}}function ai({start:s,end:t,count:e,loop:n,style:a}){return{start:s%e,end:t%e,loop:n&&(t-s+1)%e===0,style:a}}function gu(s,t,e){const{property:n,start:a,end:i}=e,{between:o,normalize:l}=Yo(n),r=t.length;let{start:c,end:d,loop:h}=s,f,g;if(h){for(c+=r,d+=r,f=0,g=r;f<g&&o(l(t[c%r][n]),a,i);++f)c--,d--;c%=r,d%=r}return d<c&&(d+=r),{start:c,end:d,loop:h,style:s.style}}function Go(s,t,e){if(!e)return[s];const{property:n,start:a,end:i}=e,o=t.length,{compare:l,between:r,normalize:c}=Yo(n),{start:d,end:h,loop:f,style:g}=gu(s,t,e),v=[];let _=!1,b=null,T,S,A;const E=()=>r(a,A,T)&&l(a,A)!==0,M=()=>l(i,T)===0||r(i,A,T),O=()=>_||E(),$=()=>!_||M();for(let C=d,P=d;C<=h;++C)S=t[C%o],!S.skip&&(T=c(S[n]),T!==A&&(_=r(T,a,i),b===null&&O()&&(b=l(T,a)===0?C:P),b!==null&&$()&&(v.push(ai({start:b,end:C,loop:f,count:o,style:g})),b=null),P=C,A=T));return b!==null&&v.push(ai({start:b,end:h,loop:f,count:o,style:g})),v}function Xo(s,t){const e=[],n=s.segments;for(let a=0;a<n.length;a++){const i=Go(n[a],s.points,t);i.length&&e.push(...i)}return e}function _u(s,t,e,n){let a=0,i=t-1;if(e&&!n)for(;a<t&&!s[a].skip;)a++;for(;a<t&&s[a].skip;)a++;for(a%=t,e&&(i+=a);i>a&&s[i%t].skip;)i--;return i%=t,{start:a,end:i}}function vu(s,t,e,n){const a=s.length,i=[];let o=t,l=s[t],r;for(r=t+1;r<=e;++r){const c=s[r%a];c.skip||c.stop?l.skip||(n=!1,i.push({start:t%a,end:(r-1)%a,loop:n}),t=o=c.stop?r:null):(o=r,l.skip&&(t=r)),l=c}return o!==null&&i.push({start:t%a,end:o%a,loop:n}),i}function bu(s,t){const e=s.points,n=s.options.spanGaps,a=e.length;if(!a)return[];const i=!!s._loop,{start:o,end:l}=_u(e,a,i,n);if(n===!0)return ii(s,[{start:o,end:l,loop:i}],e,t);const r=l<o?l+a:l,c=!!s._fullLoop&&o===0&&l===a-1;return ii(s,vu(e,o,r,c),e,t)}function ii(s,t,e,n){return!n||!n.setContext||!e?t:yu(s,t,e,n)}function yu(s,t,e,n){const a=s._chart.getContext(),i=oi(s.options),{_datasetIndex:o,options:{spanGaps:l}}=s,r=e.length,c=[];let d=i,h=t[0].start,f=h;function g(v,_,b,T){const S=l?-1:1;if(v!==_){for(v+=r;e[v%r].skip;)v-=S;for(;e[_%r].skip;)_+=S;v%r!==_%r&&(c.push({start:v%r,end:_%r,loop:b,style:T}),d=T,h=_%r)}}for(const v of t){h=l?h:v.start;let _=e[h%r],b;for(f=h+1;f<=v.end;f++){const T=e[f%r];b=oi(n.setContext(xe(a,{type:"segment",p0:_,p1:T,p0DataIndex:(f-1)%r,p1DataIndex:f%r,datasetIndex:o}))),xu(b,d)&&g(h,f-1,v.loop,d),_=T,d=b}h<f-1&&g(h,f-1,v.loop,d)}return c}function oi(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function xu(s,t){if(!t)return!1;const e=[],n=function(a,i){return Sa(i)?(e.includes(i)||e.push(i),e.indexOf(i)):i};return JSON.stringify(s,n)!==JSON.stringify(t,n)}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class Su{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,a){const i=e.listeners[a],o=e.duration;i.forEach(l=>l({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Eo.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,l=!1,r;for(;o>=0;--o)r=i[o],r._active?(r._total>n.duration&&(n.duration=r._total),r.tick(t),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,n,t,"progress")),i.length||(n.running=!1,this._notify(a,n,t,"complete"),n.initial=!1),e+=i.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ie=new Su;const li="transparent",ku={boolean(s,t,e){return e>.5?t:s},color(s,t,e){const n=qa(s||li),a=n.valid&&qa(t||li);return a&&a.valid?a.mix(n,e).hexString():t},number(s,t,e){return s+(t-s)*e}};class wu{constructor(t,e,n,a){const i=e[n];a=gs([t.to,a,i,t.from]);const o=gs([t.from,i,a]);this._active=!0,this._fn=t.fn||ku[t.type||typeof o],this._easing=ks[t.easing]||ks.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=gs([t.to,e,a,t.from]),this._from=gs([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let r;if(this._active=i!==l&&(o||e<n),!this._active){this._target[a]=l,this._notify(!0);return}if(e<0){this._target[a]=i;return}r=e/n%2,r=o&&r>1?2-r:r,r=this._easing(Math.min(1,Math.max(0,r))),this._target[a]=this._fn(i,l,r)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][e]()}}class Jo{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!at(t))return;const e=Object.keys(yt.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const i=t[a];if(!at(i))return;const o={};for(const l of e)o[l]=i[l];(mt(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,o)})})}_animateOptions(t,e){const n=e.options,a=Du(t,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&Tu(t.options.$animations,n).then(()=>{t.options=n},()=>{}),i}_createAnimations(t,e){const n=this._properties,a=[],i=t.$animations||(t.$animations={}),o=Object.keys(e),l=Date.now();let r;for(r=o.length-1;r>=0;--r){const c=o[r];if(c.charAt(0)==="$")continue;if(c==="options"){a.push(...this._animateOptions(t,e));continue}const d=e[c];let h=i[c];const f=n.get(c);if(h)if(f&&h.active()){h.update(f,d,l);continue}else h.cancel();if(!f||!f.duration){t[c]=d;continue}i[c]=h=new wu(f,t,c,d),a.push(h)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const n=this._createAnimations(t,e);if(n.length)return ie.add(this._chart,n),!0}}function Tu(s,t){const e=[],n=Object.keys(t);for(let a=0;a<n.length;a++){const i=s[n[a]];i&&i.active()&&e.push(i.wait())}return Promise.all(e)}function Du(s,t){if(!t)return;let e=s.options;if(!e){s.options=t;return}return e.$shared&&(s.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function ri(s,t){const e=s&&s.options||{},n=e.reverse,a=e.min===void 0?t:0,i=e.max===void 0?t:0;return{start:n?i:a,end:n?a:i}}function Mu(s,t,e){if(e===!1)return!1;const n=ri(s,e),a=ri(t,e);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function Cu(s){let t,e,n,a;return at(s)?(t=s.top,e=s.right,n=s.bottom,a=s.left):t=e=n=a=s,{top:t,right:e,bottom:n,left:a,disabled:s===!1}}function Ko(s,t){const e=[],n=s._getSortedDatasetMetas(t);let a,i;for(a=0,i=n.length;a<i;++a)e.push(n[a].index);return e}function ci(s,t,e,n={}){const a=s.keys,i=n.mode==="single";let o,l,r,c;if(t!==null){for(o=0,l=a.length;o<l;++o){if(r=+a[o],r===e){if(n.all)continue;break}c=s.values[r],bt(c)&&(i||t===0||se(t)===se(c))&&(t+=c)}return t}}function Au(s){const t=Object.keys(s),e=new Array(t.length);let n,a,i;for(n=0,a=t.length;n<a;++n)i=t[n],e[n]={x:i,y:s[i]};return e}function di(s,t){const e=s&&s.options.stacked;return e||e===void 0&&t.stack!==void 0}function $u(s,t,e){return`${s.id}.${t.id}.${e.stack||e.type}`}function Eu(s){const{min:t,max:e,minDefined:n,maxDefined:a}=s.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function Pu(s,t,e){const n=s[t]||(s[t]={});return n[e]||(n[e]={})}function ui(s,t,e,n){for(const a of t.getMatchingVisibleMetas(n).reverse()){const i=s[a.index];if(e&&i>0||!e&&i<0)return a.index}return null}function hi(s,t){const{chart:e,_cachedMeta:n}=s,a=e._stacks||(e._stacks={}),{iScale:i,vScale:o,index:l}=n,r=i.axis,c=o.axis,d=$u(i,o,n),h=t.length;let f;for(let g=0;g<h;++g){const v=t[g],{[r]:_,[c]:b}=v,T=v._stacks||(v._stacks={});f=T[c]=Pu(a,d,_),f[l]=b,f._top=ui(f,o,!0,n.type),f._bottom=ui(f,o,!1,n.type);const S=f._visualValues||(f._visualValues={});S[l]=b}}function Nn(s,t){const e=s.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function Ou(s,t){return xe(s,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Iu(s,t,e){return xe(s,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function ds(s,t){const e=s.controller.index,n=s.vScale&&s.vScale.axis;if(n){t=t||s._parsed;for(const a of t){const i=a._stacks;if(!i||i[n]===void 0||i[n][e]===void 0)return;delete i[n][e],i[n]._visualValues!==void 0&&i[n]._visualValues[e]!==void 0&&delete i[n]._visualValues[e]}}}const Bn=s=>s==="reset"||s==="none",fi=(s,t)=>t?s:Object.assign({},s),Ru=(s,t,e)=>s&&!t.hidden&&t._stacked&&{keys:Ko(e,!0),values:null};class Zt{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=di(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ds(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),a=(h,f,g,v)=>h==="x"?f:h==="r"?v:g,i=e.xAxisID=et(n.xAxisID,Nn(t,"x")),o=e.yAxisID=et(n.yAxisID,Nn(t,"y")),l=e.rAxisID=et(n.rAxisID,Nn(t,"r")),r=e.indexAxis,c=e.iAxisID=a(r,i,o,l),d=e.vAxisID=a(r,o,i,l);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Xa(this._data,this),t._stacked&&ds(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(at(e))this._data=Au(e);else if(n!==e){if(n){Xa(n,this);const a=this._cachedMeta;ds(a),a._parsed=[]}e&&Object.isExtensible(e)&&yd(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=e._stacked;e._stacked=di(e.vScale,e),e.stack!==n.stack&&(a=!0,ds(e),e.stack=n.stack),this._resyncElements(t),(a||i!==e._stacked)&&hi(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:o}=n,l=i.axis;let r=t===0&&e===a.length?!0:n._sorted,c=t>0&&n._parsed[t-1],d,h,f;if(this._parsing===!1)n._parsed=a,n._sorted=!0,f=a;else{mt(a[t])?f=this.parseArrayData(n,a,t,e):at(a[t])?f=this.parseObjectData(n,a,t,e):f=this.parsePrimitiveData(n,a,t,e);const g=()=>h[l]===null||c&&h[l]<c[l];for(d=0;d<e;++d)n._parsed[d+t]=h=f[d],r&&(g()&&(r=!1),c=h);n._sorted=r}o&&hi(this,f)}parsePrimitiveData(t,e,n,a){const{iScale:i,vScale:o}=t,l=i.axis,r=o.axis,c=i.getLabels(),d=i===o,h=new Array(a);let f,g,v;for(f=0,g=a;f<g;++f)v=f+n,h[f]={[l]:d||i.parse(c[v],v),[r]:o.parse(e[v],v)};return h}parseArrayData(t,e,n,a){const{xScale:i,yScale:o}=t,l=new Array(a);let r,c,d,h;for(r=0,c=a;r<c;++r)d=r+n,h=e[d],l[r]={x:i.parse(h[0],d),y:o.parse(h[1],d)};return l}parseObjectData(t,e,n,a){const{xScale:i,yScale:o}=t,{xAxisKey:l="x",yAxisKey:r="y"}=this._parsing,c=new Array(a);let d,h,f,g;for(d=0,h=a;d<h;++d)f=d+n,g=e[f],c[d]={x:i.parse(be(g,l),f),y:o.parse(be(g,r),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const a=this.chart,i=this._cachedMeta,o=e[t.axis],l={keys:Ko(a,!0),values:e._stacks[t.axis]._visualValues};return ci(l,o,i.index,{mode:n})}updateRangeFromParsed(t,e,n,a){const i=n[e.axis];let o=i===null?NaN:i;const l=a&&n._stacks[e.axis];a&&l&&(a.values=l,o=ci(a,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&t===n.iScale,o=a.length,l=this._getOtherScale(t),r=Ru(e,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=Eu(l);let f,g;function v(){g=a[f];const _=g[l.axis];return!bt(g[t.axis])||d>_||h<_}for(f=0;f<o&&!(!v()&&(this.updateRangeFromParsed(c,t,g,r),i));++f);if(i){for(f=o-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(c,t,g,r);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let a,i,o;for(a=0,i=e.length;a<i;++a)o=e[a][t.axis],bt(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,a=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Cu(et(this.options.clip,Mu(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,a=n.data||[],i=e.chartArea,o=[],l=this._drawStart||0,r=this._drawCount||a.length-l,c=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(t,i,l,r),d=l;d<l+r;++d){const h=a[d];h.hidden||(h.active&&c?o.push(h):h.draw(t,i))}for(d=0;d<o.length;++d)o[d].draw(t,i)}getStyle(t,e){const n=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const a=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=Iu(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=a.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=Ou(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const a=e==="active",i=this._cachedDataOpts,o=t+"-"+e,l=i[o],r=this.enableOptionSharing&&As(n);if(l)return fi(l,r);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,t),h=a?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),d),g=Object.keys(yt.elements[t]),v=()=>this.getContext(n,a,e),_=c.resolveNamedOptions(f,g,v,h);return _.$shared&&(_.$shared=r,i[o]=Object.freeze(fi(_,r))),_}_resolveAnimations(t,e,n){const a=this.chart,i=this._cachedDataOpts,o=`animation-${e}`,l=i[o];if(l)return l;let r;if(a.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,e),f=d.getOptionScopes(this.getDataset(),h);r=d.createResolver(f,this.getContext(t,n,e))}const c=new Jo(a,r&&r.animations);return r&&r._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Bn(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),a=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(e,i)||i!==a;return this.updateSharedOptions(i,e,n),{sharedOptions:i,includeOptions:o}}updateElement(t,e,n,a){Bn(a)?Object.assign(t,n):this._resolveAnimations(e,a).update(t,n)}updateSharedOptions(t,e,n){t&&!Bn(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,a){t.active=a;const i=this.getStyle(e,a);this._resolveAnimations(e,n,a).update(t,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[l,r,c]of this._syncList)this[l](r,c);this._syncList=[];const a=n.length,i=e.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,t):i<a&&this._removeElements(i,a-i)}_insertElements(t,e,n=!0){const a=this._cachedMeta,i=a.data,o=t+e;let l;const r=c=>{for(c.length+=e,l=c.length-1;l>=o;l--)c[l]=c[l-e]};for(r(i),l=t;l<o;++l)i[l]=new this.dataElementType;this._parsing&&r(a._parsed),this.parse(t,e),n&&this.updateElements(i,t,e,"reset")}updateElements(t,e,n,a){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(t,e);n._stacked&&ds(n,a)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,a]=t;this[e](n,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}z(Zt,"defaults",{}),z(Zt,"datasetElementType",null),z(Zt,"dataElementType",null);function Fu(s,t){if(!s._cache.$bar){const e=s.getMatchingVisibleMetas(t);let n=[];for(let a=0,i=e.length;a<i;a++)n=n.concat(e[a].controller.getAllParsedValues(s));s._cache.$bar=$o(n.sort((a,i)=>a-i))}return s._cache.$bar}function Lu(s){const t=s.iScale,e=Fu(t,s.type);let n=t._length,a,i,o,l;const r=()=>{o===32767||o===-32768||(As(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(a=0,i=e.length;a<i;++a)o=t.getPixelForValue(e[a]),r();for(l=void 0,a=0,i=t.ticks.length;a<i;++a)o=t.getPixelForTick(a),r();return n}function Vu(s,t,e,n){const a=e.barThickness;let i,o;return lt(a)?(i=t.min*e.categoryPercentage,o=e.barPercentage):(i=a*n,o=1),{chunk:i/n,ratio:o,start:t.pixels[s]-i/2}}function Nu(s,t,e,n){const a=t.pixels,i=a[s];let o=s>0?a[s-1]:null,l=s<a.length-1?a[s+1]:null;const r=e.categoryPercentage;o===null&&(o=i-(l===null?t.end-t.start:l-i)),l===null&&(l=i+i-o);const c=i-(i-Math.min(o,l))/2*r;return{chunk:Math.abs(l-o)/2*r/n,ratio:e.barPercentage,start:c}}function Bu(s,t,e,n){const a=e.parse(s[0],n),i=e.parse(s[1],n),o=Math.min(a,i),l=Math.max(a,i);let r=o,c=l;Math.abs(o)>Math.abs(l)&&(r=l,c=o),t[e.axis]=c,t._custom={barStart:r,barEnd:c,start:a,end:i,min:o,max:l}}function qo(s,t,e,n){return mt(s)?Bu(s,t,e,n):t[e.axis]=e.parse(s,n),t}function mi(s,t,e,n){const a=s.iScale,i=s.vScale,o=a.getLabels(),l=a===i,r=[];let c,d,h,f;for(c=e,d=e+n;c<d;++c)f=t[c],h={},h[a.axis]=l||a.parse(o[c],c),r.push(qo(f,h,i,c));return r}function zn(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function zu(s,t,e){return s!==0?se(s):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function ju(s){let t,e,n,a,i;return s.horizontal?(t=s.base>s.x,e="left",n="right"):(t=s.base<s.y,e="bottom",n="top"),t?(a="end",i="start"):(a="start",i="end"),{start:e,end:n,reverse:t,top:a,bottom:i}}function Hu(s,t,e,n){let a=t.borderSkipped;const i={};if(!a){s.borderSkipped=i;return}if(a===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:r,top:c,bottom:d}=ju(s);a==="middle"&&e&&(s.enableBorderRadius=!0,(e._top||0)===n?a=c:(e._bottom||0)===n?a=d:(i[pi(d,o,l,r)]=!0,a=c)),i[pi(a,o,l,r)]=!0,s.borderSkipped=i}function pi(s,t,e,n){return n?(s=Wu(s,t,e),s=gi(s,e,t)):s=gi(s,t,e),s}function Wu(s,t,e){return s===t?e:s===e?t:s}function gi(s,t,e){return s==="start"?t:s==="end"?e:s}function Uu(s,{inflateAmount:t},e){s.inflateAmount=t==="auto"?e===1?.33:0:t}class Ts extends Zt{parsePrimitiveData(t,e,n,a){return mi(t,e,n,a)}parseArrayData(t,e,n,a){return mi(t,e,n,a)}parseObjectData(t,e,n,a){const{iScale:i,vScale:o}=t,{xAxisKey:l="x",yAxisKey:r="y"}=this._parsing,c=i.axis==="x"?l:r,d=o.axis==="x"?l:r,h=[];let f,g,v,_;for(f=n,g=n+a;f<g;++f)_=e[f],v={},v[i.axis]=i.parse(be(_,c),f),h.push(qo(be(_,d),v,o,f));return h}updateRangeFromParsed(t,e,n,a){super.updateRangeFromParsed(t,e,n,a);const i=n._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:a}=e,i=this.getParsed(t),o=i._custom,l=zn(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,r=l.getBasePixel(),c=l.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(e,a);for(let g=e;g<e+n;g++){const v=this.getParsed(g),_=i||lt(v[l.axis])?{base:r,head:r}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,d),T=(v._stacks||{})[l.axis],S={horizontal:c,base:_.base,enableBorderRadius:!T||zn(v._custom)||o===T._top||o===T._bottom,x:c?_.head:b.center,y:c?b.center:_.head,height:c?b.size:Math.abs(_.size),width:c?Math.abs(_.size):b.size};f&&(S.options=h||this.resolveDataElementOptions(g,t[g].active?"active":a));const A=S.options||t[g].options;Hu(S,A,T,o),Uu(S,A,d.ratio),this.updateElement(t[g],g,S,a)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(r=>r.controller.options.grouped),i=n.options.stacked,o=[],l=r=>{const c=r.controller.getParsed(e),d=c&&c[r.vScale.axis];if(lt(d)||isNaN(d))return!0};for(const r of a)if(!(e!==void 0&&l(r))&&((i===!1||o.indexOf(r.stack)===-1||i===void 0&&r.stack===void 0)&&o.push(r.stack),r.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const a=this._getStacks(t,n),i=e!==void 0?a.indexOf(e):-1;return i===-1?a.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,a=[];let i,o;for(i=0,o=e.data.length;i<o;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=t.barThickness;return{min:l||Lu(e),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,r=this.getParsed(t),c=r._custom,d=zn(c);let h=r[e.axis],f=0,g=n?this.applyStack(e,r,n):h,v,_;g!==h&&(f=g-h,g=h),d&&(h=c.barStart,g=c.barEnd-c.barStart,h!==0&&se(h)!==se(c.barEnd)&&(f=0),f+=h);const b=!lt(i)&&!d?i:f;let T=e.getPixelForValue(b);if(this.chart.getDataVisibility(t)?v=e.getPixelForValue(f+g):v=T,_=v-T,Math.abs(_)<o){_=zu(_,e,l)*o,h===l&&(T-=_/2);const S=e.getPixelForDecimal(0),A=e.getPixelForDecimal(1),E=Math.min(S,A),M=Math.max(S,A);T=Math.max(Math.min(T,M),E),v=T+_,n&&!d&&(r._stacks[e.axis]._visualValues[a]=e.getValueForPixel(v)-e.getValueForPixel(T))}if(T===e.getPixelForValue(l)){const S=se(_)*e.getLineWidthForValue(l)/2;T+=S,_-=S}return{size:_,base:T,head:v,center:v+_/2}}_calculateBarIndexPixels(t,e){const n=e.scale,a=this.options,i=a.skipNull,o=et(a.maxBarThickness,1/0);let l,r;if(e.grouped){const c=i?this._getStackCount(t):e.stackCount,d=a.barThickness==="flex"?Nu(t,e,a,c):Vu(t,e,a,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);l=d.start+d.chunk*h+d.chunk/2,r=Math.min(o,d.chunk*d.ratio)}else l=n.getPixelForValue(this.getParsed(t)[n.axis],t),r=Math.min(o,e.min*e.ratio);return{base:l-r/2,head:l+r/2,center:l,size:r}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[e.axis]!==null&&n[i].draw(this._ctx)}}z(Ts,"id","bar"),z(Ts,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),z(Ts,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class un extends Zt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,a){const i=super.parsePrimitiveData(t,e,n,a);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+n).radius;return i}parseArrayData(t,e,n,a){const i=super.parseArrayData(t,e,n,a);for(let o=0;o<i.length;o++){const l=e[n+o];i[o]._custom=et(l[2],this.resolveDataElementOptions(o+n).radius)}return i}parseObjectData(t,e,n,a){const i=super.parseObjectData(t,e,n,a);for(let o=0;o<i.length;o++){const l=e[n+o];i[o]._custom=et(l&&l.r&&+l.r,this.resolveDataElementOptions(o+n).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=e,o=this.getParsed(t),l=a.getLabelForValue(o.x),r=i.getLabelForValue(o.y),c=o._custom;return{label:n[t]||"",value:"("+l+", "+r+(c?", "+c:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,a){const i=a==="reset",{iScale:o,vScale:l}=this._cachedMeta,{sharedOptions:r,includeOptions:c}=this._getSharedOptions(e,a),d=o.axis,h=l.axis;for(let f=e;f<e+n;f++){const g=t[f],v=!i&&this.getParsed(f),_={},b=_[d]=i?o.getPixelForDecimal(.5):o.getPixelForValue(v[d]),T=_[h]=i?l.getBasePixel():l.getPixelForValue(v[h]);_.skip=isNaN(b)||isNaN(T),c&&(_.options=r||this.resolveDataElementOptions(f,g.active?"active":a),i&&(_.options.radius=0)),this.updateElement(g,f,_,a)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let a=super.resolveDataElementOptions(t,e);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const i=a.radius;return e!=="active"&&(a.radius=0),a.radius+=et(n&&n._custom,i),a}}z(un,"id","bubble"),z(un,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),z(un,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Yu(s,t,e){let n=1,a=1,i=0,o=0;if(t<ut){const l=s,r=l+t,c=Math.cos(l),d=Math.sin(l),h=Math.cos(r),f=Math.sin(r),g=(A,E,M)=>$s(A,l,r,!0)?1:Math.max(E,E*e,M,M*e),v=(A,E,M)=>$s(A,l,r,!0)?-1:Math.min(E,E*e,M,M*e),_=g(0,c,h),b=g(Tt,d,f),T=v(ht,c,h),S=v(ht+Tt,d,f);n=(_-T)/2,a=(b-S)/2,i=-(_+T)/2,o=-(b+S)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:o}}class Oe extends Zt{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=r=>+n[r];if(at(n[t])){const{key:r="value"}=this._parsing;i=c=>+be(n[c],r)}let o,l;for(o=t,l=t+e;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return qt(this.options.rotation-90)}_getCircumference(){return qt(this.options.circumference)}_getRotationExtents(){let t=ut,e=-ut;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),o=a._getCircumference();t=Math.min(t,i),e=Math.max(e,i+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),r=Math.min(od(this.options.cutout,l),1),c=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:v,offsetY:_}=Yu(h,d,r),b=(n.width-o)/f,T=(n.height-o)/g,S=Math.max(Math.min(b,T)/2,0),A=To(this.options.radius,S),E=Math.max(A*r,0),M=(A-E)/this._getVisibleDatasetWeightTotal();this.offsetX=v*A,this.offsetY=_*A,a.total=this.calculateTotal(),this.outerRadius=A-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*c,0),this.updateElements(i,0,i.length,t)}_circumference(t,e){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*i/ut)}updateElements(t,e,n,a){const i=a==="reset",o=this.chart,l=o.chartArea,c=o.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=i&&c.animateScale,g=f?0:this.innerRadius,v=f?0:this.outerRadius,{sharedOptions:_,includeOptions:b}=this._getSharedOptions(e,a);let T=this._getRotation(),S;for(S=0;S<e;++S)T+=this._circumference(S,i);for(S=e;S<e+n;++S){const A=this._circumference(S,i),E=t[S],M={x:d+this.offsetX,y:h+this.offsetY,startAngle:T,endAngle:T+A,circumference:A,outerRadius:v,innerRadius:g};b&&(M.options=_||this.resolveDataElementOptions(S,E.active?"active":a)),T+=A,this.updateElement(E,S,M,a)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n=0,a;for(a=0;a<e.length;a++){const i=t._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!e[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ut*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=Bs(e._parsed[t],n.options.locale);return{label:a[t]||"",value:i}}getMaxBorderWidth(t){let e=0;const n=this.chart;let a,i,o,l,r;if(!t){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){o=n.getDatasetMeta(a),t=o.data,l=o.controller;break}}if(!t)return 0;for(a=0,i=t.length;a<i;++a)r=l.resolveDataElementOptions(a),r.borderAlign!=="inner"&&(e=Math.max(e,r.borderWidth||0,r.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,a=t.length;n<a;++n){const i=this.resolveDataElementOptions(n);e=Math.max(e,i.offset||0,i.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(et(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}z(Oe,"id","doughnut"),z(Oe,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),z(Oe,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),z(Oe,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:a}}=t.legend.options;return e.labels.map((i,o)=>{const r=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:a,lineWidth:r.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class hn extends Zt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=e,o=this.chart._animationsDisabled;let{start:l,count:r}=Oo(e,a,o);this._drawStart=l,this._drawCount=r,Io(e)&&(l=0,r=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},t),this.updateElements(a,l,r,t)}updateElements(t,e,n,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:r,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(e,a),f=o.axis,g=l.axis,{spanGaps:v,segment:_}=this.options,b=qe(v)?v:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||i||a==="none",S=e+n,A=t.length;let E=e>0&&this.getParsed(e-1);for(let M=0;M<A;++M){const O=t[M],$=T?O:{};if(M<e||M>=S){$.skip=!0;continue}const C=this.getParsed(M),P=lt(C[g]),B=$[f]=o.getPixelForValue(C[f],M),N=$[g]=i||P?l.getBasePixel():l.getPixelForValue(r?this.applyStack(l,C,r):C[g],M);$.skip=isNaN(B)||isNaN(N)||P,$.stop=M>0&&Math.abs(C[f]-E[f])>b,_&&($.parsed=C,$.raw=c.data[M]),h&&($.options=d||this.resolveDataElementOptions(M,O.active?"active":a)),T||this.updateElement(O,M,$,a),E=C}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}z(hn,"id","line"),z(hn,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),z(hn,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ds extends Zt{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=Bs(e._parsed[t].r,n.options.locale);return{label:a[t]||"",value:i}}parseObjectData(t,e,n,a){return jo.bind(this)(t,e,n,a)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,a)=>{const i=this.getParsed(a).r;!isNaN(i)&&this.chart.getDataVisibility(a)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,a=Math.min(e.right-e.left,e.bottom-e.top),i=Math.max(a/2,0),o=Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0),l=(i-o)/t.getVisibleDatasetCount();this.outerRadius=i-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,e,n,a){const i=a==="reset",o=this.chart,r=o.options.animation,c=this._cachedMeta.rScale,d=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*ht;let g=f,v;const _=360/this.countVisibleElements();for(v=0;v<e;++v)g+=this._computeAngle(v,a,_);for(v=e;v<e+n;v++){const b=t[v];let T=g,S=g+this._computeAngle(v,a,_),A=o.getDataVisibility(v)?c.getDistanceFromCenterForValue(this.getParsed(v).r):0;g=S,i&&(r.animateScale&&(A=0),r.animateRotate&&(T=S=f));const E={x:d,y:h,innerRadius:0,outerRadius:A,startAngle:T,endAngle:S,options:this.resolveDataElementOptions(v,b.active?"active":a)};this.updateElement(b,v,E,a)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?qt(this.resolveDataElementOptions(t,e).angle||n):0}}z(Ds,"id","polarArea"),z(Ds,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),z(Ds,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:a}}=t.legend.options;return e.labels.map((i,o)=>{const r=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:a,lineWidth:r.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class sa extends Oe{}z(sa,"id","pie"),z(sa,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class fn extends Zt{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,a){return jo.bind(this)(t,e,n,a)}update(t){const e=this._cachedMeta,n=e.dataset,a=e.data||[],i=e.iScale.getLabels();if(n.points=a,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:i.length===a.length,options:o};this.updateElement(n,void 0,l,t)}this.updateElements(a,0,a.length,t)}updateElements(t,e,n,a){const i=this._cachedMeta.rScale,o=a==="reset";for(let l=e;l<e+n;l++){const r=t[l],c=this.resolveDataElementOptions(l,r.active?"active":a),d=i.getPointPositionForValue(l,this.getParsed(l).r),h=o?i.xCenter:d.x,f=o?i.yCenter:d.y,g={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(r,l,g,a)}}}z(fn,"id","radar"),z(fn,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),z(fn,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class mn extends Zt{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=e,o=this.getParsed(t),l=a.getLabelForValue(o.x),r=i.getLabelForValue(o.y);return{label:n[t]||"",value:"("+l+", "+r+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,a=this.chart._animationsDisabled;let{start:i,count:o}=Oo(e,n,a);if(this._drawStart=i,this._drawCount=o,Io(e)&&(i=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:r}=e;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!r._decimated,l.points=n;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:c},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:r,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(e,a),h=this.getSharedOptions(d),f=this.includeOptions(a,h),g=o.axis,v=l.axis,{spanGaps:_,segment:b}=this.options,T=qe(_)?_:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||i||a==="none";let A=e>0&&this.getParsed(e-1);for(let E=e;E<e+n;++E){const M=t[E],O=this.getParsed(E),$=S?M:{},C=lt(O[v]),P=$[g]=o.getPixelForValue(O[g],E),B=$[v]=i||C?l.getBasePixel():l.getPixelForValue(r?this.applyStack(l,O,r):O[v],E);$.skip=isNaN(P)||isNaN(B)||C,$.stop=E>0&&Math.abs(O[g]-A[g])>T,b&&($.parsed=O,$.raw=c.data[E]),f&&($.options=h||this.resolveDataElementOptions(E,M.active?"active":a)),S||this.updateElement(M,E,$,a),A=O}this.updateSharedOptions(h,a,d)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let l=0;for(let r=e.length-1;r>=0;--r)l=Math.max(l,e[r].size(this.resolveDataElementOptions(r))/2);return l>0&&l}const n=t.dataset,a=n.options&&n.options.borderWidth||0;if(!e.length)return a;const i=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(a,i,o)/2}}z(mn,"id","scatter"),z(mn,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),z(mn,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Gu=Object.freeze({__proto__:null,BarController:Ts,BubbleController:un,DoughnutController:Oe,LineController:hn,PieController:sa,PolarAreaController:Ds,RadarController:fn,ScatterController:mn});function Ae(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Aa{constructor(t){z(this,"options");this.options=t||{}}static override(t){Object.assign(Aa.prototype,t)}init(){}formats(){return Ae()}parse(){return Ae()}format(){return Ae()}add(){return Ae()}diff(){return Ae()}startOf(){return Ae()}endOf(){return Ae()}}var Xu={_date:Aa};function Ju(s,t,e,n){const{controller:a,data:i,_sorted:o}=s,l=a._cachedMeta.iScale;if(l&&t===l.axis&&t!=="r"&&o&&i.length){const r=l._reversePixels?vd:ce;if(n){if(a._sharedOptions){const c=i[0],d=typeof c.getRange=="function"&&c.getRange(t);if(d){const h=r(i,t,e-d),f=r(i,t,e+d);return{lo:h.lo,hi:f.hi}}}}else return r(i,t,e)}return{lo:0,hi:i.length-1}}function zs(s,t,e,n,a){const i=s.getSortedVisibleDatasetMetas(),o=e[t];for(let l=0,r=i.length;l<r;++l){const{index:c,data:d}=i[l],{lo:h,hi:f}=Ju(i[l],t,o,a);for(let g=h;g<=f;++g){const v=d[g];v.skip||n(v,c,g)}}}function Ku(s){const t=s.indexOf("x")!==-1,e=s.indexOf("y")!==-1;return function(n,a){const i=t?Math.abs(n.x-a.x):0,o=e?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function jn(s,t,e,n,a){const i=[];return!a&&!s.isPointInArea(t)||zs(s,e,t,function(l,r,c){!a&&!de(l,s.chartArea,0)||l.inRange(t.x,t.y,n)&&i.push({element:l,datasetIndex:r,index:c})},!0),i}function qu(s,t,e,n){let a=[];function i(o,l,r){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],n),{angle:h}=Co(o,{x:t.x,y:t.y});$s(h,c,d)&&a.push({element:o,datasetIndex:l,index:r})}return zs(s,e,t,i),a}function Zu(s,t,e,n,a,i){let o=[];const l=Ku(e);let r=Number.POSITIVE_INFINITY;function c(d,h,f){const g=d.inRange(t.x,t.y,a);if(n&&!g)return;const v=d.getCenterPoint(a);if(!(!!i||s.isPointInArea(v))&&!g)return;const b=l(t,v);b<r?(o=[{element:d,datasetIndex:h,index:f}],r=b):b===r&&o.push({element:d,datasetIndex:h,index:f})}return zs(s,e,t,c),o}function Hn(s,t,e,n,a,i){return!i&&!s.isPointInArea(t)?[]:e==="r"&&!n?qu(s,t,e,a):Zu(s,t,e,n,a,i)}function _i(s,t,e,n,a){const i=[],o=e==="x"?"inXRange":"inYRange";let l=!1;return zs(s,e,t,(r,c,d)=>{r[o](t[e],a)&&(i.push({element:r,datasetIndex:c,index:d}),l=l||r.inRange(t.x,t.y,a))}),n&&!l?[]:i}var Qu={evaluateInteractionItems:zs,modes:{index(s,t,e,n){const a=Ee(t,s),i=e.axis||"x",o=e.includeInvisible||!1,l=e.intersect?jn(s,a,i,n,o):Hn(s,a,i,!1,n,o),r=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(c=>{const d=l[0].index,h=c.data[d];h&&!h.skip&&r.push({element:h,datasetIndex:c.index,index:d})}),r):[]},dataset(s,t,e,n){const a=Ee(t,s),i=e.axis||"xy",o=e.includeInvisible||!1;let l=e.intersect?jn(s,a,i,n,o):Hn(s,a,i,!1,n,o);if(l.length>0){const r=l[0].datasetIndex,c=s.getDatasetMeta(r).data;l=[];for(let d=0;d<c.length;++d)l.push({element:c[d],datasetIndex:r,index:d})}return l},point(s,t,e,n){const a=Ee(t,s),i=e.axis||"xy",o=e.includeInvisible||!1;return jn(s,a,i,n,o)},nearest(s,t,e,n){const a=Ee(t,s),i=e.axis||"xy",o=e.includeInvisible||!1;return Hn(s,a,i,e.intersect,n,o)},x(s,t,e,n){const a=Ee(t,s);return _i(s,a,"x",e.intersect,n)},y(s,t,e,n){const a=Ee(t,s);return _i(s,a,"y",e.intersect,n)}}};const Zo=["left","top","right","bottom"];function us(s,t){return s.filter(e=>e.pos===t)}function vi(s,t){return s.filter(e=>Zo.indexOf(e.pos)===-1&&e.box.axis===t)}function hs(s,t){return s.sort((e,n)=>{const a=t?n:e,i=t?e:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function th(s){const t=[];let e,n,a,i,o,l;for(e=0,n=(s||[]).length;e<n;++e)a=s[e],{position:i,options:{stack:o,stackWeight:l=1}}=a,t.push({index:e,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return t}function eh(s){const t={};for(const e of s){const{stack:n,pos:a,stackWeight:i}=e;if(!n||!Zo.includes(a))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function sh(s,t){const e=eh(s),{vBoxMaxWidth:n,hBoxMaxHeight:a}=t;let i,o,l;for(i=0,o=s.length;i<o;++i){l=s[i];const{fullSize:r}=l.box,c=e[l.stack],d=c&&l.stackWeight/c.weight;l.horizontal?(l.width=d?d*n:r&&t.availableWidth,l.height=a):(l.width=n,l.height=d?d*a:r&&t.availableHeight)}return e}function nh(s){const t=th(s),e=hs(t.filter(c=>c.box.fullSize),!0),n=hs(us(t,"left"),!0),a=hs(us(t,"right")),i=hs(us(t,"top"),!0),o=hs(us(t,"bottom")),l=vi(t,"x"),r=vi(t,"y");return{fullSize:e,leftAndTop:n.concat(i),rightAndBottom:a.concat(r).concat(o).concat(l),chartArea:us(t,"chartArea"),vertical:n.concat(a).concat(r),horizontal:i.concat(o).concat(l)}}function bi(s,t,e,n){return Math.max(s[e],t[e])+Math.max(s[n],t[n])}function Qo(s,t){s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}function ah(s,t,e,n){const{pos:a,box:i}=e,o=s.maxPadding;if(!at(a)){e.size&&(s[a]-=e.size);const h=n[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?i.height:i.width),e.size=h.size/h.count,s[a]+=e.size}i.getPadding&&Qo(o,i.getPadding());const l=Math.max(0,t.outerWidth-bi(o,s,"left","right")),r=Math.max(0,t.outerHeight-bi(o,s,"top","bottom")),c=l!==s.w,d=r!==s.h;return s.w=l,s.h=r,e.horizontal?{same:c,other:d}:{same:d,other:c}}function ih(s){const t=s.maxPadding;function e(n){const a=Math.max(t[n]-s[n],0);return s[n]+=a,a}s.y+=e("top"),s.x+=e("left"),e("right"),e("bottom")}function oh(s,t){const e=t.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(t[o],e[o])}),i}return n(s?["left","right"]:["top","bottom"])}function _s(s,t,e,n){const a=[];let i,o,l,r,c,d;for(i=0,o=s.length,c=0;i<o;++i){l=s[i],r=l.box,r.update(l.width||t.w,l.height||t.h,oh(l.horizontal,t));const{same:h,other:f}=ah(t,e,l,n);c|=h&&a.length,d=d||f,r.fullSize||a.push(l)}return c&&_s(a,t,e,n)||d}function sn(s,t,e,n,a){s.top=e,s.left=t,s.right=t+n,s.bottom=e+a,s.width=n,s.height=a}function yi(s,t,e,n){const a=e.padding;let{x:i,y:o}=t;for(const l of s){const r=l.box,c=n[l.stack]||{count:1,placed:0,weight:1},d=l.stackWeight/c.weight||1;if(l.horizontal){const h=t.w*d,f=c.size||r.height;As(c.start)&&(o=c.start),r.fullSize?sn(r,a.left,o,e.outerWidth-a.right-a.left,f):sn(r,t.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=r.bottom}else{const h=t.h*d,f=c.size||r.width;As(c.start)&&(i=c.start),r.fullSize?sn(r,i,a.top,f,e.outerHeight-a.bottom-a.top):sn(r,i,t.top+c.placed,f,h),c.start=i,c.placed+=h,i=r.right}}t.x=i,t.y=o}var It={addBox(s,t){s.boxes||(s.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},s.boxes.push(t)},removeBox(s,t){const e=s.boxes?s.boxes.indexOf(t):-1;e!==-1&&s.boxes.splice(e,1)},configure(s,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(s,t,e,n){if(!s)return;const a=Ft(s.options.layout.padding),i=Math.max(t-a.width,0),o=Math.max(e-a.height,0),l=nh(s.boxes),r=l.vertical,c=l.horizontal;ct(s.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const d=r.reduce((_,b)=>b.box.options&&b.box.options.display===!1?_:_+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},a);Qo(f,Ft(n));const g=Object.assign({maxPadding:f,w:i,h:o,x:a.left,y:a.top},a),v=sh(r.concat(c),h);_s(l.fullSize,g,h,v),_s(r,g,h,v),_s(c,g,h,v)&&_s(r,g,h,v),ih(g),yi(l.leftAndTop,g,h,v),g.x+=g.w,g.y+=g.h,yi(l.rightAndBottom,g,h,v),s.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ct(l.chartArea,_=>{const b=_.box;Object.assign(b,s.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class tl{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,a){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):n)}}isAttached(t){return!0}updateConfig(t){}}class lh extends tl{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const pn="$chartjs",rh={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xi=s=>s===null||s==="";function ch(s,t){const e=s.style,n=s.getAttribute("height"),a=s.getAttribute("width");if(s[pn]={initial:{height:n,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",xi(a)){const i=ni(s,"width");i!==void 0&&(s.width=i)}if(xi(n))if(s.style.height==="")s.height=s.width/(t||2);else{const i=ni(s,"height");i!==void 0&&(s.height=i)}return s}const el=uu?{passive:!0}:!1;function dh(s,t,e){s.addEventListener(t,e,el)}function uh(s,t,e){s.canvas.removeEventListener(t,e,el)}function hh(s,t){const e=rh[s.type]||s.type,{x:n,y:a}=Ee(s,t);return{type:e,chart:t,native:s,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Tn(s,t){for(const e of s)if(e===t||e.contains(t))return!0}function fh(s,t,e){const n=s.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Tn(l.addedNodes,n),o=o&&!Tn(l.removedNodes,n);o&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function mh(s,t,e){const n=s.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Tn(l.removedNodes,n),o=o&&!Tn(l.addedNodes,n);o&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const Ps=new Map;let Si=0;function sl(){const s=window.devicePixelRatio;s!==Si&&(Si=s,Ps.forEach((t,e)=>{e.currentDevicePixelRatio!==s&&t()}))}function ph(s,t){Ps.size||window.addEventListener("resize",sl),Ps.set(s,t)}function gh(s){Ps.delete(s),Ps.size||window.removeEventListener("resize",sl)}function _h(s,t,e){const n=s.canvas,a=n&&Ca(n);if(!a)return;const i=Po((l,r)=>{const c=a.clientWidth;e(l,r),c<a.clientWidth&&e()},window),o=new ResizeObserver(l=>{const r=l[0],c=r.contentRect.width,d=r.contentRect.height;c===0&&d===0||i(c,d)});return o.observe(a),ph(s,i),o}function Wn(s,t,e){e&&e.disconnect(),t==="resize"&&gh(s)}function vh(s,t,e){const n=s.canvas,a=Po(i=>{s.ctx!==null&&e(hh(i,s))},s);return dh(n,t,a),a}class bh extends tl{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(ch(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[pn])return!1;const n=e[pn].initial;["height","width"].forEach(i=>{const o=n[i];lt(o)?e.removeAttribute(i):e.setAttribute(i,o)});const a=n.style||{};return Object.keys(a).forEach(i=>{e.style[i]=a[i]}),e.width=e.width,delete e[pn],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),o={attach:fh,detach:mh,resize:_h}[e]||vh;a[e]=o(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),a=n[e];if(!a)return;({attach:Wn,detach:Wn,resize:Wn}[e]||uh)(t,e,a),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,a){return du(t,e,n,a)}isAttached(t){const e=Ca(t);return!!(e&&e.isConnected)}}function yh(s){return!Ma()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?lh:bh}class Qt{constructor(){z(this,"x");z(this,"y");z(this,"active",!1);z(this,"options");z(this,"$animations")}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return qe(this.x)&&qe(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const a={};return t.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}}z(Qt,"defaults",{}),z(Qt,"defaultRoutes");function xh(s,t){const e=s.options.ticks,n=Sh(s),a=Math.min(e.maxTicksLimit||n,n),i=e.major.enabled?wh(t):[],o=i.length,l=i[0],r=i[o-1],c=[];if(o>a)return Th(t,c,i,o/a),c;const d=kh(i,t,a);if(o>0){let h,f;const g=o>1?Math.round((r-l)/(o-1)):null;for(nn(t,c,d,lt(g)?0:l-g,l),h=0,f=o-1;h<f;h++)nn(t,c,d,i[h],i[h+1]);return nn(t,c,d,r,lt(g)?t.length:r+g),c}return nn(t,c,d),c}function Sh(s){const t=s.options.offset,e=s._tickSize(),n=s._length/e+(t?0:1),a=s._maxLength/e;return Math.floor(Math.min(n,a))}function kh(s,t,e){const n=Dh(s),a=t.length/e;if(!n)return Math.max(a,1);const i=md(n);for(let o=0,l=i.length-1;o<l;o++){const r=i[o];if(r>a)return r}return Math.max(a,1)}function wh(s){const t=[];let e,n;for(e=0,n=s.length;e<n;e++)s[e].major&&t.push(e);return t}function Th(s,t,e,n){let a=0,i=e[0],o;for(n=Math.ceil(n),o=0;o<s.length;o++)o===i&&(t.push(s[o]),a++,i=e[a*n])}function nn(s,t,e,n,a){const i=et(n,0),o=Math.min(et(a,s.length),s.length);let l=0,r,c,d;for(e=Math.ceil(e),a&&(r=a-n,e=r/Math.floor(r/e)),d=i;d<0;)l++,d=Math.round(i+l*e);for(c=Math.max(i,0);c<o;c++)c===d&&(t.push(s[c]),l++,d=Math.round(i+l*e))}function Dh(s){const t=s.length;let e,n;if(t<2)return!1;for(n=s[0],e=1;e<t;++e)if(s[e]-s[e-1]!==n)return!1;return n}const Mh=s=>s==="left"?"right":s==="right"?"left":s,ki=(s,t,e)=>t==="top"||t==="left"?s[t]+e:s[t]-e,wi=(s,t)=>Math.min(t||s,s);function Ti(s,t){const e=[],n=s.length/t,a=s.length;let i=0;for(;i<a;i+=n)e.push(s[Math.floor(i)]);return e}function Ch(s,t,e){const n=s.ticks.length,a=Math.min(t,n-1),i=s._startPixel,o=s._endPixel,l=1e-6;let r=s.getPixelForTick(a),c;if(!(e&&(n===1?c=Math.max(r-i,o-r):t===0?c=(s.getPixelForTick(1)-r)/2:c=(r-s.getPixelForTick(a-1))/2,r+=a<t?c:-c,r<i-l||r>o+l)))return r}function Ah(s,t){ct(s,e=>{const n=e.gc,a=n.length/2;let i;if(a>t){for(i=0;i<a;++i)delete e.data[n[i]];n.splice(0,a)}})}function fs(s){return s.drawTicks?s.tickLength:0}function Di(s,t){if(!s.display)return 0;const e=At(s.font,t),n=Ft(s.padding);return(mt(s.text)?s.text.length:1)*e.lineHeight+n.height}function $h(s,t){return xe(s,{scale:t,type:"scale"})}function Eh(s,t,e){return xe(s,{tick:e,index:t,type:"tick"})}function Ph(s,t,e){let n=xa(s);return(e&&t!=="right"||!e&&t==="right")&&(n=Mh(n)),n}function Oh(s,t,e,n){const{top:a,left:i,bottom:o,right:l,chart:r}=s,{chartArea:c,scales:d}=r;let h=0,f,g,v;const _=o-a,b=l-i;if(s.isHorizontal()){if(g=Ot(n,i,l),at(e)){const T=Object.keys(e)[0],S=e[T];v=d[T].getPixelForValue(S)+_-t}else e==="center"?v=(c.bottom+c.top)/2+_-t:v=ki(s,e,t);f=l-i}else{if(at(e)){const T=Object.keys(e)[0],S=e[T];g=d[T].getPixelForValue(S)-b+t}else e==="center"?g=(c.left+c.right)/2-b+t:g=ki(s,e,t);v=Ot(n,o,a),h=e==="left"?-Tt:Tt}return{titleX:g,titleY:v,maxWidth:f,rotation:h}}class je extends Qt{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:a}=this;return t=jt(t,Number.POSITIVE_INFINITY),e=jt(e,Number.NEGATIVE_INFINITY),n=jt(n,Number.POSITIVE_INFINITY),a=jt(a,Number.NEGATIVE_INFINITY),{min:jt(t,n),max:jt(e,a),minDefined:bt(t),maxDefined:bt(e)}}getMinMax(t){let{min:e,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:e,max:n};const l=this.getMatchingVisibleMetas();for(let r=0,c=l.length;r<c;++r)o=l[r].controller.getMinMax(this,t),a||(e=Math.min(e,o.min)),i||(n=Math.max(n,o.max));return e=i&&e>n?n:e,n=a&&e>n?e:n,{min:jt(e,jt(n,e)),max:jt(n,jt(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){dt(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=jd(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const r=l<this.ticks.length;this._convertTicksToLabels(r?Ti(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=xh(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),r&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){dt(this.options.afterUpdate,[this])}beforeSetDimensions(){dt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){dt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),dt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){dt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n],i.label=dt(e.callback,[i.value,n,t],this)}afterTickToLabelConversion(){dt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){dt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=wi(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,i=e.maxRotation;let o=a,l,r,c;if(!this._isVisible()||!e.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,g=Et(this.chart.width-h,0,this.maxWidth);l=t.offset?this.maxWidth/n:g/(n-1),h+6>l&&(l=g/(n-(t.offset?.5:1)),r=this.maxHeight-fs(t.grid)-e.padding-Di(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=ba(Math.min(Math.asin(Et((d.highest.height+6)/l,-1,1)),Math.asin(Et(r/c,-1,1))-Math.asin(Et(f/c,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){dt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){dt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const r=Di(a,e.options.font);if(l?(t.width=this.maxWidth,t.height=fs(i)+r):(t.height=this.maxHeight,t.width=fs(i)+r),n.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:f}=this._getLabelSizes(),g=n.padding*2,v=qt(this.labelRotation),_=Math.cos(v),b=Math.sin(v);if(l){const T=n.mirror?0:b*h.width+_*f.height;t.height=Math.min(this.maxHeight,t.height+T+g)}else{const T=n.mirror?0:_*h.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+T+g)}this._calculatePadding(c,d,b,_)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,a){const{ticks:{align:i,padding:o},position:l}=this.options,r=this.labelRotation!==0,c=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;r?c?(f=a*t.width,g=n*e.height):(f=n*t.height,g=a*e.width):i==="start"?g=e.width:i==="end"?f=t.width:i!=="inner"&&(f=t.width/2,g=e.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-h+o)*this.width/(this.width-h),0)}else{let d=e.height/2,h=t.height/2;i==="start"?(d=0,h=t.height):i==="end"&&(d=e.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){dt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)lt(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Ti(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],r=Math.floor(e/wi(e,n));let c=0,d=0,h,f,g,v,_,b,T,S,A,E,M;for(h=0;h<e;h+=r){if(v=t[h].label,_=this._resolveTickFontOptions(h),a.font=b=_.string,T=i[b]=i[b]||{data:{},gc:[]},S=_.lineHeight,A=E=0,!lt(v)&&!mt(v))A=kn(a,T.data,T.gc,A,v),E=S;else if(mt(v))for(f=0,g=v.length;f<g;++f)M=v[f],!lt(M)&&!mt(M)&&(A=kn(a,T.data,T.gc,A,M),E+=S);o.push(A),l.push(E),c=Math.max(A,c),d=Math.max(E,d)}Ah(i,e);const O=o.indexOf(c),$=l.indexOf(d),C=P=>({width:o[P]||0,height:l[P]||0});return{first:C(0),last:C(e-1),widest:C(O),highest:C($),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return _d(this._alignToPixels?Ce(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=Eh(this.getContext(),t,n))}return this.$context||(this.$context=$h(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=qt(this.labelRotation),n=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,l=i?i.widest.width+o:0,r=i?i.highest.height+o:0;return this.isHorizontal()?r*n>l*a?l/n:r/a:r*a<l*n?r/n:l/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,a=this.options,{grid:i,position:o,border:l}=a,r=i.offset,c=this.isHorizontal(),h=this.ticks.length+(r?1:0),f=fs(i),g=[],v=l.setContext(this.getContext()),_=v.display?v.width:0,b=_/2,T=function(K){return Ce(n,K,_)};let S,A,E,M,O,$,C,P,B,N,J,rt;if(o==="top")S=T(this.bottom),$=this.bottom-f,P=S-b,N=T(t.top)+b,rt=t.bottom;else if(o==="bottom")S=T(this.top),N=t.top,rt=T(t.bottom)-b,$=S+b,P=this.top+f;else if(o==="left")S=T(this.right),O=this.right-f,C=S-b,B=T(t.left)+b,J=t.right;else if(o==="right")S=T(this.left),B=t.left,J=T(t.right)-b,O=S+b,C=this.left+f;else if(e==="x"){if(o==="center")S=T((t.top+t.bottom)/2+.5);else if(at(o)){const K=Object.keys(o)[0],Y=o[K];S=T(this.chart.scales[K].getPixelForValue(Y))}N=t.top,rt=t.bottom,$=S+b,P=$+f}else if(e==="y"){if(o==="center")S=T((t.left+t.right)/2);else if(at(o)){const K=Object.keys(o)[0],Y=o[K];S=T(this.chart.scales[K].getPixelForValue(Y))}O=S-b,C=O-f,B=t.left,J=t.right}const j=et(a.ticks.maxTicksLimit,h),Q=Math.max(1,Math.ceil(h/j));for(A=0;A<h;A+=Q){const K=this.getContext(A),Y=i.setContext(K),vt=l.setContext(K),ft=Y.lineWidth,Nt=Y.color,Mt=vt.dash||[],Wt=vt.dashOffset,Ut=Y.tickWidth,Ct=Y.tickColor,Yt=Y.tickBorderDash||[],Dt=Y.tickBorderDashOffset;E=Ch(this,A,r),E!==void 0&&(M=Ce(n,E,ft),c?O=C=B=J=M:$=P=N=rt=M,g.push({tx1:O,ty1:$,tx2:C,ty2:P,x1:B,y1:N,x2:J,y2:rt,width:ft,color:Nt,borderDash:Mt,borderDashOffset:Wt,tickWidth:Ut,tickColor:Ct,tickBorderDash:Yt,tickBorderDashOffset:Dt}))}return this._ticksLength=h,this._borderValue=S,g}_computeLabelItems(t){const e=this.axis,n=this.options,{position:a,ticks:i}=n,o=this.isHorizontal(),l=this.ticks,{align:r,crossAlign:c,padding:d,mirror:h}=i,f=fs(n.grid),g=f+d,v=h?-d:g,_=-qt(this.labelRotation),b=[];let T,S,A,E,M,O,$,C,P,B,N,J,rt="middle";if(a==="top")O=this.bottom-v,$=this._getXAxisLabelAlignment();else if(a==="bottom")O=this.top+v,$=this._getXAxisLabelAlignment();else if(a==="left"){const Q=this._getYAxisLabelAlignment(f);$=Q.textAlign,M=Q.x}else if(a==="right"){const Q=this._getYAxisLabelAlignment(f);$=Q.textAlign,M=Q.x}else if(e==="x"){if(a==="center")O=(t.top+t.bottom)/2+g;else if(at(a)){const Q=Object.keys(a)[0],K=a[Q];O=this.chart.scales[Q].getPixelForValue(K)+g}$=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")M=(t.left+t.right)/2-g;else if(at(a)){const Q=Object.keys(a)[0],K=a[Q];M=this.chart.scales[Q].getPixelForValue(K)}$=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(r==="start"?rt="top":r==="end"&&(rt="bottom"));const j=this._getLabelSizes();for(T=0,S=l.length;T<S;++T){A=l[T],E=A.label;const Q=i.setContext(this.getContext(T));C=this.getPixelForTick(T)+i.labelOffset,P=this._resolveTickFontOptions(T),B=P.lineHeight,N=mt(E)?E.length:1;const K=N/2,Y=Q.color,vt=Q.textStrokeColor,ft=Q.textStrokeWidth;let Nt=$;o?(M=C,$==="inner"&&(T===S-1?Nt=this.options.reverse?"left":"right":T===0?Nt=this.options.reverse?"right":"left":Nt="center"),a==="top"?c==="near"||_!==0?J=-N*B+B/2:c==="center"?J=-j.highest.height/2-K*B+B:J=-j.highest.height+B/2:c==="near"||_!==0?J=B/2:c==="center"?J=j.highest.height/2-K*B:J=j.highest.height-N*B,h&&(J*=-1),_!==0&&!Q.showLabelBackdrop&&(M+=B/2*Math.sin(_))):(O=C,J=(1-N)*B/2);let Mt;if(Q.showLabelBackdrop){const Wt=Ft(Q.backdropPadding),Ut=j.heights[T],Ct=j.widths[T];let Yt=J-Wt.top,Dt=0-Wt.left;switch(rt){case"middle":Yt-=Ut/2;break;case"bottom":Yt-=Ut;break}switch($){case"center":Dt-=Ct/2;break;case"right":Dt-=Ct;break;case"inner":T===S-1?Dt-=Ct:T>0&&(Dt-=Ct/2);break}Mt={left:Dt,top:Yt,width:Ct+Wt.width,height:Ut+Wt.height,color:Q.backdropColor}}b.push({label:E,font:P,textOffset:J,options:{rotation:_,color:Y,strokeColor:vt,strokeWidth:ft,textAlign:Nt,textBaseline:rt,translation:[M,O],backdrop:Mt}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-qt(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=t+i,r=o.widest.width;let c,d;return e==="left"?a?(d=this.right+i,n==="near"?c="left":n==="center"?(c="center",d+=r/2):(c="right",d+=r)):(d=this.right-l,n==="near"?c="right":n==="center"?(c="center",d-=r/2):(c="left",d=this.left)):e==="right"?a?(d=this.left+i,n==="near"?c="right":n==="center"?(c="center",d-=r/2):(c="left",d-=r)):(d=this.left+l,n==="near"?c="left":n==="center"?(c="center",d+=r/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:a,width:i,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,a,i,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(i=>i.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const l=(r,c,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(r.x,r.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(e.display)for(i=0,o=a.length;i<o;++i){const r=a[i];e.drawOnChartArea&&l({x:r.x1,y:r.y1},{x:r.x2,y:r.y2},r),e.drawTicks&&l({x:r.tx1,y:r.ty1},{x:r.tx2,y:r.ty2},{color:r.tickColor,width:r.tickWidth,borderDash:r.tickBorderDash,borderDashOffset:r.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,r=this._borderValue;let c,d,h,f;this.isHorizontal()?(c=Ce(t,this.left,o)-o/2,d=Ce(t,this.right,l)+l/2,h=f=r):(h=Ce(t,this.top,o)-o/2,f=Ce(t,this.bottom,l)+l/2,c=d=r),e.save(),e.lineWidth=i.width,e.strokeStyle=i.color,e.beginPath(),e.moveTo(c,h),e.lineTo(d,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&An(n,a);const i=this.getLabelItems(t);for(const o of i){const l=o.options,r=o.font,c=o.label,d=o.textOffset;Be(n,c,0,d,r,l)}a&&$n(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:a}}=this;if(!n.display)return;const i=At(n.font),o=Ft(n.padding),l=n.align;let r=i.lineHeight/2;e==="bottom"||e==="center"||at(e)?(r+=o.bottom,mt(n.text)&&(r+=i.lineHeight*(n.text.length-1))):r+=o.top;const{titleX:c,titleY:d,maxWidth:h,rotation:f}=Oh(this,r,e,l);Be(t,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:Ph(l,e,a),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=et(t.grid&&t.grid.z,-1),a=et(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==je.prototype.draw?[{z:e,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,o;for(i=0,o=e.length;i<o;++i){const l=e[i];l[n]===this.id&&(!t||l.type===t)&&a.push(l)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return At(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class an{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;Fh(e)&&(n=this.register(e));const a=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in a||(a[i]=t,Ih(t,o,n),this.override&&yt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,a=this.scope;n in e&&delete e[n],a&&n in yt[a]&&(delete yt[a][n],this.override&&delete Ne[n])}}function Ih(s,t,e){const n=Cs(Object.create(null),[e?yt.get(e):{},yt.get(t),s.defaults]);yt.set(t,n),s.defaultRoutes&&Rh(t,s.defaultRoutes),s.descriptors&&yt.describe(t,s.descriptors)}function Rh(s,t){Object.keys(t).forEach(e=>{const n=e.split("."),a=n.pop(),i=[s].concat(n).join("."),o=t[e].split("."),l=o.pop(),r=o.join(".");yt.route(i,a,r,l)})}function Fh(s){return"id"in s&&"defaults"in s}class Lh{constructor(){this.controllers=new an(Zt,"datasets",!0),this.elements=new an(Qt,"elements"),this.plugins=new an(Object,"plugins"),this.scales=new an(je,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(t,i,a):ct(a,o=>{const l=n||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,e,n){const a=va(t);dt(n["before"+a],[],n),e[t](n),dt(n["after"+a],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return a}}var ee=new Lh;class Vh{constructor(){this._init=[]}notify(t,e,n,a){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=a?this._descriptors(t).filter(a):this._descriptors(t),o=this._notify(i,t,e,n);return e==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,a){a=a||{};for(const i of t){const o=i.plugin,l=o[n],r=[e,a,i.options];if(dt(l,r,o)===!1&&a.cancelable)return!1}return!0}invalidate(){lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,a=et(n.options&&n.options.plugins,{}),i=Nh(n);return a===!1&&!e?[]:zh(t,i,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,a=(i,o)=>i.filter(l=>!o.some(r=>l.plugin.id===r.plugin.id));this._notify(a(e,n),t,"stop"),this._notify(a(n,e),t,"start")}}function Nh(s){const t={},e=[],n=Object.keys(ee.plugins.items);for(let i=0;i<n.length;i++)e.push(ee.getPlugin(n[i]));const a=s.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function Bh(s,t){return!t&&s===!1?null:s===!0?{}:s}function zh(s,{plugins:t,localIds:e},n,a){const i=[],o=s.getContext();for(const l of t){const r=l.id,c=Bh(n[r],a);c!==null&&i.push({plugin:l,options:jh(s.config,{plugin:l,local:e[r]},c,o)})}return i}function jh(s,{plugin:t,local:e},n,a){const i=s.pluginScopeKeys(t),o=s.getOptionScopes(n,i);return e&&t.defaults&&o.push(t.defaults),s.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function na(s,t){const e=yt.datasets[s]||{};return((t.datasets||{})[s]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Hh(s,t){let e=s;return s==="_index_"?e=t:s==="_value_"&&(e=t==="x"?"y":"x"),e}function Wh(s,t){return s===t?"_index_":"_value_"}function Mi(s){if(s==="x"||s==="y"||s==="r")return s}function Uh(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function aa(s,...t){if(Mi(s))return s;for(const e of t){const n=e.axis||Uh(e.position)||s.length>1&&Mi(s[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function Ci(s,t,e){if(e[t+"AxisID"]===s)return{axis:t}}function Yh(s,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(n=>n.xAxisID===s||n.yAxisID===s);if(e.length)return Ci(s,"x",e[0])||Ci(s,"y",e[0])}return{}}function Gh(s,t){const e=Ne[s.type]||{scales:{}},n=t.scales||{},a=na(s.type,t),i=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!at(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const r=aa(o,l,Yh(o,s),yt.scales[l.type]),c=Wh(r,a),d=e.scales||{};i[o]=xs(Object.create(null),[{axis:r},l,d[r],d[c]])}),s.data.datasets.forEach(o=>{const l=o.type||s.type,r=o.indexAxis||na(l,t),d=(Ne[l]||{}).scales||{};Object.keys(d).forEach(h=>{const f=Hh(h,r),g=o[f+"AxisID"]||f;i[g]=i[g]||Object.create(null),xs(i[g],[{axis:f},n[g],d[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];xs(l,[yt.scales[l.type],yt.scale])}),i}function nl(s){const t=s.options||(s.options={});t.plugins=et(t.plugins,{}),t.scales=Gh(s,t)}function al(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function Xh(s){return s=s||{},s.data=al(s.data),nl(s),s}const Ai=new Map,il=new Set;function on(s,t){let e=Ai.get(s);return e||(e=t(),Ai.set(s,e),il.add(e)),e}const ms=(s,t,e)=>{const n=be(t,e);n!==void 0&&s.add(n)};class Jh{constructor(t){this._config=Xh(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=al(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),nl(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return on(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return on(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return on(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return on(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let a=n.get(t);return(!a||e)&&(a=new Map,n.set(t,a)),a}getOptionScopes(t,e,n){const{options:a,type:i}=this,o=this._cachedScopes(t,n),l=o.get(e);if(l)return l;const r=new Set;e.forEach(d=>{t&&(r.add(t),d.forEach(h=>ms(r,t,h))),d.forEach(h=>ms(r,a,h)),d.forEach(h=>ms(r,Ne[i]||{},h)),d.forEach(h=>ms(r,yt,h)),d.forEach(h=>ms(r,ta,h))});const c=Array.from(r);return c.length===0&&c.push(Object.create(null)),il.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ne[e]||{},yt.datasets[e]||{},{type:e},yt,ta]}resolveNamedOptions(t,e,n,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=$i(this._resolverCache,t,a);let r=o;if(qh(o,e)){i.$shared=!1,n=ye(n)?n():n;const c=this.createResolver(t,n,l);r=Ze(o,n,c)}for(const c of e)i[c]=r[c];return i}createResolver(t,e,n=[""],a){const{resolver:i}=$i(this._resolverCache,t,n);return at(e)?Ze(i,e,void 0,a):i}}function $i(s,t,e){let n=s.get(t);n||(n=new Map,s.set(t,n));const a=e.join();let i=n.get(a);return i||(i={resolver:wa(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,i)),i}const Kh=s=>at(s)&&Object.getOwnPropertyNames(s).some(t=>ye(s[t]));function qh(s,t){const{isScriptable:e,isIndexable:n}=Vo(s);for(const a of t){const i=e(a),o=n(a),l=(o||i)&&s[a];if(i&&(ye(l)||Kh(l))||o&&mt(l))return!0}return!1}var Zh="4.4.1";const Qh=["top","bottom","left","right","chartArea"];function Ei(s,t){return s==="top"||s==="bottom"||Qh.indexOf(s)===-1&&t==="x"}function Pi(s,t){return function(e,n){return e[s]===n[s]?e[t]-n[t]:e[s]-n[s]}}function Oi(s){const t=s.chart,e=t.options.animation;t.notifyPlugins("afterRender"),dt(e&&e.onComplete,[s],t)}function tf(s){const t=s.chart,e=t.options.animation;dt(e&&e.onProgress,[s],t)}function ol(s){return Ma()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const gn={},Ii=s=>{const t=ol(s);return Object.values(gn).filter(e=>e.canvas===t).pop()};function ef(s,t,e){const n=Object.keys(s);for(const a of n){const i=+a;if(i>=t){const o=s[a];delete s[a],(e>0||i>t)&&(s[i+e]=o)}}}function sf(s,t,e,n){return!e||s.type==="mouseout"?null:n?t:s}function ln(s,t,e){return s.options.clip?s[e]:t[e]}function nf(s,t){const{xScale:e,yScale:n}=s;return e&&n?{left:ln(e,t,"left"),right:ln(e,t,"right"),top:ln(n,t,"top"),bottom:ln(n,t,"bottom")}:t}var fe;let Pn=(fe=class{static register(...t){ee.add(...t),Ri()}static unregister(...t){ee.remove(...t),Ri()}constructor(t,e){const n=this.config=new Jh(e),a=ol(t),i=Ii(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||yh(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,o.aspectRatio),r=l&&l.canvas,c=r&&r.height,d=r&&r.width;if(this.id=id(),this.ctx=l,this.canvas=r,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Vh,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=xd(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],gn[this.id]=this,!l||!r){console.error("Failed to create chart: can't acquire context from the given item");return}ie.listen(this,"complete",Oi),ie.listen(this,"progress",tf),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:a,_aspectRatio:i}=this;return lt(t)?e&&i?i:a?n/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ee}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():si(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Qa(this.canvas,this.ctx),this}stop(){return ie.stop(this),this}resize(t,e){ie.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,t,e,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),r=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,si(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),dt(n.onResize,[this,o],this),this.attached&&this._doResize(r)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ct(e,(n,a)=>{n.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,a=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let i=[];e&&(i=i.concat(Object.keys(e).map(o=>{const l=e[o],r=aa(o,l),c=r==="r",d=r==="x";return{options:l,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),ct(i,o=>{const l=o.options,r=l.id,c=aa(r,l),d=et(l.type,o.dtype);(l.position===void 0||Ei(l.position,c)!==Ei(o.dposition))&&(l.position=o.dposition),a[r]=!0;let h=null;if(r in n&&n[r].type===d)h=n[r];else{const f=ee.getScale(d);h=new f({id:r,type:d,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,t)}),ct(a,(o,l)=>{o||delete n[l]}),ct(n,o=>{It.configure(this,o,o.options),It.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((a,i)=>a.index-i.index),n>e){for(let a=e;a<n;++a)this._destroyDatasetMeta(a);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(Pi("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((n,a)=>{e.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=e.length;n<a;n++){const i=e[n];let o=this.getDatasetMeta(n);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=i.indexAxis||na(l,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const r=ee.getController(l),{datasetElementType:c,dataElementType:d}=yt.datasets[l];Object.assign(r,{dataElementType:ee.getElement(d),datasetElementType:c&&ee.getElement(c)}),o.controller=new r(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){ct(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:h}=this.getDatasetMeta(c),f=!a&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||ct(i,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Pi("z","_idx"));const{_active:l,_lastEvent:r}=this;r?this._eventHandler(r,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ct(this.scales,t=>{It.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!Wa(e,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of e){const o=n==="_removeElements"?-i:i;ef(t,a,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=i=>new Set(t.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=n(0);for(let i=1;i<e;i++)if(!Wa(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;It.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],ct(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,ye(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),a={meta:n,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ie.has(this)?this.attached&&!ie.running(this)&&ie.start(this):(this.draw(),Oi({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resize(n,a),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let a,i;for(a=0,i=e.length;a<i;++a){const o=e[a];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,a=!n.disabled,i=nf(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(a&&An(e,{left:n.left===!1?0:i.left-n.left,right:n.right===!1?this.width:i.right+n.right,top:n.top===!1?0:i.top-n.top,bottom:n.bottom===!1?this.height:i.bottom+n.bottom}),t.controller.draw(),a&&$n(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return de(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,a){const i=Qu.modes[e];return typeof i=="function"?i(this,t,n,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let a=n.filter(i=>i&&i._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=xe(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const a=n?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,a);As(e)?(i.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(i,{visible:n}),this.update(l=>l.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ie.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Qa(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete gn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(i,o)=>{e.addEventListener(this,i,o),t[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};ct(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(r,c)=>{e.addEventListener(this,r,c),t[r]=c},a=(r,c)=>{t[r]&&(e.removeEventListener(this,r,c),delete t[r])},i=(r,c)=>{this.canvas&&this.resize(r,c)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",l)},e.isAttached(this.canvas)?l():o()}unbindEvents(){ct(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ct(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const a=n?"set":"remove";let i,o,l,r;for(e==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,r=t.length;l<r;++l){o=t[l];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!yn(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,n){const a=this.options.hover,i=(r,c)=>r.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=i(e,t),l=n?t:i(t,e);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:a=[],options:i}=this,o=e,l=this._getActiveElements(t,a,n,o),r=ud(t),c=sf(t,this._lastEvent,n,r);n&&(this._lastEvent=null,dt(i.onHover,[t,l,this],this),r&&dt(i.onClick,[t,l,this],this));const d=!yn(l,a);return(d||e)&&(this._active=l,this._updateHoverStyles(l,a,e)),this._lastEvent=c,d}_getActiveElements(t,e,n,a){if(t.type==="mouseout")return[];if(!n)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,a)}},z(fe,"defaults",yt),z(fe,"instances",gn),z(fe,"overrides",Ne),z(fe,"registry",ee),z(fe,"version",Zh),z(fe,"getChart",Ii),fe);function Ri(){return ct(Pn.instances,s=>s._plugins.invalidate())}function af(s,t,e){const{startAngle:n,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:r}=t;let c=a/l;s.beginPath(),s.arc(i,o,l,n-c,e+c),r>a?(c=a/r,s.arc(i,o,r,e+c,n-c,!0)):s.arc(i,o,a,e+Tt,n-Tt),s.closePath(),s.clip()}function of(s){return ka(s,["outerStart","outerEnd","innerStart","innerEnd"])}function lf(s,t,e,n){const a=of(s.options.borderRadius),i=(e-t)/2,o=Math.min(i,n*t/2),l=r=>{const c=(e-Math.min(i,r))*n/2;return Et(r,0,Math.min(i,c))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:Et(a.innerStart,0,o),innerEnd:Et(a.innerEnd,0,o)}}function Ye(s,t,e,n){return{x:e+s*Math.cos(t),y:n+s*Math.sin(t)}}function Dn(s,t,e,n,a,i){const{x:o,y:l,startAngle:r,pixelMargin:c,innerRadius:d}=t,h=Math.max(t.outerRadius+n+e-c,0),f=d>0?d+n+e+c:0;let g=0;const v=a-r;if(n){const Q=d>0?d-n:0,K=h>0?h-n:0,Y=(Q+K)/2,vt=Y!==0?v*Y/(Y+n):v;g=(v-vt)/2}const _=Math.max(.001,v*h-e/ht)/h,b=(v-_)/2,T=r+b+g,S=a-b-g,{outerStart:A,outerEnd:E,innerStart:M,innerEnd:O}=lf(t,f,h,S-T),$=h-A,C=h-E,P=T+A/$,B=S-E/C,N=f+M,J=f+O,rt=T+M/N,j=S-O/J;if(s.beginPath(),i){const Q=(P+B)/2;if(s.arc(o,l,h,P,Q),s.arc(o,l,h,Q,B),E>0){const ft=Ye(C,B,o,l);s.arc(ft.x,ft.y,E,B,S+Tt)}const K=Ye(J,S,o,l);if(s.lineTo(K.x,K.y),O>0){const ft=Ye(J,j,o,l);s.arc(ft.x,ft.y,O,S+Tt,j+Math.PI)}const Y=(S-O/f+(T+M/f))/2;if(s.arc(o,l,f,S-O/f,Y,!0),s.arc(o,l,f,Y,T+M/f,!0),M>0){const ft=Ye(N,rt,o,l);s.arc(ft.x,ft.y,M,rt+Math.PI,T-Tt)}const vt=Ye($,T,o,l);if(s.lineTo(vt.x,vt.y),A>0){const ft=Ye($,P,o,l);s.arc(ft.x,ft.y,A,T-Tt,P)}}else{s.moveTo(o,l);const Q=Math.cos(P)*h+o,K=Math.sin(P)*h+l;s.lineTo(Q,K);const Y=Math.cos(B)*h+o,vt=Math.sin(B)*h+l;s.lineTo(Y,vt)}s.closePath()}function rf(s,t,e,n,a){const{fullCircles:i,startAngle:o,circumference:l}=t;let r=t.endAngle;if(i){Dn(s,t,e,n,r,a);for(let c=0;c<i;++c)s.fill();isNaN(l)||(r=o+(l%ut||ut))}return Dn(s,t,e,n,r,a),s.fill(),r}function cf(s,t,e,n,a){const{fullCircles:i,startAngle:o,circumference:l,options:r}=t,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:f}=r,g=r.borderAlign==="inner";if(!c)return;s.setLineDash(h||[]),s.lineDashOffset=f,g?(s.lineWidth=c*2,s.lineJoin=d||"round"):(s.lineWidth=c,s.lineJoin=d||"bevel");let v=t.endAngle;if(i){Dn(s,t,e,n,v,a);for(let _=0;_<i;++_)s.stroke();isNaN(l)||(v=o+(l%ut||ut))}g&&af(s,t,v),i||(Dn(s,t,e,n,v,a),s.stroke())}class vs extends Qt{constructor(e){super();z(this,"circumference");z(this,"endAngle");z(this,"fullCircles");z(this,"innerRadius");z(this,"outerRadius");z(this,"pixelMargin");z(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,a){const i=this.getProps(["x","y"],a),{angle:o,distance:l}=Co(i,{x:e,y:n}),{startAngle:r,endAngle:c,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),g=(this.options.spacing+this.options.borderWidth)/2,_=et(f,c-r)>=ut||$s(o,r,c),b=re(l,d+g,h+g);return _&&b}getCenterPoint(e){const{x:n,y:a,startAngle:i,endAngle:o,innerRadius:l,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:d}=this.options,h=(i+o)/2,f=(l+r+d+c)/2;return{x:n+Math.cos(h)*f,y:a+Math.sin(h)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:a}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>ut?Math.floor(a/ut):0,a===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const r=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(r)*i,Math.sin(r)*i);const c=1-Math.sin(Math.min(ht,a||0)),d=i*c;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,rf(e,this,d,o,l),cf(e,this,d,o,l),e.restore()}}z(vs,"id","arc"),z(vs,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),z(vs,"defaultRoutes",{backgroundColor:"backgroundColor"}),z(vs,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function ll(s,t,e=t){s.lineCap=et(e.borderCapStyle,t.borderCapStyle),s.setLineDash(et(e.borderDash,t.borderDash)),s.lineDashOffset=et(e.borderDashOffset,t.borderDashOffset),s.lineJoin=et(e.borderJoinStyle,t.borderJoinStyle),s.lineWidth=et(e.borderWidth,t.borderWidth),s.strokeStyle=et(e.borderColor,t.borderColor)}function df(s,t,e){s.lineTo(e.x,e.y)}function uf(s){return s.stepped?Od:s.tension||s.cubicInterpolationMode==="monotone"?Id:df}function rl(s,t,e={}){const n=s.length,{start:a=0,end:i=n-1}=e,{start:o,end:l}=t,r=Math.max(a,o),c=Math.min(i,l),d=a<o&&i<o||a>l&&i>l;return{count:n,start:r,loop:t.loop,ilen:c<r&&!d?n+c-r:c-r}}function hf(s,t,e,n){const{points:a,options:i}=t,{count:o,start:l,loop:r,ilen:c}=rl(a,e,n),d=uf(i);let{move:h=!0,reverse:f}=n||{},g,v,_;for(g=0;g<=c;++g)v=a[(l+(f?c-g:g))%o],!v.skip&&(h?(s.moveTo(v.x,v.y),h=!1):d(s,_,v,f,i.stepped),_=v);return r&&(v=a[(l+(f?c:0))%o],d(s,_,v,f,i.stepped)),!!r}function ff(s,t,e,n){const a=t.points,{count:i,start:o,ilen:l}=rl(a,e,n),{move:r=!0,reverse:c}=n||{};let d=0,h=0,f,g,v,_,b,T;const S=E=>(o+(c?l-E:E))%i,A=()=>{_!==b&&(s.lineTo(d,b),s.lineTo(d,_),s.lineTo(d,T))};for(r&&(g=a[S(0)],s.moveTo(g.x,g.y)),f=0;f<=l;++f){if(g=a[S(f)],g.skip)continue;const E=g.x,M=g.y,O=E|0;O===v?(M<_?_=M:M>b&&(b=M),d=(h*d+E)/++h):(A(),s.lineTo(E,M),v=O,h=0,_=b=M),T=M}A()}function ia(s){const t=s.options,e=t.borderDash&&t.borderDash.length;return!s._decimated&&!s._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?ff:hf}function mf(s){return s.stepped?hu:s.tension||s.cubicInterpolationMode==="monotone"?fu:Pe}function pf(s,t,e,n){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,n)&&a.closePath()),ll(s,t.options),s.stroke(a)}function gf(s,t,e,n){const{segments:a,options:i}=t,o=ia(t);for(const l of a)ll(s,i,l.style),s.beginPath(),o(s,t,l,{start:e,end:e+n-1})&&s.closePath(),s.stroke()}const _f=typeof Path2D=="function";function vf(s,t,e,n){_f&&!t.options.segment?pf(s,t,e,n):gf(s,t,e,n)}class ge extends Qt{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;au(this._points,n,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=bu(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,a=t[e],i=this.points,o=Xo(this,{property:e,start:a,end:a});if(!o.length)return;const l=[],r=mf(n);let c,d;for(c=0,d=o.length;c<d;++c){const{start:h,end:f}=o[c],g=i[h],v=i[f];if(g===v){l.push(g);continue}const _=Math.abs((a-g[e])/(v[e]-g[e])),b=r(g,v,_,n.stepped);b[e]=t[e],l.push(b)}return l.length===1?l[0]:l}pathSegment(t,e,n){return ia(this)(t,this,e,n)}path(t,e,n){const a=this.segments,i=ia(this);let o=this._loop;e=e||0,n=n||this.points.length-e;for(const l of a)o&=i(t,this,l,{start:e,end:e+n-1});return!!o}draw(t,e,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),vf(t,this,n,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}z(ge,"id","line"),z(ge,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),z(ge,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),z(ge,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Fi(s,t,e,n){const a=s.options,{[e]:i}=s.getProps([e],n);return Math.abs(t-i)<a.radius+a.hitRadius}class _n extends Qt{constructor(e){super();z(this,"parsed");z(this,"skip");z(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,a){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],a);return Math.pow(e-o,2)+Math.pow(n-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return Fi(this,e,"x",n)}inYRange(e,n){return Fi(this,e,"y",n)}getCenterPoint(e){const{x:n,y:a}=this.getProps(["x","y"],e);return{x:n,y:a}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const a=n&&e.borderWidth||0;return(n+a)*2}draw(e,n){const a=this.options;this.skip||a.radius<.1||!de(this,n,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,ea(e,a,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}z(_n,"id","point"),z(_n,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),z(_n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function cl(s,t){const{x:e,y:n,base:a,width:i,height:o}=s.getProps(["x","y","base","width","height"],t);let l,r,c,d,h;return s.horizontal?(h=o/2,l=Math.min(e,a),r=Math.max(e,a),c=n-h,d=n+h):(h=i/2,l=e-h,r=e+h,c=Math.min(n,a),d=Math.max(n,a)),{left:l,top:c,right:r,bottom:d}}function _e(s,t,e,n){return s?0:Et(t,e,n)}function bf(s,t,e){const n=s.options.borderWidth,a=s.borderSkipped,i=Lo(n);return{t:_e(a.top,i.top,0,e),r:_e(a.right,i.right,0,t),b:_e(a.bottom,i.bottom,0,e),l:_e(a.left,i.left,0,t)}}function yf(s,t,e){const{enableBorderRadius:n}=s.getProps(["enableBorderRadius"]),a=s.options.borderRadius,i=Ie(a),o=Math.min(t,e),l=s.borderSkipped,r=n||at(a);return{topLeft:_e(!r||l.top||l.left,i.topLeft,0,o),topRight:_e(!r||l.top||l.right,i.topRight,0,o),bottomLeft:_e(!r||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:_e(!r||l.bottom||l.right,i.bottomRight,0,o)}}function xf(s){const t=cl(s),e=t.right-t.left,n=t.bottom-t.top,a=bf(s,e/2,n/2),i=yf(s,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:i},inner:{x:t.left+a.l,y:t.top+a.t,w:e-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function Un(s,t,e,n){const a=t===null,i=e===null,l=s&&!(a&&i)&&cl(s,n);return l&&(a||re(t,l.left,l.right))&&(i||re(e,l.top,l.bottom))}function Sf(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function kf(s,t){s.rect(t.x,t.y,t.w,t.h)}function Yn(s,t,e={}){const n=s.x!==e.x?-t:0,a=s.y!==e.y?-t:0,i=(s.x+s.w!==e.x+e.w?t:0)-n,o=(s.y+s.h!==e.y+e.h?t:0)-a;return{x:s.x+n,y:s.y+a,w:s.w+i,h:s.h+o,radius:s.radius}}class vn extends Qt{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:o}=xf(this),l=Sf(o.radius)?Es:kf;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),l(t,Yn(o,e,i)),t.clip(),l(t,Yn(i,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),l(t,Yn(i,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,n){return Un(this,t,e,n)}inXRange(t,e){return Un(this,t,null,e)}inYRange(t,e){return Un(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+a)/2:e,y:i?n:(n+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}z(vn,"id","bar"),z(vn,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),z(vn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var wf=Object.freeze({__proto__:null,ArcElement:vs,BarElement:vn,LineElement:ge,PointElement:_n});const oa=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Li=oa.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function dl(s){return oa[s%oa.length]}function ul(s){return Li[s%Li.length]}function Tf(s,t){return s.borderColor=dl(t),s.backgroundColor=ul(t),++t}function Df(s,t){return s.backgroundColor=s.data.map(()=>dl(t++)),t}function Mf(s,t){return s.backgroundColor=s.data.map(()=>ul(t++)),t}function Cf(s){let t=0;return(e,n)=>{const a=s.getDatasetMeta(n).controller;a instanceof Oe?t=Df(e,t):a instanceof Ds?t=Mf(e,t):a&&(t=Tf(e,t))}}function Vi(s){let t;for(t in s)if(s[t].borderColor||s[t].backgroundColor)return!0;return!1}function Af(s){return s&&(s.borderColor||s.backgroundColor)}var $f={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,t,e){if(!e.enabled)return;const{data:{datasets:n},options:a}=s.config,{elements:i}=a;if(!e.forceOverride&&(Vi(n)||Af(a)||i&&Vi(i)))return;const o=Cf(s);n.forEach(o)}};function Ef(s,t,e,n,a){const i=a.samples||n;if(i>=e)return s.slice(t,t+e);const o=[],l=(e-2)/(i-2);let r=0;const c=t+e-1;let d=t,h,f,g,v,_;for(o[r++]=s[d],h=0;h<i-2;h++){let b=0,T=0,S;const A=Math.floor((h+1)*l)+1+t,E=Math.min(Math.floor((h+2)*l)+1,e)+t,M=E-A;for(S=A;S<E;S++)b+=s[S].x,T+=s[S].y;b/=M,T/=M;const O=Math.floor(h*l)+1+t,$=Math.min(Math.floor((h+1)*l)+1,e)+t,{x:C,y:P}=s[d];for(g=v=-1,S=O;S<$;S++)v=.5*Math.abs((C-b)*(s[S].y-P)-(C-s[S].x)*(T-P)),v>g&&(g=v,f=s[S],_=S);o[r++]=f,d=_}return o[r++]=s[c],o}function Pf(s,t,e,n){let a=0,i=0,o,l,r,c,d,h,f,g,v,_;const b=[],T=t+e-1,S=s[t].x,E=s[T].x-S;for(o=t;o<t+e;++o){l=s[o],r=(l.x-S)/E*n,c=l.y;const M=r|0;if(M===d)c<v?(v=c,h=o):c>_&&(_=c,f=o),a=(i*a+l.x)/++i;else{const O=o-1;if(!lt(h)&&!lt(f)){const $=Math.min(h,f),C=Math.max(h,f);$!==g&&$!==O&&b.push({...s[$],x:a}),C!==g&&C!==O&&b.push({...s[C],x:a})}o>0&&O!==g&&b.push(s[O]),b.push(l),d=M,i=0,v=_=c,h=f=g=o}}return b}function hl(s){if(s._decimated){const t=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Ni(s){s.data.datasets.forEach(t=>{hl(t)})}function Of(s,t){const e=t.length;let n=0,a;const{iScale:i}=s,{min:o,max:l,minDefined:r,maxDefined:c}=i.getUserBounds();return r&&(n=Et(ce(t,i.axis,o).lo,0,e-1)),c?a=Et(ce(t,i.axis,l).hi+1,n,e)-n:a=e-n,{start:n,count:a}}var If={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,t,e)=>{if(!e.enabled){Ni(s);return}const n=s.width;s.data.datasets.forEach((a,i)=>{const{_data:o,indexAxis:l}=a,r=s.getDatasetMeta(i),c=o||a.data;if(gs([l,s.options.indexAxis])==="y"||!r.controller.supportsDecimation)return;const d=s.scales[r.xAxisID];if(d.type!=="linear"&&d.type!=="time"||s.options.parsing)return;let{start:h,count:f}=Of(r,c);const g=e.threshold||4*n;if(f<=g){hl(a);return}lt(o)&&(a._data=c,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let v;switch(e.algorithm){case"lttb":v=Ef(c,h,f,n,e);break;case"min-max":v=Pf(c,h,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}a._decimated=v})},destroy(s){Ni(s)}};function Rf(s,t,e){const n=s.segments,a=s.points,i=t.points,o=[];for(const l of n){let{start:r,end:c}=l;c=$a(r,c,a);const d=la(e,a[r],a[c],l.loop);if(!t.segments){o.push({source:l,target:d,start:a[r],end:a[c]});continue}const h=Xo(t,d);for(const f of h){const g=la(e,i[f.start],i[f.end],f.loop),v=Go(l,a,g);for(const _ of v)o.push({source:_,target:f,start:{[e]:Bi(d,g,"start",Math.max)},end:{[e]:Bi(d,g,"end",Math.min)}})}}return o}function la(s,t,e,n){if(n)return;let a=t[s],i=e[s];return s==="angle"&&(a=Ht(a),i=Ht(i)),{property:s,start:a,end:i}}function Ff(s,t){const{x:e=null,y:n=null}=s||{},a=t.points,i=[];return t.segments.forEach(({start:o,end:l})=>{l=$a(o,l,a);const r=a[o],c=a[l];n!==null?(i.push({x:r.x,y:n}),i.push({x:c.x,y:n})):e!==null&&(i.push({x:e,y:r.y}),i.push({x:e,y:c.y}))}),i}function $a(s,t,e){for(;t>s;t--){const n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Bi(s,t,e,n){return s&&t?n(s[e],t[e]):s?s[e]:t?t[e]:0}function fl(s,t){let e=[],n=!1;return mt(s)?(n=!0,e=s):e=Ff(s,t),e.length?new ge({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function zi(s){return s&&s.fill!==!1}function Lf(s,t,e){let a=s[t].fill;const i=[t];let o;if(!e)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!bt(a))return a;if(o=s[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function Vf(s,t,e){const n=jf(s);if(at(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return bt(a)&&Math.floor(a)===a?Nf(n[0],t,a,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Nf(s,t,e,n){return(s==="-"||s==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function Bf(s,t){let e=null;return s==="start"?e=t.bottom:s==="end"?e=t.top:at(s)?e=t.getPixelForValue(s.value):t.getBasePixel&&(e=t.getBasePixel()),e}function zf(s,t,e){let n;return s==="start"?n=e:s==="end"?n=t.options.reverse?t.min:t.max:at(s)?n=s.value:n=t.getBaseValue(),n}function jf(s){const t=s.options,e=t.fill;let n=et(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Hf(s){const{scale:t,index:e,line:n}=s,a=[],i=n.segments,o=n.points,l=Wf(t,e);l.push(fl({x:null,y:t.bottom},n));for(let r=0;r<i.length;r++){const c=i[r];for(let d=c.start;d<=c.end;d++)Uf(a,o[d],l)}return new ge({points:a,options:{}})}function Wf(s,t){const e=[],n=s.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const i=n[a];if(i.index===t)break;i.hidden||e.unshift(i.dataset)}return e}function Uf(s,t,e){const n=[];for(let a=0;a<e.length;a++){const i=e[a],{first:o,last:l,point:r}=Yf(i,t,"x");if(!(!r||o&&l)){if(o)n.unshift(r);else if(s.push(r),!l)break}}s.push(...n)}function Yf(s,t,e){const n=s.interpolate(t,e);if(!n)return{};const a=n[e],i=s.segments,o=s.points;let l=!1,r=!1;for(let c=0;c<i.length;c++){const d=i[c],h=o[d.start][e],f=o[d.end][e];if(re(a,h,f)){l=a===h,r=a===f;break}}return{first:l,last:r,point:n}}class ml{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:a,y:i,radius:o}=this;return e=e||{start:0,end:ut},t.arc(a,i,o,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:a}=this,i=t.angle;return{x:e+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function Gf(s){const{chart:t,fill:e,line:n}=s;if(bt(e))return Xf(t,e);if(e==="stack")return Hf(s);if(e==="shape")return!0;const a=Jf(s);return a instanceof ml?a:fl(a,n)}function Xf(s,t){const e=s.getDatasetMeta(t);return e&&s.isDatasetVisible(t)?e.dataset:null}function Jf(s){return(s.scale||{}).getPointPositionForValue?qf(s):Kf(s)}function Kf(s){const{scale:t={},fill:e}=s,n=Bf(e,t);if(bt(n)){const a=t.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function qf(s){const{scale:t,fill:e}=s,n=t.options,a=t.getLabels().length,i=n.reverse?t.max:t.min,o=zf(e,t,i),l=[];if(n.grid.circular){const r=t.getPointPositionForValue(0,i);return new ml({x:r.x,y:r.y,radius:t.getDistanceFromCenterForValue(o)})}for(let r=0;r<a;++r)l.push(t.getPointPositionForValue(r,o));return l}function Gn(s,t,e){const n=Gf(t),{line:a,scale:i,axis:o}=t,l=a.options,r=l.fill,c=l.backgroundColor,{above:d=c,below:h=c}=r||{};n&&a.points.length&&(An(s,e),Zf(s,{line:a,target:n,above:d,below:h,area:e,scale:i,axis:o}),$n(s))}function Zf(s,t){const{line:e,target:n,above:a,below:i,area:o,scale:l}=t,r=e._loop?"angle":t.axis;s.save(),r==="x"&&i!==a&&(ji(s,n,o.top),Hi(s,{line:e,target:n,color:a,scale:l,property:r}),s.restore(),s.save(),ji(s,n,o.bottom)),Hi(s,{line:e,target:n,color:i,scale:l,property:r}),s.restore()}function ji(s,t,e){const{segments:n,points:a}=t;let i=!0,o=!1;s.beginPath();for(const l of n){const{start:r,end:c}=l,d=a[r],h=a[$a(r,c,a)];i?(s.moveTo(d.x,d.y),i=!1):(s.lineTo(d.x,e),s.lineTo(d.x,d.y)),o=!!t.pathSegment(s,l,{move:o}),o?s.closePath():s.lineTo(h.x,e)}s.lineTo(t.first().x,e),s.closePath(),s.clip()}function Hi(s,t){const{line:e,target:n,property:a,color:i,scale:o}=t,l=Rf(e,n,a);for(const{source:r,target:c,start:d,end:h}of l){const{style:{backgroundColor:f=i}={}}=r,g=n!==!0;s.save(),s.fillStyle=f,Qf(s,o,g&&la(a,d,h)),s.beginPath();const v=!!e.pathSegment(s,r);let _;if(g){v?s.closePath():Wi(s,n,h,a);const b=!!n.pathSegment(s,c,{move:v,reverse:!0});_=v&&b,_||Wi(s,n,d,a)}s.closePath(),s.fill(_?"evenodd":"nonzero"),s.restore()}}function Qf(s,t,e){const{top:n,bottom:a}=t.chart.chartArea,{property:i,start:o,end:l}=e||{};i==="x"&&(s.beginPath(),s.rect(o,n,l-o,a-n),s.clip())}function Wi(s,t,e,n){const a=t.interpolate(e,n);a&&s.lineTo(a.x,a.y)}var tm={id:"filler",afterDatasetsUpdate(s,t,e){const n=(s.data.datasets||[]).length,a=[];let i,o,l,r;for(o=0;o<n;++o)i=s.getDatasetMeta(o),l=i.dataset,r=null,l&&l.options&&l instanceof ge&&(r={visible:s.isDatasetVisible(o),index:o,fill:Vf(l,o,n),chart:s,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=r,a.push(r);for(o=0;o<n;++o)r=a[o],!(!r||r.fill===!1)&&(r.fill=Lf(a,o,e.propagate))},beforeDraw(s,t,e){const n=e.drawTime==="beforeDraw",a=s.getSortedVisibleDatasetMetas(),i=s.chartArea;for(let o=a.length-1;o>=0;--o){const l=a[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),n&&l.fill&&Gn(s.ctx,l,i))}},beforeDatasetsDraw(s,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const n=s.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const i=n[a].$filler;zi(i)&&Gn(s.ctx,i,s.chartArea)}},beforeDatasetDraw(s,t,e){const n=t.meta.$filler;!zi(n)||e.drawTime!=="beforeDatasetDraw"||Gn(s.ctx,n,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ui=(s,t)=>{let{boxHeight:e=t,boxWidth:n=t}=s;return s.usePointStyle&&(e=Math.min(e,t),n=s.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},em=(s,t)=>s!==null&&t!==null&&s.datasetIndex===t.datasetIndex&&s.index===t.index;class Yi extends Qt{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=dt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,a)=>t.sort(n,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,a=At(n.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:r}=Ui(n,i);let c,d;e.font=a.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,i,l,r)+10):(d=this.maxHeight,c=this._fitCols(o,a,l,r)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,r=this.legendHitBoxes=[],c=this.lineWidths=[0],d=a+l;let h=t;i.textAlign="left",i.textBaseline="middle";let f=-1,g=-d;return this.legendItems.forEach((v,_)=>{const b=n+e/2+i.measureText(v.text).width;(_===0||c[c.length-1]+b+2*l>o)&&(h+=d,c[c.length-(_>0?0:1)]=0,g+=d,f++),r[_]={left:0,top:g,row:f,width:b,height:a},c[c.length-1]+=b+l}),h}_fitCols(t,e,n,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,r=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-t;let h=l,f=0,g=0,v=0,_=0;return this.legendItems.forEach((b,T)=>{const{itemWidth:S,itemHeight:A}=sm(n,e,i,b,a);T>0&&g+A+2*l>d&&(h+=f+l,c.push({width:f,height:g}),v+=f+l,_++,f=g=0),r[T]={left:v,top:g,col:_,width:S,height:A},f=Math.max(f,S),g+=A+l}),h+=f,c.push({width:f,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:a},rtl:i}}=this,o=Je(i,this.left,this.width);if(this.isHorizontal()){let l=0,r=Ot(n,this.left+a,this.right-this.lineWidths[l]);for(const c of e)l!==c.row&&(l=c.row,r=Ot(n,this.left+a,this.right-this.lineWidths[l])),c.top+=this.top+t+a,c.left=o.leftForLtr(o.x(r),c.width),r+=c.width+a}else{let l=0,r=Ot(n,this.top+t+a,this.bottom-this.columnSizes[l].height);for(const c of e)c.col!==l&&(l=c.col,r=Ot(n,this.top+t+a,this.bottom-this.columnSizes[l].height)),c.top=r,c.left+=this.left+a,c.left=o.leftForLtr(o.x(c.left),c.width),r+=c.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;An(t,this),this._draw(),$n(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:a}=this,{align:i,labels:o}=t,l=yt.color,r=Je(t.rtl,this.left,this.width),c=At(o.font),{padding:d}=o,h=c.size,f=h/2;let g;this.drawTitle(),a.textAlign=r.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=c.string;const{boxWidth:v,boxHeight:_,itemHeight:b}=Ui(o,h),T=function(O,$,C){if(isNaN(v)||v<=0||isNaN(_)||_<0)return;a.save();const P=et(C.lineWidth,1);if(a.fillStyle=et(C.fillStyle,l),a.lineCap=et(C.lineCap,"butt"),a.lineDashOffset=et(C.lineDashOffset,0),a.lineJoin=et(C.lineJoin,"miter"),a.lineWidth=P,a.strokeStyle=et(C.strokeStyle,l),a.setLineDash(et(C.lineDash,[])),o.usePointStyle){const B={radius:_*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:P},N=r.xPlus(O,v/2),J=$+f;Fo(a,B,N,J,o.pointStyleWidth&&v)}else{const B=$+Math.max((h-_)/2,0),N=r.leftForLtr(O,v),J=Ie(C.borderRadius);a.beginPath(),Object.values(J).some(rt=>rt!==0)?Es(a,{x:N,y:B,w:v,h:_,radius:J}):a.rect(N,B,v,_),a.fill(),P!==0&&a.stroke()}a.restore()},S=function(O,$,C){Be(a,C.text,O,$+b/2,c,{strikethrough:C.hidden,textAlign:r.textAlign(C.textAlign)})},A=this.isHorizontal(),E=this._computeTitleHeight();A?g={x:Ot(i,this.left+d,this.right-n[0]),y:this.top+d+E,line:0}:g={x:this.left+d,y:Ot(i,this.top+E+d,this.bottom-e[0].height),line:0},Wo(this.ctx,t.textDirection);const M=b+d;this.legendItems.forEach((O,$)=>{a.strokeStyle=O.fontColor,a.fillStyle=O.fontColor;const C=a.measureText(O.text).width,P=r.textAlign(O.textAlign||(O.textAlign=o.textAlign)),B=v+f+C;let N=g.x,J=g.y;r.setWidth(this.width),A?$>0&&N+B+d>this.right&&(J=g.y+=M,g.line++,N=g.x=Ot(i,this.left+d,this.right-n[g.line])):$>0&&J+M>this.bottom&&(N=g.x=N+e[g.line].width+d,g.line++,J=g.y=Ot(i,this.top+E+d,this.bottom-e[g.line].height));const rt=r.x(N);if(T(rt,J,O),N=Sd(P,N+v+f,A?N+B:this.right,t.rtl),S(r.x(N),J,O),A)g.x+=B+d;else if(typeof O.text!="string"){const j=c.lineHeight;g.y+=pl(O,j)+d}else g.y+=M}),Uo(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=At(e.font),a=Ft(e.padding);if(!e.display)return;const i=Je(t.rtl,this.left,this.width),o=this.ctx,l=e.position,r=n.size/2,c=a.top+r;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,h=Ot(t.align,h,this.right-f);else{const v=this.columnSizes.reduce((_,b)=>Math.max(_,b.height),0);d=c+Ot(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}const g=Ot(l,h,h+f);o.textAlign=i.textAlign(xa(l)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,Be(o,e.text,g,d,n)}_computeTitleHeight(){const t=this.options.title,e=At(t.font),n=Ft(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,a,i;if(re(t,this.left,this.right)&&re(e,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],re(t,a.left,a.left+a.width)&&re(e,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(t){const e=this.options;if(!im(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,i=em(a,n);a&&!i&&dt(e.onLeave,[t,a,this],this),this._hoveredItem=n,n&&!i&&dt(e.onHover,[t,n,this],this)}else n&&dt(e.onClick,[t,n,this],this)}}function sm(s,t,e,n,a){const i=nm(n,s,t,e),o=am(a,n,t.lineHeight);return{itemWidth:i,itemHeight:o}}function nm(s,t,e,n){let a=s.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),t+e.size/2+n.measureText(a).width}function am(s,t,e){let n=s;return typeof t.text!="string"&&(n=pl(t,e)),n}function pl(s,t){const e=s.text?s.text.length:0;return t*e}function im(s,t){return!!((s==="mousemove"||s==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(s==="click"||s==="mouseup"))}var om={id:"legend",_element:Yi,start(s,t,e){const n=s.legend=new Yi({ctx:s.ctx,options:e,chart:s});It.configure(s,n,e),It.addBox(s,n)},stop(s){It.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,t,e){const n=s.legend;It.configure(s,n,e),n.options=e},afterUpdate(s){const t=s.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(s,t){t.replay||s.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,t,e){const n=t.datasetIndex,a=e.chart;a.isDatasetVisible(n)?(a.hide(n),t.hidden=!0):(a.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const t=s.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(r=>{const c=r.controller.getStyle(e?0:void 0),d=Ft(c.borderWidth);return{text:t[r.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!r.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:a||c.textAlign,borderRadius:o&&(l||c.borderRadius),datasetIndex:r.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class Ea extends Qt{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=mt(n.text)?n.text.length:1;this._padding=Ft(n.padding);const i=a*At(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:n,bottom:a,right:i,options:o}=this,l=o.align;let r=0,c,d,h;return this.isHorizontal()?(d=Ot(l,n,i),h=e+t,c=i-n):(o.position==="left"?(d=n+t,h=Ot(l,a,e),r=ht*-.5):(d=i-t,h=Ot(l,e,a),r=ht*.5),c=a-e),{titleX:d,titleY:h,maxWidth:c,rotation:r}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=At(e.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:r,rotation:c}=this._drawArgs(i);Be(t,e.text,0,0,n,{color:e.color,maxWidth:r,rotation:c,textAlign:xa(e.align),textBaseline:"middle",translation:[o,l]})}}function lm(s,t){const e=new Ea({ctx:s.ctx,options:t,chart:s});It.configure(s,e,t),It.addBox(s,e),s.titleBlock=e}var rm={id:"title",_element:Ea,start(s,t,e){lm(s,e)},stop(s){const t=s.titleBlock;It.removeBox(s,t),delete s.titleBlock},beforeUpdate(s,t,e){const n=s.titleBlock;It.configure(s,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rn=new WeakMap;var cm={id:"subtitle",start(s,t,e){const n=new Ea({ctx:s.ctx,options:e,chart:s});It.configure(s,n,e),It.addBox(s,n),rn.set(s,n)},stop(s){It.removeBox(s,rn.get(s)),rn.delete(s)},beforeUpdate(s,t,e){const n=rn.get(s);It.configure(s,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bs={average(s){if(!s.length)return!1;let t,e,n=0,a=0,i=0;for(t=0,e=s.length;t<e;++t){const o=s[t].element;if(o&&o.hasValue()){const l=o.tooltipPosition();n+=l.x,a+=l.y,++i}}return{x:n/i,y:a/i}},nearest(s,t){if(!s.length)return!1;let e=t.x,n=t.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=s.length;i<o;++i){const r=s[i].element;if(r&&r.hasValue()){const c=r.getCenterPoint(),d=Qn(t,c);d<a&&(a=d,l=r)}}if(l){const r=l.tooltipPosition();e=r.x,n=r.y}return{x:e,y:n}}};function te(s,t){return t&&(mt(t)?Array.prototype.push.apply(s,t):s.push(t)),s}function oe(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function dm(s,t){const{element:e,datasetIndex:n,index:a}=t,i=s.getDatasetMeta(n).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:s,label:o,parsed:i.getParsed(a),raw:s.data.datasets[n].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:e}}function Gi(s,t){const e=s.chart.ctx,{body:n,footer:a,title:i}=s,{boxWidth:o,boxHeight:l}=t,r=At(t.bodyFont),c=At(t.titleFont),d=At(t.footerFont),h=i.length,f=a.length,g=n.length,v=Ft(t.padding);let _=v.height,b=0,T=n.reduce((E,M)=>E+M.before.length+M.lines.length+M.after.length,0);if(T+=s.beforeBody.length+s.afterBody.length,h&&(_+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),T){const E=t.displayColors?Math.max(l,r.lineHeight):r.lineHeight;_+=g*E+(T-g)*r.lineHeight+(T-1)*t.bodySpacing}f&&(_+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let S=0;const A=function(E){b=Math.max(b,e.measureText(E).width+S)};return e.save(),e.font=c.string,ct(s.title,A),e.font=r.string,ct(s.beforeBody.concat(s.afterBody),A),S=t.displayColors?o+2+t.boxPadding:0,ct(n,E=>{ct(E.before,A),ct(E.lines,A),ct(E.after,A)}),S=0,e.font=d.string,ct(s.footer,A),e.restore(),b+=v.width,{width:b,height:_}}function um(s,t){const{y:e,height:n}=t;return e<n/2?"top":e>s.height-n/2?"bottom":"center"}function hm(s,t,e,n){const{x:a,width:i}=n,o=e.caretSize+e.caretPadding;if(s==="left"&&a+i+o>t.width||s==="right"&&a-i-o<0)return!0}function fm(s,t,e,n){const{x:a,width:i}=e,{width:o,chartArea:{left:l,right:r}}=s;let c="center";return n==="center"?c=a<=(l+r)/2?"left":"right":a<=i/2?c="left":a>=o-i/2&&(c="right"),hm(c,s,t,e)&&(c="center"),c}function Xi(s,t,e){const n=e.yAlign||t.yAlign||um(s,e);return{xAlign:e.xAlign||t.xAlign||fm(s,t,e,n),yAlign:n}}function mm(s,t){let{x:e,width:n}=s;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function pm(s,t,e){let{y:n,height:a}=s;return t==="top"?n+=e:t==="bottom"?n-=a+e:n-=a/2,n}function Ji(s,t,e,n){const{caretSize:a,caretPadding:i,cornerRadius:o}=s,{xAlign:l,yAlign:r}=e,c=a+i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=Ie(o);let v=mm(t,l);const _=pm(t,r,c);return r==="center"?l==="left"?v+=c:l==="right"&&(v-=c):l==="left"?v-=Math.max(d,f)+a:l==="right"&&(v+=Math.max(h,g)+a),{x:Et(v,0,n.width-t.width),y:Et(_,0,n.height-t.height)}}function cn(s,t,e){const n=Ft(e.padding);return t==="center"?s.x+s.width/2:t==="right"?s.x+s.width-n.right:s.x+n.left}function Ki(s){return te([],oe(s))}function gm(s,t,e){return xe(s,{tooltip:t,tooltipItems:e,type:"tooltip"})}function qi(s,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?s.override(e):s}const gl={beforeTitle:ae,title(s){if(s.length>0){const t=s[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:ae,beforeBody:ae,beforeLabel:ae,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let t=s.dataset.label||"";t&&(t+=": ");const e=s.formattedValue;return lt(e)||(t+=e),t},labelColor(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ae,afterBody:ae,beforeFooter:ae,footer:ae,afterFooter:ae};function Bt(s,t,e,n){const a=s[t].call(e,n);return typeof a>"u"?gl[t].call(e,n):a}class ra extends Qt{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&e.options.animation&&n.animations,i=new Jo(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=gm(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,a=Bt(n,"beforeTitle",this,t),i=Bt(n,"title",this,t),o=Bt(n,"afterTitle",this,t);let l=[];return l=te(l,oe(a)),l=te(l,oe(i)),l=te(l,oe(o)),l}getBeforeBody(t,e){return Ki(Bt(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,a=[];return ct(t,i=>{const o={before:[],lines:[],after:[]},l=qi(n,i);te(o.before,oe(Bt(l,"beforeLabel",this,i))),te(o.lines,Bt(l,"label",this,i)),te(o.after,oe(Bt(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(t,e){return Ki(Bt(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,a=Bt(n,"beforeFooter",this,t),i=Bt(n,"footer",this,t),o=Bt(n,"afterFooter",this,t);let l=[];return l=te(l,oe(a)),l=te(l,oe(i)),l=te(l,oe(o)),l}_createItems(t){const e=this._active,n=this.chart.data,a=[],i=[],o=[];let l=[],r,c;for(r=0,c=e.length;r<c;++r)l.push(dm(this.chart,e[r]));return t.filter&&(l=l.filter((d,h,f)=>t.filter(d,h,f,n))),t.itemSort&&(l=l.sort((d,h)=>t.itemSort(d,h,n))),ct(l,d=>{const h=qi(t.callbacks,d);a.push(Bt(h,"labelColor",this,d)),i.push(Bt(h,"labelPointStyle",this,d)),o.push(Bt(h,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=bs[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const r=this._size=Gi(this,n),c=Object.assign({},l,r),d=Xi(this.chart,n,c),h=Ji(n,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:h.x,y:h.y,width:r.width,height:r.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,a){const i=this.getCaretPosition(t,n,a);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:r,topRight:c,bottomLeft:d,bottomRight:h}=Ie(l),{x:f,y:g}=t,{width:v,height:_}=e;let b,T,S,A,E,M;return i==="center"?(E=g+_/2,a==="left"?(b=f,T=b-o,A=E+o,M=E-o):(b=f+v,T=b+o,A=E-o,M=E+o),S=b):(a==="left"?T=f+Math.max(r,d)+o:a==="right"?T=f+v-Math.max(c,h)-o:T=this.caretX,i==="top"?(A=g,E=A-o,b=T-o,S=T+o):(A=g+_,E=A+o,b=T+o,S=T-o),M=A),{x1:b,x2:T,x3:S,y1:A,y2:E,y3:M}}drawTitle(t,e,n){const a=this.title,i=a.length;let o,l,r;if(i){const c=Je(n.rtl,this.x,this.width);for(t.x=cn(this,n.titleAlign,n),e.textAlign=c.textAlign(n.titleAlign),e.textBaseline="middle",o=At(n.titleFont),l=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,r=0;r<i;++r)e.fillText(a[r],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,r+1===i&&(t.y+=n.titleMarginBottom-l)}}_drawColorBox(t,e,n,a,i){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:r,boxWidth:c}=i,d=At(i.bodyFont),h=cn(this,"left",i),f=a.x(h),g=r<d.lineHeight?(d.lineHeight-r)/2:0,v=e.y+g;if(i.usePointStyle){const _={radius:Math.min(c,r)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=a.leftForLtr(f,c)+c/2,T=v+r/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,ea(t,_,b,T),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,ea(t,_,b,T)}else{t.lineWidth=at(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const _=a.leftForLtr(f,c),b=a.leftForLtr(a.xPlus(f,1),c-2),T=Ie(o.borderRadius);Object.values(T).some(S=>S!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Es(t,{x:_,y:v,w:c,h:r,radius:T}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Es(t,{x:b,y:v+1,w:c-2,h:r-2,radius:T}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(_,v,c,r),t.strokeRect(_,v,c,r),t.fillStyle=o.backgroundColor,t.fillRect(b,v+1,c-2,r-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:r,boxWidth:c,boxPadding:d}=n,h=At(n.bodyFont);let f=h.lineHeight,g=0;const v=Je(n.rtl,this.x,this.width),_=function(C){e.fillText(C,v.x(t.x+g),t.y+f/2),t.y+=f+i},b=v.textAlign(o);let T,S,A,E,M,O,$;for(e.textAlign=o,e.textBaseline="middle",e.font=h.string,t.x=cn(this,b,n),e.fillStyle=n.bodyColor,ct(this.beforeBody,_),g=l&&b!=="right"?o==="center"?c/2+d:c+2+d:0,E=0,O=a.length;E<O;++E){for(T=a[E],S=this.labelTextColors[E],e.fillStyle=S,ct(T.before,_),A=T.lines,l&&A.length&&(this._drawColorBox(e,t,E,v,n),f=Math.max(h.lineHeight,r)),M=0,$=A.length;M<$;++M)_(A[M]),f=h.lineHeight;ct(T.after,_)}g=0,f=h.lineHeight,ct(this.afterBody,_),t.y-=i}drawFooter(t,e,n){const a=this.footer,i=a.length;let o,l;if(i){const r=Je(n.rtl,this.x,this.width);for(t.x=cn(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=r.textAlign(n.footerAlign),e.textBaseline="middle",o=At(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,l=0;l<i;++l)e.fillText(a[l],r.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,a){const{xAlign:i,yAlign:o}=this,{x:l,y:r}=t,{width:c,height:d}=n,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:v}=Ie(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(l+h,r),o==="top"&&this.drawCaret(t,e,n,a),e.lineTo(l+c-f,r),e.quadraticCurveTo(l+c,r,l+c,r+f),o==="center"&&i==="right"&&this.drawCaret(t,e,n,a),e.lineTo(l+c,r+d-v),e.quadraticCurveTo(l+c,r+d,l+c-v,r+d),o==="bottom"&&this.drawCaret(t,e,n,a),e.lineTo(l+g,r+d),e.quadraticCurveTo(l,r+d,l,r+d-g),o==="center"&&i==="left"&&this.drawCaret(t,e,n,a),e.lineTo(l,r+h),e.quadraticCurveTo(l,r,l+h,r),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const o=bs[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Gi(this,t),r=Object.assign({},o,this._size),c=Xi(e,t,r),d=Ji(t,r,c,e);(a._to!==d.x||i._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Ft(e.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&l&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,a,e),Wo(t,e.textDirection),i.y+=o.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),Uo(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,a=t.map(({datasetIndex:l,index:r})=>{const c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[r],index:r}}),i=!yn(n,a),o=this._positionChanged(a,e);(i||o)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(t,i,e,n),l=this._positionChanged(o,t),r=e||!yn(o,i)||l;return r&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),r}_getActiveElements(t,e,n,a){const i=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:a,options:i}=this,o=bs[i.position].call(this,t,e);return o!==!1&&(n!==o.x||a!==o.y)}}z(ra,"positioners",bs);var _m={id:"tooltip",_element:ra,positioners:bs,afterInit(s,t,e){e&&(s.tooltip=new ra({chart:s,options:e}))},beforeUpdate(s,t,e){s.tooltip&&s.tooltip.initialize(e)},reset(s,t,e){s.tooltip&&s.tooltip.initialize(e)},afterDraw(s){const t=s.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(s.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",e)}},afterEvent(s,t){if(s.tooltip){const e=t.replay;s.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,t)=>t.bodyFont.size,boxWidth:(s,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:gl},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},vm=Object.freeze({__proto__:null,Colors:$f,Decimation:If,Filler:tm,Legend:om,SubTitle:cm,Title:rm,Tooltip:_m});const bm=(s,t,e,n)=>(typeof t=="string"?(e=s.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function ym(s,t,e,n){const a=s.indexOf(t);if(a===-1)return bm(s,t,e,n);const i=s.lastIndexOf(t);return a!==i?e:a}const xm=(s,t)=>s===null?null:Et(Math.round(s),0,t);function Zi(s){const t=this.getLabels();return s>=0&&s<t.length?t[s]:s}class ca extends je{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const n=this.getLabels();for(const{index:a,label:i}of e)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(lt(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:ym(n,t,et(e,t),this._addedLabels),xm(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),e||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=t===0&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=e;o++)a.push({value:o});return a}getLabelForValue(t){return Zi.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}z(ca,"id","category"),z(ca,"defaults",{ticks:{callback:Zi}});function Sm(s,t){const e=[],{bounds:a,step:i,min:o,max:l,precision:r,count:c,maxTicks:d,maxDigits:h,includeBounds:f}=s,g=i||1,v=d-1,{min:_,max:b}=t,T=!lt(o),S=!lt(l),A=!lt(c),E=(b-_)/(h+1);let M=Ya((b-_)/v/g)*g,O,$,C,P;if(M<1e-14&&!T&&!S)return[{value:_},{value:b}];P=Math.ceil(b/M)-Math.floor(_/M),P>v&&(M=Ya(P*M/v/g)*g),lt(r)||(O=Math.pow(10,r),M=Math.ceil(M*O)/O),a==="ticks"?($=Math.floor(_/M)*M,C=Math.ceil(b/M)*M):($=_,C=b),T&&S&&i&&pd((l-o)/i,M/1e3)?(P=Math.round(Math.min((l-o)/M,d)),M=(l-o)/P,$=o,C=l):A?($=T?o:$,C=S?l:C,P=c-1,M=(C-$)/P):(P=(C-$)/M,Ss(P,Math.round(P),M/1e3)?P=Math.round(P):P=Math.ceil(P));const B=Math.max(Ga(M),Ga($));O=Math.pow(10,lt(r)?B:r),$=Math.round($*O)/O,C=Math.round(C*O)/O;let N=0;for(T&&(f&&$!==o?(e.push({value:o}),$<o&&N++,Ss(Math.round(($+N*M)*O)/O,o,Qi(o,E,s))&&N++):$<o&&N++);N<P;++N){const J=Math.round(($+N*M)*O)/O;if(S&&J>l)break;e.push({value:J})}return S&&f&&C!==l?e.length&&Ss(e[e.length-1].value,l,Qi(l,E,s))?e[e.length-1].value=l:e.push({value:l}):(!S||C===l)&&e.push({value:C}),e}function Qi(s,t,{horizontal:e,minRotation:n}){const a=qt(n),i=(e?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+s).length;return Math.min(t/i,o)}class Mn extends je{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return lt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const o=r=>a=e?a:r,l=r=>i=n?i:r;if(t){const r=se(a),c=se(i);r<0&&c<0?l(0):r>0&&c>0&&o(0)}if(a===i){let r=i===0?1:Math.abs(i*.05);l(i+r),t||o(a-r)}this.min=a,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:n}=t,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},i=this._range||this,o=Sm(a,i);return t.bounds==="ticks"&&Mo(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const a=(n-e)/Math.max(t.length-1,1)/2;e-=a,n+=a}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Bs(t,this.chart.options.locale,this.options.ticks.format)}}class da extends Mn{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=bt(t)?t:0,this.max=bt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=qt(this.options.ticks.minRotation),a=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}z(da,"id","linear"),z(da,"defaults",{ticks:{callback:Cn.formatters.numeric}});const Os=s=>Math.floor(pe(s)),$e=(s,t)=>Math.pow(10,Os(s)+t);function to(s){return s/Math.pow(10,Os(s))===1}function eo(s,t,e){const n=Math.pow(10,e),a=Math.floor(s/n);return Math.ceil(t/n)-a}function km(s,t){const e=t-s;let n=Os(e);for(;eo(s,t,n)>10;)n++;for(;eo(s,t,n)<10;)n--;return Math.min(n,Os(s))}function wm(s,{min:t,max:e}){t=jt(s.min,t);const n=[],a=Os(t);let i=km(t,e),o=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),r=a>i?Math.pow(10,a):0,c=Math.round((t-r)*o)/o,d=Math.floor((t-r)/l/10)*l*10;let h=Math.floor((c-d)/Math.pow(10,i)),f=jt(s.min,Math.round((r+d+h*Math.pow(10,i))*o)/o);for(;f<e;)n.push({value:f,major:to(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(i++,h=2,o=i>=0?1:o),f=Math.round((r+d+h*Math.pow(10,i))*o)/o;const g=jt(s.max,f);return n.push({value:g,major:to(g),significand:h}),n}class ua extends je{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=Mn.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return bt(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=bt(t)?Math.max(0,t):null,this.max=bt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!bt(this._userMin)&&(this.min=t===$e(this.min,0)?$e(this.min,-1):$e(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,a=this.max;const i=l=>n=t?n:l,o=l=>a=e?a:l;n===a&&(n<=0?(i(1),o(10)):(i($e(n,-1)),o($e(a,1)))),n<=0&&i($e(a,-1)),a<=0&&o($e(n,1)),this.min=n,this.max=a}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},n=wm(e,this);return t.bounds==="ticks"&&Mo(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Bs(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=pe(t),this._valueRange=pe(this.max)-pe(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(pe(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}z(ua,"id","logarithmic"),z(ua,"defaults",{ticks:{callback:Cn.formatters.logarithmic,major:{enabled:!0}}});function ha(s){const t=s.ticks;if(t.display&&s.display){const e=Ft(t.backdropPadding);return et(t.font&&t.font.size,yt.font.size)+e.height}return 0}function Tm(s,t,e){return e=mt(e)?e:[e],{w:Pd(s,t.string,e),h:e.length*t.lineHeight}}function so(s,t,e,n,a){return s===n||s===a?{start:t-e/2,end:t+e/2}:s<n||s>a?{start:t-e,end:t}:{start:t,end:t+e}}function Dm(s){const t={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},e=Object.assign({},t),n=[],a=[],i=s._pointLabels.length,o=s.options.pointLabels,l=o.centerPointLabels?ht/i:0;for(let r=0;r<i;r++){const c=o.setContext(s.getPointLabelContext(r));a[r]=c.padding;const d=s.getPointPosition(r,s.drawingArea+a[r],l),h=At(c.font),f=Tm(s.ctx,h,s._pointLabels[r]);n[r]=f;const g=Ht(s.getIndexAngle(r)+l),v=Math.round(ba(g)),_=so(v,d.x,f.w,0,180),b=so(v,d.y,f.h,90,270);Mm(e,t,g,_,b)}s.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),s._pointLabelItems=$m(s,n,a)}function Mm(s,t,e,n,a){const i=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let l=0,r=0;n.start<t.l?(l=(t.l-n.start)/i,s.l=Math.min(s.l,t.l-l)):n.end>t.r&&(l=(n.end-t.r)/i,s.r=Math.max(s.r,t.r+l)),a.start<t.t?(r=(t.t-a.start)/o,s.t=Math.min(s.t,t.t-r)):a.end>t.b&&(r=(a.end-t.b)/o,s.b=Math.max(s.b,t.b+r))}function Cm(s,t,e){const n=s.drawingArea,{extra:a,additionalAngle:i,padding:o,size:l}=e,r=s.getPointPosition(t,n+a+o,i),c=Math.round(ba(Ht(r.angle+Tt))),d=Om(r.y,l.h,c),h=Em(c),f=Pm(r.x,l.w,h);return{visible:!0,x:r.x,y:d,textAlign:h,left:f,top:d,right:f+l.w,bottom:d+l.h}}function Am(s,t){if(!t)return!0;const{left:e,top:n,right:a,bottom:i}=s;return!(de({x:e,y:n},t)||de({x:e,y:i},t)||de({x:a,y:n},t)||de({x:a,y:i},t))}function $m(s,t,e){const n=[],a=s._pointLabels.length,i=s.options,{centerPointLabels:o,display:l}=i.pointLabels,r={extra:ha(i)/2,additionalAngle:o?ht/a:0};let c;for(let d=0;d<a;d++){r.padding=e[d],r.size=t[d];const h=Cm(s,d,r);n.push(h),l==="auto"&&(h.visible=Am(h,c),h.visible&&(c=h))}return n}function Em(s){return s===0||s===180?"center":s<180?"left":"right"}function Pm(s,t,e){return e==="right"?s-=t:e==="center"&&(s-=t/2),s}function Om(s,t,e){return e===90||e===270?s-=t/2:(e>270||e<90)&&(s-=t),s}function Im(s,t,e){const{left:n,top:a,right:i,bottom:o}=e,{backdropColor:l}=t;if(!lt(l)){const r=Ie(t.borderRadius),c=Ft(t.backdropPadding);s.fillStyle=l;const d=n-c.left,h=a-c.top,f=i-n+c.width,g=o-a+c.height;Object.values(r).some(v=>v!==0)?(s.beginPath(),Es(s,{x:d,y:h,w:f,h:g,radius:r}),s.fill()):s.fillRect(d,h,f,g)}}function Rm(s,t){const{ctx:e,options:{pointLabels:n}}=s;for(let a=t-1;a>=0;a--){const i=s._pointLabelItems[a];if(!i.visible)continue;const o=n.setContext(s.getPointLabelContext(a));Im(e,o,i);const l=At(o.font),{x:r,y:c,textAlign:d}=i;Be(e,s._pointLabels[a],r,c+l.lineHeight/2,l,{color:o.color,textAlign:d,textBaseline:"middle"})}}function _l(s,t,e,n){const{ctx:a}=s;if(e)a.arc(s.xCenter,s.yCenter,t,0,ut);else{let i=s.getPointPosition(0,t);a.moveTo(i.x,i.y);for(let o=1;o<n;o++)i=s.getPointPosition(o,t),a.lineTo(i.x,i.y)}}function Fm(s,t,e,n,a){const i=s.ctx,o=t.circular,{color:l,lineWidth:r}=t;!o&&!n||!l||!r||e<0||(i.save(),i.strokeStyle=l,i.lineWidth=r,i.setLineDash(a.dash),i.lineDashOffset=a.dashOffset,i.beginPath(),_l(s,e,o,n),i.closePath(),i.stroke(),i.restore())}function Lm(s,t,e){return xe(s,{label:e,index:t,type:"pointLabel"})}class ys extends Mn{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ft(ha(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=bt(t)&&!isNaN(t)?t:0,this.max=bt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ha(this.options))}generateTickLabels(t){Mn.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{const a=dt(this.options.pointLabels.callback,[e,n],this);return a||a===0?a:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?Dm(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,a){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,a))}getIndexAngle(t){const e=ut/(this._pointLabels.length||1),n=this.options.startAngle||0;return Ht(t*e+qt(n))}getDistanceFromCenterForValue(t){if(lt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(lt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return Lm(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const a=this.getIndexAngle(t)-Tt+n;return{x:Math.cos(a)*e+this.xCenter,y:Math.sin(a)*e+this.yCenter,angle:a}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:a,bottom:i}=this._pointLabelItems[t];return{left:e,top:n,right:a,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),_l(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:a,border:i}=e,o=this._pointLabels.length;let l,r,c;if(e.pointLabels.display&&Rm(this,o),a.display&&this.ticks.forEach((d,h)=>{if(h!==0){r=this.getDistanceFromCenterForValue(d.value);const f=this.getContext(h),g=a.setContext(f),v=i.setContext(f);Fm(this,g,r,o,v)}}),n.display){for(t.save(),l=o-1;l>=0;l--){const d=n.setContext(this.getPointLabelContext(l)),{color:h,lineWidth:f}=d;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,r=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),c=this.getPointPosition(l,r),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let i,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,r)=>{if(r===0&&!e.reverse)return;const c=n.setContext(this.getContext(r)),d=At(c.font);if(i=this.getDistanceFromCenterForValue(this.ticks[r].value),c.showLabelBackdrop){t.font=d.string,o=t.measureText(l.label).width,t.fillStyle=c.backdropColor;const h=Ft(c.backdropPadding);t.fillRect(-o/2-h.left,-i-d.size/2-h.top,o+h.width,d.size+h.height)}Be(t,l.label,0,-i,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}z(ys,"id","radialLinear"),z(ys,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Cn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),z(ys,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),z(ys,"descriptors",{angleLines:{_fallback:"grid"}});const On={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zt=Object.keys(On);function no(s,t){return s-t}function ao(s,t){if(lt(t))return null;const e=s._adapter,{parser:n,round:a,isoWeekday:i}=s._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),bt(o)||(o=typeof n=="string"?e.parse(o,n):e.parse(o)),o===null?null:(a&&(o=a==="week"&&(qe(i)||i===!0)?e.startOf(o,"isoWeek",i):e.startOf(o,a)),+o)}function io(s,t,e,n){const a=zt.length;for(let i=zt.indexOf(s);i<a-1;++i){const o=On[zt[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(l*o.size))<=n)return zt[i]}return zt[a-1]}function Vm(s,t,e,n,a){for(let i=zt.length-1;i>=zt.indexOf(e);i--){const o=zt[i];if(On[o].common&&s._adapter.diff(a,n,o)>=t-1)return o}return zt[e?zt.indexOf(e):0]}function Nm(s){for(let t=zt.indexOf(s)+1,e=zt.length;t<e;++t)if(On[zt[t]].common)return zt[t]}function oo(s,t,e){if(!e)s[t]=!0;else if(e.length){const{lo:n,hi:a}=ya(e,t),i=e[n]>=t?e[n]:e[a];s[i]=!0}}function Bm(s,t,e,n){const a=s._adapter,i=+a.startOf(t[0].value,n),o=t[t.length-1].value;let l,r;for(l=i;l<=o;l=+a.add(l,1,n))r=e[l],r>=0&&(t[r].major=!0);return t}function lo(s,t,e){const n=[],a={},i=t.length;let o,l;for(o=0;o<i;++o)l=t[o],a[l]=o,n.push({value:l,major:!1});return i===0||!e?n:Bm(s,n,a,e)}class Is extends je{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),a=this._adapter=new Xu._date(t.adapters.date);a.init(e),xs(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:ao(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function r(c){!o&&!isNaN(c.min)&&(a=Math.min(a,c.min)),!l&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!l)&&(r(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&r(this.getMinMax(!1))),a=bt(a)&&!isNaN(a)?a:+e.startOf(Date.now(),n),i=bt(i)&&!isNaN(i)?i:+e.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=bd(a,i,o);return this._unit=e.unit||(n.autoSkip?io(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):Vm(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Nm(this._unit),this.initOffsets(a),t.reverse&&l.reverse(),lo(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,n=0,a,i;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?n=i:n=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=Et(e,0,o),n=Et(n,0,o),this._offsets={start:e,end:n,factor:1/(e+1+n)}}_generate(){const t=this._adapter,e=this.min,n=this.max,a=this.options,i=a.time,o=i.unit||io(i.minUnit,e,n,this._getLabelCapacity(e)),l=et(a.ticks.stepSize,1),r=o==="week"?i.isoWeekday:!1,c=qe(r)||r===!0,d={};let h=e,f,g;if(c&&(h=+t.startOf(h,"isoWeek",r)),h=+t.startOf(h,c?"day":o),t.diff(n,e,o)>1e5*l)throw new Error(e+" and "+n+" are too far apart with stepSize of "+l+" "+o);const v=a.ticks.source==="data"&&this.getDataTimestamps();for(f=h,g=0;f<n;f=+t.add(f,l,o),g++)oo(d,f,v);return(f===n||a.bounds==="ticks"||g===1)&&oo(d,f,v),Object.keys(d).sort(no).map(_=>+_)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,i=this._unit,o=e||a[i];return this._adapter.format(t,o)}_tickFormatFunction(t,e,n,a){const i=this.options,o=i.ticks.callback;if(o)return dt(o,[t,e,n],this);const l=i.time.displayFormats,r=this._unit,c=this._majorUnit,d=r&&l[r],h=c&&l[c],f=n[e],g=c&&h&&f&&f.major;return this._adapter.format(t,a||(g?h:d))}generateTickLabels(t){let e,n,a;for(e=0,n=t.length;e<n;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,a=qt(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*o,h:n*o+l*i}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,a=n[e.unit]||n.millisecond,i=this._tickFormatFunction(t,0,lo(this,[t],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],e,n;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,n=a.length;e<n;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const a=this.getLabels();for(e=0,n=a.length;e<n;++e)t.push(ao(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return $o(t.sort(no))}}z(Is,"id","time"),z(Is,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function dn(s,t,e){let n=0,a=s.length-1,i,o,l,r;e?(t>=s[n].pos&&t<=s[a].pos&&({lo:n,hi:a}=ce(s,"pos",t)),{pos:i,time:l}=s[n],{pos:o,time:r}=s[a]):(t>=s[n].time&&t<=s[a].time&&({lo:n,hi:a}=ce(s,"time",t)),{time:i,pos:l}=s[n],{time:o,pos:r}=s[a]);const c=o-i;return c?l+(r-l)*(t-i)/c:l}class fa extends Is{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=dn(e,this.min),this._tableRange=dn(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,a=[],i=[];let o,l,r,c,d;for(o=0,l=t.length;o<l;++o)c=t[o],c>=e&&c<=n&&a.push(c);if(a.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,l=a.length;o<l;++o)d=a[o+1],r=a[o-1],c=a[o],Math.round((d+r)/2)!==c&&i.push({time:c,pos:o/(l-1)});return i}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(dn(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return dn(this._table,n*this._tableRange+this._minPos,!0)}}z(fa,"id","timeseries"),z(fa,"defaults",Is.defaults);var zm=Object.freeze({__proto__:null,CategoryScale:ca,LinearScale:da,LogarithmicScale:ua,RadialLinearScale:ys,TimeScale:Is,TimeSeriesScale:fa});const jm=[Gu,wf,vm,zm];Pn.register(...jm);const vl={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},Hm={ariaLabel:{type:String},ariaDescribedby:{type:String}},Wm={type:{type:String,required:!0},...vl,...Hm},Um=Pl[0]==="2"?(s,t)=>Object.assign(s,{attrs:t}):(s,t)=>Object.assign(s,t);function Ge(s){return _o(s)?qn(s):s}function Ym(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return _o(t)?new Proxy(s,{}):s}function Gm(s,t){const e=s.options;e&&t&&Object.assign(e,t)}function bl(s,t){s.labels=t}function yl(s,t,e){const n=[];s.datasets=t.map(a=>{const i=s.datasets.find(o=>o[e]===a[e]);return!i||!a.data||n.includes(i)?{...a}:(n.push(i),Object.assign(i,a),i)})}function Xm(s,t){const e={labels:[],datasets:[]};return bl(e,s.labels),yl(e,s.datasets,t),e}const Jm=q({props:Wm,setup(s,t){let{expose:e,slots:n}=t;const a=D(null),i=mo(null);e({chart:i});const o=()=>{if(!a.value)return;const{type:c,data:d,options:h,plugins:f,datasetIdKey:g}=s,v=Xm(d,g),_=Ym(v,d);i.value=new Pn(a.value,{type:c,data:_,options:{...h},plugins:f})},l=()=>{const c=qn(i.value);c&&(c.destroy(),i.value=null)},r=c=>{c.update(s.updateMode)};return Ol(o),po(l),Ke([()=>s.options,()=>s.data],(c,d)=>{let[h,f]=c,[g,v]=d;const _=qn(i.value);if(!_)return;let b=!1;if(h){const T=Ge(h),S=Ge(g);T&&T!==S&&(Gm(_,T),b=!0)}if(f){const T=Ge(f.labels),S=Ge(v.labels),A=Ge(f.datasets),E=Ge(v.datasets);T!==S&&(bl(_.config.data,T),b=!0),A&&A!==E&&(yl(_.config.data,A,s.datasetIdKey),b=!0)}b&&go(()=>{r(_)})},{deep:!0}),()=>Kn("canvas",{role:"img",ariaLabel:s.ariaLabel,ariaDescribedby:s.ariaDescribedby,ref:a},[Kn("p",{},[n.default?n.default():""])])}});function Km(s,t){return Pn.register(t),q({props:vl,setup(e,n){let{expose:a}=n;const i=mo(null),o=l=>{i.value=l==null?void 0:l.chart};return a({chart:i}),()=>Kn(Jm,Um({ref:o},{type:s,...e}))}})}const Rs=Km("bar",Ts),gt=s=>(kt("data-v-b0b8288d"),s=s(),wt(),s),qm={class:"flex-all-c w-100 h-100"},Zm={key:3,class:"table-container"},Qm={key:0,class:"term-table"},tp={class:"term-three table-title-container",style:{position:"relative"}},ep=gt(()=>u("td",null,"Justice",-1)),sp={key:0,class:"table-title term-three"},np={class:"term-three"},ap=gt(()=>u("td",{class:"table-data"},"Total Students",-1)),ip={class:"table-data-value"},op={class:"term-three"},lp=gt(()=>u("td",{class:"table-data"},"Highest Score",-1)),rp={class:"table-data-value"},cp={class:"term-three"},dp=gt(()=>u("td",{class:"table-data"},"Average Score",-1)),up={class:"table-data-value"},hp={class:"term-three"},fp=gt(()=>u("td",{class:"table-data"},"Lowest Score",-1)),mp={class:"table-data-value"},pp={class:"term-three"},gp=gt(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),_p={class:"table-data-value"},vp={class:"term-three"},bp=gt(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),yp={class:"table-data-value"},xp={class:"term-three"},Sp=gt(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),kp={class:"table-data-value"},wp={key:1,class:"term-table"},Tp={class:"term-two table-title-container",style:{position:"relative"}},Dp=gt(()=>u("td",null,"Justice",-1)),Mp={key:0,class:"table-title term-two"},Cp={key:1,class:"table-title term-two"},Ap={class:"term-two"},$p=gt(()=>u("td",{class:"table-data"},"Total Students",-1)),Ep={class:"table-data-value"},Pp={class:"term-two"},Op=gt(()=>u("td",{class:"table-data"},"Highest Score",-1)),Ip={class:"table-data-value"},Rp={class:"term-two"},Fp=gt(()=>u("td",{class:"table-data"},"Average Score",-1)),Lp={class:"table-data-value"},Vp={key:0,class:"term-two"},Np=gt(()=>u("td",{class:"table-data"},"Lowest Score",-1)),Bp={class:"table-data-value"},zp={class:"term-two"},jp=gt(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),Hp={class:"table-data-value"},Wp={class:"term-two"},Up=gt(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),Yp={class:"table-data-value"},Gp={class:"term-two"},Xp=gt(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),Jp={class:"table-data-value"},Kp={key:2,class:"term-table"},qp={class:"term-one table-title-container",style:{position:"relative"}},Zp=gt(()=>u("td",null,"Justice",-1)),Qp={key:0,class:"table-title term-one"},tg={key:1,class:"table-title term-one"},eg={class:"term-one"},sg=gt(()=>u("td",{class:"table-data"},"Total Students",-1)),ng={class:"table-data-value"},ag={class:"term-one"},ig=gt(()=>u("td",{class:"table-data"},"Highest Score",-1)),og={class:"table-data-value"},lg={class:"term-one"},rg=gt(()=>u("td",{class:"table-data"},"Average Score",-1)),cg={class:"table-data-value"},dg={class:"term-one"},ug=gt(()=>u("td",{class:"table-data"},"Lowest Score",-1)),hg={class:"table-data-value"},fg={class:"term-one"},mg=gt(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),pg={class:"table-data-value"},gg={class:"term-one"},_g=gt(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),vg={class:"table-data-value"},bg={class:"term-one"},yg=gt(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),xg={class:"table-data-value"},Sg=q({__name:"HeadPerformanceYearData",props:{year:{}},setup(s){const t=ot(),{year:e}=s,n=D(e.term_one.map(R=>Number(R))),a=D(e.term_two.map(R=>Number(R))),i=D(e.term_three.map(R=>Number(R))),o=n.value.filter(R=>R>=80).length,l=n.value.filter(R=>R>=75&&R<80).length,r=n.value.filter(R=>R>=70&&R<75).length,c=n.value.filter(R=>R>=65&&R<70).length,d=n.value.filter(R=>R>=60&&R<65).length,h=n.value.filter(R=>R>=55&&R<60).length,f=n.value.filter(R=>R>=50&&R<55).length,g=n.value.filter(R=>R>=40&&R<50).length,v=n.value.filter(R=>R<40).length,_=a.value.filter(R=>R>=80).length,b=a.value.filter(R=>R>=75&&R<80).length,T=a.value.filter(R=>R>=70&&R<75).length,S=a.value.filter(R=>R>=65&&R<70).length,A=a.value.filter(R=>R>=60&&R<65).length,E=a.value.filter(R=>R>=55&&R<60).length,M=a.value.filter(R=>R>=50&&R<55).length,O=a.value.filter(R=>R>=40&&R<50).length,$=a.value.filter(R=>R<40).length,C=i.value.filter(R=>R>=80).length,P=i.value.filter(R=>R>=75&&R<80).length,B=i.value.filter(R=>R>=70&&R<75).length,N=i.value.filter(R=>R>=65&&R<70).length,J=i.value.filter(R=>R>=60&&R<65).length,rt=i.value.filter(R=>R>=55&&R<60).length,j=i.value.filter(R=>R>=50&&R<55).length,Q=i.value.filter(R=>R>=40&&R<50).length,K=i.value.filter(R=>R<40).length,Y=D(["A1","B2","B3","C4","C5","C6","D7","E8","F9"]),vt=D([o,l,r,c,d,h,f,g,v]),ft=D([_,b,T,S,A,E,M,O,$]),Nt=D([C,P,B,N,J,rt,j,Q,K]),Mt=D({labels:Y.value,datasets:[{label:"Semester 1",data:vt.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Semester 2",data:ft.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1}]}),Wt=D({labels:Y.value,datasets:[{label:"Trimester 1",data:vt.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Trimester 2",data:ft.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1},{label:"Trimester 3",data:Nt.value,borderColor:"indigo",backgroundColor:"indigo",borderWidth:2,fill:!1}]}),Ut=D({responsive:!0}),Ct=n.value.length,Yt=G(()=>(n.value.reduce((he,ne)=>he+ne,0)/n.value.length).toFixed(0)),Dt=G(()=>Math.max(...n.value)),is=G(()=>Math.min(...n.value)),os=G(()=>n.value.filter(R=>R>=50).length),ls=G(()=>n.value.filter(R=>R<50&&R>=40).length),rs=G(()=>n.value.filter(R=>R<40).length),Vt=a.value.length,In=G(()=>(a.value.reduce((he,ne)=>he+ne,0)/a.value.length).toFixed(0)),Rn=G(()=>Math.max(...a.value)),ke=G(()=>Math.min(...a.value)),Ws=G(()=>a.value.filter(R=>R>=50).length),Us=G(()=>a.value.filter(R=>R<50&&R>=40).length),cs=G(()=>a.value.filter(R=>R<40).length),we=i.value.length,Ys=G(()=>(i.value.reduce((he,ne)=>he+ne,0)/i.value.length).toFixed(0)),Gs=G(()=>Math.max(...i.value)),Gt=G(()=>Math.min(...i.value)),Xs=G(()=>i.value.filter(R=>R>=50).length),Js=G(()=>i.value.filter(R=>R<50&&R>=40).length),Te=G(()=>i.value.filter(R=>R<40).length);return(R,he)=>{const ne=St;return m(),x("div",qm,[!R.year||R.year&&R.year.term_one.length===0?(m(),L(ne,{key:0})):k("",!0),R.year&&p(t).userData.school.semesters&&R.year.term_one.length>0?(m(),L(p(Rs),{key:1,class:"chart",options:Ut.value,data:Mt.value,fill:!1},null,8,["options","data"])):k("",!0),R.year&&!p(t).userData.school.semesters&&R.year.term_one.length>0?(m(),L(p(Rs),{key:2,class:"chart",options:Ut.value,data:Wt.value,fill:!1},null,8,["options","data"])):k("",!0),R.year&&R.year.term_one.length>0?(m(),x("div",Zm,[R.year.term_three&&R.year.term_three.length>0?(m(),x("div",Qm,[w(pt,{density:"comfortable"},{default:I(()=>[u("tbody",null,[u("tr",tp,[ep,p(t).userData&&!p(t).userData.school.semesters?(m(),x("td",sp,"TRIMESTER 3")):k("",!0)]),u("tr",np,[ap,u("td",ip,y(p(we)),1)]),u("tr",op,[lp,u("td",rp,y(Gs.value),1)]),u("tr",cp,[dp,u("td",up,y(Ys.value),1)]),u("tr",hp,[fp,u("td",mp,y(Gt.value),1)]),u("tr",pp,[gp,u("td",_p,y(Xs.value)+" ["+y((Xs.value/p(we)*100).toFixed(1))+"%] ",1)]),u("tr",vp,[bp,u("td",yp,y(Js.value)+" ["+y((Js.value/p(we)*100).toFixed(1))+"%] ",1)]),u("tr",xp,[Sp,u("td",kp,y(Te.value)+" ["+y((Te.value/p(we)*100).toFixed(1))+"%] ",1)])])]),_:1})])):k("",!0),R.year.term_two&&R.year.term_two.length>0?(m(),x("div",wp,[w(pt,{density:"comfortable"},{default:I(()=>[u("tbody",null,[u("tr",Tp,[Dp,p(t).userData&&p(t).userData.school.semesters?(m(),x("td",Mp,"SEMESTER 2")):k("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("td",Cp,"TRIMESTER 2")):k("",!0)]),u("tr",Ap,[$p,u("td",Ep,y(p(Vt)),1)]),u("tr",Pp,[Op,u("td",Ip,y(Rn.value),1)]),u("tr",Rp,[Fp,u("td",Lp,y(In.value),1)]),ke.value?(m(),x("tr",Vp,[Np,u("td",Bp,y(ke.value),1)])):k("",!0),u("tr",zp,[jp,u("td",Hp,y(Ws.value)+" ["+y((Ws.value/p(Vt)*100).toFixed(1))+"%] ",1)]),u("tr",Wp,[Up,u("td",Yp,y(Us.value)+" ["+y((Us.value/p(Vt)*100).toFixed(1))+"%] ",1)]),u("tr",Gp,[Xp,u("td",Jp,y(cs.value)+" ["+y((cs.value/p(Vt)*100).toFixed(1))+"%] ",1)])])]),_:1})])):k("",!0),R.year.term_one&&R.year.term_one.length>0?(m(),x("div",Kp,[w(pt,{density:"comfortable"},{default:I(()=>[u("tbody",null,[u("tr",qp,[Zp,p(t).userData&&p(t).userData.school.semesters?(m(),x("td",Qp,"SEMESTER 1")):k("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("td",tg,"TRIMESTER 1")):k("",!0)]),u("tr",eg,[sg,u("td",ng,y(p(Ct)),1)]),u("tr",ag,[ig,u("td",og,y(Dt.value),1)]),u("tr",lg,[rg,u("td",cg,y(Yt.value),1)]),u("tr",dg,[ug,u("td",hg,y(is.value),1)]),u("tr",fg,[mg,u("td",pg,y(os.value)+" ["+y((os.value/p(Ct)*100).toFixed(1))+"%] ",1)]),u("tr",gg,[_g,u("td",vg,y(ls.value)+" ["+y((ls.value/p(Ct)*100).toFixed(1))+"%] ",1)]),u("tr",bg,[yg,u("td",xg,y(rs.value)+" ["+y((rs.value/p(Ct)*100).toFixed(1))+"%] ",1)])])]),_:1})])):k("",!0)])):k("",!0)])}}}),kg=tt(Sg,[["__scopeId","data-v-b0b8288d"]]),wg={class:"subsections-container"},Tg={class:"subsections"},Dg=q({__name:"HeadPerformanceYear",props:{year:null},setup(s){const t=s,e=D("section1"),n=a=>{e.value=a};return(a,i)=>{const o=kg;return m(),x("div",wg,[w(ts,{class:"subsection-nav-container",elevation:"0"},{default:I(()=>[u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value==="section1"}]),onClick:i[0]||(i[0]=l=>n("section1"))},"form 1 students",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value==="section2"}]),onClick:i[1]||(i[1]=l=>n("section2"))},"form 2 students",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value==="section3"}]),onClick:i[2]||(i[2]=l=>n("section3"))},"form 3 students",2)]),_:1}),u("div",Tg,[u("div",{style:X(e.value==="section1"?{display:"flex"}:{display:"none"})},[w(o,{year:t.year.year_one},null,8,["year"])],4),u("div",{style:X(e.value==="section2"?{display:"flex"}:{display:"none"})},[w(o,{year:t.year.year_two},null,8,["year"])],4),u("div",{style:X(e.value==="section3"?{display:"flex"}:{display:"none"})},[w(o,{year:t.year.year_three},null,8,["year"])],4)])])}}}),Mg={class:"subsections-container"},Cg={key:1,class:"subsection-nav-container"},Ag=["onClick"],$g={key:2,class:"subsections"},Eg=q({__name:"HeadPerformanceSubjects",props:{department:null},setup(s){const t=D("section1"),e=s,n=a=>{t.value=a};return(a,i)=>{const o=St,l=Dg;return m(),x("div",Mg,[e.department?k("",!0):(m(),L(o,{key:0})),e.department?(m(),x("div",Cg,[(m(!0),x(U,null,st(e.department.subjects,(r,c)=>(m(),x("button",{key:c,class:W(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[u("span",null,y(r.name),1)],10,Ag))),128))])):k("",!0),e.department?(m(),x("div",$g,[(m(!0),x(U,null,st(e.department.subjects,(r,c)=>(m(),x("div",{class:"h-100",key:c,style:X(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[w(l,{year:r},null,8,["year"])],4))),128))])):k("",!0)])}}}),Pg=tt(Eg,[["__scopeId","data-v-d3199541"]]),Og={class:"sections-container"},Ig={key:1,class:"section-nav-container"},Rg=["onClick"],Fg={key:2,class:"sections"},Lg=q({__name:"HeadPerformanceDepartment",setup(s){const t=D("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=St,l=Pg;return m(),x("div",Og,[p(e).headStudentsPerformance?k("",!0):(m(),L(o,{key:0})),p(e).headStudentsPerformance?(m(),x("div",Ig,[(m(!0),x(U,null,st(p(e).headStudentsPerformance,(r,c)=>(m(),x("button",{key:c,class:W(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[r.department==="MATHEMATICS"?(m(),L(H,{key:0,icon:"mdi-function-variant"})):k("",!0),r.department==="ENGLISH"?(m(),L(H,{key:1,icon:"mdi-book-open-variant"})):k("",!0),r.department==="LANGUAGES"?(m(),L(H,{key:2,icon:"mdi-book-open-variant"})):k("",!0),r.department==="ARTS"?(m(),L(H,{key:3,icon:"mdi-history"})):k("",!0),r.department==="SCIENCE"?(m(),L(H,{key:4,icon:"mdi-flask"})):k("",!0),r.department==="BUSINESS"?(m(),L(H,{key:5,icon:"mdi-finance"})):k("",!0),r.department==="ECONOMICS"?(m(),L(H,{key:6,icon:"mdi-finance"})):k("",!0),u("span",null,y(r.department),1)],10,Rg))),128))])):k("",!0),p(e).headStudentsPerformance?(m(),x("div",Fg,[(m(!0),x(U,null,st(p(e).headStudentsPerformance,(r,c)=>(m(),x("div",{class:"h-100",key:c,style:X(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[w(l,{department:r},null,8,["department"])],4))),128))])):k("",!0)])}}}),Vg=tt(Lg,[["__scopeId","data-v-c7217f87"]]),ss=s=>(kt("data-v-d60e947c"),s=s(),wt(),s),Ng=["id"],Bg={class:"card",style:{position:"relative"}},zg={class:"info mt-5"},jg=ss(()=>u("strong",null,"CLASS:",-1)),Hg={class:"info"},Wg=ss(()=>u("strong",null,"SUBJECT:",-1)),Ug={key:0,class:"form-message",style:{color:"green"}},Yg={key:1,class:"form-message",style:{color:"red"}},Gg={style:{width:"100%",position:"relatve",height:"100%"}},Xg={key:1,class:"no-data flex-all"},Jg={key:0},Kg={key:1},qg=ss(()=>u("th",{class:"table-head"},"SUBJECT",-1)),Zg=ss(()=>u("th",{class:"table-head"},"CLASS",-1)),Qg=ss(()=>u("th",{class:"table-head"},"FORM",-1)),t_={key:0,class:"table-head"},e_=ss(()=>u("th",{class:"table-head"},"STUDENTS",-1)),s_={class:"table-data"},n_={class:"table-data"},a_={class:"table-data"},i_=["onClick"],o_={style:{padding:"0"}},l_={class:"student-info-container"},r_=["src"],c_={class:"flex-all-c"},d_={class:"user-name"},u_={class:"user-name"},h_=q({__name:"TeacherTermCourseWork",props:{term:{},termNumber:{}},setup(s){const t=ot(),e=D(""),n=D(""),a=D(0),i=D(""),o=D(""),l=D(""),r=D(!1),c=D(null),d=D(null),h=()=>{setTimeout(()=>{e.value="",n.value=""},1e4)},{term:f,termNumber:g}=s,v=(S,A,E,M)=>{l.value=S,d.value=A,a.value=E,o.value=M;const O=document.getElementById(`attendace${g}`);O&&(O.style.display="flex")},_=async()=>{r.value=!0;const S=new FormData;S.append("className",l.value),S.append("absentStudents",c.value),S.append("year",t.activeAcademicYear),S.append("term",t.activeTerm),S.append("type","create"),S.append("date",i.value),S.append("subject",o.value);try{const A=await xt.post("teacher/students/attendance",S);if(A.status===200){const E=A.data,M=t.teacherStudentsAttendance.find(O=>O.subject===E.subject.name&&O.class_name===E.students_class.name);if(M){const O=t.teacherStudentsAttendance.indexOf(M);t.teacherStudentsAttendance[O].attendance.unshift(E)}else await t.getTeacherStudentsAttendance();n.value="Upload successful",c.value=null}else A.status===201&&(e.value=A.data.ms)}catch(A){return e.value="Oops! something went wrong",Promise.reject(A)}finally{r.value=!1,h()}},b=G(()=>!i.value),T=()=>{l.value="",d.value=null,a.value=0,e.value="",n.value="",c.value=null,i.value="",o.value="";const S=document.getElementById(`attendace${g}`);S&&(S.style.display="none")};return(S,A)=>{const E=St;return m(),x(U,null,[u("div",{id:`attendace${S.termNumber}`,class:"overlay"},[u("div",Bg,[w(Z,{onClick:T,disabled:p(r),color:"red",size:"small",class:"close-btn flex-all"},{default:I(()=>[V("X")]),_:1},8,["disabled"]),u("h2",zg,[jg,V(" "+y(p(l))+" FORM "+y(p(a)),1)]),u("h2",Hg,[Wg,V(" "+y(p(o)),1)]),p(n)?(m(),x("h2",Ug,y(p(n)),1)):k("",!0),p(e)?(m(),x("h2",Yg,y(p(e)),1)):k("",!0),w(nt,{label:"DATE",class:"input-field",modelValue:p(i),"onUpdate:modelValue":A[0]||(A[0]=M=>Xe(i)?i.value=M:null),hint:"select the date for the class attendance","persistent-hint":"",clearable:"",variant:"outlined",type:"date",density:"compact"},null,8,["modelValue"]),p(d)?(m(),L(Pt,{key:2,disabled:p(r),clearable:"",multiple:"",chips:"",modelValue:p(c),"onUpdate:modelValue":A[1]||(A[1]=M=>Xe(c)?c.value=M:null),class:"select",label:"STUDENTS",items:p(d),"item-title":"user.last_name","item-value":"st_id","persistent-hint":"",hint:"Select the students who did not attend class for the specified date"},{item:I(({props:M,item:O})=>[w($t,Rt(M,{subtitle:O.raw.st_id}),null,16,["subtitle"])]),_:1},8,["disabled","modelValue","items"])):k("",!0),w(Z,{loading:p(r),disabled:p(b),onClick:_,size:"small",color:"green",class:"mt-5",type:"submit"},{default:I(()=>[V("UPLOAD")]),_:1},8,["loading","disabled"])])],8,Ng),u("div",Gg,[p(t).staffSubjectAssignment[S.term]?k("",!0):(m(),L(E,{key:0})),p(t).staffSubjectAssignment[S.term]&&p(t).staffSubjectAssignment[S.term].length===0?(m(),x("h4",Xg,[p(t).userData.school.semesters?(m(),x("p",Jg,"No coursework for semester "+y(S.termNumber)+" yet",1)):k("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("p",Kg,"No coursework for trimester "+y(S.termNumber)+" yet",1)):k("",!0)])):k("",!0),p(t).staffSubjectAssignment[S.term]&&p(t).staffSubjectAssignment[S.term].length>0?(m(),L(pt,{key:2,"fixed-header":"",class:"table-1"},{default:I(()=>[u("thead",null,[u("tr",null,[qg,Zg,Qg,S.termNumber===p(t).activeTerm?(m(),x("th",t_,"ATTENDANCE")):k("",!0),e_])]),u("tbody",null,[(m(!0),x(U,null,st(p(t).staffSubjectAssignment[S.term],(M,O)=>(m(),x("tr",{key:O},[u("td",s_,y(M.subject.name),1),u("td",n_,y(M.students_class.name),1),u("td",a_,y(M.students_class.students_year),1),S.termNumber===p(t).activeTerm?(m(),x("td",{key:0,class:"table-data",onClick:$=>v(M.students_class.name,M.students_class.students,M.students_class.students_year,M.subject.name)},[w(Z,{size:"small",color:"blue"},{default:I(()=>[V("UPLOAD")]),_:1})],8,i_)):k("",!0),u("td",o_,[w(Fe,{class:"pa-0"},{default:I(()=>[w(Le,null,{activator:I(({props:$})=>[w($t,Rt({class:"title",ref_for:!0},$),{default:I(()=>[w(H,{icon:"mdi-account-circle"}),V(y(M.students_class.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:I(()=>[w(Ve,{class:"v-scroll",height:"22vh",items:M.students_class.students},{default:I(({item:$})=>[w($t,{style:{position:"relative"}},{default:I(()=>[u("div",l_,[u("img",{class:"profile-img",src:$.img},null,8,r_),u("div",c_,[u("p",d_,y($.user.first_name+" "+$.user.last_name),1),u("p",u_,y($.st_id),1)])])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1})):k("",!0)])],64)}}}),f_=tt(h_,[["__scopeId","data-v-d60e947c"]]),m_={key:0,class:"section-nav-container"},p_={key:1,class:"section-nav-container"},g_={class:"sections"},__=q({__name:"TeacherCourseWork",setup(s){const t=ot(),e=D(t.activeTerm),n=a=>{e.value=a};return(a,i)=>{const o=f_;return m(),x(U,null,[p(t).userData&&p(t).userData.school.semesters?(m(),x("div",m_,[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":e.value===1}]),onClick:i[0]||(i[0]=l=>n(1))},"SEMESTER 1",2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":e.value===2}]),onClick:i[1]||(i[1]=l=>n(2))},"SEMESTER 2",2)])):k("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("div",p_,[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":e.value===1}]),onClick:i[2]||(i[2]=l=>n(1))},"TRIMESTER 1",2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":e.value===2}]),onClick:i[3]||(i[3]=l=>n(2))},"TRIMESTER 2",2),u("button",{class:W(["nav-btn-1 btn-3",{"nav-btn-1-active":e.value===3}]),onClick:i[4]||(i[4]=l=>n(3))},"TRIMESTER 3",2)])):k("",!0),u("div",g_,[u("div",{class:"h-100",style:X(e.value===1?{display:"flex"}:{display:"none"})},[w(o,{term:"termOne","term-number":1})],4),u("div",{class:"h-100",style:X(e.value===2?{display:"flex"}:{display:"none"})},[w(o,{term:"termTwo","term-number":2})],4),p(t).userData&&!p(t).userData.school.semesters?(m(),x("div",{key:0,class:"h-100",style:X(e.value===3?{display:"flex"}:{display:"none"})},[w(o,{term:"termThree","term-number":3})],4)):k("",!0)])],64)}}}),v_=tt(__,[["__scopeId","data-v-21918f58"]]),xl=s=>(kt("data-v-97781b70"),s=s(),wt(),s),b_=["id"],y_=xl(()=>u("p",null,"Continue to delete ?",-1)),x_={key:0,class:"mt-5",style:{color:"red"}},S_={style:{width:"100%",position:"relative",height:"100%"}},k_=xl(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"DATE"),u("th",{class:"table-head"},"STUDENTS PRESENT"),u("th",{class:"table-head"},"STUDENTS ABSENT"),u("th",{class:"table-head"},"ACTION")])],-1)),w_={class:"table-data"},T_={style:{padding:"0"}},D_={class:"user-name"},M_={class:"user-name"},C_={style:{padding:"0"}},A_={class:"user-name"},$_={class:"user-name"},E_=q({__name:"TeacherStudentsAllSubjecstAttendance",props:{index:{},attendance:{}},setup(s){const t=ot(),e=D(!1),n=D(""),a=D(""),i=D(""),o=D(""),{index:l,attendance:r}=s,c=()=>{const f=document.getElementById(`deleteAttendance${l}`);f&&(f.style.display="none"),n.value="",a.value="",o.value="",i.value=""},d=async()=>{e.value=!0;const f=new FormData;f.append("subject",a.value),f.append("className",o.value),f.append("year",t.activeAcademicYear),f.append("date",i.value),f.append("type","delete"),f.append("term",t.activeTerm.toString());try{if((await xt.post("teacher/students/attendance",f)).status===200){const v=t.teacherStudentsAttendance.find(_=>_.subject===a.value&&_.class_name===o.value);if(v){const _=t.teacherStudentsAttendance.indexOf(v),b=t.teacherStudentsAttendance[_].attendance.find(T=>T.date===i.value);if(b){const T=t.teacherStudentsAttendance[_].attendance.indexOf(b);t.teacherStudentsAttendance[_].attendance.splice(T,1)}}c(),e.value=!1}}catch{n.value="Oops! something went wrong. Check your internet connection and try again",e.value=!1}},h=async(f,g,v)=>{const _=document.getElementById(`deleteAttendance${l}`);a.value=f,i.value=v,o.value=g,_&&(_.style.display="flex")};return(f,g)=>(m(),x(U,null,[u("div",{id:`deleteAttendance${f.index}`,class:"overlay"},[w(es,{class:"d-flex flex-column align-center"},{default:I(()=>[w(Fs,{style:{"font-size":".8rem","font-family":"sans-serif","text-align":"left","line-height":"1.2","font-weight":"bold"}},{default:I(()=>[y_,n.value?(m(),x("p",x_,y(n.value),1)):k("",!0)]),_:1}),w(Ls,null,{default:I(()=>[w(Z,{loading:e.value,class:"overlay-btn mr-5",elevation:"4",onClick:d},{default:I(()=>[V("YES")]),_:1},8,["loading"]),w(Z,{disabled:e.value,class:"overlay-btn ml-5",elevation:"4",onClick:c},{default:I(()=>[V("NO")]),_:1},8,["disabled"])]),_:1})]),_:1})],8,b_),u("div",S_,[f.attendance&&f.attendance.length>0?(m(),L(pt,{key:0,"fixed-header":""},{default:I(()=>[k_,u("tbody",null,[(m(!0),x(U,null,st(f.attendance,(v,_)=>(m(),x("tr",{key:_},[u("td",w_,y(v.date),1),u("td",T_,[w(Fe,{class:"pa-0"},{default:I(()=>[w(Le,null,{activator:I(({props:b})=>[w($t,Rt({class:"title",ref_for:!0},b),{default:I(()=>[w(H,{icon:"mdi-account-circle"}),V(y(v.students_present.length)+" STUDENTS ",1)]),_:2},1040)]),default:I(()=>[w(Ve,{class:"v-scroll",height:"22vh",items:v.students_present},{default:I(({item:b})=>[w($t,{style:{position:"relative"}},{default:I(()=>[w(Xn,null,{default:I(()=>[u("p",D_,y(b.user.first_name+" "+b.user.last_name),1)]),_:2},1024),w(Jn,null,{default:I(()=>[u("p",M_,y(b.st_id),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)]),u("td",C_,[w(Fe,{class:"pa-0"},{default:I(()=>[w(Le,null,{activator:I(({props:b})=>[w($t,Rt({class:"title",ref_for:!0},b),{default:I(()=>[w(H,{icon:"mdi-account-circle"}),V(y(v.students_absent.length)+" STUDENTS ",1)]),_:2},1040)]),default:I(()=>[w(Ve,{class:"v-scroll",height:"22vh",items:v.students_absent},{default:I(({item:b})=>[w($t,{style:{position:"relative"}},{default:I(()=>[w(Xn,null,{default:I(()=>[u("p",A_,y(b.user.first_name+" "+b.user.last_name),1)]),_:2},1024),w(Jn,null,{default:I(()=>[u("p",$_,y(b.st_id),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)]),u("td",null,[w(Z,{onClick:b=>h(v.subject.name,v.students_class.name,v.date),size:"small",color:"red"},{default:I(()=>[V("Delete")]),_:2},1032,["onClick"])])]))),128))])]),_:1})):k("",!0)])],64))}}),P_=tt(E_,[["__scopeId","data-v-97781b70"]]),O_={class:"subsections-container"},I_={key:2,class:"subsection-nav-container"},R_=["onClick"],F_={key:3,class:"subsections"},L_=q({__name:"TeacherStudentsAttendance",setup(s){const t=D("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=St,l=ue,r=P_;return m(),x("div",O_,[p(e).teacherStudentsAttendance?k("",!0):(m(),L(o,{key:0})),p(e).teacherStudentsAttendance&&p(e).teacherStudentsAttendance.length===0?(m(),L(l,{key:1,message:"You have not uploaded any attendance yet"})):k("",!0),p(e).teacherStudentsAttendance?(m(),x("div",I_,[(m(!0),x(U,null,st(p(e).teacherStudentsAttendance,(c,d)=>(m(),x("button",{key:d,class:W(["nav-btn-1",{"nav-btn-1-active":t.value===`section${d+1}`}]),onClick:h=>n(`section${d+1}`)},[u("p",null,y(c.class_name)+" FORM "+y(c.students_year),1),u("p",null,y(c.subject),1)],10,R_))),128))])):k("",!0),p(e).teacherStudentsAttendance?(m(),x("div",F_,[(m(!0),x(U,null,st(p(e).teacherStudentsAttendance,(c,d)=>(m(),x("div",{key:d,style:X(t.value===`section${d+1}`?{display:"flex"}:{display:"none"})},[c.attendance&&c.attendance.length>0?(m(),L(r,{attendance:c.attendance,index:d,key:c.attendance},null,8,["attendance","index"])):k("",!0),c.attendance&&c.attendance.length===0?(m(),L(l,{key:1,message:"No data yet"})):k("",!0)],4))),128))])):k("",!0)])}}}),V_=tt(L_,[["__scopeId","data-v-e52ea4b2"]]),N_=co({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:s=>typeof s=="boolean"||[1e3,1024].includes(s)},...bo({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:s=>Il(s).every(t=>t!=null&&typeof t=="object")},...Nl({clearable:!0})},"VFileInput"),Pa=uo()({name:"VFileInput",inheritAttrs:!1,props:N_(),emits:{"click:control":s=>!0,"mousedown:control":s=>!0,"update:focused":s=>!0,"update:modelValue":s=>!0},setup(s,t){let{attrs:e,emit:n,slots:a}=t;const{t:i}=Rl(),o=ho(s,"modelValue"),{isFocused:l,focus:r,blur:c}=yo(s),d=G(()=>typeof s.showSize!="boolean"?s.showSize:void 0),h=G(()=>(o.value??[]).reduce((P,B)=>{let{size:N=0}=B;return P+N},0)),f=G(()=>Va(h.value,d.value)),g=G(()=>(o.value??[]).map(P=>{const{name:B="",size:N=0}=P;return s.showSize?`${B} (${Va(N,d.value)})`:B})),v=G(()=>{var B;const P=((B=o.value)==null?void 0:B.length)??0;return s.showSize?i(s.counterSizeString,P,f.value):i(s.counterString,P)}),_=D(),b=D(),T=D(),S=G(()=>l.value||s.active),A=G(()=>["plain","underlined"].includes(s.variant));function E(){var P;T.value!==document.activeElement&&((P=T.value)==null||P.focus()),l.value||r()}function M(P){$(P)}function O(P){n("mousedown:control",P)}function $(P){var B;(B=T.value)==null||B.click(),n("click:control",P)}function C(P){P.stopPropagation(),E(),go(()=>{o.value=[],Fl(s["onClick:clear"],P)})}return Ke(o,P=>{(!Array.isArray(P)||!P.length)&&T.value&&(T.value.value="")}),vo(()=>{const P=!!(a.counter||s.counter),B=!!(P||a.details),[N,J]=fo(e),{modelValue:rt,...j}=bn.filterProps(s),Q=Bl(s);return w(bn,Rt({ref:_,modelValue:o.value,"onUpdate:modelValue":K=>o.value=K,class:["v-file-input",{"v-file-input--chips":!!s.chips,"v-input--plain-underlined":A.value},s.class],style:s.style,"onClick:prepend":M},N,j,{centerAffix:!A.value,focused:l.value}),{...a,default:K=>{let{id:Y,isDisabled:vt,isDirty:ft,isReadonly:Nt,isValid:Mt}=K;return w(zl,Rt({ref:b,"prepend-icon":s.prependIcon,onMousedown:O,onClick:$,"onClick:clear":C,"onClick:prependInner":s["onClick:prependInner"],"onClick:appendInner":s["onClick:appendInner"]},Q,{id:Y.value,active:S.value||ft.value,dirty:ft.value,disabled:vt.value,focused:l.value,error:Mt.value===!1}),{...a,default:Wt=>{var Yt;let{props:{class:Ut,...Ct}}=Wt;return w(U,null,[w("input",Rt({ref:T,type:"file",readonly:Nt.value,disabled:vt.value,multiple:s.multiple,name:s.name,onClick:Dt=>{Dt.stopPropagation(),Nt.value&&Dt.preventDefault(),E()},onChange:Dt=>{if(!Dt.target)return;const is=Dt.target;o.value=[...is.files??[]]},onFocus:E,onBlur:c},Ct,J),null),w("div",{class:Ut},[!!((Yt=o.value)!=null&&Yt.length)&&(a.selection?a.selection({fileNames:g.value,totalBytes:h.value,totalBytesReadable:f.value}):s.chips?g.value.map(Dt=>w(ro,{key:Dt,size:"small",color:s.color},{default:()=>[Dt]})):g.value.join(", "))])])}})},details:B?K=>{var Y,vt;return w(U,null,[(Y=a.details)==null?void 0:Y.call(a,K),P&&w(U,null,[w("span",null,null),w(jl,{active:!!((vt=o.value)!=null&&vt.length),value:v.value},a.counter)])])}:void 0})}),Hl({},_,b,T)}}),ns=s=>(kt("data-v-a993fd3c"),s=s(),wt(),s),B_={id:"singleForm",class:"overlay"},z_={style:{position:"relative"}},j_={class:"info mt-3"},H_=ns(()=>u("strong",null,"CLASS:",-1)),W_={class:"info"},U_=ns(()=>u("strong",null,"SUBJECT:",-1)),Y_={key:0,class:"form-message",style:{color:"green"}},G_={key:1,class:"form-message",style:{color:"red"}},X_={key:4,class:"flex-all-c"},J_=ns(()=>u("p",{class:"checkbox"},"Check this box if you want to upload results for multiple students with same score",-1)),K_={id:"fileForm",class:"overlay"},q_={style:{position:"relative"}},Z_={class:"info mt-3"},Q_=ns(()=>u("strong",null,"CLASS:",-1)),tv={class:"info"},ev=ns(()=>u("strong",null,"SUBJECT:",-1)),sv={key:0,class:"form-message",style:{color:"green"}},nv={key:1,class:"form-message",style:{color:"green"}},av={key:2,class:"form-message",style:{color:"red"}},iv={class:"flex-all-c mt-5"},ov={key:1,class:"checkbox"},lv={key:3,class:"line"},rv={style:{width:"100%"}},cv=ns(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"UPLOAD")])],-1)),dv={class:"table-data"},uv={class:"table-data"},hv={class:"table-data"},fv={style:{padding:"0"},class:"upload-btn-container"},mv=["onClick"],pv=["onClick"],gv=q({__name:"TeacherStudentsResultsUpload",setup(s){const t=ot(),e=D(""),n=D(""),a=D(null),i=D(""),o=D(""),l=D([]),r=D(""),c=D([]),d=D(null),h=D(!1),f=D(!1),g=D(null),v=D(!1),_=D(!0),b=()=>{setTimeout(()=>{o.value="",i.value=""},15e3)},T=async()=>{v.value=!0,i.value="",o.value="";const C={students_year:a.value,students_class:n.value,subject:e.value,st_id:l.value,score:"generate",year:t.activeAcademicYear,term:t.activeTerm};try{const P=await xt.post("teacher/results/upload/",C);if(P.status===200){o.value=P.data.message,t.staffStudentsResultsFileGenerated=!0;const B=document.createElement("a");B.href=P.data.file_path,B.download=P.data.filename,B.click()}else P.status===201?i.value=P.data.ms:i.value="Oops! an error occurred while generating the file. Try again later"}catch{i.value="Something went wrong. Try again later"}finally{v.value=!1,b()}},S=C=>{const P=C.target.files[0];g.value=P||null},A=async()=>{f.value=!0,i.value="",o.value="";const C=new FormData;C.append("students_year",a.value),C.append("students_class",n.value),C.append("subject",e.value),C.append("st_id",g.value),C.append("score","upload"),C.append("year",t.activeAcademicYear),C.append("term",t.activeTerm.toString());try{const P=await xt.post("teacher/results/upload/",C);P.status===200?(t.userData.staff_role==="hod"&&t.getHodPerformance(),t.staffStudentResultsSubjectAssignment=P.data.data[0],t.staffStudentResultsEdit=P.data.data[1],o.value=P.data.message):(P.status===201||P.status===202)&&(i.value=P.data.message)}catch{i.value="Something went wrong!"}finally{f.value=!1,b()}},E=async()=>{f.value=!0,i.value="",o.value="",d.value=Number(d.value),typeof d.value=="number"&&d.value<=100&&d.value>0?h.value?(r.value="",await t.teacherUploadResults(c.value,e.value,d.value).then(C=>{t.getTeacherStudentResults(),t.userData.staff_role==="hod"&&t.getHodPerformance(),o.value=`Result for students with IDs [${c.value}] uploaded and saved successfully`,c.value=[],h.value=!1,d.value=null,f.value=!1}).catch(C=>{i.value="Oops! something went wrong while generating the file. Try again",f.value=!1})):h.value||(c.value=[],await t.teacherUploadResults(r.value,e.value,d.value).then(C=>{t.getTeacherStudentResults(),t.userData.staff_role==="hod"&&t.getHodPerformance();const P=r.value;o.value=`Result for student with ID ${P} uploaded and saved successfully`,r.value="",d.value=null,f.value=!1}).catch(C=>{i.value="Oops! something went wrong. try again",f.value=!1})):typeof d.value=="number"&&d.value>100?(i.value="The exams score must not exceed 100",f.value=!1):typeof d.value=="number"&&d.value<0?(i.value="The exams score can not be negative",f.value=!1):(i.value="The exams score must be a number",f.value=!1),b()},M=G(()=>!(c.value&&d.value)&&!(r.value&&d.value)),O=C=>{const P=document.getElementById(C);P&&(l.value=[],c.value=[],d.value=null,i.value="",o.value="",r.value="",f.value=!1,_.value=!0,h.value=!1,g.value=null,t.staffStudentsResultsFileGenerated=!1,P.style.display="none")},$=(C,P,B,N,J,rt)=>{e.value=C,n.value=P,a.value=J,l.value=B,B.length>0?Ke(()=>t.staffStudentResultsSubjectAssignment,Q=>{if(Q){const K=Q[N];K&&K.students&&(l.value=K.students)}}):(i.value="You have already uploaded results for students in this class",_.value=!1);const j=document.getElementById(rt);j&&(j.style.display="flex")};return(C,P)=>{const B=St;return m(),x(U,null,[u("div",B_,[u("form",z_,[w(Z,{onClick:P[0]||(P[0]=Kt(N=>O("singleForm"),["prevent"])),disabled:f.value||v.value,color:"red",size:"small",class:"close-btn flex-all"},{default:I(()=>[V("X")]),_:1},8,["disabled"]),u("h2",j_,[H_,V(" "+y(n.value)+" FORM "+y(a.value),1)]),u("h2",W_,[U_,V(" "+y(e.value),1)]),o.value?(m(),x("h2",Y_,y(o.value),1)):k("",!0),i.value?(m(),x("h2",G_,y(i.value),1)):k("",!0),!h.value&&_.value?(m(),L(Pt,{key:2,disabled:f.value,modelValue:r.value,"onUpdate:modelValue":P[1]||(P[1]=N=>r.value=N),class:"select",label:"STUDENT",variant:"outlined",items:l.value,"item-title":"name","item-value":"st_id","persistent-hint":"",hint:"Select the student you want to upload result for"},{item:I(({props:N,item:J})=>[w($t,Rt(N,{subtitle:J.raw.st_id}),null,16,["subtitle"])]),_:1},8,["disabled","modelValue","items"])):k("",!0),h.value&&_.value?(m(),L(Pt,{key:3,disabled:f.value,multiple:"",clearable:"",modelValue:c.value,"onUpdate:modelValue":P[2]||(P[2]=N=>c.value=N),chips:"",class:"select",label:"STUDENT",variant:"outlined",items:l.value,"item-title":"name","item-value":"st_id","persistent-hint":"",hint:"Select the student you want to upload result for"},{item:I(({props:N,item:J})=>[w($t,Rt(N,{subtitle:J.raw.st_id}),null,16,["subtitle"])]),_:1},8,["disabled","modelValue","items"])):k("",!0),_.value?(m(),x("div",X_,[J_,w(Gl,{disabled:f.value,modelValue:h.value,"onUpdate:modelValue":P[3]||(P[3]=N=>h.value=N)},null,8,["disabled","modelValue"])])):k("",!0),_.value?(m(),L(nt,{key:5,disabled:f.value,type:"number",modelValue:d.value,"onUpdate:modelValue":P[4]||(P[4]=N=>d.value=N),class:"input-field","persistent-hint":"",hint:"Enter the student(s) exams score",label:"EXAMS SCORE",variant:"outlined"},null,8,["disabled","modelValue"])):k("",!0),_.value?(m(),L(Z,{key:6,loading:f.value,disabled:M.value,onClick:Kt(E,["prevent"]),type:"submit",class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])):k("",!0)])]),u("div",K_,[u("form",q_,[w(Z,{onClick:P[5]||(P[5]=Kt(N=>O("fileForm"),["prevent"])),disabled:f.value||v.value,color:"red",size:"small",class:"close-btn flex-all"},{default:I(()=>[V("X")]),_:1},8,["disabled"]),u("h2",Z_,[Q_,V(" "+y(n.value)+" FORM "+y(a.value),1)]),u("h2",tv,[ev,V(" "+y(e.value),1)]),o.value?(m(),x("h2",sv,y(o.value),1)):k("",!0),p(t).staffStudentsResultsFileGenerated&&!v.value&&!f.value?(m(),x("h2",nv,"Note: you can now edit only the students score, save and upload the same file")):k("",!0),i.value?(m(),x("h2",av,y(i.value),1)):k("",!0),u("div",iv,[_.value?(m(),L(Z,{key:0,loading:v.value,disabled:f.value,onClick:Kt(T,["prevent"]),type:"submit",class:"submit-btn"},{default:I(()=>[V("GET FILE")]),_:1},8,["loading","disabled"])):k("",!0),!p(t).staffStudentsResultsFileGenerated&&_.value?(m(),x("p",ov,"Click to get an excel file that contains the students names and IDs")):k("",!0)]),_.value?(m(),x("hr",lv)):k("",!0),_.value?(m(),L(Pa,{key:4,disabled:f.value||v.value,onChange:S,"show-size":"",class:"file-field",label:"Choose an excel file",density:"compact",variant:"outlined",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},null,8,["disabled"])):k("",!0),_.value?(m(),L(Z,{key:5,loading:f.value,disabled:!g.value||v.value,onClick:Kt(A,["prevent"]),type:"submit",class:"submit-btn"},{default:I(()=>[V("UPLOAD")]),_:1},8,["loading","disabled"])):k("",!0)])]),u("div",rv,[p(t).staffStudentResultsSubjectAssignment?k("",!0):(m(),L(B,{key:0})),p(t).staffStudentResultsSubjectAssignment?(m(),L(pt,{key:1,"fixed-header":"",class:"table-1"},{default:I(()=>[cv,u("tbody",null,[(m(!0),x(U,null,st(p(t).staffStudentResultsSubjectAssignment,(N,J)=>(m(),x("tr",{key:J},[u("td",dv,y(N.subject),1),u("td",uv,y(N.class_name),1),u("td",hv,y(N.students_year),1),u("td",fv,[u("button",{onClick:rt=>$(N.subject,N.class_name,N.students,J,N.students_year,"singleForm"),class:"upload-btn"},"SELECT",8,mv),u("button",{onClick:rt=>$(N.subject,N.class_name,N.students,J,N.students_year,"fileForm"),class:"upload-btn last-btn"},"FILE",8,pv)])]))),128))])]),_:1})):k("",!0)])],64)}}}),_v=tt(gv,[["__scopeId","data-v-a993fd3c"]]),js=s=>(kt("data-v-05c4c4fe"),s=s(),wt(),s),vv={id:"editForm",class:"overlay"},bv={style:{position:"relative"}},yv={class:"info"},xv=js(()=>u("strong",null,"CLASS:",-1)),Sv={class:"info"},kv=js(()=>u("strong",null,"SUBJECT:",-1)),wv={class:"info"},Tv=js(()=>u("strong",null,"STUDENT:",-1)),Dv={key:0,class:"info"},Mv=js(()=>u("strong",null,"PREVIOUS SCORE:",-1)),Cv={key:1,class:"form-message",style:{color:"green"}},Av={key:2,class:"form-message",style:{color:"red"}},$v={style:{width:"100%",position:"relative",height:"100%"}},Ev=js(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"STUDENTS")])],-1)),Pv={class:"table-data"},Ov={class:"table-data"},Iv={class:"table-data"},Rv={style:{padding:"0"}},Fv={class:"score"},Lv={class:"user-name"},Vv={class:"user-name"},Nv=q({__name:"TeacherStudentsViewResults",setup(s){const t=ot();ma();const e=D(""),n=D(""),a=D(!1),i=D(""),o=D(""),l=D(""),r=D(""),c=D(null),d=D(null),h=D(null),f=async()=>{if(a.value=!0,n.value="",e.value="",h.value=Number(h.value),typeof h.value=="number"&&h.value<=100&&h.value>0){const _=new FormData;_.append("student_year",c.value),_.append("student_class",r.value),_.append("student_name",i.value),_.append("subject",l.value),_.append("st_id",o.value),_.append("score","edit"),_.append("mark",h.value),_.append("year",t.activeAcademicYear),_.append("term",t.activeTerm.toString());try{const b=await xt.post("teacher/results/upload/",_);b.status===200?(t.userData.staff_role==="hod"&&t.getHodPerformance(),e.value=`Result for ${i.value} [${o.value}] updated successfully`,t.staffStudentResultsSubjectAssignment=b.data[0],t.staffStudentResultsEdit=b.data[1],h.value=null,d.value=null):b.status===202?n.value=b.data.message:n.value="Oops! something went wrong. try again"}catch{n.value="Oops! something went wrong. try again"}finally{a.value=!1}}else typeof h.value=="number"&&h.value>100?(n.value="The exams score must not exceed 100",a.value=!1):typeof h.value=="number"&&h.value<0?(n.value="The exams score can not be negative",a.value=!1):(n.value="The exams score must be a number",a.value=!1)},g=()=>{const _=document.getElementById("editForm");_&&(h.value=null,n.value="",e.value="",a.value=!1,_.style.display="none")},v=(_,b,T,S,A,E)=>{l.value=_,r.value=b,c.value=E,o.value=S,i.value=T,d.value=A;const M=document.getElementById("editForm");M&&(M.style.display="flex")};return(_,b)=>{const T=St;return m(),x(U,null,[u("div",vv,[u("form",bv,[w(Z,{onClick:Kt(g,["prevent"]),class:"close-btn",size:"small",color:"red"},{default:I(()=>[V("X")]),_:1}),u("h2",yv,[xv,V(" "+y(r.value)+" FORM "+y(c.value),1)]),u("h2",Sv,[kv,V(" "+y(l.value),1)]),u("h2",wv,[Tv,V(" "+y(i.value)+" ["+y(o.value)+"]",1)]),d.value?(m(),x("h2",Dv,[Mv,V(" "+y(d.value),1)])):k("",!0),e.value?(m(),x("h2",Cv,y(e.value),1)):k("",!0),n.value?(m(),x("h2",Av,y(n.value),1)):k("",!0),w(nt,{disabled:a.value,modelValue:h.value,"onUpdate:modelValue":b[0]||(b[0]=S=>h.value=S),type:"number",class:"input-field","persistent-hint":"",hint:"Enter the student's new score",label:"NEW SCORE",variant:"outlined"},null,8,["disabled","modelValue"]),w(Z,{loading:a.value,disabled:!h.value,onClick:Kt(f,["prevent"]),type:"submit",color:"green",class:"mt-5 mb-5"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])])]),u("div",$v,[p(t).staffStudentResultsEdit?k("",!0):(m(),L(T,{key:0,class:"no-data flex-all"})),p(t).staffStudentResultsEdit?(m(),L(pt,{key:1,"fixed-header":"",class:"table-1"},{default:I(()=>[Ev,u("tbody",null,[(m(!0),x(U,null,st(p(t).staffStudentResultsEdit,(S,A)=>(m(),x("tr",{key:A},[u("td",Pv,y(S.subject),1),u("td",Ov,y(S.class_name),1),u("td",Iv,y(S.students_year),1),u("td",Rv,[w(Fe,{class:"pa-0"},{default:I(()=>[w(Le,null,{activator:I(({props:E})=>[w($t,Rt({class:"title",ref_for:!0},E),{default:I(()=>[w(H,{icon:"mdi-account-circle"}),V(y(S.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:I(()=>[w(Ve,{class:"v-scroll",height:"22vh",items:S.students},{default:I(({item:E})=>[w($t,{class:"list-container"},{prepend:I(()=>[u("p",Fv,y(E.score),1)]),append:I(()=>[w(Z,{onClick:M=>v(S.subject,S.class_name,`${E.student.user.first_name} ${E.student.user.last_name}`,E.student.st_id,E.score,S.students_year),color:"green",size:"x-small",icon:"mdi-pencil"},null,8,["onClick"])]),default:I(()=>[w(Xn,null,{default:I(()=>[u("p",Lv,y(E.student.user.first_name+" "+E.student.user.last_name),1)]),_:2},1024),w(Jn,null,{default:I(()=>[u("p",Vv,y(E.student.st_id),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1})):k("",!0)])],64)}}}),Bv=tt(Nv,[["__scopeId","data-v-05c4c4fe"]]),zv={class:"sections-container"},jv={class:"sections"},Hv=q({__name:"TeacherStudents",setup(s){const t=D("section1"),e=n=>{t.value=n};return(n,a)=>{const i=V_,o=_v,l=Bv;return m(),x("div",zv,[w(ts,{class:"section-nav-container",elevation:"0"},{default:I(()=>[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value==="section1"}]),onClick:a[0]||(a[0]=r=>e("section1"))},[w(H,{icon:"mdi-account-multiple-check"}),V(" ATTENDANCE")],2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value==="section2"}]),onClick:a[1]||(a[1]=r=>e("section2"))},[w(H,{icon:"mdi-upload-box"}),V(" UPLOAD RESULTS")],2),u("button",{class:W(["nav-btn-1 btn-3",{"nav-btn-1-active":t.value==="section3"}]),onClick:a[2]||(a[2]=r=>e("section3"))},[w(H,{icon:"mdi-view-list"}),V(" ALL UPLOADED RESULTS")],2)]),_:1}),u("div",jv,[u("div",{class:"h-100",style:X(t.value==="section1"?{display:"flex"}:{display:"none"})},[w(i)],4),u("div",{class:"h-100",style:X(t.value==="section2"?{display:"flex"}:{display:"none"})},[w(o)],4),u("div",{class:"h-100",style:X(t.value==="section3"?{display:"flex"}:{display:"none"})},[w(l)],4)])])}}}),Wv=tt(Hv,[["__scopeId","data-v-ad7ab35c"]]),Lt=s=>(kt("data-v-182b2fac"),s=s(),wt(),s),Uv={class:"flex-all-c w-100"},Yv={key:0,class:"notice"},Gv=Lt(()=>u("span",{style:{color:"red"}},"NOTE: ",-1)),Xv={key:1,class:"notice"},Jv=Lt(()=>u("span",{style:{color:"red"}},"NOTE: ",-1)),Kv={class:"table-container"},qv=Lt(()=>u("td",{class:"table-data"},"Total Students",-1)),Zv={class:"table-data-value"},Qv=Lt(()=>u("td",{class:"table-data"},"Highest Score",-1)),tb={class:"table-data-value"},eb=Lt(()=>u("td",{class:"table-data"},"Average Score",-1)),sb={class:"table-data-value"},nb=Lt(()=>u("td",{class:"table-data"},"Lowest Score",-1)),ab={class:"table-data-value"},ib=Lt(()=>u("td",{class:"table-data"},"Grade A Students (>=80)",-1)),ob={class:"table-data-value"},lb=Lt(()=>u("td",{class:"table-data"},"Grade B Students (70-79)",-1)),rb={class:"table-data-value"},cb=Lt(()=>u("td",{class:"table-data"},"Grade C Students (60-69)",-1)),db={class:"table-data-value"},ub=Lt(()=>u("td",{class:"table-data"},"Grade D Students (50-59)",-1)),hb={class:"table-data-value"},fb=Lt(()=>u("td",{class:"table-data"},"Passed Students (>=50)",-1)),mb={class:"table-data-value"},pb=Lt(()=>u("td",{class:"table-data"},"Failed Students (<50)",-1)),gb={class:"table-data-value"},_b={key:0,class:"table-title-container",style:{position:"relative"}},vb=Lt(()=>u("td",null,"Justice",-1)),bb=Lt(()=>u("td",{class:"table-title"},"top 5 students",-1)),yb=[vb,bb],xb={key:0,class:"table-data"},Sb={key:1,class:"table-data-value"},kb={key:1,class:"table-title-container",style:{position:"relative"}},wb=Lt(()=>u("td",null,"Justice",-1)),Tb=Lt(()=>u("td",{class:"table-title"},"last 5 students",-1)),Db=[wb,Tb],Mb={key:0,class:"table-data"},Cb={key:1,class:"table-data-value"},Ab=q({__name:"TeacherAnalyticsStatistics",props:{studentsData:{}},setup(s){const{studentsData:t}=s,e=ot(),n=D(t.slice(0,5)),a=D(t.slice(-5)),i=D(t.filter(j=>j.score>=80)),o=D(t.filter(j=>j.score>=75&&j.score<80)),l=D(t.filter(j=>j.score>=70&&j.score<75)),r=D(t.filter(j=>j.score>=65&&j.score<70)),c=D(t.filter(j=>j.score>=60&&j.score<65)),d=D(t.filter(j=>j.score>=55&&j.score<60)),h=D(t.filter(j=>j.score>=50&&j.score<55)),f=D(t.filter(j=>j.score>=40&&j.score<50)),g=D(t.filter(j=>j.score<40)),v=D(["A1","B2","B3","C4","C5","C6","D7","E8","F9"]),_=D([i.value.length,o.value.length,l.value.length,r.value.length,c.value.length,d.value.length,h.value.length,f.value.length,g.value.length]),b=D({labels:v.value,datasets:[{label:"Number of Students",data:_.value,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,fill:!1}]}),T=D({responsive:!0}),S=D(t.map(j=>Number(j.score))),A=D(S.value.reduce((j,Q)=>j+Q,0)),E=D(S.value.length),M=D((A.value/E.value).toFixed(2)),O=D(Math.max(...S.value)),$=D(Math.min(...S.value)),C=G(()=>S.value.filter(j=>j>=50).length),P=G(()=>S.value.filter(j=>j<50).length),B=G(()=>S.value.filter(j=>j>=80).length),N=G(()=>S.value.filter(j=>j>=70&&j<80).length),J=G(()=>S.value.filter(j=>j>=60&&j<70).length),rt=G(()=>S.value.filter(j=>j>=50&&j<60).length);return(j,Q)=>(m(),x("div",Uv,[p(e).userData&&p(e).userData.school.semesters?(m(),x("p",Yv,[Gv,V("This analytics is based on SEMESTER "+y(p(e).activeTerm)+" of the "+y(p(e).activeAcademicYear)+" academic year.",1)])):k("",!0),p(e).userData&&!p(e).userData.school.semesters?(m(),x("p",Xv,[Jv,V("This analytics is based on TRIMESTER "+y(p(e).activeTerm)+" of the "+y(p(e).activeAcademicYear)+" academic year.",1)])):k("",!0),w(p(Rs),{class:"chart",options:T.value,data:b.value,fill:!1},null,8,["options","data"]),u("div",Kv,[w(pt,{class:"analytics-table",density:"comfortable"},{default:I(()=>[u("tbody",null,[u("tr",null,[qv,u("td",Zv,y(S.value.length),1)]),u("tr",null,[Qv,u("td",tb,y(O.value),1)]),u("tr",null,[eb,u("td",sb,y(M.value),1)]),u("tr",null,[nb,u("td",ab,y($.value),1)]),u("tr",null,[ib,u("td",ob,y(B.value)+" ("+y((B.value/S.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[lb,u("td",rb,y(N.value)+" ("+y((N.value/S.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[cb,u("td",db,y(J.value)+" ("+y((J.value/S.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[ub,u("td",hb,y(rt.value)+" ("+y((rt.value/S.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[fb,u("td",mb,y(C.value)+" ("+y((C.value/S.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[pb,u("td",gb,y(P.value)+" ("+y((P.value/S.value.length*100).toFixed(2))+"%)",1)]),S.value.length>10?(m(),x("tr",_b,yb)):k("",!0),(m(!0),x(U,null,st(n.value,(K,Y)=>(m(),x("tr",{key:Y},[S.value.length>10?(m(),x("td",xb,y(K.student.user.first_name)+" "+y(K.student.user.last_name)+"["+y(K.student.st_id)+"]",1)):k("",!0),S.value.length>10?(m(),x("td",Sb,y(K.score),1)):k("",!0)]))),128)),S.value.length>10?(m(),x("tr",kb,Db)):k("",!0),(m(!0),x(U,null,st(a.value,(K,Y)=>(m(),x("tr",{key:Y},[S.value.length>10?(m(),x("td",Mb,y(K.student.user.first_name)+" "+y(K.student.user.last_name)+"["+y(K.student.st_id)+"]",1)):k("",!0),S.value.length>10?(m(),x("td",Cb,y(K.score),1)):k("",!0)]))),128))])]),_:1})])]))}}),$b=tt(Ab,[["__scopeId","data-v-182b2fac"]]),Eb={class:"sections-container"},Pb={key:1,class:"section-nav-container"},Ob=["onClick"],Ib={class:"subject-name"},Rb={key:2,class:"sections"},Fb=q({__name:"TeacherAnalytics",setup(s){const t=D("section1"),e=ot(),n=i=>{t.value=i},a=D(null);return Ke(()=>e.staffStudentResultsEdit,(i,o)=>{i&&(a.value=i)},{deep:!0,immediate:!0}),(i,o)=>{const l=St,r=$b,c=ue;return m(),x("div",Eb,[a.value?k("",!0):(m(),L(l,{key:0})),a.value?(m(),x("div",Pb,[(m(!0),x(U,null,st(a.value,(d,h)=>(m(),x("button",{key:h,class:W(["nav-btn-1",{"nav-btn-1-active":t.value===`section${h+1}`}]),onClick:f=>n(`section${h+1}`)},[u("p",Ib,y(d.class_name)+" FORM "+y(d.students_year),1),u("p",null,y(d.subject),1)],10,Ob))),128))])):k("",!0),a.value?(m(),x("div",Rb,[(m(!0),x(U,null,st(a.value,(d,h)=>(m(),x("div",{key:h,style:X(t.value===`section${h+1}`?{display:"flex"}:{display:"none"})},[d.students&&d.students.length>0?(m(),L(r,{studentsData:d.students,key:d.students},null,8,["studentsData"])):k("",!0),d.students&&d.students.length===0?(m(),L(c,{key:1,message:"You have not uploaded results for students under this subject yet"})):k("",!0)],4))),128))])):k("",!0)])}}}),Lb=tt(Fb,[["__scopeId","data-v-14b62e64"]]),Vb=s=>(kt("data-v-afb4aef7"),s=s(),wt(),s),Nb={style:{width:"100%",position:"relative",height:"100%"}},Bb=Vb(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"NAME"),u("th",{class:"table-head"},"STAFF ID"),u("th",{class:"table-head"},"SUBJECT(S)"),u("th",{class:"table-head"},"IMAGE")])],-1)),zb={class:"table-data"},jb={key:0,style:{color:"seagreen"}},Hb={class:"table-data"},Wb={class:"table-data"},Ub={class:"table-data"},Yb=["src"],Gb=q({__name:"HodTeachersProfile",props:{staff:null},setup(s){const t=s;return ma(),(e,n)=>{const a=St;return m(),x("div",Nb,[!t.staff||t.staff&&t.staff.length===0?(m(),L(a,{key:0})):k("",!0),t.staff&&t.staff.length>0?(m(),L(pt,{key:1,"fixed-header":"",height:"55dvh"},{default:I(()=>[Bb,u("tbody",null,[(m(!0),x(U,null,st(t.staff,(i,o)=>(m(),x("tr",{key:o},[u("td",zb,[V(y(i.name)+" ",1),i.role==="hod"?(m(),x("span",jb,"[HOD]")):k("",!0)]),u("td",Hb,y(i.stf_id),1),u("td",Wb,[(m(!0),x(U,null,st(i.subjects,(l,r)=>(m(),x("p",{key:r},y(l.name),1))),128))]),u("td",Ub,[u("img",{class:"profile-img",src:i.img},null,8,Yb)])]))),128))])]),_:1})):k("",!0)])}}}),Xb=tt(Gb,[["__scopeId","data-v-afb4aef7"]]),Jb={class:"w-100 form-container"},Kb={key:0,class:"form"},qb={key:0,class:"mt-10 info"},Zb={key:1,class:"form-message",style:{color:"green"}},Qb={key:2,class:"form-message",style:{color:"red"}},ty={class:"flex-all justify-center mt-5 w-100"},ey={class:"select-wrap"},sy={class:"select-wrap ml-5"},ny=q({__name:"HodSubjectAssignmentUpload",setup(s){const t=ot(),e=D(""),n=D(""),a=D(""),i=D(""),o=D(""),l=D(!1),r=()=>{setTimeout(()=>{o.value="",i.value=""},1e4)},c=async()=>{l.value=!0,i.value="",o.value="";const h=new FormData;h.append("subject",e.value),h.append("class_name",n.value),h.append("staff_id",a.value),h.append("year",t.activeAcademicYear),h.append("type","create"),h.append("term",t.activeTerm.toString());try{const f=await xt.post("hod/data",h);f.status===200?(t.hodSubjectAssignment.termOne=f.data.data.term_one,t.hodSubjectAssignment.termTwo=f.data.data.term_two,t.hodSubjectAssignment.termThree=f.data.data.term_three,t.getTeacherSubjectAssignments(),t.getTeacherStudentResults(),o.value=f.data.ms,e.value="",n.value="",a.value=""):f.status===201?i.value=f.data.ms:i.value="Oops! an error occurred during the upload. Try again later"}catch{i.value="Oops! something went wrong"}finally{l.value=!1,r()}},d=G(()=>!(e.value&&n.value&&a.value));return(h,f)=>(m(),x("div",Jb,[p(t).hodSubjectAssignmentUpload.staff?(m(),x("form",Kb,[p(t).userData&&!p(t).userData.school.semesters?(m(),x("p",qb,"NB: All subject assignment will be for the current trimester")):k("",!0),o.value?(m(),x("h2",Zb,y(o.value),1)):k("",!0),i.value?(m(),x("h2",Qb,y(i.value),1)):k("",!0),u("div",ty,[u("div",ey,[w(Pt,{disabled:l.value,modelValue:e.value,"onUpdate:modelValue":f[0]||(f[0]=g=>e.value=g),clearable:"",label:"SUBJECT",style:{width:"100%",color:"black","font-weight":"bold"},density:"compact",variant:"outlined",items:p(t).hodSubjectAssignmentUpload.subjects,"persistent-hint":"",hint:"Select the subject"},null,8,["disabled","modelValue","items"])]),u("div",sy,[w(Pt,{disabled:l.value,modelValue:n.value,"onUpdate:modelValue":f[1]||(f[1]=g=>n.value=g),clearable:"",label:"CLASS",style:{width:"100%",color:"black","font-weight":"bold"},density:"compact",variant:"outlined",items:p(t).hodSubjectAssignmentUpload.classes,"persistent-hint":"",hint:"Select the students class"},null,8,["disabled","modelValue","items"])])]),w(Pt,{disabled:l.value,modelValue:a.value,"onUpdate:modelValue":f[2]||(f[2]=g=>a.value=g),class:"select",clearable:"",label:"TEACHER",density:"compact",variant:"outlined",items:p(t).hodSubjectAssignmentUpload.staff,"item-title":"name","item-value":"stf_id","persistent-hint":"",hint:"Select the teacher who will be teaching the subject"},{item:I(({props:g,item:v})=>[w($t,Rt(g,{subtitle:v.raw.stf_id}),null,16,["subtitle"])]),_:1},8,["disabled","modelValue","items"]),w(Z,{loading:l.value,disabled:d.value,onClick:Kt(c,["prevent"]),type:"submit",class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])])):k("",!0)]))}}),ay=tt(ny,[["__scopeId","data-v-44d2104a"]]),Sl=s=>(kt("data-v-c6877d19"),s=s(),wt(),s),iy=["id"],oy=Sl(()=>u("p",null,"Continue to delete ?",-1)),ly={key:0,class:"mt-5",style:{color:"red"}},ry={style:{width:"100%",position:"relative",height:"100%"}},cy={key:0,class:"no-data flex-all"},dy={key:0},uy={key:1},hy=Sl(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"TEACHER"),u("th",{class:"table-head"},"ACTION")])],-1)),fy={class:"table-data"},my={class:"table-data"},py={class:"table-data"},gy={class:"table-data"},_y={key:0},vy=q({__name:"HodTermSubjectAssignment",props:{term:{},data:{}},setup(s){const t=ot(),e=D(!1),n=D(""),a=D(""),i=D(""),o=D(""),{term:l,data:r}=s,c=()=>{const f=document.getElementById(`delete${l}`);f&&(f.style.display="none"),n.value="",a.value="",i.value="",o.value=""},d=async()=>{e.value=!0;const f=new FormData;f.append("subject_name",a.value),f.append("students_class_name",i.value),f.append("teacher_id",o.value),f.append("year",t.activeAcademicYear),f.append("type","delete"),f.append("term",l.toString());try{if((await xt.post("hod/data",f)).status===200){const v=t.hodSubjectAssignment[r].find(b=>b.subject.name===a.value&&b.students_class.name===i.value&&b.teacher.staff_id===o.value);if(v){const b=t.hodSubjectAssignment[r].indexOf(v);t.hodSubjectAssignment[r].splice(b,1)}const _=t.staffSubjectAssignment[r].find(b=>b.subject.name===a.value&&b.students_class.name===i.value&&b.teacher.staff_id===o.value);if(_){const b=t.staffSubjectAssignment[r].indexOf(_);t.staffSubjectAssignment[r].splice(b,1)}await t.getTeacherStudentResults(),c(),e.value=!1}}catch{n.value="Oops! something went wrong. Check your internet connection and try again",e.value=!1}},h=async(f,g,v)=>{const _=document.getElementById(`delete${l}`);a.value=f,i.value=g,o.value=v,_&&(_.style.display="flex")};return(f,g)=>(m(),x(U,null,[u("div",{id:`delete${f.term}`,class:"overlay"},[w(es,{class:"d-flex flex-column align-center"},{default:I(()=>[w(Fs,{style:{"font-size":".8rem","font-family":"sans-serif","text-align":"left","line-height":"1.2","font-weight":"bold"}},{default:I(()=>[oy,n.value?(m(),x("p",ly,y(n.value),1)):k("",!0)]),_:1}),w(Ls,null,{default:I(()=>[w(Z,{loading:e.value,class:"mr-5",elevation:"4",onClick:d,color:"red"},{default:I(()=>[V("YES")]),_:1},8,["loading"]),w(Z,{disabled:e.value,class:"ml-5",elevation:"4",onClick:c,color:"blue"},{default:I(()=>[V("NO")]),_:1},8,["disabled"])]),_:1})]),_:1})],8,iy),u("div",ry,[p(t).hodSubjectAssignment[f.data]&&p(t).hodSubjectAssignment[f.data].length===0?(m(),x("h4",cy,[p(t).userData&&p(t).userData.school.semesters?(m(),x("p",dy,"You have not uploaded any subject-assignment for semester "+y(f.term)+" yet",1)):k("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("p",uy,"You have not uploaded any subject-assignment for trimester "+y(f.term)+" yet",1)):k("",!0)])):k("",!0),p(t).hodSubjectAssignment[f.data]&&p(t).hodSubjectAssignment[f.data].length>0?(m(),L(pt,{key:1,"fixed-header":"",height:"320px"},{default:I(()=>[hy,u("tbody",null,[(m(!0),x(U,null,st(p(t).hodSubjectAssignment[f.data],(v,_)=>(m(),x("tr",{key:_},[u("td",fy,y(v.subject.name),1),u("td",my,y(v.students_class.name),1),u("td",py,y(v.students_class.students_year),1),u("td",gy,y(v.teacher.user.first_name)+" "+y(v.teacher.user.last_name)+" ["+y(v.teacher.staff_id)+"]",1),p(t).activeTerm===f.term?(m(),x("td",_y,[w(Z,{onClick:b=>h(v.subject.name,v.students_class.name,v.teacher.staff_id),color:"red",size:"small"},{default:I(()=>[V("Delete")]),_:2},1032,["onClick"])])):k("",!0)]))),128))])]),_:1})):k("",!0)])],64))}}),by=tt(vy,[["__scopeId","data-v-c6877d19"]]),yy={class:"subsections-container"},xy={key:0,class:"subsection-nav-container flex-all"},Sy={key:1,class:"subsection-nav-container flex-all"},ky={class:"subsections"},wy=q({__name:"HodViewSubjectAssignment",setup(s){const t=ot(),e=D(t.activeTerm),n=a=>{e.value=a};return(a,i)=>{const o=by;return m(),x("div",yy,[p(t).userData&&p(t).userData.school.semesters?(m(),x("div",xy,[u("button",{class:W(["nav-btn-2 btn-1",{"nav-btn-2-active":e.value===1}]),onClick:i[0]||(i[0]=l=>n(1))},"SEMESTER 1",2),u("button",{class:W(["nav-btn-2 btn-2",{"nav-btn-2-active":e.value===2}]),onClick:i[1]||(i[1]=l=>n(2))},"SEMESTER 2",2)])):k("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("div",Sy,[u("button",{class:W(["nav-btn-2 btn-1",{"nav-btn-2-active":e.value===1}]),onClick:i[2]||(i[2]=l=>n(1))},"TRIMESTER 1",2),u("button",{class:W(["nav-btn-2 btn-2",{"nav-btn-2-active":e.value===2}]),onClick:i[3]||(i[3]=l=>n(2))},"TRIMESTER 2",2),u("button",{class:W(["nav-btn-2 btn-3",{"nav-btn-2-active":e.value===3}]),onClick:i[4]||(i[4]=l=>n(3))},"TRIMESTER 3",2)])):k("",!0),u("div",ky,[u("div",{style:X(e.value===1?{display:"flex"}:{display:"none"})},[w(o,{data:"termOne",term:1,"term-number":1})],4),u("div",{style:X(e.value===2?{display:"flex"}:{display:"none"})},[w(o,{data:"termTwo",term:2,"term-number":2})],4),p(t).userData&&!p(t).userData.school.semesters?(m(),x("div",{key:0,style:X(e.value===3?{display:"flex"}:{display:"none"})},[w(o,{data:"termThree",term:3,"term-number":3})],4)):k("",!0)])])}}}),Ty=tt(wy,[["__scopeId","data-v-300c46f2"]]),Dy={class:"sections-container"},My={class:"sections"},Cy=q({__name:"HodTeachers",setup(s){const t=D("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=Xb,l=ay,r=Ty;return m(),x("div",Dy,[w(ts,{class:"section-nav-container",elevation:"0"},{default:I(()=>[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value==="section1"}]),onClick:i[0]||(i[0]=c=>n("section1"))},[w(H,{icon:"mdi-account"}),V(" PROFILE ")],2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value==="section2"}]),onClick:i[1]||(i[1]=c=>n("section2"))},[w(H,{icon:"mdi-clipboard-check"}),V(" ASSIGN SUBJECTS")],2),u("button",{class:W(["nav-btn-1 btn-3",{"nav-btn-1-active":t.value==="section3"}]),onClick:i[2]||(i[2]=c=>n("section3"))},[w(H,{icon:"mdi-book-open-outline"}),V(" ALL SUBJECTS ASSIGNMENT")],2)]),_:1}),u("div",My,[u("div",{class:"h-100",style:X(t.value==="section1"?{display:"flex"}:{display:"none"})},[w(o,{staff:p(e).hodSubjectAssignmentUpload.staff},null,8,["staff"])],4),u("div",{class:"h-100",style:X(t.value==="section2"?{display:"flex"}:{display:"none"})},[w(l)],4),u("div",{class:"h-100",style:X(t.value==="section3"?{display:"flex"}:{display:"none"})},[w(r)],4)])])}}}),Ay=tt(Cy,[["__scopeId","data-v-9f33e497"]]),it=s=>(kt("data-v-75ec537b"),s=s(),wt(),s),$y={class:"flex-all-c w-100 h-100"},Ey={key:3,class:"table-container"},Py={key:0,class:"term-table"},Oy={class:"term-three table-title-container",style:{position:"relative"}},Iy=it(()=>u("td",null,"Justice",-1)),Ry={key:0,class:"table-title term-three"},Fy={class:"term-three"},Ly=it(()=>u("td",{class:"table-data"},"Total Students",-1)),Vy={class:"table-data-value"},Ny={class:"term-three"},By=it(()=>u("td",{class:"table-data"},"Highest Score",-1)),zy={class:"table-data-value"},jy={class:"term-three"},Hy=it(()=>u("td",{class:"table-data"},"Average Score",-1)),Wy={class:"table-data-value"},Uy={class:"term-three"},Yy=it(()=>u("td",{class:"table-data"},"Lowest Score",-1)),Gy={class:"table-data-value"},Xy={class:"term-three"},Jy=it(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),Ky={class:"table-data-value"},qy={class:"term-three"},Zy=it(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),Qy={class:"table-data-value"},t1={class:"term-three"},e1=it(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),s1={class:"table-data-value"},n1={key:0,class:"table-title-container",style:{position:"relative"}},a1=it(()=>u("td",null,"Justice",-1)),i1=it(()=>u("td",{class:"subtitle"},"top 5 students",-1)),o1=[a1,i1],l1={key:0,class:"table-data"},r1={key:1,class:"table-data-value"},c1={key:1,class:"table-title-container",style:{position:"relative"}},d1=it(()=>u("td",null,"Justice",-1)),u1=it(()=>u("td",{class:"subtitle"},"last 5 students",-1)),h1=[d1,u1],f1={key:0,class:"table-data"},m1={key:1,class:"table-data-value"},p1={key:1,class:"term-table"},g1={class:"term-two table-title-container",style:{position:"relative"}},_1=it(()=>u("td",null,"Justice",-1)),v1={key:0,class:"table-title term-two"},b1={key:1,class:"table-title term-two"},y1={class:"term-two"},x1=it(()=>u("td",{class:"table-data"},"Total Students",-1)),S1={class:"table-data-value"},k1={class:"term-two"},w1=it(()=>u("td",{class:"table-data"},"Highest Score",-1)),T1={class:"table-data-value"},D1={class:"term-two"},M1=it(()=>u("td",{class:"table-data"},"Average Score",-1)),C1={class:"table-data-value"},A1={key:0,class:"term-two"},$1=it(()=>u("td",{class:"table-data"},"Lowest Score",-1)),E1={class:"table-data-value"},P1={class:"term-two"},O1=it(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),I1={class:"table-data-value"},R1={class:"term-two"},F1=it(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),L1={class:"table-data-value"},V1={class:"term-two"},N1=it(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),B1={class:"table-data-value"},z1={key:1,class:"table-title-container",style:{position:"relative"}},j1=it(()=>u("td",null,"Justice",-1)),H1=it(()=>u("td",{class:"subtitle"},"top 5 students",-1)),W1=[j1,H1],U1={key:0,class:"table-data"},Y1={key:1,class:"table-data-value"},G1={key:2,class:"table-title-container",style:{position:"relative"}},X1=it(()=>u("td",null,"Justice",-1)),J1=it(()=>u("td",{class:"subtitle"},"last 5 students",-1)),K1=[X1,J1],q1={key:0,class:"table-data"},Z1={key:1,class:"table-data-value"},Q1={key:2,class:"term-table"},t0={class:"term-one table-title-container",style:{position:"relative"}},e0=it(()=>u("td",null,"Justice",-1)),s0={key:0,class:"table-title term-one"},n0={key:1,class:"table-title term-one"},a0={class:"term-one"},i0=it(()=>u("td",{class:"table-data"},"Total Students",-1)),o0={class:"table-data-value"},l0={class:"term-one"},r0=it(()=>u("td",{class:"table-data"},"Highest Score",-1)),c0={class:"table-data-value"},d0={class:"term-one"},u0=it(()=>u("td",{class:"table-data"},"Average Score",-1)),h0={class:"table-data-value"},f0={class:"term-one"},m0=it(()=>u("td",{class:"table-data"},"Lowest Score",-1)),p0={class:"table-data-value"},g0={class:"term-one"},_0=it(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),v0={class:"table-data-value"},b0={class:"term-one"},y0=it(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),x0={class:"table-data-value"},S0={class:"term-one"},k0=it(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),w0={class:"table-data-value"},T0={key:0,class:"table-title-container",style:{position:"relative"}},D0=it(()=>u("td",null,"Justice",-1)),M0=it(()=>u("td",{class:"subtitle"},"top 5 students",-1)),C0=[D0,M0],A0={key:0,class:"table-data"},$0={key:1,class:"table-data-value"},E0={key:1,class:"table-title-container",style:{position:"relative"}},P0=it(()=>u("td",null,"Justice",-1)),O0=it(()=>u("td",{class:"subtitle"},"last 5 students",-1)),I0=[P0,O0],R0={key:0,class:"table-data"},F0={key:1,class:"table-data-value"},L0=q({__name:"HodYearPerformance",props:{year:{}},setup(s){const t=ot(),{year:e}=s,n=D(e.term_one.filter(F=>F.score>=80)).value.length,a=D(e.term_one.filter(F=>F.score>=75&&F.score<80)).value.length,i=D(e.term_one.filter(F=>F.score>=70&&F.score<75)).value.length,o=D(e.term_one.filter(F=>F.score>=65&&F.score<70)).value.length,l=D(e.term_one.filter(F=>F.score>=60&&F.score<65)).value.length,r=D(e.term_one.filter(F=>F.score>=55&&F.score<60)).value.length,c=D(e.term_one.filter(F=>F.score>=50&&F.score<55)).value.length,d=D(e.term_one.filter(F=>F.score>=40&&F.score<50)).value.length,h=D(e.term_one.filter(F=>F.score<40)).value.length,f=D(e.term_two.filter(F=>F.score>=80)).value.length,g=D(e.term_two.filter(F=>F.score>=75&&F.score<80)).value.length,v=D(e.term_two.filter(F=>F.score>=70&&F.score<75)).value.length,_=D(e.term_two.filter(F=>F.score>=65&&F.score<70)).value.length,b=D(e.term_two.filter(F=>F.score>=60&&F.score<65)).value.length,T=D(e.term_two.filter(F=>F.score>=55&&F.score<60)).value.length,S=D(e.term_two.filter(F=>F.score>=50&&F.score<55)).value.length,A=D(e.term_two.filter(F=>F.score>=40&&F.score<50)).value.length,E=D(e.term_two.filter(F=>F.score<40)).value.length,M=D(e.term_three.filter(F=>F.score>=80)).value.length,O=D(e.term_three.filter(F=>F.score>=75&&F.score<80)).value.length,$=D(e.term_three.filter(F=>F.score>=70&&F.score<75)).value.length,C=D(e.term_three.filter(F=>F.score>=65&&F.score<70)).value.length,P=D(e.term_three.filter(F=>F.score>=60&&F.score<65)).value.length,B=D(e.term_three.filter(F=>F.score>=55&&F.score<60)).value.length,N=D(e.term_three.filter(F=>F.score>=50&&F.score<55)).value.length,J=D(e.term_three.filter(F=>F.score>=40&&F.score<50)).value.length,rt=D(e.term_three.filter(F=>F.score<40)).value.length,j=D(["A1","B2","B3","C4","C5","C6","D7","E8","F9"]),Q=D([n,a,i,o,l,r,c,d,h]),K=D([f,g,v,_,b,T,S,A,E]),Y=D([M,O,$,C,P,B,N,J,rt]),vt=D({labels:j.value,datasets:[{label:"Semester 1",data:Q.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Semester 2",data:K.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1}]}),ft=D({labels:j.value,datasets:[{label:"Semester 1",data:Q.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Semester 2",data:K.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1},{label:"Semester 3",data:Y.value,borderColor:"indigo",backgroundColor:"indigo",borderWidth:2,fill:!1}]}),Nt=D({responsive:!0}),Mt=D(e.term_one).value.length,Wt=D(e.term_one).value.slice(0,5),Ut=D(e.term_one).value.slice(-5),Ct=D(e.term_one.map(F=>Number(F.score))),Yt=G(()=>(Ct.value.reduce((We,De)=>We+De,0)/Ct.value.length).toFixed(0)),Dt=G(()=>Math.max(...Ct.value)),is=G(()=>Math.min(...Ct.value)),os=G(()=>e.term_one.filter(F=>F.score>=50).length),ls=G(()=>e.term_one.filter(F=>F.score<50&&F.score>=40).length),rs=G(()=>e.term_one.filter(F=>F.score<40).length),Vt=D(e.term_two).value.length,In=D(e.term_two).value.slice(0,5),Rn=D(e.term_two).value.slice(-5),ke=D(e.term_two.map(F=>Number(F.score))),Ws=G(()=>(ke.value.reduce((We,De)=>We+De,0)/ke.value.length).toFixed(0)),Us=G(()=>Math.max(...ke.value)),cs=G(()=>Math.min(...ke.value)),we=G(()=>e.term_two.filter(F=>F.score>=50).length),Ys=G(()=>e.term_two.filter(F=>F.score<50&&F.score>=40).length),Gs=G(()=>e.term_two.filter(F=>F.score<40).length),Gt=D(e.term_three).value.length,Xs=D(e.term_three).value.slice(0,5),Js=D(e.term_three).value.slice(-5),Te=D(e.term_three.map(F=>Number(F.score))),R=G(()=>(Te.value.reduce((We,De)=>We+De,0)/Te.value.length).toFixed(0)),he=G(()=>Math.max(...Te.value)),ne=G(()=>Math.min(...Te.value)),Ia=G(()=>e.term_three.filter(F=>F.score>=50).length),Ra=G(()=>e.term_three.filter(F=>F.score<50&&F.score>=40).length),Fa=G(()=>e.term_three.filter(F=>F.score<40).length);return(F,We)=>{const De=St;return m(),x("div",$y,[!F.year||F.year&&F.year.term_one.length===0?(m(),L(De,{key:0})):k("",!0),F.year&&p(t).userData.school.semesters&&F.year.term_one.length>0?(m(),L(p(Rs),{key:1,class:"chart",options:Nt.value,data:vt.value,fill:!1},null,8,["options","data"])):k("",!0),F.year&&!p(t).userData.school.semesters&&F.year.term_one.length>0?(m(),L(p(Rs),{key:2,class:"chart",options:Nt.value,data:ft.value,fill:!1},null,8,["options","data"])):k("",!0),F.year&&F.year.term_one.length>0?(m(),x("div",Ey,[F.year.term_three&&F.year.term_three.length>0?(m(),x("div",Py,[w(pt,{density:"comfortable"},{default:I(()=>[u("tbody",null,[u("tr",Oy,[Iy,p(t).userData&&!p(t).userData.school.semesters?(m(),x("td",Ry,"TRIMESTER 3")):k("",!0)]),u("tr",Fy,[Ly,u("td",Vy,y(p(Gt)),1)]),u("tr",Ny,[By,u("td",zy,y(he.value),1)]),u("tr",jy,[Hy,u("td",Wy,y(R.value),1)]),u("tr",Uy,[Yy,u("td",Gy,y(ne.value),1)]),u("tr",Xy,[Jy,u("td",Ky,y(Ia.value)+" ["+y((Ia.value/p(Gt)*100).toFixed(1))+"%] ",1)]),u("tr",qy,[Zy,u("td",Qy,y(Ra.value)+" ["+y((Ra.value/p(Gt)*100).toFixed(1))+"%] ",1)]),u("tr",t1,[e1,u("td",s1,y(Fa.value)+" ["+y((Fa.value/p(Gt)*100).toFixed(1))+"%] ",1)]),p(Gt)>15?(m(),x("tr",n1,o1)):k("",!0),(m(!0),x(U,null,st(p(Xs),(_t,Jt)=>(m(),x("tr",{class:"term-three",key:Jt},[p(Gt)>15?(m(),x("td",l1,y(_t.name)+" ["+y(_t.st_id)+"]",1)):k("",!0),p(Gt)>15?(m(),x("td",r1,y(_t.score),1)):k("",!0)]))),128)),p(Gt)>15?(m(),x("tr",c1,h1)):k("",!0),(m(!0),x(U,null,st(p(Js),(_t,Jt)=>(m(),x("tr",{class:"term-three",key:Jt},[p(Gt)>15?(m(),x("td",f1,y(_t.name)+" ["+y(_t.st_id)+"]",1)):k("",!0),p(Gt)>15?(m(),x("td",m1,y(_t.score),1)):k("",!0)]))),128))])]),_:1})])):k("",!0),F.year.term_two&&F.year.term_two.length>0?(m(),x("div",p1,[w(pt,{density:"comfortable"},{default:I(()=>[u("tbody",null,[u("tr",g1,[_1,p(t).userData&&p(t).userData.school.semesters?(m(),x("td",v1,"SEMESTER 2")):k("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("td",b1,"TRIMESTER 2")):k("",!0)]),u("tr",y1,[x1,u("td",S1,y(p(Vt)),1)]),u("tr",k1,[w1,u("td",T1,y(Us.value),1)]),u("tr",D1,[M1,u("td",C1,y(Ws.value),1)]),cs.value?(m(),x("tr",A1,[$1,u("td",E1,y(cs.value),1)])):k("",!0),u("tr",P1,[O1,u("td",I1,y(we.value)+" ["+y((we.value/p(Vt)*100).toFixed(1))+"%] ",1)]),u("tr",R1,[F1,u("td",L1,y(Ys.value)+" ["+y((Ys.value/p(Vt)*100).toFixed(1))+"%] ",1)]),u("tr",V1,[N1,u("td",B1,y(Gs.value)+" ["+y((Gs.value/p(Vt)*100).toFixed(1))+"%] ",1)]),p(Vt)>15?(m(),x("tr",z1,W1)):k("",!0),(m(!0),x(U,null,st(p(In),(_t,Jt)=>(m(),x("tr",{class:"term-two",key:Jt},[p(Vt)>15?(m(),x("td",U1,y(_t.name)+" ["+y(_t.st_id)+"]",1)):k("",!0),p(Vt)>15?(m(),x("td",Y1,y(_t.score),1)):k("",!0)]))),128)),p(Vt)>15?(m(),x("tr",G1,K1)):k("",!0),(m(!0),x(U,null,st(p(Rn),(_t,Jt)=>(m(),x("tr",{class:"term-two",key:Jt},[p(Vt)>15?(m(),x("td",q1,y(_t.name)+" ["+y(_t.st_id)+"]",1)):k("",!0),p(Vt)>15?(m(),x("td",Z1,y(_t.score),1)):k("",!0)]))),128))])]),_:1})])):k("",!0),F.year.term_one&&F.year.term_one.length>0?(m(),x("div",Q1,[w(pt,{density:"comfortable"},{default:I(()=>[u("tbody",null,[u("tr",t0,[e0,p(t).userData&&p(t).userData.school.semesters?(m(),x("td",s0,"SEMESTER 1")):k("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("td",n0,"TRIMESTER 1")):k("",!0)]),u("tr",a0,[i0,u("td",o0,y(p(Mt)),1)]),u("tr",l0,[r0,u("td",c0,y(Dt.value),1)]),u("tr",d0,[u0,u("td",h0,y(Yt.value),1)]),u("tr",f0,[m0,u("td",p0,y(is.value),1)]),u("tr",g0,[_0,u("td",v0,y(os.value)+" ["+y((os.value/p(Mt)*100).toFixed(1))+"%] ",1)]),u("tr",b0,[y0,u("td",x0,y(ls.value)+" ["+y((ls.value/p(Mt)*100).toFixed(1))+"%] ",1)]),u("tr",S0,[k0,u("td",w0,y(rs.value)+" ["+y((rs.value/p(Mt)*100).toFixed(1))+"%] ",1)]),p(Mt)>15?(m(),x("tr",T0,C0)):k("",!0),(m(!0),x(U,null,st(p(Wt),(_t,Jt)=>(m(),x("tr",{class:"term-one",key:Jt},[p(Mt)>15?(m(),x("td",A0,y(_t.name)+" ["+y(_t.st_id)+"]",1)):k("",!0),p(Mt)>15?(m(),x("td",$0,y(_t.score),1)):k("",!0)]))),128)),p(Mt)>15?(m(),x("tr",E0,I0)):k("",!0),(m(!0),x(U,null,st(p(Ut),(_t,Jt)=>(m(),x("tr",{class:"term-one",key:Jt},[p(Mt)>15?(m(),x("td",R0,y(_t.name)+" ["+y(_t.st_id)+"]",1)):k("",!0),p(Mt)>15?(m(),x("td",F0,y(_t.score),1)):k("",!0)]))),128))])]),_:1})])):k("",!0)])):k("",!0)])}}}),V0=tt(L0,[["__scopeId","data-v-75ec537b"]]),N0={class:"subsections-container"},B0={class:"subsections"},z0=q({__name:"HodPerformanceSubject",props:{data:{}},setup(s){const t=D("section1"),e=n=>{t.value=n};return(n,a)=>{const i=V0;return m(),x("div",N0,[w(ts,{class:"subsection-nav-container",elevation:"0"},{default:I(()=>[u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":t.value==="section1"}]),onClick:a[0]||(a[0]=o=>e("section1"))},"Form 1 students",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":t.value==="section2"}]),onClick:a[1]||(a[1]=o=>e("section2"))},"Form 2 students",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":t.value==="section3"}]),onClick:a[2]||(a[2]=o=>e("section3"))},"Form 3 students",2)]),_:1}),u("div",B0,[u("div",{style:X(t.value==="section1"?{display:"flex"}:{display:"none"})},[w(i,{year:n.data.year_one},null,8,["year"])],4),u("div",{style:X(t.value==="section2"?{display:"flex"}:{display:"none"})},[w(i,{year:n.data.year_two},null,8,["year"])],4),u("div",{style:X(t.value==="section3"?{display:"flex"}:{display:"none"})},[w(i,{year:n.data.year_three},null,8,["year"])],4)])])}}}),j0={class:"sections-container"},H0={key:1,class:"section-nav-container"},W0=["onClick"],U0={key:2,class:"sections"},Y0=q({__name:"HodPerformance",setup(s){const t=D("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=St,l=z0;return m(),x("div",j0,[p(e).hodPerformance?k("",!0):(m(),L(o,{key:0})),p(e).hodPerformance?(m(),x("div",H0,[(m(!0),x(U,null,st(p(e).hodPerformance,(r,c)=>(m(),x("button",{key:c,class:W(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[r.subject==="CORE MATHEMATICS"?(m(),L(H,{key:0,icon:"mdi-calculator-variant"})):k("",!0),r.subject==="ELECTIVE MATHEMATICS"?(m(),L(H,{key:1,icon:"mdi-function-variant"})):k("",!0),r.subject==="BIOLOGY"?(m(),L(H,{key:2,icon:"mdi-microscope"})):k("",!0),r.subject==="CHEMISTRY"?(m(),L(H,{key:3,icon:"mdi-flask"})):k("",!0),r.subject==="FINANCIAL ACCOUNTING"?(m(),L(H,{key:4,icon:"mdi-currency-usd"})):k("",!0),r.subject==="BUSINESS MANAGEMENT"?(m(),L(H,{key:5,icon:"mdi-chart-bar"})):k("",!0),r.subject==="ENGLISH LANGUAGE"?(m(),L(H,{key:6,icon:"mdi-book-open-variant"})):k("",!0),r.subject==="SOCIAL STUDIES"?(m(),L(H,{key:7,icon:"mdi-account-group"})):k("",!0),r.subject==="INTEGRATED SCIENCE"?(m(),L(H,{key:8,icon:"mdi-scale"})):k("",!0),r.subject==="CHRISTIAN RELIGIOUS STUDIES (CRS)"?(m(),L(H,{key:9,icon:"mdi-book-cross"})):k("",!0),r.subject==="LITERATURE"?(m(),L(H,{key:10,icon:"mdi-library"})):k("",!0),r.subject==="HISTORY"?(m(),L(H,{key:11,icon:"mdi-history"})):k("",!0),r.subject==="GOVERNMENT"?(m(),L(H,{key:12,icon:"mdi-briefcase-account"})):k("",!0),r.subject==="GEOGRAPHY"?(m(),L(H,{key:13,icon:"mdi-earth"})):k("",!0),r.subject==="PHYSICS"?(m(),L(H,{key:14,icon:"mdi-atom"})):k("",!0),r.subject==="ELECTIVE ICT"?(m(),L(H,{key:15,icon:"mdi-desktop-tower-monitor"})):k("",!0),r.subject==="COST ACCOUNTING"?(m(),L(H,{key:16,icon:"mdi-cash-register"})):k("",!0),r.subject==="ECONOMICS"?(m(),L(H,{key:17,icon:"mdi-finance"})):k("",!0),u("span",null,y(r.subject),1)],10,W0))),128))])):k("",!0),p(e).hodPerformance?(m(),x("div",U0,[(m(!0),x(U,null,st(p(e).hodPerformance,(r,c)=>(m(),x("div",{class:"h-100",key:c,style:X(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[(m(),L(l,{data:r,key:r},null,8,["data"]))],4))),128))])):k("",!0)])}}}),G0=tt(Y0,[["__scopeId","data-v-4723827d"]]),as=s=>(kt("data-v-f7373a8b"),s=s(),wt(),s),X0={class:"flex-all w-100",style:{overflow:"hidden"}},J0={class:"form"},K0=as(()=>u("p",{class:"info"},"You cannot delete a particular academic year after creation, so ensure accurate data input.",-1)),q0={key:0,class:"form-message",style:{color:"green"}},Z0={key:1,class:"form-message",style:{color:"red"}},Q0={key:2,class:"fields-container"},tx={class:"select-container mt-5 w-100"},ex=as(()=>u("p",null,"FIRST SEMESTER",-1)),sx={class:"select-container w-100"},nx=as(()=>u("p",null,"SECOND SEMESTER",-1)),ax={class:"select-container w-100"},ix={key:4,class:"fields-container"},ox={class:"select-container mt-5 w-100"},lx=as(()=>u("p",null,"FIRST TRIMESTER",-1)),rx={class:"select-container w-100"},cx=as(()=>u("p",null,"SECOND TRIMESTER",-1)),dx={class:"select-container w-100"},ux=as(()=>u("p",null,"THIRD TRIMESTER",-1)),hx={class:"select-container mb-5 w-100"},fx=q({__name:"AdminAddAcademicYear",setup(s){const t=ot(),e=D(""),n=D(""),a=D(""),i=D(""),o=D(""),l=D(""),r=D(""),c=D(""),d=D(""),h=D(""),f=D(!1),g=()=>{setTimeout(()=>{h.value="",d.value=""},1e4)},v=async()=>{f.value=!0,d.value="",h.value="";const T=new FormData;T.append("startDate",n.value),T.append("endDate",a.value),T.append("year",t.activeAcademicYear),T.append("type","create-year"),T.append("yearName",e.value.trim()),T.append("term1EndDate",i.value),T.append("term2StartDate",o.value),T.append("term2EndDate",l.value),T.append("term3StartDate",r.value),T.append("term3EndDate",c.value),T.append("term",t.activeTerm.toString());try{const S=await xt.post("sch-admin/data",T);S.status===200?(t.adminStaff.academicYears.unshift(S.data.new_year),await t.getUserData().then(A=>(h.value=S.data.ms,e.value="",Promise.resolve())).catch(A=>Promise.reject(A)),await t.getAdminData()):S.status===201&&(d.value=S.data.ms)}catch{d.value="Oops! something went wrong"}finally{f.value=!1,g()}},_=G(()=>!(e.value&&n.value&&a.value&&i.value&&o.value&&l.value)),b=G(()=>!(e.value&&n.value&&a.value&&i.value&&o.value&&l.value&&r.value&&c.value));return(T,S)=>(m(),x("div",X0,[u("form",J0,[K0,h.value?(m(),x("h2",q0,y(h.value),1)):k("",!0),d.value?(m(),x("h2",Z0,y(d.value),1)):k("",!0),p(t).userData&&p(t).userData.school.semesters?(m(),x("div",Q0,[w(nt,{label:"YEAR NAME",clearable:"",class:"input-field year-name",modelValue:e.value,"onUpdate:modelValue":S[0]||(S[0]=A=>e.value=A),density:"compact",variant:"outlined","persistent-hint":"",hint:"Enter the name of the academic year",placeholder:"eg. 2023-2024"},null,8,["modelValue"]),u("div",tx,[w(nt,{label:"START DATE",clearable:"",class:"input-field",modelValue:n.value,"onUpdate:modelValue":S[1]||(S[1]=A=>n.value=A),"persistent-hint":"",hint:"The date the academic year starts",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),w(nt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:a.value,"onUpdate:modelValue":S[2]||(S[2]=A=>a.value=A),"persistent-hint":"",hint:"The expected date the academic year ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])]),ex,u("div",sx,[w(nt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:i.value,"onUpdate:modelValue":S[3]||(S[3]=A=>i.value=A),"persistent-hint":"",hint:"The expected date first semester ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])]),nx,u("div",ax,[w(nt,{label:"START DATE",clearable:"",class:"input-field",modelValue:o.value,"onUpdate:modelValue":S[4]||(S[4]=A=>o.value=A),"persistent-hint":"",hint:"The date second semester starts",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),w(nt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:l.value,"onUpdate:modelValue":S[5]||(S[5]=A=>l.value=A),"persistent-hint":"",hint:"The expected date second semester ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])])])):k("",!0),p(t).userData&&p(t).userData.school.semesters?(m(),L(Z,{key:3,loading:f.value,disabled:_.value,onClick:Kt(v,["prevent"]),type:"submit",class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])):k("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("div",ix,[w(nt,{label:"YEAR NAME",clearable:"",class:"input-field year-name",modelValue:e.value,"onUpdate:modelValue":S[6]||(S[6]=A=>e.value=A),density:"compact",variant:"outlined","persistent-hint":"",hint:"Enter the name of the academic year",placeholder:"eg. 2023/2024"},null,8,["modelValue"]),u("div",ox,[w(nt,{label:"START DATE",clearable:"",class:"input-field",modelValue:n.value,"onUpdate:modelValue":S[7]||(S[7]=A=>n.value=A),"persistent-hint":"",hint:"The date the academic year starts",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),w(nt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:a.value,"onUpdate:modelValue":S[8]||(S[8]=A=>a.value=A),"persistent-hint":"",hint:"The expected date the academic year ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])]),lx,u("div",rx,[w(nt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:i.value,"onUpdate:modelValue":S[9]||(S[9]=A=>i.value=A),"persistent-hint":"",hint:"The expected date first trimester ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])]),cx,u("div",dx,[w(nt,{label:"START DATE",clearable:"",class:"input-field",modelValue:o.value,"onUpdate:modelValue":S[10]||(S[10]=A=>o.value=A),"persistent-hint":"",hint:"The date second trimester starts",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),w(nt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:l.value,"onUpdate:modelValue":S[11]||(S[11]=A=>l.value=A),"persistent-hint":"",hint:"The expected date second trimester ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])]),ux,u("div",hx,[w(nt,{label:"START DATE",clearable:"",class:"input-field",modelValue:r.value,"onUpdate:modelValue":S[12]||(S[12]=A=>r.value=A),"persistent-hint":"",hint:"The date third trimester starts",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),w(nt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:c.value,"onUpdate:modelValue":S[13]||(S[13]=A=>c.value=A),"persistent-hint":"",hint:"The expected date third trimester ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])])])):k("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),L(Z,{key:5,loading:f.value,disabled:b.value,onClick:Kt(v,["prevent"]),type:"submit",class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])):k("",!0)])]))}}),mx=tt(fx,[["__scopeId","data-v-f7373a8b"]]),kl=s=>(kt("data-v-bf8ed2fd"),s=s(),wt(),s),px={style:{width:"100%",position:"relative",height:"100%"}},gx=kl(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"NAME"),u("th",{class:"table-head"},"START DATE"),u("th",{class:"table-head"},"END DATE"),u("th",{class:"table-head"},"SEM 1 END DATE"),u("th",{class:"table-head"},"SEM 2 START DATE"),u("th",{class:"table-head"},"SEM 2 END DATE")])],-1)),_x={class:"table-data"},vx={class:"table-data"},bx={class:"table-data"},yx={class:"table-data"},xx={class:"table-data"},Sx={class:"table-data"},kx=kl(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"NAME"),u("th",{class:"table-head"},"START DATE"),u("th",{class:"table-head"},"END DATE"),u("th",{class:"table-head"},"TRIM 1 END DATE"),u("th",{class:"table-head"},"TRIM 2 START DATE"),u("th",{class:"table-head"},"TRIM 2 END DATE"),u("th",{class:"table-head"},"TRIM 3 START DATE"),u("th",{class:"table-head"},"TRIM 3 END DATE")])],-1)),wx={class:"table-data"},Tx={class:"table-data"},Dx={class:"table-data"},Mx={class:"table-data"},Cx={class:"table-data"},Ax={class:"table-data"},$x={class:"table-data"},Ex={class:"table-data"},Px=q({__name:"AdminAllAcademicYears",setup(s){const t=ot();return(e,n)=>{const a=St;return m(),x("div",px,[p(t).adminStaff.academicYears?k("",!0):(m(),L(a,{key:0})),p(t).userData.school.semesters&&p(t).adminStaff.academicYears?(m(),L(pt,{key:1,"fixed-header":"",height:"55dvh"},{default:I(()=>[gx,u("tbody",null,[(m(!0),x(U,null,st(p(t).adminStaff.academicYears,(i,o)=>(m(),x("tr",{key:o},[u("td",_x,y(i.name),1),u("td",vx,y(i.start_date),1),u("td",bx,y(i.end_date),1),u("td",yx,y(i.term_1_end_date),1),u("td",xx,y(i.term_2_start_date),1),u("td",Sx,y(i.term_2_end_date),1)]))),128))])]),_:1})):k("",!0),!p(t).userData.school.semesters&&p(t).adminStaff.academicYears?(m(),L(pt,{key:2,"fixed-header":"",height:"55dvh"},{default:I(()=>[kx,u("tbody",null,[(m(!0),x(U,null,st(p(t).adminStaff.academicYears,(i,o)=>(m(),x("tr",{key:o},[u("td",wx,y(i.name),1),u("td",Tx,y(i.start_date),1),u("td",Dx,y(i.end_date),1),u("td",Mx,y(i.term_1_end_date),1),u("td",Cx,y(i.term_2_start_date),1),u("td",Ax,y(i.term_2_end_date),1),u("td",$x,y(i.term_3_start_date),1),u("td",Ex,y(i.term_3_end_date),1)]))),128))])]),_:1})):k("",!0)])}}}),Ox=tt(Px,[["__scopeId","data-v-bf8ed2fd"]]),Ix={class:"section-nav-container"},Rx={class:"sections"},Fx=q({__name:"AdminCalendar",setup(s){const t=D(1),e=n=>{t.value=n};return(n,a)=>{const i=mx,o=Ox;return m(),x(U,null,[u("div",Ix,[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value===1}]),onClick:a[0]||(a[0]=l=>e(1))},"ADD ACADEMIC YEAR",2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value===2}]),onClick:a[1]||(a[1]=l=>e(2))},"ALL ACADEMIC YEARS",2)]),u("div",Rx,[u("div",{class:"h-100",style:X(t.value===1?{display:"flex"}:{display:"none"})},[w(i)],4),u("div",{class:"h-100",style:X(t.value===2?{display:"flex"}:{display:"none"})},[w(o)],4)])],64)}}}),Lx=tt(Fx,[["__scopeId","data-v-e040bcf3"]]),Vx=s=>(kt("data-v-00acf7fa"),s=s(),wt(),s),Nx={class:"flex-all w-100",style:{overflow:"hidden"}},Bx={key:1,class:"form"},zx=Vx(()=>u("p",{class:"info"},"Use uppercase for class names. It will be converted to uppercase though",-1)),jx={key:0,class:"form-message",style:{color:"green"}},Hx={key:1,class:"form-message",style:{color:"red"}},Wx={class:"field-container"},Ux={class:"select-container mt-5 w-100"},Yx={class:"select-wrap"},Gx={class:"select-wrap"},Xx={key:1,class:"text-grey text-caption align-self-center"},Jx={class:"select-container mt-5 w-100"},Kx=q({__name:"AdminStudentsAddClass",setup(s){const t=ot(),e=D(""),n=D(null),a=D(""),i=D(null),o=D(""),l=D(""),r=D(""),c=D(""),d=D(!1),h=()=>{setTimeout(()=>{c.value="",r.value=""},1e4)},f=async()=>{if(d.value=!0,r.value="",c.value="",i.value<0||i.value>3){r.value="The students year must be 1, 2 or 3",h(),d.value=!1;return}const v=new FormData;v.append("subjects",n.value),v.append("program",a.value),v.append("completionDate",e.value),v.append("year",t.activeAcademicYear),v.append("type","create-class"),v.append("className",l.value.trim()),v.append("enrollmentDate",o.value),v.append("studentsYear",i.value),v.append("term",t.activeTerm.toString());try{const _=await xt.post("sch-admin/students",v);_.status===200?(t.adminClasses.names.unshift(_.data.class_name),t.adminClasses.yearOne.unshift(_.data.new_class),c.value=_.data.ms,l.value=""):_.status===201&&(r.value=_.data.ms)}catch{r.value="Oops! something went wrong"}finally{d.value=!1,h()}},g=G(()=>!(l.value&&n.value&&a.value&&e.value&&o.value&&i.value));return(v,_)=>{const b=St;return m(),x("div",Nx,[p(t).adminClasses.programs?k("",!0):(m(),L(b,{key:0})),p(t).adminClasses.programs?(m(),x("form",Bx,[zx,c.value?(m(),x("h2",jx,y(c.value),1)):k("",!0),r.value?(m(),x("h2",Hx,y(r.value),1)):k("",!0),u("div",Wx,[w(nt,{label:"CLASS NAME",class:"input-field class-name",modelValue:l.value,"onUpdate:modelValue":_[0]||(_[0]=T=>l.value=T),density:"compact",variant:"outlined","persistent-hint":"",hint:"Enter the name of the class",placeholder:"eg. SCIENCE or SCIENCE-1 or SCIENCE-1-A"},null,8,["modelValue"]),w(nt,{label:"STUDENTS YEAR/FORM",clearable:"",class:"input-field mt-7 mb-5",type:"number",modelValue:i.value,"onUpdate:modelValue":_[1]||(_[1]=T=>i.value=T),density:"compact",variant:"outlined","persistent-hint":"",hint:"Enter the year/form of the students",placeholder:"eg. 1"},null,8,["modelValue"]),u("div",Ux,[u("div",Yx,[w(Pt,{disabled:d.value,modelValue:a.value,"onUpdate:modelValue":_[2]||(_[2]=T=>a.value=T),class:"select",clearable:"",label:"PROGRAM",style:{width:"100%",color:"black","font-weight":"bold"},density:"compact",variant:"outlined",items:p(t).adminClasses.programs,"persistent-hint":"",hint:"Select the program that students in this class are enrolled in"},null,8,["disabled","modelValue","items"])]),u("div",Gx,[w(Pt,{disabled:d.value,modelValue:n.value,"onUpdate:modelValue":_[3]||(_[3]=T=>n.value=T),multiple:"",clearable:"",label:"SUBJECTS",style:{width:"100%",color:"black","font-weight":"bold"},density:"compact",variant:"outlined",items:p(t).adminStaff.subjects,"persistent-hint":"",hint:"Select the subjects students in this class will study"},{selection:I(({item:T,index:S})=>[S<1?(m(),L(ro,{key:0},{default:I(()=>[u("span",null,y(T.title),1)]),_:2},1024)):k("",!0),S===1?(m(),x("span",Xx," (+"+y(n.value.length-1)+" others) ",1)):k("",!0)]),_:1},8,["disabled","modelValue","items"])])]),u("div",Jx,[w(nt,{label:"DATE ENROLLED",class:"input-field",modelValue:o.value,"onUpdate:modelValue":_[4]||(_[4]=T=>o.value=T),"persistent-hint":"",hint:"The enrollment date of the students",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),w(nt,{label:"COMPLETION DATE",class:"input-field mb-5",modelValue:e.value,"onUpdate:modelValue":_[5]||(_[5]=T=>e.value=T),"persistent-hint":"",hint:"The expected completion date of the students",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])])]),w(Z,{loading:d.value,disabled:g.value,onClick:Kt(f,["prevent"]),type:"submit",class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])])):k("",!0)])}}}),qx=tt(Kx,[["__scopeId","data-v-00acf7fa"]]),Oa=s=>(kt("data-v-28fdc0e6"),s=s(),wt(),s),Zx={id:"inputForm",class:"overlay"},Qx={class:"form",style:{position:"relative"}},tS={key:0,class:"form-message",style:{color:"green"}},eS={key:1,class:"form-message",style:{color:"red"}},sS={class:"input-container"},nS=Oa(()=>u("div",null,null,-1)),aS={id:"fileForm",class:"overlay"},iS={class:"form",style:{position:"relative"}},oS={key:0,class:"form-message",style:{color:"green"}},lS={key:1,class:"form-message",style:{color:"red"}},rS={class:"flex-all-c mt-16"},cS=Oa(()=>u("p",{class:"hint mt-0"},"Click to get an excel file based on the selected class",-1)),dS=Oa(()=>u("hr",{class:"line"},null,-1)),uS={class:"w-100 h-100"},hS={class:"flex-all w-100 h-100"},fS=q({__name:"AdminStudentsAdmission",setup(s){const t=ot(),e=D(""),n=D(""),a=D(null),i=D(null),o=D(null),l=D(null),r=D(!1),c=D(null),d=D(null),h=D(["MALE","FEMALE"]),f=D(!1),g=D(null),v=()=>{setTimeout(()=>{n.value="",e.value=""},15e3)},_=async()=>{r.value=!0,e.value="",n.value="";const O=new FormData;O.append("className",a.value),O.append("type","get-students-file");try{const $=await xt.post("sch-admin/students",O);if($.status===200){n.value="File generated successfully. wait for it to be downloaded";const C=document.createElement("a");C.href=$.data.file_path,C.download=$.data.filename,C.click()}else e.value="Oops! an error occurred while generating the file. Try again later"}catch{e.value="Something went wrong. Try again later"}finally{r.value=!1,v()}},b=O=>{const $=O.target.files[0];g.value=$||null},T=async()=>{f.value=!0,e.value="",n.value="";const O=new FormData;O.append("className",a.value),O.append("file",g.value),O.append("year",t.activeAcademicYear),O.append("type","upload-students-file");try{const $=await xt.post("sch-admin/students",O);if($.status===200){const C=$.data.year,P=$.data.data,B=t.adminClasses[C].find(N=>N.name===P.name);if(B){const N=t.adminClasses[C].indexOf(B);t.adminClasses[C][N]=P}else t.adminClasses[C].push(P);n.value=$.data.ms}else $.status===201&&(e.value=$.data.ms)}catch{e.value="Something went wrong!"}finally{f.value=!1,v()}},S=async()=>{f.value=!0,e.value="",n.value="";const O=new FormData;O.append("className",a.value.trim()),O.append("firstName",i.value.trim()),O.append("year",t.activeAcademicYear),O.append("lastName",o.value.trim()),O.append("gender",l.value),O.append("dob",d.value),O.append("type","input-student"),O.append("studentId",c.value);try{const $=await xt.post("sch-admin/students",O);if($.status===200){const C=$.data.year,P=t.adminClasses[C].find(B=>B.name===$.data.class_name);if(P){const B=t.adminClasses[C].indexOf(P);t.adminClasses[C][B].students.push($.data.student)}n.value=$.data.ms}else $.status===201&&(e.value=$.data.ms)}catch{e.value="Oops something went wrong, check you internet connection"}finally{f.value=!1}v()},A=G(()=>!(a.value&&i.value&&o.value&&l.value&&d.value)),E=O=>{const $=document.getElementById(O);$&&(e.value="",n.value="",a.value="",f.value=!1,g.value=null,$.style.display="none")},M=O=>{const $=document.getElementById(O);$&&($.style.display="flex")};return(O,$)=>(m(),x(U,null,[u("div",Zx,[u("div",Qx,[w(Z,{onClick:$[0]||($[0]=C=>E("inputForm")),disabled:f.value||r.value,color:"red",size:"small",class:"close-btn flex-all"},{default:I(()=>[V("X")]),_:1},8,["disabled"]),n.value?(m(),x("h2",tS,y(n.value),1)):k("",!0),e.value?(m(),x("h2",eS,y(e.value),1)):k("",!0),u("div",sS,[p(t).adminClasses.names?(m(),L(Pt,{key:0,disabled:f.value,modelValue:a.value,"onUpdate:modelValue":$[1]||($[1]=C=>a.value=C),class:"select",label:"CLASS",density:"compact",variant:"outlined",items:p(t).adminClasses.names,"persistent-hint":"",hint:"Select the students's class"},null,8,["disabled","modelValue","items"])):k("",!0),w(nt,{disabled:f.value,modelValue:i.value,"onUpdate:modelValue":$[2]||($[2]=C=>i.value=C),clearable:"",class:"input-field",label:"FIRST NAME",variant:"underlined"},null,8,["disabled","modelValue"]),w(nt,{disabled:f.value,modelValue:o.value,"onUpdate:modelValue":$[3]||($[3]=C=>o.value=C),clearable:"",class:"input-field",label:"LAST NAME",variant:"underlined"},null,8,["disabled","modelValue"]),w(nt,{disabled:f.value,modelValue:c.value,"onUpdate:modelValue":$[4]||($[4]=C=>c.value=C),clearable:"",class:"input-field",label:"STUDENT ID",variant:"underlined"},null,8,["disabled","modelValue"]),w(Pt,{disabled:f.value,modelValue:l.value,"onUpdate:modelValue":$[5]||($[5]=C=>l.value=C),class:"select",label:"GENDER",density:"compact",variant:"outlined",items:h.value},null,8,["disabled","modelValue","items"]),w(nt,{disabled:f.value,modelValue:d.value,"onUpdate:modelValue":$[6]||($[6]=C=>d.value=C),type:"date",class:"input-field",label:"DATE OF BIRTH",variant:"underlined"},null,8,["disabled","modelValue"]),nS]),w(Z,{loading:f.value,disabled:A.value,onClick:S,class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])])]),u("div",aS,[u("div",iS,[w(Z,{onClick:$[7]||($[7]=C=>E("fileForm")),disabled:f.value||r.value,color:"red",size:"small",class:"close-btn flex-all"},{default:I(()=>[V("X")]),_:1},8,["disabled"]),n.value?(m(),x("h2",oS,y(n.value),1)):k("",!0),e.value?(m(),x("h2",lS,y(e.value),1)):k("",!0),p(t).adminClasses.names?(m(),L(Pt,{key:2,disabled:f.value,modelValue:a.value,"onUpdate:modelValue":$[8]||($[8]=C=>a.value=C),class:"select file",label:"CLASS",variant:"outlined",density:"compact",items:p(t).adminClasses.names,"persistent-hint":"",hint:"select the students class"},null,8,["disabled","modelValue","items"])):k("",!0),u("div",rS,[w(Z,{loading:r.value,disabled:f.value||!a.value,onClick:_,class:"submit-btn"},{default:I(()=>[V("GET FILE")]),_:1},8,["loading","disabled"]),cS]),dS,w(Pa,{disabled:f.value,onChange:b,clearable:"","show-size":"",class:"file-field",label:"upload an excel file",density:"compact",variant:"outlined",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},null,8,["disabled"]),w(Z,{loading:f.value,disabled:!g.value||!a.value,onClick:T,class:"submit-btn"},{default:I(()=>[V("UPLOAD")]),_:1},8,["loading","disabled"])])]),u("div",uS,[u("div",hS,[w(Z,{size:"small",class:"btn mr-5",onClick:$[9]||($[9]=C=>M("inputForm"))},{default:I(()=>[V("INPUT DATA")]),_:1}),w(Z,{size:"small",class:"btn ml-5",onClick:$[10]||($[10]=C=>M("fileForm"))},{default:I(()=>[V("USE FILE")]),_:1})])])],64))}}),mS=tt(fS,[["__scopeId","data-v-28fdc0e6"]]),Hs=s=>(kt("data-v-36ac3498"),s=s(),wt(),s),pS={id:"deleteClassSubjectStudentOverlay",class:"overlay"},gS={class:"mb-5 error-message"},_S={class:"mb-10"},vS={style:{width:"100%",position:"relative"}},bS=Hs(()=>u("th",{class:"table-head"},"CLASS",-1)),yS=Hs(()=>u("th",{class:"table-head"},"DATE ENROLLED",-1)),xS=Hs(()=>u("th",{class:"table-head"},"EXPECTED COMPLETION DATE",-1)),SS=Hs(()=>u("th",{class:"table-head"},"SUBJECTS",-1)),kS=Hs(()=>u("th",{class:"table-head"},"STUDENTS",-1)),wS={key:0,class:"table-head"},TS={class:"table-data"},DS={class:"table-data"},MS={class:"table-data"},CS={style:{padding:"0"}},AS={class:"student-info-container"},$S={key:0,class:"flex-all pa-2"},ES={style:{padding:"0"}},PS={class:"student-info-container"},OS=["src"],IS={class:"flex-all-c"},RS={class:"user-name"},FS={class:"user-name"},LS={key:0,class:"flex-all pa-2"},VS={key:0,class:"table-data"},NS={class:"flex-all pa-2"},BS=q({__name:"AdminStudentsYear",props:{classYear:{}},setup(s){const t=ot(),e=D(!1),n=D(""),a=D(""),i=D(""),o=D(""),l=D(""),r=D(""),c=async(b,T)=>{const S=new FormData;S.append("className",b),S.append("subject",T),S.append("type","delete-subject"),await xt.post("sch-admin/students",S).then(A=>{const E=A.data,M=E.year,O=t.adminClasses[M].find($=>$.name===E.class_name);if(O){const $=t.adminClasses[M].indexOf(O),C=t.adminClasses[M][$].subjects.filter(P=>P.name!==T);t.adminClasses[M][$].subjects=C}}).catch(A=>Promise.reject(A))},d=()=>{setTimeout(()=>{n.value=""},15e3)},h=async(b,T)=>{const S=new FormData;S.append("className",b),S.append("stId",T),S.append("type","delete-student"),await xt.post("sch-admin/students",S).then(A=>{const E=A.data,M=E.year,O=t.adminClasses[M].find($=>$.name===E.class_name);if(O){const $=t.adminClasses[M].indexOf(O),C=t.adminClasses[M][$].students.filter(P=>P.st_id!==T);t.adminClasses[M][$].students=C}}).catch(A=>Promise.reject(A))},f=(b,T,S,A)=>{a.value=b,i.value=T,l.value=S,o.value=A,b==="deleteStudent"?r.value=`Are you sure you want to delete student with ID ${l.value} from the class`:b==="deleteClass"?r.value=`Are you sure you want to delete the ${i.value} class`:b==="deleteSubject"&&(r.value=`Are you sure you want to delete ${o.value} from the ${i.value} class subjects`);const E=document.getElementById("deleteClassSubjectStudentOverlay");E&&(E.style.display="flex")},g=()=>{const b=document.getElementById("deleteClassSubjectStudentOverlay");b&&(b.style.display="none")},v=async b=>{const T=new FormData;T.append("className",b),T.append("type","delete-class"),await xt.post("sch-admin/students",T).then(S=>{const A=t.adminClasses.yearOne.find(E=>E.name===b);if(A){const E=t.adminClasses.yearOne.indexOf(A);t.adminClasses.yearOne.splice(E,1);const M=t.adminClasses.names.filter(O=>O!==`${b} FORM-1`);M&&(t.adminClasses.names=M)}}).catch(S=>Promise.reject(S))},_=async()=>{e.value=!0,a.value==="deleteStudent"?await h(i.value,l.value).then(b=>{g()}).catch(b=>{d()}):a.value==="deleteSubject"?await c(i.value,o.value).then(b=>{g()}).catch(b=>{d()}):a.value==="deleteClass"&&await v(i.value).then(b=>{g()}).catch(b=>{d()}),e.value=!1,d()};return(b,T)=>{const S=St,A=ue;return m(),x(U,null,[u("div",pS,[w(es,{class:"overlay-card"},{default:I(()=>[u("p",gS,y(n.value),1),u("p",_S,y(r.value),1),u("div",null,[w(Z,{class:"mr-5",color:"red",onClick:_,loading:e.value},{default:I(()=>[V("YES")]),_:1},8,["loading"]),w(Z,{onClick:g,color:"blue",class:"ml-5",disabled:e.value},{default:I(()=>[V("NO")]),_:1},8,["disabled"])])]),_:1})]),u("div",vS,[b.classYear?k("",!0):(m(),L(S,{key:0,class:"no-data flex-all"})),b.classYear&&b.classYear.length===0?(m(),L(A,{key:1,message:"No data yet"})):k("",!0),b.classYear&&b.classYear.length>0?(m(),L(pt,{key:2,"fixed-header":"",class:"table-2"},{default:I(()=>[u("thead",null,[u("tr",null,[bS,yS,xS,SS,kS,p(t).userData.school.delete_class?(m(),x("th",wS,"ACTION")):k("",!0)])]),u("tbody",null,[(m(!0),x(U,null,st(b.classYear,(E,M)=>(m(),x("tr",{key:M},[u("td",TS,y(E.name),1),u("td",DS,y(E.date_enrolled),1),u("td",MS,y(E.completion_date),1),u("td",CS,[w(Fe,{class:"pa-0"},{default:I(()=>[w(Le,null,{activator:I(({props:O})=>[w($t,Rt({class:"title",ref_for:!0},O),{default:I(()=>[w(H,{icon:"mdi-lightbulb-on"}),V(y(E.subjects.length)+" SUBJECTS ",1)]),_:2},1040)]),default:I(()=>[w(Ve,{class:"v-scroll",height:"22vh",items:E.subjects},{default:I(({item:O})=>[w($t,{style:{position:"relative"}},{default:I(()=>[u("div",AS,[u("p",null,y(O.name),1),E.students_year===1&&p(t).userData.school.delete_class?(m(),x("div",$S,[w(Z,{onClick:$=>f("deleteSubject",E.name,"",O.name),size:"x-small",class:"edit-btn remove"},{default:I(()=>[V("delete")]),_:2},1032,["onClick"])])):k("",!0)])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)]),u("td",ES,[w(Fe,{class:"pa-0"},{default:I(()=>[w(Le,null,{activator:I(({props:O})=>[w($t,Rt({class:"title",ref_for:!0},O),{default:I(()=>[w(H,{icon:"mdi-account-circle"}),V(y(E.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:I(()=>[w(Ve,{class:"v-scroll",height:"22vh",items:E.students},{default:I(({item:O})=>[w($t,{style:{position:"relative"}},{default:I(()=>[u("div",PS,[u("img",{class:"profile-img",src:O.img},null,8,OS),u("div",IS,[u("p",RS,y(O.user.first_name)+" "+y(O.user.last_name)+" [ "+y(O.gender)+" ]",1),u("p",FS,y(O.st_id)+" [ "+y(O.user.username)+" ] [ "+y(O.dob)+" ]",1)]),E.students_year===1&&p(t).userData.school.delete_class?(m(),x("div",LS,[w(Z,{onClick:$=>f("deleteStudent",E.name,O.st_id,""),size:"x-small",class:"edit-btn remove"},{default:I(()=>[V("delete")]),_:2},1032,["onClick"])])):k("",!0)])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)]),E.students_year===1&&p(t).userData.school.delete_class?(m(),x("td",VS,[u("div",NS,[w(Z,{onClick:O=>f("deleteClass",E.name,"",""),size:"x-small",class:"edit-btn remove"},{default:I(()=>[V("delete")]),_:2},1032,["onClick"])])])):k("",!0)]))),128))])]),_:1})):k("",!0)])],64)}}}),zS=tt(BS,[["__scopeId","data-v-36ac3498"]]),jS={class:"subsections-container"},HS={class:"subsections"},WS=q({__name:"AdminStudentsViewAdmittedStudents",setup(s){const t=D("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=zS;return m(),x("div",jS,[w(ts,{class:"subsection-nav-container",elevation:"0"},{default:I(()=>[u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":t.value==="section1"}]),onClick:i[0]||(i[0]=l=>n("section1"))},"Form 1 students",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":t.value==="section2"}]),onClick:i[1]||(i[1]=l=>n("section2"))},"Form 2 students",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":t.value==="section3"}]),onClick:i[2]||(i[2]=l=>n("section3"))},"Form 3 students",2)]),_:1}),u("div",HS,[u("div",{style:X(t.value==="section1"?{display:"flex"}:{display:"none"})},[w(o,{classYear:p(e).adminClasses.yearOne},null,8,["classYear"])],4),u("div",{style:X(t.value==="section2"?{display:"flex"}:{display:"none"})},[w(o,{classYear:p(e).adminClasses.yearTwo},null,8,["classYear"])],4),u("div",{style:X(t.value==="section3"?{display:"flex"}:{display:"none"})},[w(o,{classYear:p(e).adminClasses.yearThree},null,8,["classYear"])],4)])])}}}),US={class:"section-nav-container"},YS={class:"sections"},GS=q({__name:"AdminStudents",setup(s){ot();const t=D(1),e=n=>{t.value=n};return(n,a)=>{const i=qx,o=mS,l=WS;return m(),x(U,null,[u("div",US,[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value===1}]),onClick:a[0]||(a[0]=r=>e(1))},"CREATE CLASS",2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value===2}]),onClick:a[1]||(a[1]=r=>e(2))},"ADMISSION",2),u("button",{class:W(["nav-btn-1 btn-3",{"nav-btn-1-active":t.value===3}]),onClick:a[2]||(a[2]=r=>e(3))},"ALL ADMITTED STUDENTS",2)]),u("div",YS,[u("div",{class:"h-100",style:X(t.value===1?{display:"flex"}:{display:"none"})},[w(i)],4),u("div",{class:"h-100",style:X(t.value===2?{display:"flex"}:{display:"none"})},[w(o)],4),u("div",{class:"h-100",style:X(t.value===3?{display:"flex"}:{display:"none"})},[w(l)],4)])],64)}}}),XS=tt(GS,[["__scopeId","data-v-0ec2c153"]]),wl=s=>(kt("data-v-d181da16"),s=s(),wt(),s),JS={id:"staffInputForm",class:"overlay"},KS={class:"form",style:{position:"relative"}},qS={key:0,class:"form-message",style:{color:"green"}},ZS={key:1,class:"form-message",style:{color:"red"}},QS={class:"input-container"},tk={class:"wrap one"},ek={class:"wrap-1 department"},sk={class:"wrap"},nk={class:"wrap-1"},ak={class:"ml-16"},ik={id:"staffFileForm",class:"overlay"},ok={class:"form",style:{position:"relative"}},lk={key:0,class:"form-message",style:{color:"green"}},rk={key:1,class:"form-message",style:{color:"red"}},ck={class:"flex-all-c mt-16"},dk=wl(()=>u("p",{class:"hint mt-0"},"Click to get an excel file based on the selected department",-1)),uk=wl(()=>u("hr",{class:"line"},null,-1)),hk={class:"w-100 h-100"},fk={class:"flex-all w-100 h-100"},mk=q({__name:"AdminAddStaff",setup(s){const t=ot(),e=D(""),n=D(""),a=D(null),i=D(null),o=D(null),l=D(null),r=D(null),c=D(null),d=D(!1),h=D(null),f=D(["MALE","FEMALE"]),g=D(!1),v=D(null),_=()=>{setTimeout(()=>{n.value="",e.value=""},15e3)},b=async()=>{d.value=!0,e.value="",n.value="";const $=new FormData;$.append("departmentName",a.value),$.append("type","get-staff-file");try{const C=await xt.post("sch-admin/staff",$);if(C.status===200){n.value="File generated successfully. Wait for it to be downloaded";const P=document.createElement("a");P.href=C.data.file_path,P.download=C.data.filename,P.click()}else e.value="Oops! an error occurred while generating the file. Try again later"}catch{e.value="Something went wrong. Try again later"}finally{d.value=!1,_()}},T=$=>{const C=$.target.files[0];v.value=C||null},S=async()=>{g.value=!0,e.value="",n.value="";const $=new FormData;$.append("departmentName",a.value),$.append("file",v.value),$.append("type","upload-staff-file");try{const C=await xt.post("sch-admin/staff",$);if(C.status===200){const P=C.data.data,B=t.adminStaff.departments.find(N=>N.name===P.name);if(B){const N=t.adminStaff.departments.indexOf(B);t.adminStaff.departments[N]=P}n.value=C.data.ms}else C.status===201&&(e.value=C.data.ms)}catch{e.value="Something went wrong!"}finally{g.value=!1,_()}},A=async()=>{g.value=!0,e.value="",n.value="";const $=new FormData;$.append("departmentName",a.value),$.append("firstName",i.value.trim()),$.append("lastName",l.value.trim()),$.append("staffId",r.value.trim()),$.append("gender",c.value),$.append("subjects",o.value),$.append("dob",h.value),$.append("type","input-staff");try{const C=await xt.post("sch-admin/staff",$);if(C.status===200){const P=C.data,B=t.adminStaff.departments.find(N=>N.name===P.department_name);if(B){const N=t.adminStaff.departments.indexOf(B);t.adminStaff.departments[N].teachers.unshift(P.staff)}i.value=null,l.value=null,r.value=null,o.value=null,h.value=null,n.value=C.data.ms}else C.status===201&&(e.value=C.data.ms)}catch{e.value="Oops something went wrong, check you internet connection"}finally{g.value=!1}_()},E=G(()=>!(a.value&&o.value&&i.value&&l.value&&r.value&&c.value&&h.value)),M=$=>{const C=document.getElementById($);C&&(e.value="",n.value="",a.value=null,o.value="",g.value=!1,v.value=null,C.style.display="none")},O=$=>{const C=document.getElementById($);C&&(C.style.display="flex")};return($,C)=>(m(),x(U,null,[u("div",JS,[u("div",KS,[w(Z,{onClick:C[0]||(C[0]=P=>M("staffInputForm")),size:"small",color:"red",class:"close-btn"},{default:I(()=>[V("X")]),_:1}),n.value?(m(),x("h2",qS,y(n.value),1)):k("",!0),e.value?(m(),x("h2",ZS,y(e.value),1)):k("",!0),u("div",QS,[u("div",tk,[u("div",ek,[p(t).adminStaff.departmentNames?(m(),L(Pt,{key:0,disabled:g.value,modelValue:a.value,"onUpdate:modelValue":C[1]||(C[1]=P=>a.value=P),class:"select",label:"DEPARTMENT",density:"compact",variant:"outlined",items:p(t).adminStaff.departmentNames,"persistent-hint":"",hint:"Select the department the teacher belongs to"},null,8,["disabled","modelValue","items"])):k("",!0),p(t).adminStaff.subjects?(m(),L(Pt,{key:1,multiple:"",disabled:g.value,chips:"",modelValue:o.value,"onUpdate:modelValue":C[2]||(C[2]=P=>o.value=P),class:"select",label:"SUBJECTS(S)",density:"compact",variant:"outlined",items:p(t).adminStaff.subjects,"persistent-hint":"",hint:"Select the subject(s) the teacher teaches"},null,8,["disabled","modelValue","items"])):k("",!0)])]),u("div",sk,[w(nt,{disabled:g.value,modelValue:i.value,"onUpdate:modelValue":C[3]||(C[3]=P=>i.value=P),clearable:"",class:"input-field",label:"FIRST NAME",variant:"underlined"},null,8,["disabled","modelValue"]),w(nt,{disabled:g.value,modelValue:l.value,"onUpdate:modelValue":C[4]||(C[4]=P=>l.value=P),clearable:"",class:"input-field",label:"LAST NAME",variant:"underlined"},null,8,["disabled","modelValue"])]),u("div",nk,[w(Pt,{disabled:g.value,modelValue:c.value,"onUpdate:modelValue":C[5]||(C[5]=P=>c.value=P),class:"select",label:"GENDER",density:"compact",variant:"outlined",items:f.value},null,8,["disabled","modelValue","items"])]),u("div",ak,[w(nt,{disabled:g.value,modelValue:r.value,"onUpdate:modelValue":C[6]||(C[6]=P=>r.value=P),type:"number",clearable:"",class:"input-field",label:"STAFF ID",variant:"underlined"},null,8,["disabled","modelValue"])]),u("div",null,[w(nt,{disabled:g.value,modelValue:h.value,"onUpdate:modelValue":C[7]||(C[7]=P=>h.value=P),type:"date",class:"input-field",label:"DATE OF BIRTH",variant:"underlined"},null,8,["disabled","modelValue"])])]),w(Z,{loading:g.value,disabled:E.value,onClick:A,class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])])]),u("div",ik,[u("div",ok,[w(Z,{onClick:C[8]||(C[8]=P=>M("staffFileForm")),color:"red",size:"small",class:"close-btn"},{default:I(()=>[V("X")]),_:1}),n.value?(m(),x("h2",lk,y(n.value),1)):k("",!0),e.value?(m(),x("h2",rk,y(e.value),1)):k("",!0),p(t).adminStaff.departmentNames?(m(),L(Pt,{key:2,disabled:g.value,modelValue:a.value,"onUpdate:modelValue":C[9]||(C[9]=P=>a.value=P),class:"select file",label:"DEPARTMENT",variant:"outlined",density:"compact",items:p(t).adminStaff.departmentNames,"persistent-hint":"",hint:"select the department the teacher belongs to"},null,8,["disabled","modelValue","items"])):k("",!0),u("div",ck,[w(Z,{loading:d.value,disabled:g.value||!a.value,onClick:b,class:"submit-btn"},{default:I(()=>[V("GET FILE")]),_:1},8,["loading","disabled"]),dk]),uk,w(Pa,{disabled:g.value,onChange:T,clearable:"","show-size":"",class:"file-field",label:"upload an excel file",density:"compact",variant:"outlined",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},null,8,["disabled"]),w(Z,{loading:g.value,disabled:!v.value||!a.value,onClick:S,class:"submit-btn"},{default:I(()=>[V("UPLOAD")]),_:1},8,["loading","disabled"])])]),u("div",hk,[u("div",fk,[w(Z,{size:"small",class:"btn mr-5",onClick:C[10]||(C[10]=P=>O("staffInputForm"))},{default:I(()=>[V("INPUT DATA")]),_:1}),w(Z,{size:"small",class:"btn ml-5",onClick:C[11]||(C[11]=P=>O("staffFileForm"))},{default:I(()=>[V("USE FILE")]),_:1})])])],64))}}),pk=tt(mk,[["__scopeId","data-v-d181da16"]]),Se=s=>(kt("data-v-83eb3dcf"),s=s(),wt(),s),gk=["id"],_k=Se(()=>u("p",null,"Continue to delete ?",-1)),vk={key:0,class:"mt-5",style:{color:"red"}},bk={style:{width:"100%",position:"relative",height:"100%"}},yk=Se(()=>u("th",{class:"table-head"},"NAME",-1)),xk=Se(()=>u("th",{class:"table-head"},"USERNAME",-1)),Sk=Se(()=>u("th",{class:"table-head"},"GENDER",-1)),kk=Se(()=>u("th",{class:"table-head"},"STAFF ID",-1)),wk=Se(()=>u("th",{class:"table-head"},"SUBJECT(S)",-1)),Tk=Se(()=>u("th",{class:"table-head"},"DATE OF BIRTH",-1)),Dk=Se(()=>u("th",{class:"table-head"},"IMAGE",-1)),Mk={key:0,class:"table-head"},Ck={class:"table-data"},Ak={key:0,style:{color:"seagreen"}},$k={class:"table-data username"},Ek={class:"table-data username"},Pk={class:"table-data"},Ok={class:"table-data"},Ik={class:"table-data username"},Rk={class:"table-data"},Fk=["src"],Lk={key:0,class:"table-data"},Vk=q({__name:"AdminDepartmentStaff",props:{staff:null,overlayIndex:null},setup(s){const t=s,e=ot(),n=D(!1),a=D(""),i=D(""),o=()=>{const c=document.getElementById(`deleteStaff${t.overlayIndex}`);c&&(c.style.display="none"),a.value="",i.value=""},l=async()=>{n.value=!0;const c=new FormData;c.append("staffId",i.value),c.append("type","delete-staff"),await xt.post("sch-admin/staff",c).then(d=>{const h=d.data,f=e.adminStaff.departments.find(g=>g.name===h.department_name);if(f){const g=e.adminStaff.departments.indexOf(f),v=e.adminStaff.departments[g].teachers.filter(_=>_.staff_id!==i.value);e.adminStaff.departments[g].teachers=v}o(),n.value=!1}).catch(d=>{a.value="Oops! something went wrong. Check your internet connection and try again",n.value=!1})},r=c=>{i.value=c;const d=document.getElementById(`deleteStaff${t.overlayIndex}`);d&&(d.style.display="flex")};return(c,d)=>{const h=St;return m(),x(U,null,[p(e).userData.school.delete_staff?(m(),x("div",{key:0,id:`deleteStaff${t.overlayIndex}`,class:"overlay"},[w(es,{class:"d-flex flex-column align-center"},{default:I(()=>[w(Fs,{style:{"font-size":".8rem","font-family":"sans-serif","text-align":"left","line-height":"1.2","font-weight":"bold"}},{default:I(()=>[_k,p(a)?(m(),x("p",vk,y(p(a)),1)):k("",!0)]),_:1}),w(Ls,null,{default:I(()=>[w(Z,{loading:p(n),color:"red",class:"mr-5",elevation:"4",onClick:l},{default:I(()=>[V("YES")]),_:1},8,["loading"]),w(Z,{disabled:p(n),color:"blue",class:"ml-5",elevation:"4",onClick:o},{default:I(()=>[V("NO")]),_:1},8,["disabled"])]),_:1})]),_:1})],8,gk)):k("",!0),u("div",bk,[!t.staff||t.staff.length===0?(m(),L(h,{key:0})):k("",!0),t.staff&&t.staff.length>0?(m(),L(pt,{key:1,"fixed-header":"",height:"45dvh"},{default:I(()=>[u("thead",null,[u("tr",null,[yk,xk,Sk,kk,wk,Tk,Dk,p(e).userData.school.delete_staff?(m(),x("th",Mk,"ACTION")):k("",!0)])]),u("tbody",null,[(m(!0),x(U,null,st(t.staff,(f,g)=>(m(),x("tr",{key:g},[u("td",Ck,[V(y(f.user.first_name)+" "+y(f.user.last_name)+" ",1),f.role==="hod"?(m(),x("span",Ak,"[HOD]")):k("",!0)]),u("td",$k,y(f.user.username),1),u("td",Ek,y(f.gender),1),u("td",Pk,y(f.staff_id),1),u("td",Ok,[(m(!0),x(U,null,st(f.subjects,(v,_)=>(m(),x("p",{key:_},y(v.name),1))),128))]),u("td",Ik,y(f.dob),1),u("td",Rk,[u("img",{class:"profile-img",src:f.img},null,8,Fk)]),p(e).userData.school.delete_staff?(m(),x("td",Lk,[w(Z,{onClick:v=>r(f.staff_id),color:"red",size:"x-small"},{default:I(()=>[V("delete")]),_:2},1032,["onClick"])])):k("",!0)]))),128))])]),_:1})):k("",!0)])],64)}}}),Nk=tt(Vk,[["__scopeId","data-v-83eb3dcf"]]),Bk={class:"subsections-container"},zk={key:1,class:"subsection-nav-container"},jk=["onClick"],Hk={key:2,class:"sections"},Wk=q({__name:"AdminAllStaff",setup(s){const t=D("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=St,l=Nk;return m(),x("div",Bk,[!p(e).adminStaff.departments||p(e).adminStaff.departments&&p(e).adminStaff.departments.length===0?(m(),L(o,{key:0,class:"no-data"})):k("",!0),p(e).adminStaff.departments&&p(e).adminStaff.departments.length>0?(m(),x("div",zk,[(m(!0),x(U,null,st(p(e).adminStaff.departments,(r,c)=>(m(),x("button",{key:c,class:W(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[u("span",null,y(r.name),1)],10,jk))),128))])):k("",!0),p(e).adminStaff.departments&&p(e).adminStaff.departments.length>0?(m(),x("div",Hk,[(m(!0),x(U,null,st(p(e).adminStaff.departments,(r,c)=>(m(),x("div",{class:"h-100",key:c,style:X(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[w(l,{staff:r.teachers,overlayIndex:c},null,8,["staff","overlayIndex"])],4))),128))])):k("",!0)])}}}),Uk=tt(Wk,[["__scopeId","data-v-93989cc1"]]),Yk={class:"section-nav-container"},Gk={class:"sections"},Xk=q({__name:"AdminStaff",setup(s){const t=D(1),e=n=>{t.value=n};return(n,a)=>{const i=pk,o=Uk;return m(),x(U,null,[u("div",Yk,[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value===1}]),onClick:a[0]||(a[0]=l=>e(1))},"ADD TEACHER(S)",2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value===2}]),onClick:a[1]||(a[1]=l=>e(2))},"ALL TEACHERS",2)]),u("div",Gk,[u("div",{class:"h-100",style:X(t.value===1?{display:"flex"}:{display:"none"})},[w(i)],4),u("div",{class:"h-100",style:X(t.value===2?{display:"flex"}:{display:"none"})},[w(o)],4)])],64)}}}),Jk=tt(Xk,[["__scopeId","data-v-c0a57b4c"]]),Kk={class:"flex-all w-100",style:{overflow:"hidden"}},qk={class:"form"},Zk={key:0,class:"form-message",style:{color:"green"}},Qk={key:1,class:"form-message",style:{color:"red"}},t2={class:"field-container"},e2={class:"select-container w-100 first"},s2={class:"select-container w-100"},n2={class:"select-container w-100"},a2=q({__name:"AdminAddHead",setup(s){const t=ot(),e=D(null),n=D(""),a=D(""),i=D(""),o=D(""),l=D(["HEAD MASTER/MISTRESS","ASST. HEAD MASTER/MISTRESS","HEAD OF ACADEMICS","ASST. HEAD OF ACADEMIC"]),r=D(""),c=D(["MALE","FEMALE"]),d=D(""),h=D(""),f=D(!1),g=()=>{setTimeout(()=>{h.value="",d.value=""},1e4)},v=async()=>{f.value=!0,d.value="",h.value="";const b=new FormData;b.append("firstName",i.value.trim()),b.append("lastName",a.value.trim()),b.append("headId",e.value),b.append("year",t.activeAcademicYear),b.append("type","create-head"),b.append("dob",n.value.trim()),b.append("role",o.value),b.append("gender",r.value),b.append("term",t.activeTerm.toString());try{const T=await xt.post("sch-admin/head",b);T.status===200?(t.adminHeads.unshift(T.data),h.value=`Head with ID ${e.value} created successfully`,i.value="",a.value="",e.value=null):T.status===201&&(d.value=T.data.ms)}catch{d.value="Oops! something went wrong"}finally{f.value=!1,g()}},_=G(()=>!(i.value&&a.value&&e.value&&r.value&&n.value&&o.value));return(b,T)=>(m(),x("div",Kk,[u("div",qk,[h.value?(m(),x("h2",Zk,y(h.value),1)):k("",!0),d.value?(m(),x("h2",Qk,y(d.value),1)):k("",!0),u("div",t2,[u("div",e2,[w(nt,{label:"FIRST NAME",class:"input-field",modelValue:i.value,"onUpdate:modelValue":T[0]||(T[0]=S=>i.value=S),density:"compact",variant:"outlined"},null,8,["modelValue"]),w(nt,{label:"LAST NAME",class:"input-field",modelValue:a.value,"onUpdate:modelValue":T[1]||(T[1]=S=>a.value=S),density:"compact",variant:"outlined"},null,8,["modelValue"])]),u("div",s2,[w(nt,{label:"STAFF ID",class:"input-field",modelValue:e.value,"onUpdate:modelValue":T[2]||(T[2]=S=>e.value=S),density:"compact",variant:"outlined",type:"number"},null,8,["modelValue"]),w(Pt,{label:"ROLE",items:l.value,modelValue:o.value,"onUpdate:modelValue":T[3]||(T[3]=S=>o.value=S),class:"input-field",variant:"outlined",density:"compact"},null,8,["items","modelValue"])]),u("div",n2,[w(Pt,{label:"GENDER",items:c.value,modelValue:r.value,"onUpdate:modelValue":T[4]||(T[4]=S=>r.value=S),class:"input-field",variant:"outlined",density:"compact"},null,8,["items","modelValue"]),w(nt,{label:"DATE OF BIRTH",class:"input-field",modelValue:n.value,"onUpdate:modelValue":T[5]||(T[5]=S=>n.value=S),density:"compact",variant:"outlined","prepend-icon":"mdi-calendar",type:"date"},null,8,["modelValue"])])]),w(Z,{loading:f.value,disabled:_.value,onClick:v,type:"submit",class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])])]))}}),i2=tt(a2,[["__scopeId","data-v-090b28c1"]]),He=s=>(kt("data-v-0fe868ad"),s=s(),wt(),s),o2={key:0,id:"deleteHead",class:"overlay"},l2=He(()=>u("p",null,"Continue to delete ?",-1)),r2={key:0,class:"mt-5",style:{color:"red"}},c2={style:{width:"100%",position:"relative",height:"100%"}},d2=He(()=>u("th",{class:"table-head"},"NAME",-1)),u2=He(()=>u("th",{class:"table-head"},"USERNAME",-1)),h2=He(()=>u("th",{class:"table-head"},"STAFF ID",-1)),f2=He(()=>u("th",{class:"table-head"},"GENDER",-1)),m2=He(()=>u("th",{class:"table-head"},"DATE OF BIRTH",-1)),p2=He(()=>u("th",{class:"table-head"},"IMAGE",-1)),g2={key:0,class:"table-head"},_2={class:"table-data"},v2={style:{color:"seagreen"}},b2={class:"table-data username"},y2={class:"table-data"},x2={class:"table-data"},S2={class:"table-data"},k2={class:"table-data"},w2=["src"],T2={key:0,class:"table-data"},D2=q({__name:"AdminAllHeads",setup(s){const t=ot(),e=D(!1),n=D(""),a=D(""),i=()=>{const r=document.getElementById("deleteHead");r&&(r.style.display="none"),n.value="",a.value=""},o=async()=>{e.value=!0,n.value="";const r=new FormData;r.append("headId",a.value),r.append("type","delete-head"),await xt.post("sch-admin/head",r).then(c=>{c.data;const d=t.adminHeads.find(h=>h.head_id===a.value);if(d){const h=t.adminHeads.indexOf(d);t.adminHeads.splice(h,1)}i(),e.value=!1}).catch(c=>{n.value="Oops! something went wrong. Check your internet connection and try again",e.value=!1})},l=r=>{a.value=r;const c=document.getElementById("deleteHead");c&&(c.style.display="flex")};return(r,c)=>{const d=St,h=ue;return m(),x(U,null,[p(t).userData.school.delete_staff?(m(),x("div",o2,[w(es,{class:"d-flex flex-column align-center"},{default:I(()=>[w(Fs,{style:{"font-size":".8rem","font-family":"sans-serif","text-align":"left","line-height":"1.2","font-weight":"bold"}},{default:I(()=>[l2,p(n)?(m(),x("p",r2,y(p(n)),1)):k("",!0)]),_:1}),w(Ls,null,{default:I(()=>[w(Z,{loading:p(e),color:"red",class:"mr-5",elevation:"4",onClick:o},{default:I(()=>[V("YES")]),_:1},8,["loading"]),w(Z,{disabled:p(e),color:"blue",class:"ml-5",elevation:"4",onClick:i},{default:I(()=>[V("NO")]),_:1},8,["disabled"])]),_:1})]),_:1})])):k("",!0),u("div",c2,[p(t).adminHeads?k("",!0):(m(),L(d,{key:0})),p(t).adminHeads&&p(t).adminHeads.length===0?(m(),L(h,{key:1,message:"No data yet"})):k("",!0),p(t).adminHeads&&p(t).adminHeads.length>0?(m(),L(pt,{key:2,"fixed-header":"",height:"45dvh"},{default:I(()=>[u("thead",null,[u("tr",null,[d2,u2,h2,f2,m2,p2,p(t).userData.school.delete_staff?(m(),x("th",g2,"ACTION")):k("",!0)])]),u("tbody",null,[(m(!0),x(U,null,st(p(t).adminHeads,(f,g)=>(m(),x("tr",{key:g},[u("td",_2,[V(y(f.user.first_name)+" "+y(f.user.last_name)+" ",1),u("span",v2,"[ "+y(f.role)+" ]",1)]),u("td",b2,y(f.user.username),1),u("td",y2,y(f.head_id),1),u("td",x2,y(f.gender),1),u("td",S2,y(f.dob),1),u("td",k2,[u("img",{class:"profile-img",src:f.img},null,8,w2)]),p(t).userData.school.delete_staff?(m(),x("td",T2,[w(Z,{onClick:v=>l(f.head_id),color:"red",size:"x-small"},{default:I(()=>[V("delete")]),_:2},1032,["onClick"])])):k("",!0)]))),128))])]),_:1})):k("",!0)])],64)}}}),M2=tt(D2,[["__scopeId","data-v-0fe868ad"]]),C2={class:"section-nav-container"},A2={class:"sections"},$2=q({__name:"AdminHead",setup(s){const t=D(1),e=n=>{t.value=n};return(n,a)=>{const i=i2,o=M2;return m(),x(U,null,[u("div",C2,[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value===1}]),onClick:a[0]||(a[0]=l=>e(1))},"ADD HEAD",2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value===2}]),onClick:a[1]||(a[1]=l=>e(2))},"ALL HEADS",2)]),u("div",A2,[u("div",{class:"h-100",style:X(t.value===1?{display:"flex"}:{display:"none"})},[w(i)],4),u("div",{class:"h-100",style:X(t.value===2?{display:"flex"}:{display:"none"})},[w(o)],4)])],64)}}}),E2=tt($2,[["__scopeId","data-v-12b33b9c"]]),P2={key:0,id:"welcome",class:"welcome-overlay"},O2={style:{"text-align":"center"},class:"mb-5"},I2={key:0,class:"form-message",style:{color:"yellow"}},R2={key:1,class:"form-message",style:{color:"red"}},F2={class:"field-container flex-all-c"},L2={class:"field-container flex-all-c"},V2={class:"main"},N2={class:"pages-container"},B2={class:"page-nav-container"},z2=q({__name:"staff",setup(s){Ul({meta:[{name:"robots",content:"no-index"}]});const t=ot(),e=D(null),n=D("page1"),a=D(""),i=D(""),o=D(""),l=D(""),r=D(""),c=D(""),d=D(!1),h=D(!1);po(()=>{document.body.style.overflow="auto"}),Ll(()=>{t.isAuthenticated&&t.userData&&(document.title="Cassandra"),document.body.style.overflow="hidden",e.value=localStorage.getItem("RozmachAuth"),e.value&&(e.value=JSON.parse(e.value))});const f=async()=>{d.value=!0;const _=new FormData;_.append("password",o.value),_.append("contact",l.value),_.append("altContact",c.value),_.append("email",r.value);try{const b=await xt.post("user/data",_);if(b.status===200){e.value&&e.value.reset&&(e.value.reset=!1,localStorage.setItem("RozmachAuth",JSON.stringify(e.value))),await t.getUserData(),i.value="success";const T=document.getElementById("welcome");T&&(T.style.display="none")}else b.status===201&&(a.value=b.data.ms)}catch{return a.value="Something went wrong. check your internet connection",Promise.reject()}finally{d.value=!1}},g=G(()=>!(l.value&&o.value)),v=_=>{n.value=_};return(_,b)=>{const T=Cl,S=Rr,A=vc,E=Fc,M=Vg,O=Al,$=v_,C=Wv,P=Lb,B=Ay,N=G0,J=Lx,rt=XS,j=Jk,Q=E2,K=Wl;return m(),x(U,null,[p(e)&&p(e).reset&&p(t).userData&&p(t).userData.role==="staff"||p(e)&&p(e).reset&&p(t).userData&&p(t).userData.role==="head"?(m(),x("div",P2,[w(es,{class:"card flex-all-c"},{default:I(()=>[w(Vl,{id:"school-name"},{default:I(()=>[V(y(p(t).userData.school.name),1)]),_:1}),w(Fs,{style:{"font-size":".9rem","font-family":"sans-serif","text-align":"left","line-height":"1.5"}},{default:I(()=>[u("p",O2,[u("strong",null,"Welcome "+y(p(t).userData.first_name+" "+p(t).userData.last_name)+"! Update your information before you begin",1)]),p(i)?(m(),x("h6",I2,y(p(i)),1)):k("",!0),p(a)?(m(),x("h6",R2,y(p(a)),1)):k("",!0),u("div",F2,[w(nt,{disabled:p(d),class:"form-text-field",modelValue:p(l),"onUpdate:modelValue":b[0]||(b[0]=Y=>Xe(l)?l.value=Y:null),label:"PHONE NUMBER",hint:"Enter you phone number",placeholder:"0596021383","prepend-inner-icon":"mdi-phone",type:"number",variant:"outlined",density:"compact",clearable:""},null,8,["disabled","modelValue"]),w(nt,{disabled:p(d),class:"form-text-field",modelValue:p(c),"onUpdate:modelValue":b[1]||(b[1]=Y=>Xe(c)?c.value=Y:null),label:"SECOND PHONE (OPTIONAL)",type:"number",placeholder:"0556429210",hint:"Enter you second phone number","prepend-inner-icon":"mdi-phone",density:"compact",variant:"outlined",clearable:""},null,8,["disabled","modelValue"])]),u("div",L2,[w(nt,{disabled:p(d),class:"form-text-field",modelValue:p(r),"onUpdate:modelValue":b[2]||(b[2]=Y=>Xe(r)?r.value=Y:null),label:"EMAIL (OPTIONAL)",hint:"Enter your email address",type:"email",placeholder:"nyamejustice2000@gmail.com",variant:"outlined","prepend-inner-icon":"mdi-email",density:"compact",clearable:""},null,8,["disabled","modelValue"]),w(nt,{"append-inner-icon":p(h)?"mdi-eye-off-outline":"mdi-eye-outline","onClick:appendInner":b[3]||(b[3]=Y=>h.value=!p(h)),disabled:p(d),type:p(h)?"text":"password",clearable:"",density:"compact",class:"form-text-field",variant:"outlined",hint:"Enter a new password",modelValue:p(o),"onUpdate:modelValue":b[4]||(b[4]=Y=>Xe(o)?o.value=Y:null),label:"RESET PASSWORD","prepend-inner-icon":"mdi-lock-outline"},null,8,["append-inner-icon","disabled","type","modelValue"])])]),_:1}),w(Ls,{class:"flex-all"},{default:I(()=>[w(Z,{class:"overlay-btn",disabled:p(g),loading:p(d),elevation:"4",onClick:b[5]||(b[5]=Y=>f())},{default:I(()=>[V("DONE")]),_:1},8,["disabled","loading"])]),_:1})]),_:1})])):k("",!0),w(T),u("main",V2,[u("div",N2,[u("div",B2,[p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("button",{key:0,class:W(["nav-btn",{"nav-btn-active":p(n)==="page1"}]),onClick:b[6]||(b[6]=Y=>v("page1"))},[w(H,{icon:"mdi-eye"}),V(" OVERVIEW ")],2)):k("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("button",{key:1,class:W(["nav-btn",{"nav-btn-active":p(n)==="page2"}]),onClick:b[7]||(b[7]=Y=>v("page2"))},[w(H,{icon:"mdi-account"}),V(" DEPARTMENTS ")],2)):k("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("button",{key:2,class:W(["nav-btn",{"nav-btn-active":p(n)==="page3"}]),onClick:b[8]||(b[8]=Y=>v("page3"))},[w(H,{icon:"mdi-account-group-outline"}),V(" STUDENTS ")],2)):k("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("button",{key:3,class:W(["nav-btn",{"nav-btn-active":p(n)==="page4"}]),onClick:b[9]||(b[9]=Y=>v("page4"))},[w(H,{icon:"mdi-chart-bar"}),V(" ANALYTICS ")],2)):k("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("button",{key:4,class:W(["nav-btn",{"nav-btn-active":p(n)==="page5"}]),onClick:b[10]||(b[10]=Y=>v("page5"))},[w(H,{icon:"mdi-alert-octagon-outline"}),V(" HELP ")],2)):k("",!0),p(t).userData&&p(t).userData.staff_role==="teacher"||p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("button",{key:5,class:W(["nav-btn",{"nav-btn-active":p(n)==="page1"}]),onClick:b[11]||(b[11]=Y=>v("page1"))},[w(H,{icon:"mdi-book-open-outline"}),V(" COURSEWORK ")],2)):k("",!0),p(t).userData&&p(t).userData.staff_role==="teacher"||p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("button",{key:6,class:W(["nav-btn",{"nav-btn-active":p(n)==="page2"}]),onClick:b[12]||(b[12]=Y=>v("page2"))},[w(H,{icon:"mdi-account-group-outline"}),V(" STUDENTS ")],2)):k("",!0),p(t).userData&&p(t).userData.staff_role==="teacher"||p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("button",{key:7,class:W(["nav-btn",{"nav-btn-active":p(n)==="page3"}]),onClick:b[13]||(b[13]=Y=>v("page3"))},[w(H,{icon:"mdi-chart-bar"}),V(" ANALYTICS ")],2)):k("",!0),p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("button",{key:8,class:W(["nav-btn",{"nav-btn-active":p(n)==="page4"}]),onClick:b[14]||(b[14]=Y=>v("page4"))},[w(H,{icon:"mdi-account-multiple"}),V(" TEACHERS ")],2)):k("",!0),p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("button",{key:9,class:W(["nav-btn",{"nav-btn-active":p(n)==="page5"}]),onClick:b[15]||(b[15]=Y=>v("page5"))},[w(H,{icon:"mdi-chart-line"}),V(" PERFORMANCE ")],2)):k("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("button",{key:10,class:W(["nav-btn",{"nav-btn-active":p(n)==="page1"}]),onClick:b[16]||(b[16]=Y=>v("page1"))},[w(H,{icon:"mdi-calendar"}),V(" CALENDAR ")],2)):k("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("button",{key:11,class:W(["nav-btn",{"nav-btn-active":p(n)==="page2"}]),onClick:b[17]||(b[17]=Y=>v("page2"))},[w(H,{icon:"mdi-account-group-outline"}),V(" STUDENTS ")],2)):k("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("button",{key:12,class:W(["nav-btn",{"nav-btn-active":p(n)==="page3"}]),onClick:b[18]||(b[18]=Y=>v("page3"))},[w(H,{icon:"mdi-account-multiple"}),V(" TEACHERS ")],2)):k("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("button",{key:13,class:W(["nav-btn",{"nav-btn-active":p(n)==="page4"}]),onClick:b[19]||(b[19]=Y=>v("page4"))},[w(H,{icon:"mdi-account"}),V(" HEAD ")],2)):k("",!0),p(t).userData&&p(t).userData.role==="staff"?(m(),x("button",{key:14,class:W(["nav-btn",{"nav-btn-active":p(n)==="page6"}]),onClick:b[20]||(b[20]=Y=>v("page6"))},[w(H,{icon:"mdi-alert-octagon-outline"}),V(" HELP ")],2)):k("",!0)]),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("div",{key:0,class:"pages",style:X(p(n)==="page1"?{display:"flex"}:{display:"none"})},[w(S)],4)):k("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("div",{key:1,class:"pages",style:X(p(n)==="page2"?{display:"flex"}:{display:"none"})},[w(A)],4)):k("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("div",{key:2,class:"pages",style:X(p(n)==="page3"?{display:"flex"}:{display:"none"})},[w(E)],4)):k("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("div",{key:3,class:"pages",style:X(p(n)==="page4"?{display:"flex"}:{display:"none"})},[w(M)],4)):k("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("div",{key:4,class:"pages",style:X(p(n)==="page5"?{display:"flex"}:{display:"none"})},[w(O)],4)):k("",!0),p(t).userData&&p(t).userData.staff_role==="teacher"||p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("div",{key:5,class:"pages",style:X(p(n)==="page1"?{display:"flex"}:{display:"none"})},[w($)],4)):k("",!0),p(t).userData&&p(t).userData.staff_role==="teacher"||p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("div",{key:6,class:"pages",style:X(p(n)==="page2"?{display:"flex"}:{display:"none"})},[w(C)],4)):k("",!0),p(t).userData&&p(t).userData.staff_role==="teacher"||p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("div",{key:7,class:"pages",style:X(p(n)==="page3"?{display:"flex"}:{display:"none"})},[w(P)],4)):k("",!0),p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("div",{key:8,class:"pages",style:X(p(n)==="page4"?{display:"flex"}:{display:"none"})},[w(B)],4)):k("",!0),p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("div",{key:9,class:"pages",style:X(p(n)==="page5"?{display:"flex"}:{display:"none"})},[w(N)],4)):k("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("div",{key:10,class:"pages",style:X(p(n)==="page1"?{display:"flex"}:{display:"none"})},[w(J)],4)):k("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("div",{key:11,class:"pages",style:X(p(n)==="page2"?{display:"flex"}:{display:"none"})},[w(rt)],4)):k("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("div",{key:12,class:"pages",style:X(p(n)==="page3"?{display:"flex"}:{display:"none"})},[w(j)],4)):k("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("div",{key:13,class:"pages",style:X(p(n)==="page4"?{display:"flex"}:{display:"none"})},[w(Q)],4)):k("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="staff"?(m(),x("div",{key:14,class:"pages",style:X(p(n)==="page6"?{display:"flex"}:{display:"none"})},[w(O)],4)):k("",!0)])]),w(K)],64)}}}),K2=tt(z2,[["__scopeId","data-v-29c8f974"]]);export{K2 as default};
