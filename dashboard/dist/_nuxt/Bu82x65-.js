import{a as H,_ as B,g as W,k as X,l as K}from"./Cd8-Tyjt.js";import{d as x,F as E,t as a,v as n,K as s,T as O,L as v,A as D,x as t,V as $,W as S,y as _,C as R,D as M,_ as C,r as y,z as h,B as b,X as w,Y as k,c as q,a4 as P,e as Q,G as Z}from"./B1D96XxP.js";import{u as J,b as U,c as tt,V as et,a as st}from"./DNtRee77.js";import{_ as at}from"./BUfmaqMB.js";import{V,a as I}from"./22xfYYdk.js";import{_ as nt}from"./Dom57xaj.js";import{u as ot}from"./C1u3M5Wd.js";const lt=r=>(R("data-v-7313bead"),r=r(),M(),r),ct={style:{width:"100%",position:"relatve",height:"100%"}},rt=lt(()=>t("thead",null,[t("tr",null,[t("th",{class:"table-head"},"NAME"),t("th",{class:"table-head"},"ID"),t("th",{class:"table-head"},"GENDER"),t("th",{class:"table-head"},"IMAGE")])],-1)),ut={class:"table-data"},dt={class:"table-data"},it={class:"table-data"},_t={class:"table-data"},mt=["src"],ht=x({__name:"StudentClassStudents",setup(r){const e=E();return J(),(u,o)=>{const d=B;return a(),n("div",ct,[s(e).studentData.classData?v("",!0):(a(),O(d,{key:0})),s(e).studentData.classData&&s(e).studentData.classData.length>0?(a(),O(H,{key:1,"fixed-header":"",class:"table-1"},{default:D(()=>[rt,t("tbody",null,[(a(!0),n($,null,S(s(e).studentData.classData,(i,p)=>(a(),n("tr",{key:p},[t("td",ut,_(i.user.first_name)+" "+_(i.user.last_name),1),t("td",dt,_(i.st_id),1),t("td",it,_(i.gender),1),t("td",_t,[t("img",{class:"profile-img",src:i.img},null,8,mt)])]))),128))])]),_:1})):v("",!0)])}}}),vt=C(ht,[["__scopeId","data-v-7313bead"]]),F=r=>(R("data-v-665e5bd0"),r=r(),M(),r),pt={id:"subjectOverlay",class:"overlay"},yt={class:"info-container"},bt={class:"flex-all-c ma-5"},ft={class:"subject-name"},gt={key:0,class:"title"},Dt={key:1,class:"teacher-info"},$t=F(()=>t("h4",{class:"title"},"TEACHER INFO",-1)),Tt={class:"title"},St={class:"title"},kt={class:"title"},xt={class:"title"},Et={class:"title"},Ct={class:"title"},wt=["src"],It={class:"d-flex flex-column h-100 w-100 justify-center align-center"},Ot={key:1,class:"notice"},At={key:2,class:"subject-container"},Nt=F(()=>t("img",{class:"subject-img",src:at,alt:"subject image"},null,-1)),jt={class:"subject-title"},Rt=x({__name:"StudentClassSubjects",setup(r){const e=E();J();const u=y(""),o=y("not assigned yet"),d=y(""),i=y(""),p=y(""),m=y(""),l=y(""),c=(T,N,j,f,L,Y,G)=>{u.value=T,N!="null"&&(o.value=N,d.value=j,i.value=f,p.value=Y,m.value=L,l.value=G);const z=document.getElementById("subjectOverlay");z&&(z.style.display="flex")},A=()=>{const T=document.getElementById("subjectOverlay");o.value="No teacher has been assigned to this subject yet",d.value="",i.value="",p.value="",m.value="",l.value="",T&&(T.style.display="none")};return(T,N)=>{const j=B;return a(),n($,null,[t("div",pt,[t("div",yt,[h(V,{onClick:A,color:"red",size:"small",class:"close-btn"},{default:D(()=>[b("X")]),_:1}),t("div",bt,[t("h4",ft,[t("strong",null,_(u.value),1)]),o.value==="No teacher has been assigned to this subject yet"?(a(),n("p",gt,"No teacher has been assigned to this subject yet")):v("",!0),o.value!="No teacher has been assigned to this subject yet"?(a(),n("div",Dt,[$t,t("p",Tt,[b("NAME: "),t("strong",null,_(o.value),1)]),t("p",St,[b("GENDER: "),t("strong",null,_(i.value),1)]),t("p",kt,[b("DEPARTMENT: "),t("strong",null,_(l.value),1)]),t("p",xt,[b("PHONE NO: "),t("strong",null,_(p.value),1)]),t("p",Et,[b("EMAIL: "),t("strong",null,_(m.value),1)]),t("p",Ct,[t("img",{class:"teacher-img",src:d.value},null,8,wt)])])):v("",!0)])])]),t("section",It,[s(e).studentData&&!s(e).studentData.subjects?(a(),O(j,{key:0})):v("",!0),s(e).userData&&s(e).userData.current_yr==="COMPLETED"?(a(),n("p",Ot,"YOU HAVE COMPLETED SCHOOL")):v("",!0),s(e).userData&&s(e).userData.current_yr!=="COMPLETED"&&s(e).studentData&&s(e).studentData.subjects?(a(),n("div",At,[(a(!0),n($,null,S(s(e).studentData.subjects,(f,L)=>(a(),O(U,{onClick:Y=>c(f.name,f.teacher,f.teacher_img,f.teacher_gender,f.teacher_email,f.teacher_contact,f.teacher_department),class:"subject-card",key:L},{default:D(()=>[Nt,t("p",jt,_(f.name),1)]),_:2},1032,["onClick"]))),128))])):v("",!0)])],64)}}}),Mt=C(Rt,[["__scopeId","data-v-665e5bd0"]]),Vt={class:"section-nav-container"},Lt={class:"sections"},Pt=x({__name:"StudentClass",setup(r){E();const e=y(1),u=o=>{e.value=o};return(o,d)=>{const i=vt,p=Mt;return a(),n($,null,[t("div",Vt,[t("button",{class:w(["nav-btn-1",{"nav-btn-1-active":e.value===1}]),onClick:d[0]||(d[0]=m=>u(1))},[h(I,{icon:"mdi-account"}),b(" STUDENTS ")],2),t("button",{class:w(["nav-btn-1",{"nav-btn-1-active":e.value===2}]),onClick:d[1]||(d[1]=m=>u(2))},[h(I,{icon:"mdi-book-open"}),b(" SUBJECTS ")],2)]),t("div",Lt,[t("div",{class:"h-100",style:k(e.value===1?{display:"flex"}:{display:"none"})},[h(i)],4),t("div",{class:"h-100",style:k(e.value===2?{display:"flex"}:{display:"none"})},[h(p)],4)])],64)}}}),Bt=C(Pt,[["__scopeId","data-v-2febb51b"]]),g=r=>(R("data-v-b7c00db7"),r=r(),M(),r),Yt={style:{width:"100%",position:"relative",height:"100%"}},zt={key:1,class:"no-data flex-all"},Ht=g(()=>t("p",null,"No data yet",-1)),Jt=[Ht],Ut=g(()=>t("thead",null,[t("tr",null,[t("th",{class:"table-head"},"SUBJECT"),t("th",{class:"table-head"},"SCORE")])],-1)),Ft={key:0},Gt={key:0,class:"table-title-container",style:{position:"relative"}},Wt=g(()=>t("td",null,"Justice",-1)),Xt=g(()=>t("td",{class:"table-title"},"TRIMESTER 3",-1)),Kt=[Wt,Xt],qt={class:"table-data"},Qt={class:"table-data"},Zt={key:1,class:"table-title-container",style:{position:"relative"}},te=g(()=>t("td",null,"Justice",-1)),ee=g(()=>t("td",{class:"table-title"},"TRIMESTER 2",-1)),se=[te,ee],ae={class:"table-data"},ne={class:"table-data"},oe={key:2,class:"table-title-container",style:{position:"relative"}},le=g(()=>t("td",null,"Justice",-1)),ce=g(()=>t("td",{class:"table-title"},"TRIMESTER 1",-1)),re=[le,ce],ue={class:"table-data"},de={class:"table-data"},ie={key:1},_e={key:0,class:"table-title-container",style:{position:"relative"}},me=g(()=>t("td",null,"Justice",-1)),he=g(()=>t("td",{class:"table-title"},"SEMESTER 2",-1)),ve=[me,he],pe={class:"table-data"},ye={class:"table-data"},be={key:1,class:"table-title-container",style:{position:"relative"}},fe=g(()=>t("td",null,"Justice",-1)),ge=g(()=>t("td",{class:"table-title"},"SEMESTER 1",-1)),De=[fe,ge],$e={class:"table-data"},Te={class:"table-data"},Se=x({__name:"StudentTermResults",setup(r){const e=E();return(u,o)=>{var i,p,m;const d=B;return a(),n("div",Yt,[!s(e).studentData.results.termOne&&!s(e).studentData.results.termTwo&&!s(e).studentData.results.termThree?(a(),O(d,{key:0})):v("",!0),((i=s(e).studentData.results.termOne)==null?void 0:i.length)===0&&((p=s(e).studentData.results.termTwo)==null?void 0:p.length)===0&&((m=s(e).studentData.results.termThree)==null?void 0:m.length)===0?(a(),n("h4",zt,Jt)):v("",!0),s(e).studentData.results.termThree&&s(e).studentData.results.termThree.length>0||s(e).studentData.results.termTwo&&s(e).studentData.results.termTwo.length>0||s(e).studentData.results.termOne&&s(e).studentData.results.termOne.length>0?(a(),O(H,{key:2,"fixed-header":""},{default:D(()=>[Ut,!s(e).userData&&s(e).userData.school.semesters?(a(),n("tbody",Ft,[s(e).studentData.results.termThree&&s(e).studentData.results.termThree.length>0?(a(),n("tr",Gt,Kt)):v("",!0),(a(!0),n($,null,S(s(e).studentData.results.termThree,(l,c)=>(a(),n("tr",{key:c},[t("td",qt,_(l.subject.name),1),t("td",Qt,_(l.score),1)]))),128)),s(e).studentData.results.termTwo&&s(e).studentData.results.termTwo.length>0?(a(),n("tr",Zt,se)):v("",!0),(a(!0),n($,null,S(s(e).studentData.results.termTwo,(l,c)=>(a(),n("tr",{key:c},[t("td",ae,_(l.subject.name),1),t("td",ne,_(l.score),1)]))),128)),s(e).studentData.results.termOne&&s(e).studentData.results.termOne.length>0?(a(),n("tr",oe,re)):v("",!0),(a(!0),n($,null,S(s(e).studentData.results.termOne,(l,c)=>(a(),n("tr",{key:c},[t("td",ue,_(l.subject.name),1),t("td",de,_(l.score),1)]))),128))])):v("",!0),s(e).userData&&s(e).userData.school.semesters?(a(),n("tbody",ie,[s(e).studentData.results.termTwo&&s(e).studentData.results.termTwo.length>0?(a(),n("tr",_e,ve)):v("",!0),(a(!0),n($,null,S(s(e).studentData.results.termTwo,(l,c)=>(a(),n("tr",{key:c},[t("td",pe,_(l.subject.name),1),t("td",ye,_(l.score),1)]))),128)),s(e).studentData.results.termOne&&s(e).studentData.results.termOne.length>0?(a(),n("tr",be,De)):v("",!0),(a(!0),n($,null,S(s(e).studentData.results.termOne,(l,c)=>(a(),n("tr",{key:c},[t("td",$e,_(l.subject.name),1),t("td",Te,_(l.score),1)]))),128))])):v("",!0)]),_:1})):v("",!0)])}}}),ke=C(Se,[["__scopeId","data-v-b7c00db7"]]),xe={class:"sections-container"},Ee={key:0,class:"section-nav-container"},Ce={key:0,class:"d-flex flex-column justify-center align-center"},we={class:"sections"},Ie=x({__name:"StudentResults",setup(r){const e=E(),u=y(e.activeTerm),o=y(!1),d=y(null),i=y(0),p=q(()=>!d.value),m=async()=>{if(i.value===0){if(d.value&&d.value!==e.activeAcademicYear){o.value=!0;const l=new FormData;l.append("year",d.value),await P.post("st/data",l).then(c=>{e.studentData.results.termOne=c.data.term_one,e.studentData.results.termTwo=c.data.term_two,e.studentData.results.termThree=c.data.term_three,o.value=!1,i.value=1}).catch(c=>(o.value=!1,Promise.reject()))}}else if(i.value===1){o.value=!0;const l=new FormData;l.append("year",d.value),await P.post("st/data",l).then(c=>{e.studentData.results.termOne=c.data.term_one,e.studentData.results.termTwo=c.data.term_two,e.studentData.results.termThree=c.data.term_three,o.value=!1,i.value=1}).catch(c=>(o.value=!1,Promise.reject()))}};return(l,c)=>{const A=ke;return a(),n("div",xe,[s(e).userData&&s(e).userData.school.semesters?(a(),n("div",Ee,[s(e).studentData.results.academicYears?(a(),n("div",Ce,[h(W,{label:s(e).userData.current_yr==="COMPLETED"||s(e).userData.current_yr===4?s(e).studentData.results.academicYears[0].name:s(e).activeAcademicYear,modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=T=>d.value=T),clearable:"",items:s(e).studentData.results.academicYears,class:"select",density:"compact",variant:"outlined","item-title":"name","item-value":"name",disabled:o.value},null,8,["label","modelValue","items","disabled"]),h(V,{onClick:m,disabled:p.value,loading:o.value,color:"green",size:"small"},{default:D(()=>[b("CHANGE")]),_:1},8,["disabled","loading"])])):v("",!0)])):v("",!0),t("div",we,[t("div",{style:k(u.value===1?{display:"flex"}:{display:"none"})},[h(A)],4)])])}}}),Oe=C(Ie,[["__scopeId","data-v-eff7bb80"]]),Ae=r=>(R("data-v-ca83dc84"),r=r(),M(),r),Ne={class:"w-100 h-100 flex-all-c"},je={key:0,class:"btn-container flex-all-c"},Re={key:0,style:{color:"green"},class:"message"},Me={key:1,style:{color:"red"},class:"message"},Ve=Ae(()=>t("p",null,"Click to download your transcript as a DOCX (Microsoft Word Document) file.",-1)),Le=x({__name:"StudentTranscript",setup(r){const e=y(!1),u=y(""),o=y(""),d=E(),i=()=>{setTimeout(()=>{u.value="",o.value=""},1e4)},p=async()=>{u.value="",o.value="",e.value=!0;try{const m=await P.post("st/transcript");if(m.status===200){const l=document.createElement("a");l.href=m.data,l.download=`${d.userData.first_name}_${d.userData.last_name}_transcript.docx`,l.click(),u.value="Your transcript has been generated successfully and will be downloaded"}}catch{return o.value="Something went wrong! check you internet connect",Promise.reject()}finally{e.value=!1,i()}};return(m,l)=>(a(),n("div",Ne,[s(d).userData?(a(),n("div",je,[u.value?(a(),n("p",Re,_(u.value),1)):v("",!0),o.value?(a(),n("p",Me,_(o.value),1)):v("",!0),h(V,{loading:e.value,onClick:l[0]||(l[0]=c=>p()),color:"green"},{default:D(()=>[b("DOWNLOAD")]),_:1},8,["loading"]),Ve])):v("",!0)]))}}),Pe=C(Le,[["__scopeId","data-v-ca83dc84"]]),Be=r=>(R("data-v-bf29d7f5"),r=r(),M(),r),Ye={key:0,id:"welcome",class:"welcome-overlay"},ze={style:{"text-align":"center"}},He=Be(()=>t("p",null,"We're excited to have you here. This is your special place to find everything you need for a successful school year. Explore your subjects, get to know your teachers and classmates, and discover valuable resources to help you thrive in your studies.",-1)),Je={class:"main"},Ue={class:"pages-container"},Fe={class:"page-nav-container"},Ge=x({__name:"student",setup(r){ot({meta:[{name:"robots",content:"no-index"}]});const e=E(),u=y(null),o=y("page1");Q(()=>{document.body.style.overflow="auto"}),Z(()=>{e.isAuthenticated&&(document.title="cassandra"),document.body.style.overflow="hidden",u.value=localStorage.getItem("RozmachAuth"),u.value&&(u.value=JSON.parse(u.value))});const d=()=>{const p=document.getElementById("welcome");p&&(u.value&&!u.value.last_login&&(u.value.last_login=!0,localStorage.setItem("RozmachAuth",JSON.stringify(u.value))),p.style.display="none")},i=p=>{o.value=p};return(p,m)=>{const l=X,c=Bt,A=Oe,T=Pe,N=K,j=nt;return a(),n($,null,[s(u)&&!s(u).last_login&&s(e).userData?(a(),n("div",Ye,[h(U,{class:"flex-all-c card"},{default:D(()=>[h(tt,{id:"company-name"},{default:D(()=>[b(_(s(e).userData.school.name),1)]),_:1}),h(et,{style:{"font-size":".9rem","font-family":"sans-serif","text-align":"left","line-height":"1.2"}},{default:D(()=>[t("p",ze,[b("Welcome "),t("strong",null,_(s(e).userData.first_name+" "+s(e).userData.last_name)+"!",1)]),He,t("p",null,"If you face any problem here, go to the help tab and make a submission. We're here for you "+_(s(e).userData.first_name)+"!",1)]),_:1}),h(st,{class:"flex-all"},{default:D(()=>[h(V,{class:"overlay-btn",elevation:"4",onClick:m[0]||(m[0]=f=>d())},{default:D(()=>[b("OK")]),_:1})]),_:1})]),_:1})])):v("",!0),h(l),t("main",Je,[t("div",Ue,[t("div",Fe,[t("button",{class:w(["nav-btn",{"nav-btn-active":s(o)==="page1"}]),onClick:m[1]||(m[1]=f=>i("page1"))},[h(I,{icon:"mdi-account-group-outline"}),b("MY CLASS")],2),t("button",{class:w(["nav-btn",{"nav-btn-active":s(o)==="page2"}]),onClick:m[2]||(m[2]=f=>i("page2"))},[h(I,{icon:"mdi-book-open-outline"}),b("MY RESULTS")],2),t("button",{class:w(["nav-btn",{"nav-btn-active":s(o)==="page3"}]),onClick:m[3]||(m[3]=f=>i("page3"))},[h(I,{icon:"mdi-book-account"}),b("TRANSCRIPT")],2),t("button",{class:w(["nav-btn",{"nav-btn-active":s(o)==="page4"}]),onClick:m[4]||(m[4]=f=>i("page4"))},[h(I,{icon:"mdi-help"}),b("HELP")],2)]),t("div",{class:"pages",style:k(s(o)==="page1"?{display:"flex"}:{display:"none"})},[h(c)],4),t("div",{class:"pages",style:k(s(o)==="page2"?{display:"flex"}:{display:"none"})},[h(A)],4),t("div",{class:"pages",style:k(s(o)==="page3"?{display:"flex"}:{display:"none"})},[h(T)],4),t("div",{class:"pages",style:k(s(o)==="page4"?{display:"flex"}:{display:"none"})},[h(N)],4)])]),h(j)],64)}}}),es=C(Ge,[["__scopeId","data-v-bf29d7f5"]]);export{es as default};
