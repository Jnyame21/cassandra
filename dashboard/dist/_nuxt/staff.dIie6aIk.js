var kl=Object.defineProperty;var wl=(s,t,e)=>t in s?kl(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var z=(s,t,e)=>(wl(s,typeof t!="symbol"?t+"":t,e),e);import{m as Tl,V as Ra,a as pt,_ as St,b as Fe,c as Le,d as $t,e as Ve,f as es,g as Pt,h as oo,i as Dl,j as Ml,k as Al}from"./TheFooter.gwtufM7G.js";import{M as lo,N as Cl,O as ro,P as co,Q as $l,c as G,R as uo,z as D,S as Rt,d as q,t as m,v as x,x as u,y,_ as st,G as ot,r as T,T as L,A as I,B as V,L as S,C as kt,D as wt,U as qe,K as p,V as U,W as et,X as W,Y as X,Z as ho,g as Jn,$ as El,o as Pl,e as fo,a0 as Kn,a1 as mo,a2 as po,a3 as Je,a4 as xt,a5 as Ol,a6 as Il,a7 as Fa,a8 as Rl,J as Kt,F as Fl}from"./entry.GMo2VvlD.js";import{u as go,a as H,V as Q}from"./index.dYwmjE1g.js";import{u as An,V as Fs,a as Ls,b as ss,c as Ll}from"./VCard.uWXR-3II.js";import{m as _o,u as vo,b as bn,a as nt,c as Vl,f as Nl,d as Bl,e as zl,g as jl}from"./VTextField.zF17fB59.js";import{u as Hl}from"./vue.f36acd1f.GnURtZe-.js";const Wl=lo({..._o(),...Cl(Tl(),["inline"])},"VCheckbox"),Ul=ro()({name:"VCheckbox",inheritAttrs:!1,props:Wl(),emits:{"update:modelValue":s=>!0,"update:focused":s=>!0},setup(s,t){let{attrs:e,slots:n}=t;const a=co(s,"modelValue"),{isFocused:i,focus:o,blur:l}=vo(s),r=$l(),c=G(()=>s.id||`checkbox-${r}`);return go(()=>{const[d,f]=uo(e),h=bn.filterProps(s),g=Ra.filterProps(s);return D(bn,Rt({class:["v-checkbox",s.class]},d,h,{modelValue:a.value,"onUpdate:modelValue":_=>a.value=_,id:c.value,focused:i.value,style:s.style}),{...n,default:_=>{let{id:v,messagesId:b,isDisabled:w,isReadonly:k}=_;return D(Ra,Rt(g,{id:v.value,"aria-describedby":b.value,disabled:w.value,readonly:k.value},f,{modelValue:a.value,"onUpdate:modelValue":M=>a.value=M,onFocus:o,onBlur:l}),n)}})}),{}}}),Yl={class:"w-100 h-100 flex-all-c"},Gl={class:"no-data"},Xl=q({__name:"NoData",props:{message:{}},setup(s){return(t,e)=>(m(),x("div",Yl,[u("h4",Gl,[u("p",null,y(t.message),1)])]))}}),ue=st(Xl,[["__scopeId","data-v-f46f0caa"]]),Vs=s=>(kt("data-v-97a291fc"),s=s(),wt(),s),Jl={style:{width:"100%",position:"relative",height:"100%"}},Kl={class:"table-title-container",style:{position:"relative"}},ql=Vs(()=>u("td",null,"Justice",-1)),Zl={class:"subtitle"},Ql=Vs(()=>u("td",{class:"table-data"},"Total",-1)),tr={class:"table-data-value"},er={key:0,class:"table-data"},sr=Vs(()=>u("td",{class:"table-data"},"form one",-1)),nr={class:"table-data-value"},ar={key:0,class:"table-data"},ir=Vs(()=>u("td",{class:"table-data"},"form two",-1)),or={class:"table-data-value"},lr={key:0,class:"table-data"},rr=Vs(()=>u("td",{class:"table-data"},"form three",-1)),cr={class:"table-data-value"},dr={key:0,class:"table-data"},ur=q({__name:"HeadOverviewPrograms",props:{program:{}},setup(s){const{program:t}=s;ot();const e=T([]),n=T([]),a=T([]),i=T([]),o=T([]),l=T([]),r=T([]),c=T([]),d=T([]),f=T([]),h=T([]),g=T([]);return t.classes.forEach(_=>{_&&_.students&&_.students.forEach(v=>{e.value.push(v),v.gender&&v.gender==="MALE"||v.gender==="M"?n.value.push(v):a.value.push(v),v.current_year&&v.current_year===1?(i.value.push(v),v.gender&&v.gender==="MALE"||v.gender==="M"?o.value.push(v):l.value.push(v)):v.current_year&&v.current_year===2?(r.value.push(v),v.gender&&v.gender==="MALE"||v.gender==="M"?c.value.push(v):d.value.push(v)):v.current_year&&v.current_year===3&&(f.value.push(v),v.gender&&v.gender==="MALE"||v.gender==="M"?h.value.push(v):g.value.push(v))})}),(_,v)=>(m(),x("div",Jl,[e.value.length>0?(m(),L(pt,{key:0,class:"mt-5",height:"300px"},{default:I(()=>[u("tbody",null,[u("tr",Kl,[ql,u("td",Zl,y(_.program.name),1)]),u("tr",null,[Ql,u("td",tr,[V(y(e.value.length)+" ",1),e.value&&e.value.length>0&&e.value[0].gender?(m(),x("span",er," [ M: "+y(n.value.length)+"("+y(parseFloat((n.value.length/e.value.length*100).toFixed(1)))+")%] [ F: "+y(a.value.length)+"("+y(parseFloat((a.value.length/e.value.length*100).toFixed(1)))+")%] ",1)):S("",!0)])]),u("tr",null,[sr,u("td",nr,[V(y(i.value.length)+" ",1),i.value&&i.value.length>0&&i.value[0].gender?(m(),x("span",ar," [ M: "+y(o.value.length)+"("+y(parseFloat((o.value.length/i.value.length*100).toFixed(1)))+")%] [ F: "+y(l.value.length)+"("+y(parseFloat((l.value.length/i.value.length*100).toFixed(1)))+")%] ",1)):S("",!0)])]),u("tr",null,[ir,u("td",or,[V(y(r.value.length)+" ",1),r.value&&r.value.length>0&&r.value[0].gender?(m(),x("span",lr," [ M: "+y(c.value.length)+"("+y(parseFloat((c.value.length/r.value.length*100).toFixed(1)))+")%] [ F: "+y(d.value.length)+"("+y(parseFloat((d.value.length/r.value.length*100).toFixed(1)))+")%] ",1)):S("",!0)])]),u("tr",null,[rr,u("td",cr,[V(y(f.value.length)+" ",1),f.value&&f.value.length>0&&f.value[0].gender?(m(),x("span",dr," [ M: "+y(h.value.length)+"("+y(parseFloat((h.value.length/f.value.length*100).toFixed(1)))+")%] [ F: "+y(g.value.length)+"("+y(parseFloat((g.value.length/f.value.length*100).toFixed(1)))+")%] ",1)):S("",!0)])])])]),_:1})):S("",!0)]))}}),hr=st(ur,[["__scopeId","data-v-97a291fc"]]),ze=s=>(kt("data-v-a79dd4bb"),s=s(),wt(),s),fr={style:{width:"100%",position:"relative",height:"100%"},class:"overview"},mr=ze(()=>u("tr",{class:"table-title-container",style:{position:"relative"}},[u("td",null,"Justice"),u("td",{class:"table-title"},"students")],-1)),pr=ze(()=>u("td",{class:"table-data"},"Total",-1)),gr={class:"table-data-value"},_r={key:0,class:"table-data"},vr=ze(()=>u("td",{class:"table-data"},"form one",-1)),br={class:"table-data-value"},yr={key:0,class:"table-data"},xr=ze(()=>u("td",{class:"table-data"},"form two",-1)),Sr={class:"table-data-value"},kr={key:0,class:"table-data"},wr=ze(()=>u("td",{class:"table-data"},"form three",-1)),Tr={class:"table-data-value"},Dr={key:0,class:"table-data"},Mr=ze(()=>u("tr",{class:"table-title-container",style:{position:"relative"}},[u("td",null,"Justice"),u("td",{class:"table-title"},"teachers")],-1)),Ar={key:0},Cr=ze(()=>u("td",{class:"table-data"},"total",-1)),$r={class:"table-data-value"},Er={key:0,class:"table-data"},Pr=q({__name:"HeadOverview",setup(s){const t=ot(),e=T([]),n=T([]),a=T([]),i=T([]),o=T([]),l=T([]),r=T([]),c=T([]),d=T([]),f=T([]),h=T([]),g=T([]),_=T([]),v=T([]),b=T([]);return qe(()=>t.headDepartments,(w,k)=>{w&&w.forEach(M=>{M&&M.department.teachers.forEach(E=>{_.value.push(E),E.gender&&E.gender==="MALE"||E.gender==="M"?v.value.push(E):b.value.push(E)})})}),qe(()=>t.headPrograms,(w,k)=>{w&&w.forEach(M=>{M.classes.forEach(E=>{E&&E.students&&E.students.forEach(A=>{e.value.push(A),A.gender&&A.gender==="MALE"||A.gender==="M"?n.value.push(A):a.value.push(A),A.current_year&&A.current_year===1?(i.value.push(A),A.gender&&A.gender==="MALE"||A.gender==="M"?o.value.push(A):l.value.push(A)):A.current_year&&A.current_year===2?(r.value.push(A),A.gender&&A.gender==="MALE"||A.gender==="M"?c.value.push(A):d.value.push(A)):A.current_year&&A.current_year===3&&(f.value.push(A),A.gender&&A.gender==="MALE"||A.gender==="M"?h.value.push(A):g.value.push(A))})})})}),(w,k)=>{const M=St,E=ue,A=hr;return m(),x("div",fr,[!p(t).headDepartments&&!p(t).headPrograms?(m(),L(M,{key:0})):S("",!0),p(t).headDepartments&&p(t).headPrograms&&e.value.length===0&&_.value.length===0?(m(),L(E,{key:1,message:"No data yet"})):S("",!0),e.value.length>0||_.value.length>0?(m(),L(pt,{key:2,class:"mt-5",height:"300px"},{default:I(()=>[u("tbody",null,[mr,u("tr",null,[pr,u("td",gr,[V(y(e.value.length)+" ",1),e.value&&e.value.length>0&&e.value[0].gender?(m(),x("span",_r," [ M: "+y(n.value.length)+"("+y(parseFloat((n.value.length/e.value.length*100).toFixed(1)))+")%] [ F: "+y(a.value.length)+"("+y(parseFloat((a.value.length/e.value.length*100).toFixed(1)))+")%] ",1)):S("",!0)])]),u("tr",null,[vr,u("td",br,[V(y(i.value.length)+" ",1),i.value&&i.value.length>0&&i.value[0].gender?(m(),x("span",yr," [ M: "+y(o.value.length)+"("+y(parseFloat((o.value.length/i.value.length*100).toFixed(1)))+")%] [ F: "+y(l.value.length)+"("+y(parseFloat((l.value.length/i.value.length*100).toFixed(1)))+")%] ",1)):S("",!0)])]),u("tr",null,[xr,u("td",Sr,[V(y(r.value.length)+" ",1),r.value&&r.value.length>0&&r.value[0].gender?(m(),x("span",kr," [ M: "+y(c.value.length)+"("+y(parseFloat((c.value.length/r.value.length*100).toFixed(1)))+")%] [ F: "+y(d.value.length)+"("+y(parseFloat((d.value.length/r.value.length*100).toFixed(1)))+")%] ",1)):S("",!0)])]),u("tr",null,[wr,u("td",Tr,[V(y(f.value.length)+" ",1),f.value&&f.value.length>0&&f.value[0].gender?(m(),x("span",Dr," [ M: "+y(h.value.length)+"("+y(parseFloat((h.value.length/f.value.length*100).toFixed(1)))+")%] [ F: "+y(g.value.length)+"("+y(parseFloat((g.value.length/f.value.length*100).toFixed(1)))+")%] ",1)):S("",!0)])])])]),_:1})):S("",!0),(m(!0),x(U,null,et(p(t).headPrograms,(O,$)=>(m(),x("div",{key:$},[D(A,{program:O},null,8,["program"])]))),128)),e.value.length>0||_.value.length>0?(m(),L(pt,{key:3,class:"mt-5",height:"110px"},{default:I(()=>[u("tbody",null,[Mr,_.value?(m(),x("tr",Ar,[Cr,u("td",$r,[V(y(_.value.length)+" ",1),_.value.length>0&&_.value[0].gender?(m(),x("span",Er," [ M: "+y(v.value.length)+"("+y(parseFloat((v.value.length/_.value.length*100).toFixed(1)))+")%] [ F: "+y(b.value.length)+"("+y(parseFloat((b.value.length/_.value.length*100).toFixed(1)))+")%] ",1)):S("",!0)])])):S("",!0)])]),_:1})):S("",!0)])}}}),Or=st(Pr,[["__scopeId","data-v-a79dd4bb"]]),Ir=s=>(kt("data-v-ffd145ef"),s=s(),wt(),s),Rr={style:{width:"100%",position:"relative",height:"100%"}},Fr=Ir(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"NAME"),u("th",{class:"table-head"},"STAFF ID"),u("th",{class:"table-head"},"SUBJECT(S)"),u("th",{class:"table-head"},"IMAGE")])],-1)),Lr={class:"table-data"},Vr={key:0,style:{color:"seagreen"}},Nr={class:"table-data"},Br={class:"table-data"},zr={class:"table-data"},jr=["src"],Hr=q({__name:"HeadDepartmentStaffProfile",props:{staff:null},setup(s){const t=s;return(e,n)=>{const a=St,i=ue;return m(),x("div",Rr,[t.staff?S("",!0):(m(),L(a,{key:0})),t.staff&&t.staff.length===0?(m(),L(i,{key:1,message:"No data yet"})):S("",!0),t.staff&&t.staff.length>0?(m(),L(pt,{key:2,"fixed-header":"",height:"55dvh"},{default:I(()=>[Fr,u("tbody",null,[(m(!0),x(U,null,et(t.staff,(o,l)=>(m(),x("tr",{key:l},[u("td",Lr,[V(y(o.user.first_name)+" "+y(o.user.last_name)+" ",1),o.role==="hod"?(m(),x("span",Vr,"[HOD]")):S("",!0)]),u("td",Nr,y(o.staff_id),1),u("td",Br,[(m(!0),x(U,null,et(o.subjects,(r,c)=>(m(),x("p",{key:c},y(r.name),1))),128))]),u("td",zr,[u("img",{class:"profile-img",src:o.img},null,8,jr)])]))),128))])]),_:1})):S("",!0)])}}}),Wr=st(Hr,[["__scopeId","data-v-ffd145ef"]]),bo=s=>(kt("data-v-7df1e18b"),s=s(),wt(),s),Ur={style:{width:"100%",position:"relative",height:"100%"}},Yr=bo(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"TEACHER"),u("th",{class:"table-head"},"STAFF ID"),u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM")])],-1)),Gr={class:"table-data"},Xr={class:"table-data"},Jr={class:"table-data"},Kr={class:"table-data"},qr={class:"table-data"},Zr=bo(()=>u("tr",{class:"empty-row"},"Justice",-1)),Qr=q({__name:"HeadDepartmentTermCourseAssignment",props:{term:{}},setup(s){return(t,e)=>{const n=St,a=ue;return m(),x("div",Ur,[t.term?S("",!0):(m(),L(n,{key:0})),t.term&&t.term.length===0?(m(),L(a,{key:1,message:"No data yet"})):S("",!0),t.term&&t.term.length>0?(m(),L(pt,{key:2,"fixed-header":"",height:"45dvh"},{default:I(()=>[Yr,u("tbody",null,[(m(!0),x(U,null,et(t.term,(i,o)=>(m(),x("tr",{key:o},[u("td",Gr,y(i.teacher.user.first_name)+" "+y(i.teacher.user.last_name),1),u("td",Xr,y(i.teacher.staff_id),1),u("td",Jr,y(i.subject.name),1),u("td",Kr,y(i.students_class.name),1),u("td",qr,y(i.students_class.students_year),1)]))),128)),Zr])]),_:1})):S("",!0)])}}}),tc=st(Qr,[["__scopeId","data-v-7df1e18b"]]),ec={class:"subsections-container"},sc={key:0,class:"subsection-nav-container"},nc={key:1,class:"subsection-nav-container"},ac={class:"subsections"},ic=q({__name:"HeadDepartmentsCourseAssignment",props:{subjectAssignment:{}},setup(s){const t=ot(),e=T(t.activeTerm),n=a=>{e.value=a};return(a,i)=>{const o=tc;return m(),x("div",ec,[p(t).userData&&p(t).userData.school.semesters?(m(),x("div",sc,[u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value===1}]),onClick:i[0]||(i[0]=l=>n(1))},"SEMESTER 1",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value===2}]),onClick:i[1]||(i[1]=l=>n(2))},"SEMESTER 2",2)])):S("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("div",nc,[u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value===1}]),onClick:i[2]||(i[2]=l=>n(1))},"TRIMESTER 1",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value===2}]),onClick:i[3]||(i[3]=l=>n(2))},"TRIMESTER 2",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value===3}]),onClick:i[4]||(i[4]=l=>n(3))},"TRIMESTER 3",2)])):S("",!0),u("div",ac,[u("div",{class:"h-100",style:X(e.value===1?{display:"flex"}:{display:"none"})},[D(o,{term:a.subjectAssignment.term_one},null,8,["term"])],4),u("div",{class:"h-100",style:X(e.value===2?{display:"flex"}:{display:"none"})},[D(o,{term:a.subjectAssignment.term_two},null,8,["term"])],4),p(t).userData&&!p(t).userData.school.semesters?(m(),x("div",{key:0,class:"h-100",style:X(e.value===3?{display:"flex"}:{display:"none"})},[D(o,{term:a.subjectAssignment.term_three},null,8,["term"])],4)):S("",!0)])])}}}),oc={class:"subsections-container"},lc={class:"subsection-nav-container"},rc={class:"subsections"},cc=q({__name:"HeadDepartmentPage",props:{department:null},setup(s){const t=s,e=T("section1"),n=a=>{e.value=a};return(a,i)=>{const o=Wr,l=ic;return m(),x("div",oc,[u("div",lc,[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":e.value==="section1"}]),onClick:i[0]||(i[0]=r=>n("section1"))},[D(H,{icon:"mdi-account"}),V(" TEACHERS PROFILE ")],2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":e.value==="section2"}]),onClick:i[1]||(i[1]=r=>n("section2"))},[D(H,{icon:"mdi-book-open-outline"}),V(" TEACHERS COURSEWORK ")],2)]),u("div",rc,[u("div",{style:X(e.value==="section1"?{display:"flex"}:{display:"none"})},[D(o,{staff:t.department.department.teachers},null,8,["staff"])],4),u("div",{class:"h-100",style:X(e.value==="section2"?{display:"flex"}:{display:"none"})},[D(l,{subjectAssignment:t.department.subject_assignments},null,8,["subjectAssignment"])],4)])])}}}),dc=st(cc,[["__scopeId","data-v-d521e7d1"]]),uc={class:"sections-container"},hc={key:2,class:"section-nav-container"},fc=["onClick"],mc={key:3,class:"sections"},pc=q({__name:"HeadDepartments",setup(s){const t=T("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=St,l=ue,r=dc;return m(),x("div",uc,[p(e).headDepartments?S("",!0):(m(),L(o,{key:0,class:"no-data"})),p(e).headDepartments&&p(e).headDepartments.length===0?(m(),L(l,{key:1,message:"No data yet"})):S("",!0),p(e).headDepartments&&p(e).headDepartments.length>0?(m(),x("div",hc,[(m(!0),x(U,null,et(p(e).headDepartments,(c,d)=>(m(),x("button",{key:d,class:W(["nav-btn-1",{"nav-btn-1-active":t.value===`section${d+1}`}]),onClick:f=>n(`section${d+1}`)},[c.department.name==="MATHEMATICS"?(m(),L(H,{key:0,icon:"mdi-function-variant"})):S("",!0),c.department.name==="ENGLISH"?(m(),L(H,{key:1,icon:"mdi-book-open-variant"})):S("",!0),c.department.name==="LANGUAGES"?(m(),L(H,{key:2,icon:"mdi-book-open-variant"})):S("",!0),c.department.name==="ARTS"?(m(),L(H,{key:3,icon:"mdi-history"})):S("",!0),c.department.name==="SCIENCE"?(m(),L(H,{key:4,icon:"mdi-flask"})):S("",!0),c.department.name==="BUSINESS"?(m(),L(H,{key:5,icon:"mdi-finance"})):S("",!0),c.department.name==="ECONOMICS"?(m(),L(H,{key:6,icon:"mdi-finance"})):S("",!0),u("span",null,y(c.department.name),1)],10,fc))),128))])):S("",!0),p(e).headDepartments&&p(e).headDepartments.length>0?(m(),x("div",mc,[(m(!0),x(U,null,et(p(e).headDepartments,(c,d)=>(m(),x("div",{class:"h-100",key:d,style:X(t.value===`section${d+1}`?{display:"flex"}:{display:"none"})},[D(r,{department:c},null,8,["department"])],4))),128))])):S("",!0)])}}}),gc=st(pc,[["__scopeId","data-v-dd7e0686"]]),_c=s=>(kt("data-v-64f01a30"),s=s(),wt(),s),vc={style:{width:"100%",position:"relative",height:"100%"}},bc=_c(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"STUDENTS")])],-1)),yc={class:"table-data"},xc={class:"table-data"},Sc={style:{padding:"0"}},kc={class:"student-info-container"},wc=["src"],Tc={class:"flex-all-c"},Dc={class:"user-name"},Mc={class:"user-name"},Ac=q({__name:"HeadStudentsProgram",props:{program:{}},setup(s){return An(),(t,e)=>(m(),x("div",vc,[D(pt,{"fixed-header":"",height:"300px"},{default:I(()=>[bc,u("tbody",null,[(m(!0),x(U,null,et(t.program.classes,(n,a)=>(m(),x("tr",{key:a},[u("td",yc,y(n.name),1),u("td",xc,y(n.students_year),1),u("td",Sc,[D(Fe,{class:"pa-0"},{default:I(()=>[D(Le,null,{activator:I(({props:i})=>[D($t,Rt({class:"title"},i),{default:I(()=>[D(H,{icon:"mdi-account-circle"}),V(y(n.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:I(()=>[D(Ve,{class:"v-scroll",height:"22vh",items:n.students},{default:I(({item:i})=>[D($t,{style:{position:"relative"}},{default:I(()=>[u("div",kc,[u("img",{class:"profile-img",src:i.img},null,8,wc),u("div",Tc,[u("p",Dc,y(i.user.first_name+" "+i.user.last_name),1),u("p",Mc,y(i.st_id),1)])])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1})]))}}),Cc=st(Ac,[["__scopeId","data-v-64f01a30"]]),$c={class:"sections-container"},Ec=["onClick"],Pc={key:3,class:"sections"},Oc=q({__name:"HeadStudents",setup(s){const t=T("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=St,l=ue,r=Cc;return m(),x("div",$c,[p(e).headPrograms?S("",!0):(m(),L(o,{key:0})),p(e).headPrograms&&p(e).headPrograms.length===0?(m(),L(l,{key:1,message:"No data yet"})):S("",!0),p(e).headPrograms&&p(e).headPrograms.length>0?(m(),L(es,{key:2,class:"section-nav-container",elevation:"0"},{default:I(()=>[(m(!0),x(U,null,et(p(e).headPrograms,(c,d)=>(m(),x("button",{key:d,class:W(["nav-btn-2 btn-1",{"nav-btn-2-active":t.value===`section${d+1}`}]),onClick:f=>n(`section${d+1}`)},[c.name==="AGRICULTURAL SCIENCE"?(m(),L(H,{key:0,icon:"mdi-function-variant"})):S("",!0),c.name==="VISUAL ARTS"?(m(),L(H,{key:1,icon:"mdi-book-open-variant"})):S("",!0),c.name==="GENERAL ARTS"?(m(),L(H,{key:2,icon:"mdi-history"})):S("",!0),c.name==="GENERAL SCIENCE"?(m(),L(H,{key:3,icon:"mdi-flask"})):S("",!0),c.name==="BUSINESS"?(m(),L(H,{key:4,icon:"mdi-finance"})):S("",!0),c.name==="HOME ECONOMICS"?(m(),L(H,{key:5,icon:"mdi-finance"})):S("",!0),V(" "+y(c.name),1)],10,Ec))),128))]),_:1})):S("",!0),p(e).headPrograms&&p(e).headPrograms.length>0?(m(),x("div",Pc,[(m(!0),x(U,null,et(p(e).headPrograms,(c,d)=>(m(),x("div",{class:"w-100 h-100",style:X(t.value===`section${d+1}`?{display:"flex"}:{display:"none"}),key:d},[D(r,{program:c},null,8,["program"])],4))),128))])):S("",!0)])}}}),Ic=st(Oc,[["__scopeId","data-v-56ad0c0d"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Ns(s){return s+.5|0}const me=(s,t,e)=>Math.max(Math.min(s,e),t);function ps(s){return me(Ns(s*2.55),0,255)}function ve(s){return me(Ns(s*255),0,255)}function le(s){return me(Ns(s/2.55)/100,0,1)}function La(s){return me(Ns(s*100),0,100)}const Xt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qn=[..."0123456789ABCDEF"],Rc=s=>qn[s&15],Fc=s=>qn[(s&240)>>4]+qn[s&15],Ks=s=>(s&240)>>4===(s&15),Lc=s=>Ks(s.r)&&Ks(s.g)&&Ks(s.b)&&Ks(s.a);function Vc(s){var t=s.length,e;return s[0]==="#"&&(t===4||t===5?e={r:255&Xt[s[1]]*17,g:255&Xt[s[2]]*17,b:255&Xt[s[3]]*17,a:t===5?Xt[s[4]]*17:255}:(t===7||t===9)&&(e={r:Xt[s[1]]<<4|Xt[s[2]],g:Xt[s[3]]<<4|Xt[s[4]],b:Xt[s[5]]<<4|Xt[s[6]],a:t===9?Xt[s[7]]<<4|Xt[s[8]]:255})),e}const Nc=(s,t)=>s<255?t(s):"";function Bc(s){var t=Lc(s)?Rc:Fc;return s?"#"+t(s.r)+t(s.g)+t(s.b)+Nc(s.a,t):void 0}const zc=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function yo(s,t,e){const n=t*Math.min(e,1-e),a=(i,o=(i+s/30)%12)=>e-n*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function jc(s,t,e){const n=(a,i=(a+s/60)%6)=>e-e*t*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function Hc(s,t,e){const n=yo(s,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)n[a]*=1-t-e,n[a]+=t;return n}function Wc(s,t,e,n,a){return s===a?(t-e)/n+(t<e?6:0):t===a?(e-s)/n+2:(s-t)/n+4}function fa(s){const e=s.r/255,n=s.g/255,a=s.b/255,i=Math.max(e,n,a),o=Math.min(e,n,a),l=(i+o)/2;let r,c,d;return i!==o&&(d=i-o,c=l>.5?d/(2-i-o):d/(i+o),r=Wc(e,n,a,d,i),r=r*60+.5),[r|0,c||0,l]}function ma(s,t,e,n){return(Array.isArray(t)?s(t[0],t[1],t[2]):s(t,e,n)).map(ve)}function pa(s,t,e){return ma(yo,s,t,e)}function Uc(s,t,e){return ma(Hc,s,t,e)}function Yc(s,t,e){return ma(jc,s,t,e)}function xo(s){return(s%360+360)%360}function Gc(s){const t=zc.exec(s);let e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?ps(+t[5]):ve(+t[5]));const a=xo(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=Uc(a,i,o):t[1]==="hsv"?n=Yc(a,i,o):n=pa(a,i,o),{r:n[0],g:n[1],b:n[2],a:e}}function Xc(s,t){var e=fa(s);e[0]=xo(e[0]+t),e=pa(e),s.r=e[0],s.g=e[1],s.b=e[2]}function Jc(s){if(!s)return;const t=fa(s),e=t[0],n=La(t[1]),a=La(t[2]);return s.a<255?`hsla(${e}, ${n}%, ${a}%, ${le(s.a)})`:`hsl(${e}, ${n}%, ${a}%)`}const Va={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Na={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Kc(){const s={},t=Object.keys(Na),e=Object.keys(Va);let n,a,i,o,l;for(n=0;n<t.length;n++){for(o=l=t[n],a=0;a<e.length;a++)i=e[a],l=l.replace(i,Va[i]);i=parseInt(Na[o],16),s[l]=[i>>16&255,i>>8&255,i&255]}return s}let qs;function qc(s){qs||(qs=Kc(),qs.transparent=[0,0,0,0]);const t=qs[s.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Zc=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Qc(s){const t=Zc.exec(s);let e=255,n,a,i;if(t){if(t[7]!==n){const o=+t[7];e=t[8]?ps(o):me(o*255,0,255)}return n=+t[1],a=+t[3],i=+t[5],n=255&(t[2]?ps(n):me(n,0,255)),a=255&(t[4]?ps(a):me(a,0,255)),i=255&(t[6]?ps(i):me(i,0,255)),{r:n,g:a,b:i,a:e}}}function td(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${le(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const Ln=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,Ye=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function ed(s,t,e){const n=Ye(le(s.r)),a=Ye(le(s.g)),i=Ye(le(s.b));return{r:ve(Ln(n+e*(Ye(le(t.r))-n))),g:ve(Ln(a+e*(Ye(le(t.g))-a))),b:ve(Ln(i+e*(Ye(le(t.b))-i))),a:s.a+e*(t.a-s.a)}}function Zs(s,t,e){if(s){let n=fa(s);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=pa(n),s.r=n[0],s.g=n[1],s.b=n[2]}}function So(s,t){return s&&Object.assign(t||{},s)}function Ba(s){var t={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(t={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(t.a=ve(s[3]))):(t=So(s,{r:0,g:0,b:0,a:1}),t.a=ve(t.a)),t}function sd(s){return s.charAt(0)==="r"?Qc(s):Gc(s)}class Ms{constructor(t){if(t instanceof Ms)return t;const e=typeof t;let n;e==="object"?n=Ba(t):e==="string"&&(n=Vc(t)||qc(t)||sd(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=So(this._rgb);return t&&(t.a=le(t.a)),t}set rgb(t){this._rgb=Ba(t)}rgbString(){return this._valid?td(this._rgb):void 0}hexString(){return this._valid?Bc(this._rgb):void 0}hslString(){return this._valid?Jc(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,a=t.rgb;let i;const o=e===i?.5:e,l=2*o-1,r=n.a-a.a,c=((l*r===-1?l:(l+r)/(1+l*r))+1)/2;i=1-c,n.r=255&c*n.r+i*a.r+.5,n.g=255&c*n.g+i*a.g+.5,n.b=255&c*n.b+i*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=ed(this._rgb,t._rgb,e)),this}clone(){return new Ms(this.rgb)}alpha(t){return this._rgb.a=ve(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Ns(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Zs(this._rgb,2,t),this}darken(t){return Zs(this._rgb,2,-t),this}saturate(t){return Zs(this._rgb,1,t),this}desaturate(t){return Zs(this._rgb,1,-t),this}rotate(t){return Xc(this._rgb,t),this}}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function ae(){}const nd=(()=>{let s=0;return()=>s++})();function lt(s){return s===null||typeof s>"u"}function ut(s){if(Array.isArray&&Array.isArray(s))return!0;const t=Object.prototype.toString.call(s);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function at(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function bt(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function jt(s,t){return bt(s)?s:t}function tt(s,t){return typeof s>"u"?t:s}const ad=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/t,ko=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*t:+s;function dt(s,t,e){if(s&&typeof s.call=="function")return s.apply(e,t)}function ct(s,t,e,n){let a,i,o;if(ut(s))if(i=s.length,n)for(a=i-1;a>=0;a--)t.call(e,s[a],a);else for(a=0;a<i;a++)t.call(e,s[a],a);else if(at(s))for(o=Object.keys(s),i=o.length,a=0;a<i;a++)t.call(e,s[o[a]],o[a])}function yn(s,t){let e,n,a,i;if(!s||!t||s.length!==t.length)return!1;for(e=0,n=s.length;e<n;++e)if(a=s[e],i=t[e],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function xn(s){if(ut(s))return s.map(xn);if(at(s)){const t=Object.create(null),e=Object.keys(s),n=e.length;let a=0;for(;a<n;++a)t[e[a]]=xn(s[e[a]]);return t}return s}function wo(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function id(s,t,e,n){if(!wo(s))return;const a=t[s],i=e[s];at(a)&&at(i)?As(a,i,n):t[s]=xn(i)}function As(s,t,e){const n=ut(t)?t:[t],a=n.length;if(!at(s))return s;e=e||{};const i=e.merger||id;let o;for(let l=0;l<a;++l){if(o=n[l],!at(o))continue;const r=Object.keys(o);for(let c=0,d=r.length;c<d;++c)i(r[c],s,o,e)}return s}function xs(s,t){return As(s,t,{merger:od})}function od(s,t,e){if(!wo(s))return;const n=t[s],a=e[s];at(n)&&at(a)?xs(n,a):Object.prototype.hasOwnProperty.call(t,s)||(t[s]=xn(a))}const za={"":s=>s,x:s=>s.x,y:s=>s.y};function ld(s){const t=s.split("."),e=[];let n="";for(const a of t)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function rd(s){const t=ld(s);return e=>{for(const n of t){if(n==="")break;e=e&&e[n]}return e}}function be(s,t){return(za[t]||(za[t]=rd(t)))(s)}function ga(s){return s.charAt(0).toUpperCase()+s.slice(1)}const Cs=s=>typeof s<"u",ye=s=>typeof s=="function",ja=(s,t)=>{if(s.size!==t.size)return!1;for(const e of s)if(!t.has(e))return!1;return!0};function cd(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const ft=Math.PI,ht=2*ft,dd=ht+ft,Sn=Number.POSITIVE_INFINITY,ud=ft/180,Tt=ft/2,Me=ft/4,Ha=ft*2/3,pe=Math.log10,se=Math.sign;function Ss(s,t,e){return Math.abs(s-t)<e}function Wa(s){const t=Math.round(s);s=Ss(s,t,s/1e3)?t:s;const e=Math.pow(10,Math.floor(pe(s))),n=s/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function hd(s){const t=[],e=Math.sqrt(s);let n;for(n=1;n<e;n++)s%n===0&&(t.push(n),t.push(s/n));return e===(e|0)&&t.push(e),t.sort((a,i)=>a-i).pop(),t}function Ze(s){return!isNaN(parseFloat(s))&&isFinite(s)}function fd(s,t){const e=Math.round(s);return e-t<=s&&e+t>=s}function To(s,t,e){let n,a,i;for(n=0,a=s.length;n<a;n++)i=s[n][e],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function qt(s){return s*(ft/180)}function _a(s){return s*(180/ft)}function Ua(s){if(!bt(s))return;let t=1,e=0;for(;Math.round(s*t)/t!==s;)t*=10,e++;return e}function Do(s,t){const e=t.x-s.x,n=t.y-s.y,a=Math.sqrt(e*e+n*n);let i=Math.atan2(n,e);return i<-.5*ft&&(i+=ht),{angle:i,distance:a}}function Zn(s,t){return Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))}function md(s,t){return(s-t+dd)%ht-ft}function Ht(s){return(s%ht+ht)%ht}function $s(s,t,e,n){const a=Ht(s),i=Ht(t),o=Ht(e),l=Ht(i-a),r=Ht(o-a),c=Ht(a-i),d=Ht(a-o);return a===i||a===o||n&&i===o||l>r&&c<d}function Et(s,t,e){return Math.max(t,Math.min(e,s))}function pd(s){return Et(s,-32768,32767)}function re(s,t,e,n=1e-6){return s>=Math.min(t,e)-n&&s<=Math.max(t,e)+n}function va(s,t,e){e=e||(o=>s[o]<t);let n=s.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,e(i)?a=i:n=i;return{lo:a,hi:n}}const ce=(s,t,e,n)=>va(s,e,n?a=>{const i=s[a][t];return i<e||i===e&&s[a+1][t]===e}:a=>s[a][t]<e),gd=(s,t,e)=>va(s,e,n=>s[n][t]>=e);function _d(s,t,e){let n=0,a=s.length;for(;n<a&&s[n]<t;)n++;for(;a>n&&s[a-1]>e;)a--;return n>0||a<s.length?s.slice(n,a):s}const Mo=["push","pop","shift","splice","unshift"];function vd(s,t){if(s._chartjs){s._chartjs.listeners.push(t);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Mo.forEach(e=>{const n="_onData"+ga(e),a=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return s._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),o}})})}function Ya(s,t){const e=s._chartjs;if(!e)return;const n=e.listeners,a=n.indexOf(t);a!==-1&&n.splice(a,1),!(n.length>0)&&(Mo.forEach(i=>{delete s[i]}),delete s._chartjs)}function Ao(s){const t=new Set(s);return t.size===s.length?s:Array.from(t)}const Co=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function $o(s,t){let e=[],n=!1;return function(...a){e=a,n||(n=!0,Co.call(window,()=>{n=!1,s.apply(t,e)}))}}function bd(s,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(s,t,n)):s.apply(this,n),t}}const ba=s=>s==="start"?"left":s==="end"?"right":"center",Ot=(s,t,e)=>s==="start"?t:s==="end"?e:(t+e)/2,yd=(s,t,e,n)=>s===(n?"left":"right")?e:s==="center"?(t+e)/2:t;function Eo(s,t,e){const n=t.length;let a=0,i=n;if(s._sorted){const{iScale:o,_parsed:l}=s,r=o.axis,{min:c,max:d,minDefined:f,maxDefined:h}=o.getUserBounds();f&&(a=Et(Math.min(ce(l,r,c).lo,e?n:ce(t,r,o.getPixelForValue(c)).lo),0,n-1)),h?i=Et(Math.max(ce(l,o.axis,d,!0).hi+1,e?0:ce(t,r,o.getPixelForValue(d),!0).hi+1),a,n)-a:i=n-a}return{start:a,count:i}}function Po(s){const{xScale:t,yScale:e,_scaleRanges:n}=s,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return s._scaleRanges=a,!0;const i=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,a),i}const Qs=s=>s===0||s===1,Ga=(s,t,e)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-t)*ht/e)),Xa=(s,t,e)=>Math.pow(2,-10*s)*Math.sin((s-t)*ht/e)+1,ks={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*Tt)+1,easeOutSine:s=>Math.sin(s*Tt),easeInOutSine:s=>-.5*(Math.cos(ft*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Qs(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Qs(s)?s:Ga(s,.075,.3),easeOutElastic:s=>Qs(s)?s:Xa(s,.075,.3),easeInOutElastic(s){return Qs(s)?s:s<.5?.5*Ga(s*2,.1125,.45):.5+.5*Xa(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let t=1.70158;return(s/=.5)<1?.5*(s*s*(((t*=1.525)+1)*s-t)):.5*((s-=2)*s*(((t*=1.525)+1)*s+t)+2)},easeInBounce:s=>1-ks.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?ks.easeInBounce(s*2)*.5:ks.easeOutBounce(s*2-1)*.5+.5};function ya(s){if(s&&typeof s=="object"){const t=s.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ja(s){return ya(s)?s:new Ms(s)}function Vn(s){return ya(s)?s:new Ms(s).saturate(.5).darken(.1).hexString()}const xd=["x","y","borderWidth","radius","tension"],Sd=["color","borderColor","backgroundColor"];function kd(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),s.set("animations",{colors:{type:"color",properties:Sd},numbers:{type:"number",properties:xd}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function wd(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ka=new Map;function Td(s,t){t=t||{};const e=s+JSON.stringify(t);let n=Ka.get(e);return n||(n=new Intl.NumberFormat(s,t),Ka.set(e,n)),n}function Bs(s,t,e){return Td(t,e).format(s)}const Oo={values(s){return ut(s)?s:""+s},numeric(s,t,e){if(s===0)return"0";const n=this.chart.options.locale;let a,i=s;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(a="scientific"),i=Dd(s,e)}const o=pe(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),r={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(r,this.options.ticks.format),Bs(s,n,r)},logarithmic(s,t,e){if(s===0)return"0";const n=e[t].significand||s/Math.pow(10,Math.floor(pe(s)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?Oo.numeric.call(this,s,t,e):""}};function Dd(s,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&s!==Math.floor(s)&&(e=s-Math.floor(s)),e}var Cn={formatters:Oo};function Md(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Cn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ne=Object.create(null),Qn=Object.create(null);function ws(s,t){if(!t)return s;const e=t.split(".");for(let n=0,a=e.length;n<a;++n){const i=e[n];s=s[i]||(s[i]=Object.create(null))}return s}function Nn(s,t,e){return typeof t=="string"?As(ws(s,t),e):As(ws(s,""),t)}class Ad{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>Vn(a.backgroundColor),this.hoverBorderColor=(n,a)=>Vn(a.borderColor),this.hoverColor=(n,a)=>Vn(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Nn(this,t,e)}get(t){return ws(this,t)}describe(t,e){return Nn(Qn,t,e)}override(t,e){return Nn(Ne,t,e)}route(t,e,n,a){const i=ws(this,t),o=ws(this,n),l="_"+e;Object.defineProperties(i,{[l]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const r=this[l],c=o[a];return at(r)?Object.assign({},c,r):tt(r,c)},set(r){this[l]=r}}})}apply(t){t.forEach(e=>e(this))}}var yt=new Ad({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[kd,wd,Md]);function Cd(s){return!s||lt(s.size)||lt(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function kn(s,t,e,n,a){let i=t[a];return i||(i=t[a]=s.measureText(a).width,e.push(a)),i>n&&(n=i),n}function $d(s,t,e,n){n=n||{};let a=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(a=n.data={},i=n.garbageCollect=[],n.font=t),s.save(),s.font=t;let o=0;const l=e.length;let r,c,d,f,h;for(r=0;r<l;r++)if(f=e[r],f!=null&&!ut(f))o=kn(s,a,i,o,f);else if(ut(f))for(c=0,d=f.length;c<d;c++)h=f[c],h!=null&&!ut(h)&&(o=kn(s,a,i,o,h));s.restore();const g=i.length/2;if(g>e.length){for(r=0;r<g;r++)delete a[i[r]];i.splice(0,g)}return o}function Ae(s,t,e){const n=s.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*n)/n+a}function qa(s,t){t=t||s.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,s.width,s.height),t.restore()}function ta(s,t,e,n){Io(s,t,e,n,null)}function Io(s,t,e,n,a){let i,o,l,r,c,d,f,h;const g=t.pointStyle,_=t.rotation,v=t.radius;let b=(_||0)*ud;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){s.save(),s.translate(e,n),s.rotate(b),s.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),s.restore();return}if(!(isNaN(v)||v<=0)){switch(s.beginPath(),g){default:a?s.ellipse(e,n,a/2,v,0,0,ht):s.arc(e,n,v,0,ht),s.closePath();break;case"triangle":d=a?a/2:v,s.moveTo(e+Math.sin(b)*d,n-Math.cos(b)*v),b+=Ha,s.lineTo(e+Math.sin(b)*d,n-Math.cos(b)*v),b+=Ha,s.lineTo(e+Math.sin(b)*d,n-Math.cos(b)*v),s.closePath();break;case"rectRounded":c=v*.516,r=v-c,o=Math.cos(b+Me)*r,f=Math.cos(b+Me)*(a?a/2-c:r),l=Math.sin(b+Me)*r,h=Math.sin(b+Me)*(a?a/2-c:r),s.arc(e-f,n-l,c,b-ft,b-Tt),s.arc(e+h,n-o,c,b-Tt,b),s.arc(e+f,n+l,c,b,b+Tt),s.arc(e-h,n+o,c,b+Tt,b+ft),s.closePath();break;case"rect":if(!_){r=Math.SQRT1_2*v,d=a?a/2:r,s.rect(e-d,n-r,2*d,2*r);break}b+=Me;case"rectRot":f=Math.cos(b)*(a?a/2:v),o=Math.cos(b)*v,l=Math.sin(b)*v,h=Math.sin(b)*(a?a/2:v),s.moveTo(e-f,n-l),s.lineTo(e+h,n-o),s.lineTo(e+f,n+l),s.lineTo(e-h,n+o),s.closePath();break;case"crossRot":b+=Me;case"cross":f=Math.cos(b)*(a?a/2:v),o=Math.cos(b)*v,l=Math.sin(b)*v,h=Math.sin(b)*(a?a/2:v),s.moveTo(e-f,n-l),s.lineTo(e+f,n+l),s.moveTo(e+h,n-o),s.lineTo(e-h,n+o);break;case"star":f=Math.cos(b)*(a?a/2:v),o=Math.cos(b)*v,l=Math.sin(b)*v,h=Math.sin(b)*(a?a/2:v),s.moveTo(e-f,n-l),s.lineTo(e+f,n+l),s.moveTo(e+h,n-o),s.lineTo(e-h,n+o),b+=Me,f=Math.cos(b)*(a?a/2:v),o=Math.cos(b)*v,l=Math.sin(b)*v,h=Math.sin(b)*(a?a/2:v),s.moveTo(e-f,n-l),s.lineTo(e+f,n+l),s.moveTo(e+h,n-o),s.lineTo(e-h,n+o);break;case"line":o=a?a/2:Math.cos(b)*v,l=Math.sin(b)*v,s.moveTo(e-o,n-l),s.lineTo(e+o,n+l);break;case"dash":s.moveTo(e,n),s.lineTo(e+Math.cos(b)*(a?a/2:v),n+Math.sin(b)*v);break;case!1:s.closePath();break}s.fill(),t.borderWidth>0&&s.stroke()}}function de(s,t,e){return e=e||.5,!t||s&&s.x>t.left-e&&s.x<t.right+e&&s.y>t.top-e&&s.y<t.bottom+e}function $n(s,t){s.save(),s.beginPath(),s.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),s.clip()}function En(s){s.restore()}function Ed(s,t,e,n,a){if(!t)return s.lineTo(e.x,e.y);if(a==="middle"){const i=(t.x+e.x)/2;s.lineTo(i,t.y),s.lineTo(i,e.y)}else a==="after"!=!!n?s.lineTo(t.x,e.y):s.lineTo(e.x,t.y);s.lineTo(e.x,e.y)}function Pd(s,t,e,n){if(!t)return s.lineTo(e.x,e.y);s.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function Od(s,t){t.translation&&s.translate(t.translation[0],t.translation[1]),lt(t.rotation)||s.rotate(t.rotation),t.color&&(s.fillStyle=t.color),t.textAlign&&(s.textAlign=t.textAlign),t.textBaseline&&(s.textBaseline=t.textBaseline)}function Id(s,t,e,n,a){if(a.strikethrough||a.underline){const i=s.measureText(n),o=t-i.actualBoundingBoxLeft,l=t+i.actualBoundingBoxRight,r=e-i.actualBoundingBoxAscent,c=e+i.actualBoundingBoxDescent,d=a.strikethrough?(r+c)/2:c;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=a.decorationWidth||2,s.moveTo(o,d),s.lineTo(l,d),s.stroke()}}function Rd(s,t){const e=s.fillStyle;s.fillStyle=t.color,s.fillRect(t.left,t.top,t.width,t.height),s.fillStyle=e}function Be(s,t,e,n,a,i={}){const o=ut(t)?t:[t],l=i.strokeWidth>0&&i.strokeColor!=="";let r,c;for(s.save(),s.font=a.string,Od(s,i),r=0;r<o.length;++r)c=o[r],i.backdrop&&Rd(s,i.backdrop),l&&(i.strokeColor&&(s.strokeStyle=i.strokeColor),lt(i.strokeWidth)||(s.lineWidth=i.strokeWidth),s.strokeText(c,e,n,i.maxWidth)),s.fillText(c,e,n,i.maxWidth),Id(s,e,n,c,i),n+=Number(a.lineHeight);s.restore()}function Es(s,t){const{x:e,y:n,w:a,h:i,radius:o}=t;s.arc(e+o.topLeft,n+o.topLeft,o.topLeft,1.5*ft,ft,!0),s.lineTo(e,n+i-o.bottomLeft),s.arc(e+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,ft,Tt,!0),s.lineTo(e+a-o.bottomRight,n+i),s.arc(e+a-o.bottomRight,n+i-o.bottomRight,o.bottomRight,Tt,0,!0),s.lineTo(e+a,n+o.topRight),s.arc(e+a-o.topRight,n+o.topRight,o.topRight,0,-Tt,!0),s.lineTo(e+o.topLeft,n)}const Fd=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ld=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Vd(s,t){const e=(""+s).match(Fd);if(!e||e[1]==="normal")return t*1.2;switch(s=+e[2],e[3]){case"px":return s;case"%":s/=100;break}return t*s}const Nd=s=>+s||0;function xa(s,t){const e={},n=at(t),a=n?Object.keys(t):t,i=at(s)?n?o=>tt(s[o],s[t[o]]):o=>s[o]:()=>s;for(const o of a)e[o]=Nd(i(o));return e}function Ro(s){return xa(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Ie(s){return xa(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Ft(s){const t=Ro(s);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ct(s,t){s=s||{},t=t||yt.font;let e=tt(s.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=tt(s.style,t.style);n&&!(""+n).match(Ld)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:tt(s.family,t.family),lineHeight:Vd(tt(s.lineHeight,t.lineHeight),e),size:e,style:n,weight:tt(s.weight,t.weight),string:""};return a.string=Cd(a),a}function gs(s,t,e,n){let a=!0,i,o,l;for(i=0,o=s.length;i<o;++i)if(l=s[i],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t),a=!1),e!==void 0&&ut(l)&&(l=l[e%l.length],a=!1),l!==void 0))return n&&!a&&(n.cacheable=!1),l}function Bd(s,t,e){const{min:n,max:a}=s,i=ko(t,(a-n)/2),o=(l,r)=>e&&l===0?0:l+r;return{min:o(n,-Math.abs(i)),max:o(a,i)}}function xe(s,t){return Object.assign(Object.create(s),t)}function Sa(s,t=[""],e,n,a=()=>s[0]){const i=e||s;typeof n>"u"&&(n=No("_fallback",s));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:i,_fallback:n,_getTarget:a,override:l=>Sa([l,...s],t,i,n)};return new Proxy(o,{deleteProperty(l,r){return delete l[r],delete l._keys,delete s[0][r],!0},get(l,r){return Lo(l,r,()=>Xd(r,t,s,l))},getOwnPropertyDescriptor(l,r){return Reflect.getOwnPropertyDescriptor(l._scopes[0],r)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(l,r){return Qa(l).includes(r)},ownKeys(l){return Qa(l)},set(l,r,c){const d=l._storage||(l._storage=a());return l[r]=d[r]=c,delete l._keys,!0}})}function Qe(s,t,e,n){const a={_cacheable:!1,_proxy:s,_context:t,_subProxy:e,_stack:new Set,_descriptors:Fo(s,n),setContext:i=>Qe(s,i,e,n),override:i=>Qe(s.override(i),t,e,n)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete s[o],!0},get(i,o,l){return Lo(i,o,()=>jd(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(s,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,o)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(i,o){return Reflect.has(s,o)},ownKeys(){return Reflect.ownKeys(s)},set(i,o,l){return s[o]=l,delete i[o],!0}})}function Fo(s,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:a=t.allKeys}=s;return{allKeys:a,scriptable:e,indexable:n,isScriptable:ye(e)?e:()=>e,isIndexable:ye(n)?n:()=>n}}const zd=(s,t)=>s?s+ga(t):t,ka=(s,t)=>at(t)&&s!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Lo(s,t,e){if(Object.prototype.hasOwnProperty.call(s,t))return s[t];const n=e();return s[t]=n,n}function jd(s,t,e){const{_proxy:n,_context:a,_subProxy:i,_descriptors:o}=s;let l=n[t];return ye(l)&&o.isScriptable(t)&&(l=Hd(t,l,s,e)),ut(l)&&l.length&&(l=Wd(t,l,s,o.isIndexable)),ka(t,l)&&(l=Qe(l,a,i&&i[t],o)),l}function Hd(s,t,e,n){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=e;if(l.has(s))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+s);l.add(s);let r=t(i,o||n);return l.delete(s),ka(s,r)&&(r=wa(a._scopes,a,s,r)),r}function Wd(s,t,e,n){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=e;if(typeof i.index<"u"&&n(s))return t[i.index%t.length];if(at(t[0])){const r=t,c=a._scopes.filter(d=>d!==r);t=[];for(const d of r){const f=wa(c,a,s,d);t.push(Qe(f,i,o&&o[s],l))}}return t}function Vo(s,t,e){return ye(s)?s(t,e):s}const Ud=(s,t)=>s===!0?t:typeof s=="string"?be(t,s):void 0;function Yd(s,t,e,n,a){for(const i of t){const o=Ud(e,i);if(o){s.add(o);const l=Vo(o._fallback,e,a);if(typeof l<"u"&&l!==e&&l!==n)return l}else if(o===!1&&typeof n<"u"&&e!==n)return null}return!1}function wa(s,t,e,n){const a=t._rootScopes,i=Vo(t._fallback,e,n),o=[...s,...a],l=new Set;l.add(n);let r=Za(l,o,e,i||e,n);return r===null||typeof i<"u"&&i!==e&&(r=Za(l,o,i,r,n),r===null)?!1:Sa(Array.from(l),[""],a,i,()=>Gd(t,e,n))}function Za(s,t,e,n,a){for(;e;)e=Yd(s,t,e,n,a);return e}function Gd(s,t,e){const n=s._getTarget();t in n||(n[t]={});const a=n[t];return ut(a)&&at(e)?e:a||{}}function Xd(s,t,e,n){let a;for(const i of t)if(a=No(zd(i,s),e),typeof a<"u")return ka(s,a)?wa(e,n,s,a):a}function No(s,t){for(const e of t){if(!e)continue;const n=e[s];if(typeof n<"u")return n}}function Qa(s){let t=s._keys;return t||(t=s._keys=Jd(s._scopes)),t}function Jd(s){const t=new Set;for(const e of s)for(const n of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(n);return Array.from(t)}function Bo(s,t,e,n){const{iScale:a}=s,{key:i="r"}=this._parsing,o=new Array(n);let l,r,c,d;for(l=0,r=n;l<r;++l)c=l+e,d=t[c],o[l]={r:a.parse(be(d,i),c)};return o}const Kd=Number.EPSILON||1e-14,ts=(s,t)=>t<s.length&&!s[t].skip&&s[t],zo=s=>s==="x"?"y":"x";function qd(s,t,e,n){const a=s.skip?t:s,i=t,o=e.skip?t:e,l=Zn(i,a),r=Zn(o,i);let c=l/(l+r),d=r/(l+r);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const f=n*c,h=n*d;return{previous:{x:i.x-f*(o.x-a.x),y:i.y-f*(o.y-a.y)},next:{x:i.x+h*(o.x-a.x),y:i.y+h*(o.y-a.y)}}}function Zd(s,t,e){const n=s.length;let a,i,o,l,r,c=ts(s,0);for(let d=0;d<n-1;++d)if(r=c,c=ts(s,d+1),!(!r||!c)){if(Ss(t[d],0,Kd)){e[d]=e[d+1]=0;continue}a=e[d]/t[d],i=e[d+1]/t[d],l=Math.pow(a,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),e[d]=a*o*t[d],e[d+1]=i*o*t[d])}}function Qd(s,t,e="x"){const n=zo(e),a=s.length;let i,o,l,r=ts(s,0);for(let c=0;c<a;++c){if(o=l,l=r,r=ts(s,c+1),!l)continue;const d=l[e],f=l[n];o&&(i=(d-o[e])/3,l[`cp1${e}`]=d-i,l[`cp1${n}`]=f-i*t[c]),r&&(i=(r[e]-d)/3,l[`cp2${e}`]=d+i,l[`cp2${n}`]=f+i*t[c])}}function tu(s,t="x"){const e=zo(t),n=s.length,a=Array(n).fill(0),i=Array(n);let o,l,r,c=ts(s,0);for(o=0;o<n;++o)if(l=r,r=c,c=ts(s,o+1),!!r){if(c){const d=c[t]-r[t];a[o]=d!==0?(c[e]-r[e])/d:0}i[o]=l?c?se(a[o-1])!==se(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}Zd(s,a,i),Qd(s,i,t)}function tn(s,t,e){return Math.max(Math.min(s,e),t)}function eu(s,t){let e,n,a,i,o,l=de(s[0],t);for(e=0,n=s.length;e<n;++e)o=i,i=l,l=e<n-1&&de(s[e+1],t),i&&(a=s[e],o&&(a.cp1x=tn(a.cp1x,t.left,t.right),a.cp1y=tn(a.cp1y,t.top,t.bottom)),l&&(a.cp2x=tn(a.cp2x,t.left,t.right),a.cp2y=tn(a.cp2y,t.top,t.bottom)))}function su(s,t,e,n,a){let i,o,l,r;if(t.spanGaps&&(s=s.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")tu(s,a);else{let c=n?s[s.length-1]:s[0];for(i=0,o=s.length;i<o;++i)l=s[i],r=qd(c,l,s[Math.min(i+1,o-(n?0:1))%o],t.tension),l.cp1x=r.previous.x,l.cp1y=r.previous.y,l.cp2x=r.next.x,l.cp2y=r.next.y,c=l}t.capBezierPoints&&eu(s,e)}function Ta(){return typeof window<"u"&&typeof document<"u"}function Da(s){let t=s.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function wn(s,t,e){let n;return typeof s=="string"?(n=parseInt(s,10),s.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=s,n}const Pn=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function nu(s,t){return Pn(s).getPropertyValue(t)}const au=["top","right","bottom","left"];function Re(s,t,e){const n={};e=e?"-"+e:"";for(let a=0;a<4;a++){const i=au[a];n[i]=parseFloat(s[t+"-"+i+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const iu=(s,t,e)=>(s>0||t>0)&&(!e||!e.shadowRoot);function ou(s,t){const e=s.touches,n=e&&e.length?e[0]:s,{offsetX:a,offsetY:i}=n;let o=!1,l,r;if(iu(a,i,s.target))l=a,r=i;else{const c=t.getBoundingClientRect();l=n.clientX-c.left,r=n.clientY-c.top,o=!0}return{x:l,y:r,box:o}}function Ee(s,t){if("native"in s)return s;const{canvas:e,currentDevicePixelRatio:n}=t,a=Pn(e),i=a.boxSizing==="border-box",o=Re(a,"padding"),l=Re(a,"border","width"),{x:r,y:c,box:d}=ou(s,e),f=o.left+(d&&l.left),h=o.top+(d&&l.top);let{width:g,height:_}=t;return i&&(g-=o.width+l.width,_-=o.height+l.height),{x:Math.round((r-f)/g*e.width/n),y:Math.round((c-h)/_*e.height/n)}}function lu(s,t,e){let n,a;if(t===void 0||e===void 0){const i=Da(s);if(!i)t=s.clientWidth,e=s.clientHeight;else{const o=i.getBoundingClientRect(),l=Pn(i),r=Re(l,"border","width"),c=Re(l,"padding");t=o.width-c.width-r.width,e=o.height-c.height-r.height,n=wn(l.maxWidth,i,"clientWidth"),a=wn(l.maxHeight,i,"clientHeight")}}return{width:t,height:e,maxWidth:n||Sn,maxHeight:a||Sn}}const en=s=>Math.round(s*10)/10;function ru(s,t,e,n){const a=Pn(s),i=Re(a,"margin"),o=wn(a.maxWidth,s,"clientWidth")||Sn,l=wn(a.maxHeight,s,"clientHeight")||Sn,r=lu(s,t,e);let{width:c,height:d}=r;if(a.boxSizing==="content-box"){const h=Re(a,"border","width"),g=Re(a,"padding");c-=g.width+h.width,d-=g.height+h.height}return c=Math.max(0,c-i.width),d=Math.max(0,n?c/n:d-i.height),c=en(Math.min(c,o,r.maxWidth)),d=en(Math.min(d,l,r.maxHeight)),c&&!d&&(d=en(c/2)),(t!==void 0||e!==void 0)&&n&&r.height&&d>r.height&&(d=r.height,c=en(Math.floor(d*n))),{width:c,height:d}}function ti(s,t,e){const n=t||1,a=Math.floor(s.height*n),i=Math.floor(s.width*n);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const o=s.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${s.height}px`,o.style.width=`${s.width}px`),s.currentDevicePixelRatio!==n||o.height!==a||o.width!==i?(s.currentDevicePixelRatio=n,o.height=a,o.width=i,s.ctx.setTransform(n,0,0,n,0,0),!0):!1}const cu=function(){let s=!1;try{const t={get passive(){return s=!0,!1}};Ta()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return s}();function ei(s,t){const e=nu(s,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Pe(s,t,e,n){return{x:s.x+e*(t.x-s.x),y:s.y+e*(t.y-s.y)}}function du(s,t,e,n){return{x:s.x+e*(t.x-s.x),y:n==="middle"?e<.5?s.y:t.y:n==="after"?e<1?s.y:t.y:e>0?t.y:s.y}}function uu(s,t,e,n){const a={x:s.cp2x,y:s.cp2y},i={x:t.cp1x,y:t.cp1y},o=Pe(s,a,e),l=Pe(a,i,e),r=Pe(i,t,e),c=Pe(o,l,e),d=Pe(l,r,e);return Pe(c,d,e)}const hu=function(s,t){return{x(e){return s+s+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},fu=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,t){return s+t},leftForLtr(s,t){return s}}};function Ke(s,t,e){return s?hu(t,e):fu()}function jo(s,t){let e,n;(t==="ltr"||t==="rtl")&&(e=s.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),s.prevTextDirection=n)}function Ho(s,t){t!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",t[0],t[1]))}function Wo(s){return s==="angle"?{between:$s,compare:md,normalize:Ht}:{between:re,compare:(t,e)=>t-e,normalize:t=>t}}function si({start:s,end:t,count:e,loop:n,style:a}){return{start:s%e,end:t%e,loop:n&&(t-s+1)%e===0,style:a}}function mu(s,t,e){const{property:n,start:a,end:i}=e,{between:o,normalize:l}=Wo(n),r=t.length;let{start:c,end:d,loop:f}=s,h,g;if(f){for(c+=r,d+=r,h=0,g=r;h<g&&o(l(t[c%r][n]),a,i);++h)c--,d--;c%=r,d%=r}return d<c&&(d+=r),{start:c,end:d,loop:f,style:s.style}}function Uo(s,t,e){if(!e)return[s];const{property:n,start:a,end:i}=e,o=t.length,{compare:l,between:r,normalize:c}=Wo(n),{start:d,end:f,loop:h,style:g}=mu(s,t,e),_=[];let v=!1,b=null,w,k,M;const E=()=>r(a,M,w)&&l(a,M)!==0,A=()=>l(i,w)===0||r(i,M,w),O=()=>v||E(),$=()=>!v||A();for(let C=d,P=d;C<=f;++C)k=t[C%o],!k.skip&&(w=c(k[n]),w!==M&&(v=r(w,a,i),b===null&&O()&&(b=l(w,a)===0?C:P),b!==null&&$()&&(_.push(si({start:b,end:C,loop:h,count:o,style:g})),b=null),P=C,M=w));return b!==null&&_.push(si({start:b,end:f,loop:h,count:o,style:g})),_}function Yo(s,t){const e=[],n=s.segments;for(let a=0;a<n.length;a++){const i=Uo(n[a],s.points,t);i.length&&e.push(...i)}return e}function pu(s,t,e,n){let a=0,i=t-1;if(e&&!n)for(;a<t&&!s[a].skip;)a++;for(;a<t&&s[a].skip;)a++;for(a%=t,e&&(i+=a);i>a&&s[i%t].skip;)i--;return i%=t,{start:a,end:i}}function gu(s,t,e,n){const a=s.length,i=[];let o=t,l=s[t],r;for(r=t+1;r<=e;++r){const c=s[r%a];c.skip||c.stop?l.skip||(n=!1,i.push({start:t%a,end:(r-1)%a,loop:n}),t=o=c.stop?r:null):(o=r,l.skip&&(t=r)),l=c}return o!==null&&i.push({start:t%a,end:o%a,loop:n}),i}function _u(s,t){const e=s.points,n=s.options.spanGaps,a=e.length;if(!a)return[];const i=!!s._loop,{start:o,end:l}=pu(e,a,i,n);if(n===!0)return ni(s,[{start:o,end:l,loop:i}],e,t);const r=l<o?l+a:l,c=!!s._fullLoop&&o===0&&l===a-1;return ni(s,gu(e,o,r,c),e,t)}function ni(s,t,e,n){return!n||!n.setContext||!e?t:vu(s,t,e,n)}function vu(s,t,e,n){const a=s._chart.getContext(),i=ai(s.options),{_datasetIndex:o,options:{spanGaps:l}}=s,r=e.length,c=[];let d=i,f=t[0].start,h=f;function g(_,v,b,w){const k=l?-1:1;if(_!==v){for(_+=r;e[_%r].skip;)_-=k;for(;e[v%r].skip;)v+=k;_%r!==v%r&&(c.push({start:_%r,end:v%r,loop:b,style:w}),d=w,f=v%r)}}for(const _ of t){f=l?f:_.start;let v=e[f%r],b;for(h=f+1;h<=_.end;h++){const w=e[h%r];b=ai(n.setContext(xe(a,{type:"segment",p0:v,p1:w,p0DataIndex:(h-1)%r,p1DataIndex:h%r,datasetIndex:o}))),bu(b,d)&&g(f,h-1,_.loop,d),v=w,d=b}f<h-1&&g(f,h-1,_.loop,d)}return c}function ai(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function bu(s,t){if(!t)return!1;const e=[],n=function(a,i){return ya(i)?(e.includes(i)||e.push(i),e.indexOf(i)):i};return JSON.stringify(s,n)!==JSON.stringify(t,n)}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class yu{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,a){const i=e.listeners[a],o=e.duration;i.forEach(l=>l({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Co.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,l=!1,r;for(;o>=0;--o)r=i[o],r._active?(r._total>n.duration&&(n.duration=r._total),r.tick(t),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,n,t,"progress")),i.length||(n.running=!1,this._notify(a,n,t,"complete"),n.initial=!1),e+=i.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ie=new yu;const ii="transparent",xu={boolean(s,t,e){return e>.5?t:s},color(s,t,e){const n=Ja(s||ii),a=n.valid&&Ja(t||ii);return a&&a.valid?a.mix(n,e).hexString():t},number(s,t,e){return s+(t-s)*e}};class Su{constructor(t,e,n,a){const i=e[n];a=gs([t.to,a,i,t.from]);const o=gs([t.from,i,a]);this._active=!0,this._fn=t.fn||xu[t.type||typeof o],this._easing=ks[t.easing]||ks.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=gs([t.to,e,a,t.from]),this._from=gs([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let r;if(this._active=i!==l&&(o||e<n),!this._active){this._target[a]=l,this._notify(!0);return}if(e<0){this._target[a]=i;return}r=e/n%2,r=o&&r>1?2-r:r,r=this._easing(Math.min(1,Math.max(0,r))),this._target[a]=this._fn(i,l,r)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][e]()}}class Go{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!at(t))return;const e=Object.keys(yt.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const i=t[a];if(!at(i))return;const o={};for(const l of e)o[l]=i[l];(ut(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,o)})})}_animateOptions(t,e){const n=e.options,a=wu(t,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&ku(t.options.$animations,n).then(()=>{t.options=n},()=>{}),i}_createAnimations(t,e){const n=this._properties,a=[],i=t.$animations||(t.$animations={}),o=Object.keys(e),l=Date.now();let r;for(r=o.length-1;r>=0;--r){const c=o[r];if(c.charAt(0)==="$")continue;if(c==="options"){a.push(...this._animateOptions(t,e));continue}const d=e[c];let f=i[c];const h=n.get(c);if(f)if(h&&f.active()){f.update(h,d,l);continue}else f.cancel();if(!h||!h.duration){t[c]=d;continue}i[c]=f=new Su(h,t,c,d),a.push(f)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const n=this._createAnimations(t,e);if(n.length)return ie.add(this._chart,n),!0}}function ku(s,t){const e=[],n=Object.keys(t);for(let a=0;a<n.length;a++){const i=s[n[a]];i&&i.active()&&e.push(i.wait())}return Promise.all(e)}function wu(s,t){if(!t)return;let e=s.options;if(!e){s.options=t;return}return e.$shared&&(s.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function oi(s,t){const e=s&&s.options||{},n=e.reverse,a=e.min===void 0?t:0,i=e.max===void 0?t:0;return{start:n?i:a,end:n?a:i}}function Tu(s,t,e){if(e===!1)return!1;const n=oi(s,e),a=oi(t,e);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function Du(s){let t,e,n,a;return at(s)?(t=s.top,e=s.right,n=s.bottom,a=s.left):t=e=n=a=s,{top:t,right:e,bottom:n,left:a,disabled:s===!1}}function Xo(s,t){const e=[],n=s._getSortedDatasetMetas(t);let a,i;for(a=0,i=n.length;a<i;++a)e.push(n[a].index);return e}function li(s,t,e,n={}){const a=s.keys,i=n.mode==="single";let o,l,r,c;if(t!==null){for(o=0,l=a.length;o<l;++o){if(r=+a[o],r===e){if(n.all)continue;break}c=s.values[r],bt(c)&&(i||t===0||se(t)===se(c))&&(t+=c)}return t}}function Mu(s){const t=Object.keys(s),e=new Array(t.length);let n,a,i;for(n=0,a=t.length;n<a;++n)i=t[n],e[n]={x:i,y:s[i]};return e}function ri(s,t){const e=s&&s.options.stacked;return e||e===void 0&&t.stack!==void 0}function Au(s,t,e){return`${s.id}.${t.id}.${e.stack||e.type}`}function Cu(s){const{min:t,max:e,minDefined:n,maxDefined:a}=s.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function $u(s,t,e){const n=s[t]||(s[t]={});return n[e]||(n[e]={})}function ci(s,t,e,n){for(const a of t.getMatchingVisibleMetas(n).reverse()){const i=s[a.index];if(e&&i>0||!e&&i<0)return a.index}return null}function di(s,t){const{chart:e,_cachedMeta:n}=s,a=e._stacks||(e._stacks={}),{iScale:i,vScale:o,index:l}=n,r=i.axis,c=o.axis,d=Au(i,o,n),f=t.length;let h;for(let g=0;g<f;++g){const _=t[g],{[r]:v,[c]:b}=_,w=_._stacks||(_._stacks={});h=w[c]=$u(a,d,v),h[l]=b,h._top=ci(h,o,!0,n.type),h._bottom=ci(h,o,!1,n.type);const k=h._visualValues||(h._visualValues={});k[l]=b}}function Bn(s,t){const e=s.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function Eu(s,t){return xe(s,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Pu(s,t,e){return xe(s,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function ds(s,t){const e=s.controller.index,n=s.vScale&&s.vScale.axis;if(n){t=t||s._parsed;for(const a of t){const i=a._stacks;if(!i||i[n]===void 0||i[n][e]===void 0)return;delete i[n][e],i[n]._visualValues!==void 0&&i[n]._visualValues[e]!==void 0&&delete i[n]._visualValues[e]}}}const zn=s=>s==="reset"||s==="none",ui=(s,t)=>t?s:Object.assign({},s),Ou=(s,t,e)=>s&&!t.hidden&&t._stacked&&{keys:Xo(e,!0),values:null};class Zt{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ri(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ds(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),a=(f,h,g,_)=>f==="x"?h:f==="r"?_:g,i=e.xAxisID=tt(n.xAxisID,Bn(t,"x")),o=e.yAxisID=tt(n.yAxisID,Bn(t,"y")),l=e.rAxisID=tt(n.rAxisID,Bn(t,"r")),r=e.indexAxis,c=e.iAxisID=a(r,i,o,l),d=e.vAxisID=a(r,o,i,l);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Ya(this._data,this),t._stacked&&ds(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(at(e))this._data=Mu(e);else if(n!==e){if(n){Ya(n,this);const a=this._cachedMeta;ds(a),a._parsed=[]}e&&Object.isExtensible(e)&&vd(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=e._stacked;e._stacked=ri(e.vScale,e),e.stack!==n.stack&&(a=!0,ds(e),e.stack=n.stack),this._resyncElements(t),(a||i!==e._stacked)&&di(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:o}=n,l=i.axis;let r=t===0&&e===a.length?!0:n._sorted,c=t>0&&n._parsed[t-1],d,f,h;if(this._parsing===!1)n._parsed=a,n._sorted=!0,h=a;else{ut(a[t])?h=this.parseArrayData(n,a,t,e):at(a[t])?h=this.parseObjectData(n,a,t,e):h=this.parsePrimitiveData(n,a,t,e);const g=()=>f[l]===null||c&&f[l]<c[l];for(d=0;d<e;++d)n._parsed[d+t]=f=h[d],r&&(g()&&(r=!1),c=f);n._sorted=r}o&&di(this,h)}parsePrimitiveData(t,e,n,a){const{iScale:i,vScale:o}=t,l=i.axis,r=o.axis,c=i.getLabels(),d=i===o,f=new Array(a);let h,g,_;for(h=0,g=a;h<g;++h)_=h+n,f[h]={[l]:d||i.parse(c[_],_),[r]:o.parse(e[_],_)};return f}parseArrayData(t,e,n,a){const{xScale:i,yScale:o}=t,l=new Array(a);let r,c,d,f;for(r=0,c=a;r<c;++r)d=r+n,f=e[d],l[r]={x:i.parse(f[0],d),y:o.parse(f[1],d)};return l}parseObjectData(t,e,n,a){const{xScale:i,yScale:o}=t,{xAxisKey:l="x",yAxisKey:r="y"}=this._parsing,c=new Array(a);let d,f,h,g;for(d=0,f=a;d<f;++d)h=d+n,g=e[h],c[d]={x:i.parse(be(g,l),h),y:o.parse(be(g,r),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const a=this.chart,i=this._cachedMeta,o=e[t.axis],l={keys:Xo(a,!0),values:e._stacks[t.axis]._visualValues};return li(l,o,i.index,{mode:n})}updateRangeFromParsed(t,e,n,a){const i=n[e.axis];let o=i===null?NaN:i;const l=a&&n._stacks[e.axis];a&&l&&(a.values=l,o=li(a,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&t===n.iScale,o=a.length,l=this._getOtherScale(t),r=Ou(e,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=Cu(l);let h,g;function _(){g=a[h];const v=g[l.axis];return!bt(g[t.axis])||d>v||f<v}for(h=0;h<o&&!(!_()&&(this.updateRangeFromParsed(c,t,g,r),i));++h);if(i){for(h=o-1;h>=0;--h)if(!_()){this.updateRangeFromParsed(c,t,g,r);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let a,i,o;for(a=0,i=e.length;a<i;++a)o=e[a][t.axis],bt(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,a=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Du(tt(this.options.clip,Tu(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,a=n.data||[],i=e.chartArea,o=[],l=this._drawStart||0,r=this._drawCount||a.length-l,c=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(t,i,l,r),d=l;d<l+r;++d){const f=a[d];f.hidden||(f.active&&c?o.push(f):f.draw(t,i))}for(d=0;d<o.length;++d)o[d].draw(t,i)}getStyle(t,e){const n=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const a=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=Pu(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=a.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=Eu(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const a=e==="active",i=this._cachedDataOpts,o=t+"-"+e,l=i[o],r=this.enableOptionSharing&&Cs(n);if(l)return ui(l,r);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,t),f=a?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),d),g=Object.keys(yt.elements[t]),_=()=>this.getContext(n,a,e),v=c.resolveNamedOptions(h,g,_,f);return v.$shared&&(v.$shared=r,i[o]=Object.freeze(ui(v,r))),v}_resolveAnimations(t,e,n){const a=this.chart,i=this._cachedDataOpts,o=`animation-${e}`,l=i[o];if(l)return l;let r;if(a.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,e),h=d.getOptionScopes(this.getDataset(),f);r=d.createResolver(h,this.getContext(t,n,e))}const c=new Go(a,r&&r.animations);return r&&r._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||zn(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),a=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(e,i)||i!==a;return this.updateSharedOptions(i,e,n),{sharedOptions:i,includeOptions:o}}updateElement(t,e,n,a){zn(a)?Object.assign(t,n):this._resolveAnimations(e,a).update(t,n)}updateSharedOptions(t,e,n){t&&!zn(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,a){t.active=a;const i=this.getStyle(e,a);this._resolveAnimations(e,n,a).update(t,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[l,r,c]of this._syncList)this[l](r,c);this._syncList=[];const a=n.length,i=e.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,t):i<a&&this._removeElements(i,a-i)}_insertElements(t,e,n=!0){const a=this._cachedMeta,i=a.data,o=t+e;let l;const r=c=>{for(c.length+=e,l=c.length-1;l>=o;l--)c[l]=c[l-e]};for(r(i),l=t;l<o;++l)i[l]=new this.dataElementType;this._parsing&&r(a._parsed),this.parse(t,e),n&&this.updateElements(i,t,e,"reset")}updateElements(t,e,n,a){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(t,e);n._stacked&&ds(n,a)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,a]=t;this[e](n,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}z(Zt,"defaults",{}),z(Zt,"datasetElementType",null),z(Zt,"dataElementType",null);function Iu(s,t){if(!s._cache.$bar){const e=s.getMatchingVisibleMetas(t);let n=[];for(let a=0,i=e.length;a<i;a++)n=n.concat(e[a].controller.getAllParsedValues(s));s._cache.$bar=Ao(n.sort((a,i)=>a-i))}return s._cache.$bar}function Ru(s){const t=s.iScale,e=Iu(t,s.type);let n=t._length,a,i,o,l;const r=()=>{o===32767||o===-32768||(Cs(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(a=0,i=e.length;a<i;++a)o=t.getPixelForValue(e[a]),r();for(l=void 0,a=0,i=t.ticks.length;a<i;++a)o=t.getPixelForTick(a),r();return n}function Fu(s,t,e,n){const a=e.barThickness;let i,o;return lt(a)?(i=t.min*e.categoryPercentage,o=e.barPercentage):(i=a*n,o=1),{chunk:i/n,ratio:o,start:t.pixels[s]-i/2}}function Lu(s,t,e,n){const a=t.pixels,i=a[s];let o=s>0?a[s-1]:null,l=s<a.length-1?a[s+1]:null;const r=e.categoryPercentage;o===null&&(o=i-(l===null?t.end-t.start:l-i)),l===null&&(l=i+i-o);const c=i-(i-Math.min(o,l))/2*r;return{chunk:Math.abs(l-o)/2*r/n,ratio:e.barPercentage,start:c}}function Vu(s,t,e,n){const a=e.parse(s[0],n),i=e.parse(s[1],n),o=Math.min(a,i),l=Math.max(a,i);let r=o,c=l;Math.abs(o)>Math.abs(l)&&(r=l,c=o),t[e.axis]=c,t._custom={barStart:r,barEnd:c,start:a,end:i,min:o,max:l}}function Jo(s,t,e,n){return ut(s)?Vu(s,t,e,n):t[e.axis]=e.parse(s,n),t}function hi(s,t,e,n){const a=s.iScale,i=s.vScale,o=a.getLabels(),l=a===i,r=[];let c,d,f,h;for(c=e,d=e+n;c<d;++c)h=t[c],f={},f[a.axis]=l||a.parse(o[c],c),r.push(Jo(h,f,i,c));return r}function jn(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function Nu(s,t,e){return s!==0?se(s):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Bu(s){let t,e,n,a,i;return s.horizontal?(t=s.base>s.x,e="left",n="right"):(t=s.base<s.y,e="bottom",n="top"),t?(a="end",i="start"):(a="start",i="end"),{start:e,end:n,reverse:t,top:a,bottom:i}}function zu(s,t,e,n){let a=t.borderSkipped;const i={};if(!a){s.borderSkipped=i;return}if(a===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:r,top:c,bottom:d}=Bu(s);a==="middle"&&e&&(s.enableBorderRadius=!0,(e._top||0)===n?a=c:(e._bottom||0)===n?a=d:(i[fi(d,o,l,r)]=!0,a=c)),i[fi(a,o,l,r)]=!0,s.borderSkipped=i}function fi(s,t,e,n){return n?(s=ju(s,t,e),s=mi(s,e,t)):s=mi(s,t,e),s}function ju(s,t,e){return s===t?e:s===e?t:s}function mi(s,t,e){return s==="start"?t:s==="end"?e:s}function Hu(s,{inflateAmount:t},e){s.inflateAmount=t==="auto"?e===1?.33:0:t}class Ts extends Zt{parsePrimitiveData(t,e,n,a){return hi(t,e,n,a)}parseArrayData(t,e,n,a){return hi(t,e,n,a)}parseObjectData(t,e,n,a){const{iScale:i,vScale:o}=t,{xAxisKey:l="x",yAxisKey:r="y"}=this._parsing,c=i.axis==="x"?l:r,d=o.axis==="x"?l:r,f=[];let h,g,_,v;for(h=n,g=n+a;h<g;++h)v=e[h],_={},_[i.axis]=i.parse(be(v,c),h),f.push(Jo(be(v,d),_,o,h));return f}updateRangeFromParsed(t,e,n,a){super.updateRangeFromParsed(t,e,n,a);const i=n._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:a}=e,i=this.getParsed(t),o=i._custom,l=jn(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,r=l.getBasePixel(),c=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(e,a);for(let g=e;g<e+n;g++){const _=this.getParsed(g),v=i||lt(_[l.axis])?{base:r,head:r}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,d),w=(_._stacks||{})[l.axis],k={horizontal:c,base:v.base,enableBorderRadius:!w||jn(_._custom)||o===w._top||o===w._bottom,x:c?v.head:b.center,y:c?b.center:v.head,height:c?b.size:Math.abs(v.size),width:c?Math.abs(v.size):b.size};h&&(k.options=f||this.resolveDataElementOptions(g,t[g].active?"active":a));const M=k.options||t[g].options;zu(k,M,w,o),Hu(k,M,d.ratio),this.updateElement(t[g],g,k,a)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(r=>r.controller.options.grouped),i=n.options.stacked,o=[],l=r=>{const c=r.controller.getParsed(e),d=c&&c[r.vScale.axis];if(lt(d)||isNaN(d))return!0};for(const r of a)if(!(e!==void 0&&l(r))&&((i===!1||o.indexOf(r.stack)===-1||i===void 0&&r.stack===void 0)&&o.push(r.stack),r.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const a=this._getStacks(t,n),i=e!==void 0?a.indexOf(e):-1;return i===-1?a.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,a=[];let i,o;for(i=0,o=e.data.length;i<o;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=t.barThickness;return{min:l||Ru(e),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,r=this.getParsed(t),c=r._custom,d=jn(c);let f=r[e.axis],h=0,g=n?this.applyStack(e,r,n):f,_,v;g!==f&&(h=g-f,g=f),d&&(f=c.barStart,g=c.barEnd-c.barStart,f!==0&&se(f)!==se(c.barEnd)&&(h=0),h+=f);const b=!lt(i)&&!d?i:h;let w=e.getPixelForValue(b);if(this.chart.getDataVisibility(t)?_=e.getPixelForValue(h+g):_=w,v=_-w,Math.abs(v)<o){v=Nu(v,e,l)*o,f===l&&(w-=v/2);const k=e.getPixelForDecimal(0),M=e.getPixelForDecimal(1),E=Math.min(k,M),A=Math.max(k,M);w=Math.max(Math.min(w,A),E),_=w+v,n&&!d&&(r._stacks[e.axis]._visualValues[a]=e.getValueForPixel(_)-e.getValueForPixel(w))}if(w===e.getPixelForValue(l)){const k=se(v)*e.getLineWidthForValue(l)/2;w+=k,v-=k}return{size:v,base:w,head:_,center:_+v/2}}_calculateBarIndexPixels(t,e){const n=e.scale,a=this.options,i=a.skipNull,o=tt(a.maxBarThickness,1/0);let l,r;if(e.grouped){const c=i?this._getStackCount(t):e.stackCount,d=a.barThickness==="flex"?Lu(t,e,a,c):Fu(t,e,a,c),f=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);l=d.start+d.chunk*f+d.chunk/2,r=Math.min(o,d.chunk*d.ratio)}else l=n.getPixelForValue(this.getParsed(t)[n.axis],t),r=Math.min(o,e.min*e.ratio);return{base:l-r/2,head:l+r/2,center:l,size:r}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[e.axis]!==null&&n[i].draw(this._ctx)}}z(Ts,"id","bar"),z(Ts,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),z(Ts,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class un extends Zt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,a){const i=super.parsePrimitiveData(t,e,n,a);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+n).radius;return i}parseArrayData(t,e,n,a){const i=super.parseArrayData(t,e,n,a);for(let o=0;o<i.length;o++){const l=e[n+o];i[o]._custom=tt(l[2],this.resolveDataElementOptions(o+n).radius)}return i}parseObjectData(t,e,n,a){const i=super.parseObjectData(t,e,n,a);for(let o=0;o<i.length;o++){const l=e[n+o];i[o]._custom=tt(l&&l.r&&+l.r,this.resolveDataElementOptions(o+n).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=e,o=this.getParsed(t),l=a.getLabelForValue(o.x),r=i.getLabelForValue(o.y),c=o._custom;return{label:n[t]||"",value:"("+l+", "+r+(c?", "+c:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,a){const i=a==="reset",{iScale:o,vScale:l}=this._cachedMeta,{sharedOptions:r,includeOptions:c}=this._getSharedOptions(e,a),d=o.axis,f=l.axis;for(let h=e;h<e+n;h++){const g=t[h],_=!i&&this.getParsed(h),v={},b=v[d]=i?o.getPixelForDecimal(.5):o.getPixelForValue(_[d]),w=v[f]=i?l.getBasePixel():l.getPixelForValue(_[f]);v.skip=isNaN(b)||isNaN(w),c&&(v.options=r||this.resolveDataElementOptions(h,g.active?"active":a),i&&(v.options.radius=0)),this.updateElement(g,h,v,a)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let a=super.resolveDataElementOptions(t,e);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const i=a.radius;return e!=="active"&&(a.radius=0),a.radius+=tt(n&&n._custom,i),a}}z(un,"id","bubble"),z(un,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),z(un,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Wu(s,t,e){let n=1,a=1,i=0,o=0;if(t<ht){const l=s,r=l+t,c=Math.cos(l),d=Math.sin(l),f=Math.cos(r),h=Math.sin(r),g=(M,E,A)=>$s(M,l,r,!0)?1:Math.max(E,E*e,A,A*e),_=(M,E,A)=>$s(M,l,r,!0)?-1:Math.min(E,E*e,A,A*e),v=g(0,c,f),b=g(Tt,d,h),w=_(ft,c,f),k=_(ft+Tt,d,h);n=(v-w)/2,a=(b-k)/2,i=-(v+w)/2,o=-(b+k)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:o}}class Oe extends Zt{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=r=>+n[r];if(at(n[t])){const{key:r="value"}=this._parsing;i=c=>+be(n[c],r)}let o,l;for(o=t,l=t+e;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return qt(this.options.rotation-90)}_getCircumference(){return qt(this.options.circumference)}_getRotationExtents(){let t=ht,e=-ht;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),o=a._getCircumference();t=Math.min(t,i),e=Math.max(e,i+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),r=Math.min(ad(this.options.cutout,l),1),c=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:g,offsetX:_,offsetY:v}=Wu(f,d,r),b=(n.width-o)/h,w=(n.height-o)/g,k=Math.max(Math.min(b,w)/2,0),M=ko(this.options.radius,k),E=Math.max(M*r,0),A=(M-E)/this._getVisibleDatasetWeightTotal();this.offsetX=_*M,this.offsetY=v*M,a.total=this.calculateTotal(),this.outerRadius=M-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*c,0),this.updateElements(i,0,i.length,t)}_circumference(t,e){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*i/ht)}updateElements(t,e,n,a){const i=a==="reset",o=this.chart,l=o.chartArea,c=o.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,h=i&&c.animateScale,g=h?0:this.innerRadius,_=h?0:this.outerRadius,{sharedOptions:v,includeOptions:b}=this._getSharedOptions(e,a);let w=this._getRotation(),k;for(k=0;k<e;++k)w+=this._circumference(k,i);for(k=e;k<e+n;++k){const M=this._circumference(k,i),E=t[k],A={x:d+this.offsetX,y:f+this.offsetY,startAngle:w,endAngle:w+M,circumference:M,outerRadius:_,innerRadius:g};b&&(A.options=v||this.resolveDataElementOptions(k,E.active?"active":a)),w+=M,this.updateElement(E,k,A,a)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n=0,a;for(a=0;a<e.length;a++){const i=t._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!e[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ht*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=Bs(e._parsed[t],n.options.locale);return{label:a[t]||"",value:i}}getMaxBorderWidth(t){let e=0;const n=this.chart;let a,i,o,l,r;if(!t){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){o=n.getDatasetMeta(a),t=o.data,l=o.controller;break}}if(!t)return 0;for(a=0,i=t.length;a<i;++a)r=l.resolveDataElementOptions(a),r.borderAlign!=="inner"&&(e=Math.max(e,r.borderWidth||0,r.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,a=t.length;n<a;++n){const i=this.resolveDataElementOptions(n);e=Math.max(e,i.offset||0,i.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(tt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}z(Oe,"id","doughnut"),z(Oe,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),z(Oe,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),z(Oe,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:a}}=t.legend.options;return e.labels.map((i,o)=>{const r=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:a,lineWidth:r.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class hn extends Zt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=e,o=this.chart._animationsDisabled;let{start:l,count:r}=Eo(e,a,o);this._drawStart=l,this._drawCount=r,Po(e)&&(l=0,r=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},t),this.updateElements(a,l,r,t)}updateElements(t,e,n,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:r,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(e,a),h=o.axis,g=l.axis,{spanGaps:_,segment:v}=this.options,b=Ze(_)?_:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||i||a==="none",k=e+n,M=t.length;let E=e>0&&this.getParsed(e-1);for(let A=0;A<M;++A){const O=t[A],$=w?O:{};if(A<e||A>=k){$.skip=!0;continue}const C=this.getParsed(A),P=lt(C[g]),B=$[h]=o.getPixelForValue(C[h],A),N=$[g]=i||P?l.getBasePixel():l.getPixelForValue(r?this.applyStack(l,C,r):C[g],A);$.skip=isNaN(B)||isNaN(N)||P,$.stop=A>0&&Math.abs(C[h]-E[h])>b,v&&($.parsed=C,$.raw=c.data[A]),f&&($.options=d||this.resolveDataElementOptions(A,O.active?"active":a)),w||this.updateElement(O,A,$,a),E=C}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}z(hn,"id","line"),z(hn,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),z(hn,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ds extends Zt{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=Bs(e._parsed[t].r,n.options.locale);return{label:a[t]||"",value:i}}parseObjectData(t,e,n,a){return Bo.bind(this)(t,e,n,a)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,a)=>{const i=this.getParsed(a).r;!isNaN(i)&&this.chart.getDataVisibility(a)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,a=Math.min(e.right-e.left,e.bottom-e.top),i=Math.max(a/2,0),o=Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0),l=(i-o)/t.getVisibleDatasetCount();this.outerRadius=i-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,e,n,a){const i=a==="reset",o=this.chart,r=o.options.animation,c=this._cachedMeta.rScale,d=c.xCenter,f=c.yCenter,h=c.getIndexAngle(0)-.5*ft;let g=h,_;const v=360/this.countVisibleElements();for(_=0;_<e;++_)g+=this._computeAngle(_,a,v);for(_=e;_<e+n;_++){const b=t[_];let w=g,k=g+this._computeAngle(_,a,v),M=o.getDataVisibility(_)?c.getDistanceFromCenterForValue(this.getParsed(_).r):0;g=k,i&&(r.animateScale&&(M=0),r.animateRotate&&(w=k=h));const E={x:d,y:f,innerRadius:0,outerRadius:M,startAngle:w,endAngle:k,options:this.resolveDataElementOptions(_,b.active?"active":a)};this.updateElement(b,_,E,a)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?qt(this.resolveDataElementOptions(t,e).angle||n):0}}z(Ds,"id","polarArea"),z(Ds,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),z(Ds,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:a}}=t.legend.options;return e.labels.map((i,o)=>{const r=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:a,lineWidth:r.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ea extends Oe{}z(ea,"id","pie"),z(ea,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class fn extends Zt{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,a){return Bo.bind(this)(t,e,n,a)}update(t){const e=this._cachedMeta,n=e.dataset,a=e.data||[],i=e.iScale.getLabels();if(n.points=a,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:i.length===a.length,options:o};this.updateElement(n,void 0,l,t)}this.updateElements(a,0,a.length,t)}updateElements(t,e,n,a){const i=this._cachedMeta.rScale,o=a==="reset";for(let l=e;l<e+n;l++){const r=t[l],c=this.resolveDataElementOptions(l,r.active?"active":a),d=i.getPointPositionForValue(l,this.getParsed(l).r),f=o?i.xCenter:d.x,h=o?i.yCenter:d.y,g={x:f,y:h,angle:d.angle,skip:isNaN(f)||isNaN(h),options:c};this.updateElement(r,l,g,a)}}}z(fn,"id","radar"),z(fn,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),z(fn,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class mn extends Zt{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=e,o=this.getParsed(t),l=a.getLabelForValue(o.x),r=i.getLabelForValue(o.y);return{label:n[t]||"",value:"("+l+", "+r+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,a=this.chart._animationsDisabled;let{start:i,count:o}=Eo(e,n,a);if(this._drawStart=i,this._drawCount=o,Po(e)&&(i=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:r}=e;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!r._decimated,l.points=n;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:c},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:r,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(e,a),f=this.getSharedOptions(d),h=this.includeOptions(a,f),g=o.axis,_=l.axis,{spanGaps:v,segment:b}=this.options,w=Ze(v)?v:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||i||a==="none";let M=e>0&&this.getParsed(e-1);for(let E=e;E<e+n;++E){const A=t[E],O=this.getParsed(E),$=k?A:{},C=lt(O[_]),P=$[g]=o.getPixelForValue(O[g],E),B=$[_]=i||C?l.getBasePixel():l.getPixelForValue(r?this.applyStack(l,O,r):O[_],E);$.skip=isNaN(P)||isNaN(B)||C,$.stop=E>0&&Math.abs(O[g]-M[g])>w,b&&($.parsed=O,$.raw=c.data[E]),h&&($.options=f||this.resolveDataElementOptions(E,A.active?"active":a)),k||this.updateElement(A,E,$,a),M=O}this.updateSharedOptions(f,a,d)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let l=0;for(let r=e.length-1;r>=0;--r)l=Math.max(l,e[r].size(this.resolveDataElementOptions(r))/2);return l>0&&l}const n=t.dataset,a=n.options&&n.options.borderWidth||0;if(!e.length)return a;const i=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(a,i,o)/2}}z(mn,"id","scatter"),z(mn,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),z(mn,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Uu=Object.freeze({__proto__:null,BarController:Ts,BubbleController:un,DoughnutController:Oe,LineController:hn,PieController:ea,PolarAreaController:Ds,RadarController:fn,ScatterController:mn});function Ce(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ma{constructor(t){z(this,"options");this.options=t||{}}static override(t){Object.assign(Ma.prototype,t)}init(){}formats(){return Ce()}parse(){return Ce()}format(){return Ce()}add(){return Ce()}diff(){return Ce()}startOf(){return Ce()}endOf(){return Ce()}}var Yu={_date:Ma};function Gu(s,t,e,n){const{controller:a,data:i,_sorted:o}=s,l=a._cachedMeta.iScale;if(l&&t===l.axis&&t!=="r"&&o&&i.length){const r=l._reversePixels?gd:ce;if(n){if(a._sharedOptions){const c=i[0],d=typeof c.getRange=="function"&&c.getRange(t);if(d){const f=r(i,t,e-d),h=r(i,t,e+d);return{lo:f.lo,hi:h.hi}}}}else return r(i,t,e)}return{lo:0,hi:i.length-1}}function zs(s,t,e,n,a){const i=s.getSortedVisibleDatasetMetas(),o=e[t];for(let l=0,r=i.length;l<r;++l){const{index:c,data:d}=i[l],{lo:f,hi:h}=Gu(i[l],t,o,a);for(let g=f;g<=h;++g){const _=d[g];_.skip||n(_,c,g)}}}function Xu(s){const t=s.indexOf("x")!==-1,e=s.indexOf("y")!==-1;return function(n,a){const i=t?Math.abs(n.x-a.x):0,o=e?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Hn(s,t,e,n,a){const i=[];return!a&&!s.isPointInArea(t)||zs(s,e,t,function(l,r,c){!a&&!de(l,s.chartArea,0)||l.inRange(t.x,t.y,n)&&i.push({element:l,datasetIndex:r,index:c})},!0),i}function Ju(s,t,e,n){let a=[];function i(o,l,r){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],n),{angle:f}=Do(o,{x:t.x,y:t.y});$s(f,c,d)&&a.push({element:o,datasetIndex:l,index:r})}return zs(s,e,t,i),a}function Ku(s,t,e,n,a,i){let o=[];const l=Xu(e);let r=Number.POSITIVE_INFINITY;function c(d,f,h){const g=d.inRange(t.x,t.y,a);if(n&&!g)return;const _=d.getCenterPoint(a);if(!(!!i||s.isPointInArea(_))&&!g)return;const b=l(t,_);b<r?(o=[{element:d,datasetIndex:f,index:h}],r=b):b===r&&o.push({element:d,datasetIndex:f,index:h})}return zs(s,e,t,c),o}function Wn(s,t,e,n,a,i){return!i&&!s.isPointInArea(t)?[]:e==="r"&&!n?Ju(s,t,e,a):Ku(s,t,e,n,a,i)}function pi(s,t,e,n,a){const i=[],o=e==="x"?"inXRange":"inYRange";let l=!1;return zs(s,e,t,(r,c,d)=>{r[o](t[e],a)&&(i.push({element:r,datasetIndex:c,index:d}),l=l||r.inRange(t.x,t.y,a))}),n&&!l?[]:i}var qu={evaluateInteractionItems:zs,modes:{index(s,t,e,n){const a=Ee(t,s),i=e.axis||"x",o=e.includeInvisible||!1,l=e.intersect?Hn(s,a,i,n,o):Wn(s,a,i,!1,n,o),r=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(c=>{const d=l[0].index,f=c.data[d];f&&!f.skip&&r.push({element:f,datasetIndex:c.index,index:d})}),r):[]},dataset(s,t,e,n){const a=Ee(t,s),i=e.axis||"xy",o=e.includeInvisible||!1;let l=e.intersect?Hn(s,a,i,n,o):Wn(s,a,i,!1,n,o);if(l.length>0){const r=l[0].datasetIndex,c=s.getDatasetMeta(r).data;l=[];for(let d=0;d<c.length;++d)l.push({element:c[d],datasetIndex:r,index:d})}return l},point(s,t,e,n){const a=Ee(t,s),i=e.axis||"xy",o=e.includeInvisible||!1;return Hn(s,a,i,n,o)},nearest(s,t,e,n){const a=Ee(t,s),i=e.axis||"xy",o=e.includeInvisible||!1;return Wn(s,a,i,e.intersect,n,o)},x(s,t,e,n){const a=Ee(t,s);return pi(s,a,"x",e.intersect,n)},y(s,t,e,n){const a=Ee(t,s);return pi(s,a,"y",e.intersect,n)}}};const Ko=["left","top","right","bottom"];function us(s,t){return s.filter(e=>e.pos===t)}function gi(s,t){return s.filter(e=>Ko.indexOf(e.pos)===-1&&e.box.axis===t)}function hs(s,t){return s.sort((e,n)=>{const a=t?n:e,i=t?e:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function Zu(s){const t=[];let e,n,a,i,o,l;for(e=0,n=(s||[]).length;e<n;++e)a=s[e],{position:i,options:{stack:o,stackWeight:l=1}}=a,t.push({index:e,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return t}function Qu(s){const t={};for(const e of s){const{stack:n,pos:a,stackWeight:i}=e;if(!n||!Ko.includes(a))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function th(s,t){const e=Qu(s),{vBoxMaxWidth:n,hBoxMaxHeight:a}=t;let i,o,l;for(i=0,o=s.length;i<o;++i){l=s[i];const{fullSize:r}=l.box,c=e[l.stack],d=c&&l.stackWeight/c.weight;l.horizontal?(l.width=d?d*n:r&&t.availableWidth,l.height=a):(l.width=n,l.height=d?d*a:r&&t.availableHeight)}return e}function eh(s){const t=Zu(s),e=hs(t.filter(c=>c.box.fullSize),!0),n=hs(us(t,"left"),!0),a=hs(us(t,"right")),i=hs(us(t,"top"),!0),o=hs(us(t,"bottom")),l=gi(t,"x"),r=gi(t,"y");return{fullSize:e,leftAndTop:n.concat(i),rightAndBottom:a.concat(r).concat(o).concat(l),chartArea:us(t,"chartArea"),vertical:n.concat(a).concat(r),horizontal:i.concat(o).concat(l)}}function _i(s,t,e,n){return Math.max(s[e],t[e])+Math.max(s[n],t[n])}function qo(s,t){s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}function sh(s,t,e,n){const{pos:a,box:i}=e,o=s.maxPadding;if(!at(a)){e.size&&(s[a]-=e.size);const f=n[e.stack]||{size:0,count:1};f.size=Math.max(f.size,e.horizontal?i.height:i.width),e.size=f.size/f.count,s[a]+=e.size}i.getPadding&&qo(o,i.getPadding());const l=Math.max(0,t.outerWidth-_i(o,s,"left","right")),r=Math.max(0,t.outerHeight-_i(o,s,"top","bottom")),c=l!==s.w,d=r!==s.h;return s.w=l,s.h=r,e.horizontal?{same:c,other:d}:{same:d,other:c}}function nh(s){const t=s.maxPadding;function e(n){const a=Math.max(t[n]-s[n],0);return s[n]+=a,a}s.y+=e("top"),s.x+=e("left"),e("right"),e("bottom")}function ah(s,t){const e=t.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(t[o],e[o])}),i}return n(s?["left","right"]:["top","bottom"])}function _s(s,t,e,n){const a=[];let i,o,l,r,c,d;for(i=0,o=s.length,c=0;i<o;++i){l=s[i],r=l.box,r.update(l.width||t.w,l.height||t.h,ah(l.horizontal,t));const{same:f,other:h}=sh(t,e,l,n);c|=f&&a.length,d=d||h,r.fullSize||a.push(l)}return c&&_s(a,t,e,n)||d}function sn(s,t,e,n,a){s.top=e,s.left=t,s.right=t+n,s.bottom=e+a,s.width=n,s.height=a}function vi(s,t,e,n){const a=e.padding;let{x:i,y:o}=t;for(const l of s){const r=l.box,c=n[l.stack]||{count:1,placed:0,weight:1},d=l.stackWeight/c.weight||1;if(l.horizontal){const f=t.w*d,h=c.size||r.height;Cs(c.start)&&(o=c.start),r.fullSize?sn(r,a.left,o,e.outerWidth-a.right-a.left,h):sn(r,t.left+c.placed,o,f,h),c.start=o,c.placed+=f,o=r.bottom}else{const f=t.h*d,h=c.size||r.width;Cs(c.start)&&(i=c.start),r.fullSize?sn(r,i,a.top,h,e.outerHeight-a.bottom-a.top):sn(r,i,t.top+c.placed,h,f),c.start=i,c.placed+=f,i=r.right}}t.x=i,t.y=o}var It={addBox(s,t){s.boxes||(s.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},s.boxes.push(t)},removeBox(s,t){const e=s.boxes?s.boxes.indexOf(t):-1;e!==-1&&s.boxes.splice(e,1)},configure(s,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(s,t,e,n){if(!s)return;const a=Ft(s.options.layout.padding),i=Math.max(t-a.width,0),o=Math.max(e-a.height,0),l=eh(s.boxes),r=l.vertical,c=l.horizontal;ct(s.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const d=r.reduce((v,b)=>b.box.options&&b.box.options.display===!1?v:v+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},a);qo(h,Ft(n));const g=Object.assign({maxPadding:h,w:i,h:o,x:a.left,y:a.top},a),_=th(r.concat(c),f);_s(l.fullSize,g,f,_),_s(r,g,f,_),_s(c,g,f,_)&&_s(r,g,f,_),nh(g),vi(l.leftAndTop,g,f,_),g.x+=g.w,g.y+=g.h,vi(l.rightAndBottom,g,f,_),s.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ct(l.chartArea,v=>{const b=v.box;Object.assign(b,s.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Zo{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,a){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):n)}}isAttached(t){return!0}updateConfig(t){}}class ih extends Zo{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const pn="$chartjs",oh={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bi=s=>s===null||s==="";function lh(s,t){const e=s.style,n=s.getAttribute("height"),a=s.getAttribute("width");if(s[pn]={initial:{height:n,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",bi(a)){const i=ei(s,"width");i!==void 0&&(s.width=i)}if(bi(n))if(s.style.height==="")s.height=s.width/(t||2);else{const i=ei(s,"height");i!==void 0&&(s.height=i)}return s}const Qo=cu?{passive:!0}:!1;function rh(s,t,e){s.addEventListener(t,e,Qo)}function ch(s,t,e){s.canvas.removeEventListener(t,e,Qo)}function dh(s,t){const e=oh[s.type]||s.type,{x:n,y:a}=Ee(s,t);return{type:e,chart:t,native:s,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Tn(s,t){for(const e of s)if(e===t||e.contains(t))return!0}function uh(s,t,e){const n=s.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Tn(l.addedNodes,n),o=o&&!Tn(l.removedNodes,n);o&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function hh(s,t,e){const n=s.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Tn(l.removedNodes,n),o=o&&!Tn(l.addedNodes,n);o&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const Ps=new Map;let yi=0;function tl(){const s=window.devicePixelRatio;s!==yi&&(yi=s,Ps.forEach((t,e)=>{e.currentDevicePixelRatio!==s&&t()}))}function fh(s,t){Ps.size||window.addEventListener("resize",tl),Ps.set(s,t)}function mh(s){Ps.delete(s),Ps.size||window.removeEventListener("resize",tl)}function ph(s,t,e){const n=s.canvas,a=n&&Da(n);if(!a)return;const i=$o((l,r)=>{const c=a.clientWidth;e(l,r),c<a.clientWidth&&e()},window),o=new ResizeObserver(l=>{const r=l[0],c=r.contentRect.width,d=r.contentRect.height;c===0&&d===0||i(c,d)});return o.observe(a),fh(s,i),o}function Un(s,t,e){e&&e.disconnect(),t==="resize"&&mh(s)}function gh(s,t,e){const n=s.canvas,a=$o(i=>{s.ctx!==null&&e(dh(i,s))},s);return rh(n,t,a),a}class _h extends Zo{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(lh(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[pn])return!1;const n=e[pn].initial;["height","width"].forEach(i=>{const o=n[i];lt(o)?e.removeAttribute(i):e.setAttribute(i,o)});const a=n.style||{};return Object.keys(a).forEach(i=>{e.style[i]=a[i]}),e.width=e.width,delete e[pn],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),o={attach:uh,detach:hh,resize:ph}[e]||gh;a[e]=o(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),a=n[e];if(!a)return;({attach:Un,detach:Un,resize:Un}[e]||ch)(t,e,a),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,a){return ru(t,e,n,a)}isAttached(t){const e=Da(t);return!!(e&&e.isConnected)}}function vh(s){return!Ta()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?ih:_h}class Qt{constructor(){z(this,"x");z(this,"y");z(this,"active",!1);z(this,"options");z(this,"$animations")}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Ze(this.x)&&Ze(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const a={};return t.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}}z(Qt,"defaults",{}),z(Qt,"defaultRoutes");function bh(s,t){const e=s.options.ticks,n=yh(s),a=Math.min(e.maxTicksLimit||n,n),i=e.major.enabled?Sh(t):[],o=i.length,l=i[0],r=i[o-1],c=[];if(o>a)return kh(t,c,i,o/a),c;const d=xh(i,t,a);if(o>0){let f,h;const g=o>1?Math.round((r-l)/(o-1)):null;for(nn(t,c,d,lt(g)?0:l-g,l),f=0,h=o-1;f<h;f++)nn(t,c,d,i[f],i[f+1]);return nn(t,c,d,r,lt(g)?t.length:r+g),c}return nn(t,c,d),c}function yh(s){const t=s.options.offset,e=s._tickSize(),n=s._length/e+(t?0:1),a=s._maxLength/e;return Math.floor(Math.min(n,a))}function xh(s,t,e){const n=wh(s),a=t.length/e;if(!n)return Math.max(a,1);const i=hd(n);for(let o=0,l=i.length-1;o<l;o++){const r=i[o];if(r>a)return r}return Math.max(a,1)}function Sh(s){const t=[];let e,n;for(e=0,n=s.length;e<n;e++)s[e].major&&t.push(e);return t}function kh(s,t,e,n){let a=0,i=e[0],o;for(n=Math.ceil(n),o=0;o<s.length;o++)o===i&&(t.push(s[o]),a++,i=e[a*n])}function nn(s,t,e,n,a){const i=tt(n,0),o=Math.min(tt(a,s.length),s.length);let l=0,r,c,d;for(e=Math.ceil(e),a&&(r=a-n,e=r/Math.floor(r/e)),d=i;d<0;)l++,d=Math.round(i+l*e);for(c=Math.max(i,0);c<o;c++)c===d&&(t.push(s[c]),l++,d=Math.round(i+l*e))}function wh(s){const t=s.length;let e,n;if(t<2)return!1;for(n=s[0],e=1;e<t;++e)if(s[e]-s[e-1]!==n)return!1;return n}const Th=s=>s==="left"?"right":s==="right"?"left":s,xi=(s,t,e)=>t==="top"||t==="left"?s[t]+e:s[t]-e,Si=(s,t)=>Math.min(t||s,s);function ki(s,t){const e=[],n=s.length/t,a=s.length;let i=0;for(;i<a;i+=n)e.push(s[Math.floor(i)]);return e}function Dh(s,t,e){const n=s.ticks.length,a=Math.min(t,n-1),i=s._startPixel,o=s._endPixel,l=1e-6;let r=s.getPixelForTick(a),c;if(!(e&&(n===1?c=Math.max(r-i,o-r):t===0?c=(s.getPixelForTick(1)-r)/2:c=(r-s.getPixelForTick(a-1))/2,r+=a<t?c:-c,r<i-l||r>o+l)))return r}function Mh(s,t){ct(s,e=>{const n=e.gc,a=n.length/2;let i;if(a>t){for(i=0;i<a;++i)delete e.data[n[i]];n.splice(0,a)}})}function fs(s){return s.drawTicks?s.tickLength:0}function wi(s,t){if(!s.display)return 0;const e=Ct(s.font,t),n=Ft(s.padding);return(ut(s.text)?s.text.length:1)*e.lineHeight+n.height}function Ah(s,t){return xe(s,{scale:t,type:"scale"})}function Ch(s,t,e){return xe(s,{tick:e,index:t,type:"tick"})}function $h(s,t,e){let n=ba(s);return(e&&t!=="right"||!e&&t==="right")&&(n=Th(n)),n}function Eh(s,t,e,n){const{top:a,left:i,bottom:o,right:l,chart:r}=s,{chartArea:c,scales:d}=r;let f=0,h,g,_;const v=o-a,b=l-i;if(s.isHorizontal()){if(g=Ot(n,i,l),at(e)){const w=Object.keys(e)[0],k=e[w];_=d[w].getPixelForValue(k)+v-t}else e==="center"?_=(c.bottom+c.top)/2+v-t:_=xi(s,e,t);h=l-i}else{if(at(e)){const w=Object.keys(e)[0],k=e[w];g=d[w].getPixelForValue(k)-b+t}else e==="center"?g=(c.left+c.right)/2-b+t:g=xi(s,e,t);_=Ot(n,o,a),f=e==="left"?-Tt:Tt}return{titleX:g,titleY:_,maxWidth:h,rotation:f}}class je extends Qt{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:a}=this;return t=jt(t,Number.POSITIVE_INFINITY),e=jt(e,Number.NEGATIVE_INFINITY),n=jt(n,Number.POSITIVE_INFINITY),a=jt(a,Number.NEGATIVE_INFINITY),{min:jt(t,n),max:jt(e,a),minDefined:bt(t),maxDefined:bt(e)}}getMinMax(t){let{min:e,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:e,max:n};const l=this.getMatchingVisibleMetas();for(let r=0,c=l.length;r<c;++r)o=l[r].controller.getMinMax(this,t),a||(e=Math.min(e,o.min)),i||(n=Math.max(n,o.max));return e=i&&e>n?n:e,n=a&&e>n?e:n,{min:jt(e,jt(n,e)),max:jt(n,jt(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){dt(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Bd(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const r=l<this.ticks.length;this._convertTicksToLabels(r?ki(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=bh(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),r&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){dt(this.options.afterUpdate,[this])}beforeSetDimensions(){dt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){dt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),dt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){dt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n],i.label=dt(e.callback,[i.value,n,t],this)}afterTickToLabelConversion(){dt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){dt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=Si(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,i=e.maxRotation;let o=a,l,r,c;if(!this._isVisible()||!e.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,g=Et(this.chart.width-f,0,this.maxWidth);l=t.offset?this.maxWidth/n:g/(n-1),f+6>l&&(l=g/(n-(t.offset?.5:1)),r=this.maxHeight-fs(t.grid)-e.padding-wi(t.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),o=_a(Math.min(Math.asin(Et((d.highest.height+6)/l,-1,1)),Math.asin(Et(r/c,-1,1))-Math.asin(Et(h/c,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){dt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){dt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const r=wi(a,e.options.font);if(l?(t.width=this.maxWidth,t.height=fs(i)+r):(t.height=this.maxHeight,t.width=fs(i)+r),n.display&&this.ticks.length){const{first:c,last:d,widest:f,highest:h}=this._getLabelSizes(),g=n.padding*2,_=qt(this.labelRotation),v=Math.cos(_),b=Math.sin(_);if(l){const w=n.mirror?0:b*f.width+v*h.height;t.height=Math.min(this.maxHeight,t.height+w+g)}else{const w=n.mirror?0:v*f.width+b*h.height;t.width=Math.min(this.maxWidth,t.width+w+g)}this._calculatePadding(c,d,b,v)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,a){const{ticks:{align:i,padding:o},position:l}=this.options,r=this.labelRotation!==0,c=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,g=0;r?c?(h=a*t.width,g=n*e.height):(h=n*t.height,g=a*e.width):i==="start"?g=e.width:i==="end"?h=t.width:i!=="inner"&&(h=t.width/2,g=e.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-f+o)*this.width/(this.width-f),0)}else{let d=e.height/2,f=t.height/2;i==="start"?(d=0,f=t.height):i==="end"&&(d=e.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){dt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)lt(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=ki(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],r=Math.floor(e/Si(e,n));let c=0,d=0,f,h,g,_,v,b,w,k,M,E,A;for(f=0;f<e;f+=r){if(_=t[f].label,v=this._resolveTickFontOptions(f),a.font=b=v.string,w=i[b]=i[b]||{data:{},gc:[]},k=v.lineHeight,M=E=0,!lt(_)&&!ut(_))M=kn(a,w.data,w.gc,M,_),E=k;else if(ut(_))for(h=0,g=_.length;h<g;++h)A=_[h],!lt(A)&&!ut(A)&&(M=kn(a,w.data,w.gc,M,A),E+=k);o.push(M),l.push(E),c=Math.max(M,c),d=Math.max(E,d)}Mh(i,e);const O=o.indexOf(c),$=l.indexOf(d),C=P=>({width:o[P]||0,height:l[P]||0});return{first:C(0),last:C(e-1),widest:C(O),highest:C($),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return pd(this._alignToPixels?Ae(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=Ch(this.getContext(),t,n))}return this.$context||(this.$context=Ah(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=qt(this.labelRotation),n=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,l=i?i.widest.width+o:0,r=i?i.highest.height+o:0;return this.isHorizontal()?r*n>l*a?l/n:r/a:r*a<l*n?r/n:l/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,a=this.options,{grid:i,position:o,border:l}=a,r=i.offset,c=this.isHorizontal(),f=this.ticks.length+(r?1:0),h=fs(i),g=[],_=l.setContext(this.getContext()),v=_.display?_.width:0,b=v/2,w=function(K){return Ae(n,K,v)};let k,M,E,A,O,$,C,P,B,N,J,rt;if(o==="top")k=w(this.bottom),$=this.bottom-h,P=k-b,N=w(t.top)+b,rt=t.bottom;else if(o==="bottom")k=w(this.top),N=t.top,rt=w(t.bottom)-b,$=k+b,P=this.top+h;else if(o==="left")k=w(this.right),O=this.right-h,C=k-b,B=w(t.left)+b,J=t.right;else if(o==="right")k=w(this.left),B=t.left,J=w(t.right)-b,O=k+b,C=this.left+h;else if(e==="x"){if(o==="center")k=w((t.top+t.bottom)/2+.5);else if(at(o)){const K=Object.keys(o)[0],Y=o[K];k=w(this.chart.scales[K].getPixelForValue(Y))}N=t.top,rt=t.bottom,$=k+b,P=$+h}else if(e==="y"){if(o==="center")k=w((t.left+t.right)/2);else if(at(o)){const K=Object.keys(o)[0],Y=o[K];k=w(this.chart.scales[K].getPixelForValue(Y))}O=k-b,C=O-h,B=t.left,J=t.right}const j=tt(a.ticks.maxTicksLimit,f),Z=Math.max(1,Math.ceil(f/j));for(M=0;M<f;M+=Z){const K=this.getContext(M),Y=i.setContext(K),vt=l.setContext(K),mt=Y.lineWidth,Nt=Y.color,Mt=vt.dash||[],Wt=vt.dashOffset,Ut=Y.tickWidth,At=Y.tickColor,Yt=Y.tickBorderDash||[],Dt=Y.tickBorderDashOffset;E=Dh(this,M,r),E!==void 0&&(A=Ae(n,E,mt),c?O=C=B=J=A:$=P=N=rt=A,g.push({tx1:O,ty1:$,tx2:C,ty2:P,x1:B,y1:N,x2:J,y2:rt,width:mt,color:Nt,borderDash:Mt,borderDashOffset:Wt,tickWidth:Ut,tickColor:At,tickBorderDash:Yt,tickBorderDashOffset:Dt}))}return this._ticksLength=f,this._borderValue=k,g}_computeLabelItems(t){const e=this.axis,n=this.options,{position:a,ticks:i}=n,o=this.isHorizontal(),l=this.ticks,{align:r,crossAlign:c,padding:d,mirror:f}=i,h=fs(n.grid),g=h+d,_=f?-d:g,v=-qt(this.labelRotation),b=[];let w,k,M,E,A,O,$,C,P,B,N,J,rt="middle";if(a==="top")O=this.bottom-_,$=this._getXAxisLabelAlignment();else if(a==="bottom")O=this.top+_,$=this._getXAxisLabelAlignment();else if(a==="left"){const Z=this._getYAxisLabelAlignment(h);$=Z.textAlign,A=Z.x}else if(a==="right"){const Z=this._getYAxisLabelAlignment(h);$=Z.textAlign,A=Z.x}else if(e==="x"){if(a==="center")O=(t.top+t.bottom)/2+g;else if(at(a)){const Z=Object.keys(a)[0],K=a[Z];O=this.chart.scales[Z].getPixelForValue(K)+g}$=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")A=(t.left+t.right)/2-g;else if(at(a)){const Z=Object.keys(a)[0],K=a[Z];A=this.chart.scales[Z].getPixelForValue(K)}$=this._getYAxisLabelAlignment(h).textAlign}e==="y"&&(r==="start"?rt="top":r==="end"&&(rt="bottom"));const j=this._getLabelSizes();for(w=0,k=l.length;w<k;++w){M=l[w],E=M.label;const Z=i.setContext(this.getContext(w));C=this.getPixelForTick(w)+i.labelOffset,P=this._resolveTickFontOptions(w),B=P.lineHeight,N=ut(E)?E.length:1;const K=N/2,Y=Z.color,vt=Z.textStrokeColor,mt=Z.textStrokeWidth;let Nt=$;o?(A=C,$==="inner"&&(w===k-1?Nt=this.options.reverse?"left":"right":w===0?Nt=this.options.reverse?"right":"left":Nt="center"),a==="top"?c==="near"||v!==0?J=-N*B+B/2:c==="center"?J=-j.highest.height/2-K*B+B:J=-j.highest.height+B/2:c==="near"||v!==0?J=B/2:c==="center"?J=j.highest.height/2-K*B:J=j.highest.height-N*B,f&&(J*=-1),v!==0&&!Z.showLabelBackdrop&&(A+=B/2*Math.sin(v))):(O=C,J=(1-N)*B/2);let Mt;if(Z.showLabelBackdrop){const Wt=Ft(Z.backdropPadding),Ut=j.heights[w],At=j.widths[w];let Yt=J-Wt.top,Dt=0-Wt.left;switch(rt){case"middle":Yt-=Ut/2;break;case"bottom":Yt-=Ut;break}switch($){case"center":Dt-=At/2;break;case"right":Dt-=At;break;case"inner":w===k-1?Dt-=At:w>0&&(Dt-=At/2);break}Mt={left:Dt,top:Yt,width:At+Wt.width,height:Ut+Wt.height,color:Z.backdropColor}}b.push({label:E,font:P,textOffset:J,options:{rotation:v,color:Y,strokeColor:vt,strokeWidth:mt,textAlign:Nt,textBaseline:rt,translation:[A,O],backdrop:Mt}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-qt(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=t+i,r=o.widest.width;let c,d;return e==="left"?a?(d=this.right+i,n==="near"?c="left":n==="center"?(c="center",d+=r/2):(c="right",d+=r)):(d=this.right-l,n==="near"?c="right":n==="center"?(c="center",d-=r/2):(c="left",d=this.left)):e==="right"?a?(d=this.left+i,n==="near"?c="right":n==="center"?(c="center",d-=r/2):(c="left",d-=r)):(d=this.left+l,n==="near"?c="left":n==="center"?(c="center",d+=r/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:a,width:i,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,a,i,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(i=>i.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const l=(r,c,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(r.x,r.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(e.display)for(i=0,o=a.length;i<o;++i){const r=a[i];e.drawOnChartArea&&l({x:r.x1,y:r.y1},{x:r.x2,y:r.y2},r),e.drawTicks&&l({x:r.tx1,y:r.ty1},{x:r.tx2,y:r.ty2},{color:r.tickColor,width:r.tickWidth,borderDash:r.tickBorderDash,borderDashOffset:r.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,r=this._borderValue;let c,d,f,h;this.isHorizontal()?(c=Ae(t,this.left,o)-o/2,d=Ae(t,this.right,l)+l/2,f=h=r):(f=Ae(t,this.top,o)-o/2,h=Ae(t,this.bottom,l)+l/2,c=d=r),e.save(),e.lineWidth=i.width,e.strokeStyle=i.color,e.beginPath(),e.moveTo(c,f),e.lineTo(d,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&$n(n,a);const i=this.getLabelItems(t);for(const o of i){const l=o.options,r=o.font,c=o.label,d=o.textOffset;Be(n,c,0,d,r,l)}a&&En(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:a}}=this;if(!n.display)return;const i=Ct(n.font),o=Ft(n.padding),l=n.align;let r=i.lineHeight/2;e==="bottom"||e==="center"||at(e)?(r+=o.bottom,ut(n.text)&&(r+=i.lineHeight*(n.text.length-1))):r+=o.top;const{titleX:c,titleY:d,maxWidth:f,rotation:h}=Eh(this,r,e,l);Be(t,n.text,0,0,i,{color:n.color,maxWidth:f,rotation:h,textAlign:$h(l,e,a),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=tt(t.grid&&t.grid.z,-1),a=tt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==je.prototype.draw?[{z:e,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,o;for(i=0,o=e.length;i<o;++i){const l=e[i];l[n]===this.id&&(!t||l.type===t)&&a.push(l)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ct(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class an{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;Ih(e)&&(n=this.register(e));const a=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in a||(a[i]=t,Ph(t,o,n),this.override&&yt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,a=this.scope;n in e&&delete e[n],a&&n in yt[a]&&(delete yt[a][n],this.override&&delete Ne[n])}}function Ph(s,t,e){const n=As(Object.create(null),[e?yt.get(e):{},yt.get(t),s.defaults]);yt.set(t,n),s.defaultRoutes&&Oh(t,s.defaultRoutes),s.descriptors&&yt.describe(t,s.descriptors)}function Oh(s,t){Object.keys(t).forEach(e=>{const n=e.split("."),a=n.pop(),i=[s].concat(n).join("."),o=t[e].split("."),l=o.pop(),r=o.join(".");yt.route(i,a,r,l)})}function Ih(s){return"id"in s&&"defaults"in s}class Rh{constructor(){this.controllers=new an(Zt,"datasets",!0),this.elements=new an(Qt,"elements"),this.plugins=new an(Object,"plugins"),this.scales=new an(je,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(t,i,a):ct(a,o=>{const l=n||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,e,n){const a=ga(t);dt(n["before"+a],[],n),e[t](n),dt(n["after"+a],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return a}}var ee=new Rh;class Fh{constructor(){this._init=[]}notify(t,e,n,a){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=a?this._descriptors(t).filter(a):this._descriptors(t),o=this._notify(i,t,e,n);return e==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,a){a=a||{};for(const i of t){const o=i.plugin,l=o[n],r=[e,a,i.options];if(dt(l,r,o)===!1&&a.cancelable)return!1}return!0}invalidate(){lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,a=tt(n.options&&n.options.plugins,{}),i=Lh(n);return a===!1&&!e?[]:Nh(t,i,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,a=(i,o)=>i.filter(l=>!o.some(r=>l.plugin.id===r.plugin.id));this._notify(a(e,n),t,"stop"),this._notify(a(n,e),t,"start")}}function Lh(s){const t={},e=[],n=Object.keys(ee.plugins.items);for(let i=0;i<n.length;i++)e.push(ee.getPlugin(n[i]));const a=s.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function Vh(s,t){return!t&&s===!1?null:s===!0?{}:s}function Nh(s,{plugins:t,localIds:e},n,a){const i=[],o=s.getContext();for(const l of t){const r=l.id,c=Vh(n[r],a);c!==null&&i.push({plugin:l,options:Bh(s.config,{plugin:l,local:e[r]},c,o)})}return i}function Bh(s,{plugin:t,local:e},n,a){const i=s.pluginScopeKeys(t),o=s.getOptionScopes(n,i);return e&&t.defaults&&o.push(t.defaults),s.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function sa(s,t){const e=yt.datasets[s]||{};return((t.datasets||{})[s]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function zh(s,t){let e=s;return s==="_index_"?e=t:s==="_value_"&&(e=t==="x"?"y":"x"),e}function jh(s,t){return s===t?"_index_":"_value_"}function Ti(s){if(s==="x"||s==="y"||s==="r")return s}function Hh(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function na(s,...t){if(Ti(s))return s;for(const e of t){const n=e.axis||Hh(e.position)||s.length>1&&Ti(s[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function Di(s,t,e){if(e[t+"AxisID"]===s)return{axis:t}}function Wh(s,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(n=>n.xAxisID===s||n.yAxisID===s);if(e.length)return Di(s,"x",e[0])||Di(s,"y",e[0])}return{}}function Uh(s,t){const e=Ne[s.type]||{scales:{}},n=t.scales||{},a=sa(s.type,t),i=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!at(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const r=na(o,l,Wh(o,s),yt.scales[l.type]),c=jh(r,a),d=e.scales||{};i[o]=xs(Object.create(null),[{axis:r},l,d[r],d[c]])}),s.data.datasets.forEach(o=>{const l=o.type||s.type,r=o.indexAxis||sa(l,t),d=(Ne[l]||{}).scales||{};Object.keys(d).forEach(f=>{const h=zh(f,r),g=o[h+"AxisID"]||h;i[g]=i[g]||Object.create(null),xs(i[g],[{axis:h},n[g],d[f]])})}),Object.keys(i).forEach(o=>{const l=i[o];xs(l,[yt.scales[l.type],yt.scale])}),i}function el(s){const t=s.options||(s.options={});t.plugins=tt(t.plugins,{}),t.scales=Uh(s,t)}function sl(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function Yh(s){return s=s||{},s.data=sl(s.data),el(s),s}const Mi=new Map,nl=new Set;function on(s,t){let e=Mi.get(s);return e||(e=t(),Mi.set(s,e),nl.add(e)),e}const ms=(s,t,e)=>{const n=be(t,e);n!==void 0&&s.add(n)};class Gh{constructor(t){this._config=Yh(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=sl(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),el(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return on(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return on(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return on(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return on(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let a=n.get(t);return(!a||e)&&(a=new Map,n.set(t,a)),a}getOptionScopes(t,e,n){const{options:a,type:i}=this,o=this._cachedScopes(t,n),l=o.get(e);if(l)return l;const r=new Set;e.forEach(d=>{t&&(r.add(t),d.forEach(f=>ms(r,t,f))),d.forEach(f=>ms(r,a,f)),d.forEach(f=>ms(r,Ne[i]||{},f)),d.forEach(f=>ms(r,yt,f)),d.forEach(f=>ms(r,Qn,f))});const c=Array.from(r);return c.length===0&&c.push(Object.create(null)),nl.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ne[e]||{},yt.datasets[e]||{},{type:e},yt,Qn]}resolveNamedOptions(t,e,n,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=Ai(this._resolverCache,t,a);let r=o;if(Jh(o,e)){i.$shared=!1,n=ye(n)?n():n;const c=this.createResolver(t,n,l);r=Qe(o,n,c)}for(const c of e)i[c]=r[c];return i}createResolver(t,e,n=[""],a){const{resolver:i}=Ai(this._resolverCache,t,n);return at(e)?Qe(i,e,void 0,a):i}}function Ai(s,t,e){let n=s.get(t);n||(n=new Map,s.set(t,n));const a=e.join();let i=n.get(a);return i||(i={resolver:Sa(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,i)),i}const Xh=s=>at(s)&&Object.getOwnPropertyNames(s).some(t=>ye(s[t]));function Jh(s,t){const{isScriptable:e,isIndexable:n}=Fo(s);for(const a of t){const i=e(a),o=n(a),l=(o||i)&&s[a];if(i&&(ye(l)||Xh(l))||o&&ut(l))return!0}return!1}var Kh="4.4.1";const qh=["top","bottom","left","right","chartArea"];function Ci(s,t){return s==="top"||s==="bottom"||qh.indexOf(s)===-1&&t==="x"}function $i(s,t){return function(e,n){return e[s]===n[s]?e[t]-n[t]:e[s]-n[s]}}function Ei(s){const t=s.chart,e=t.options.animation;t.notifyPlugins("afterRender"),dt(e&&e.onComplete,[s],t)}function Zh(s){const t=s.chart,e=t.options.animation;dt(e&&e.onProgress,[s],t)}function al(s){return Ta()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const gn={},Pi=s=>{const t=al(s);return Object.values(gn).filter(e=>e.canvas===t).pop()};function Qh(s,t,e){const n=Object.keys(s);for(const a of n){const i=+a;if(i>=t){const o=s[a];delete s[a],(e>0||i>t)&&(s[i+e]=o)}}}function tf(s,t,e,n){return!e||s.type==="mouseout"?null:n?t:s}function ln(s,t,e){return s.options.clip?s[e]:t[e]}function ef(s,t){const{xScale:e,yScale:n}=s;return e&&n?{left:ln(e,t,"left"),right:ln(e,t,"right"),top:ln(n,t,"top"),bottom:ln(n,t,"bottom")}:t}var fe;let On=(fe=class{static register(...t){ee.add(...t),Oi()}static unregister(...t){ee.remove(...t),Oi()}constructor(t,e){const n=this.config=new Gh(e),a=al(t),i=Pi(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||vh(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,o.aspectRatio),r=l&&l.canvas,c=r&&r.height,d=r&&r.width;if(this.id=nd(),this.ctx=l,this.canvas=r,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Fh,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=bd(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],gn[this.id]=this,!l||!r){console.error("Failed to create chart: can't acquire context from the given item");return}ie.listen(this,"complete",Ei),ie.listen(this,"progress",Zh),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:a,_aspectRatio:i}=this;return lt(t)?e&&i?i:a?n/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ee}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ti(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return qa(this.canvas,this.ctx),this}stop(){return ie.stop(this),this}resize(t,e){ie.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,t,e,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),r=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ti(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),dt(n.onResize,[this,o],this),this.attached&&this._doResize(r)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ct(e,(n,a)=>{n.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,a=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let i=[];e&&(i=i.concat(Object.keys(e).map(o=>{const l=e[o],r=na(o,l),c=r==="r",d=r==="x";return{options:l,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),ct(i,o=>{const l=o.options,r=l.id,c=na(r,l),d=tt(l.type,o.dtype);(l.position===void 0||Ci(l.position,c)!==Ci(o.dposition))&&(l.position=o.dposition),a[r]=!0;let f=null;if(r in n&&n[r].type===d)f=n[r];else{const h=ee.getScale(d);f=new h({id:r,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,t)}),ct(a,(o,l)=>{o||delete n[l]}),ct(n,o=>{It.configure(this,o,o.options),It.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((a,i)=>a.index-i.index),n>e){for(let a=e;a<n;++a)this._destroyDatasetMeta(a);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort($i("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((n,a)=>{e.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=e.length;n<a;n++){const i=e[n];let o=this.getDatasetMeta(n);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=i.indexAxis||sa(l,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const r=ee.getController(l),{datasetElementType:c,dataElementType:d}=yt.datasets[l];Object.assign(r,{dataElementType:ee.getElement(d),datasetElementType:c&&ee.getElement(c)}),o.controller=new r(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){ct(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:f}=this.getDatasetMeta(c),h=!a&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||ct(i,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort($i("z","_idx"));const{_active:l,_lastEvent:r}=this;r?this._eventHandler(r,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ct(this.scales,t=>{It.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!ja(e,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of e){const o=n==="_removeElements"?-i:i;Qh(t,a,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=i=>new Set(t.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=n(0);for(let i=1;i<e;i++)if(!ja(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;It.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],ct(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,ye(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),a={meta:n,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ie.has(this)?this.attached&&!ie.running(this)&&ie.start(this):(this.draw(),Ei({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resize(n,a),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let a,i;for(a=0,i=e.length;a<i;++a){const o=e[a];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,a=!n.disabled,i=ef(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(a&&$n(e,{left:n.left===!1?0:i.left-n.left,right:n.right===!1?this.width:i.right+n.right,top:n.top===!1?0:i.top-n.top,bottom:n.bottom===!1?this.height:i.bottom+n.bottom}),t.controller.draw(),a&&En(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return de(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,a){const i=qu.modes[e];return typeof i=="function"?i(this,t,n,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let a=n.filter(i=>i&&i._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=xe(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const a=n?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,a);Cs(e)?(i.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(i,{visible:n}),this.update(l=>l.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ie.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),qa(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete gn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(i,o)=>{e.addEventListener(this,i,o),t[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};ct(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(r,c)=>{e.addEventListener(this,r,c),t[r]=c},a=(r,c)=>{t[r]&&(e.removeEventListener(this,r,c),delete t[r])},i=(r,c)=>{this.canvas&&this.resize(r,c)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",l)},e.isAttached(this.canvas)?l():o()}unbindEvents(){ct(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ct(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const a=n?"set":"remove";let i,o,l,r;for(e==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,r=t.length;l<r;++l){o=t[l];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!yn(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,n){const a=this.options.hover,i=(r,c)=>r.filter(d=>!c.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=i(e,t),l=n?t:i(t,e);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:a=[],options:i}=this,o=e,l=this._getActiveElements(t,a,n,o),r=cd(t),c=tf(t,this._lastEvent,n,r);n&&(this._lastEvent=null,dt(i.onHover,[t,l,this],this),r&&dt(i.onClick,[t,l,this],this));const d=!yn(l,a);return(d||e)&&(this._active=l,this._updateHoverStyles(l,a,e)),this._lastEvent=c,d}_getActiveElements(t,e,n,a){if(t.type==="mouseout")return[];if(!n)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,a)}},z(fe,"defaults",yt),z(fe,"instances",gn),z(fe,"overrides",Ne),z(fe,"registry",ee),z(fe,"version",Kh),z(fe,"getChart",Pi),fe);function Oi(){return ct(On.instances,s=>s._plugins.invalidate())}function sf(s,t,e){const{startAngle:n,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:r}=t;let c=a/l;s.beginPath(),s.arc(i,o,l,n-c,e+c),r>a?(c=a/r,s.arc(i,o,r,e+c,n-c,!0)):s.arc(i,o,a,e+Tt,n-Tt),s.closePath(),s.clip()}function nf(s){return xa(s,["outerStart","outerEnd","innerStart","innerEnd"])}function af(s,t,e,n){const a=nf(s.options.borderRadius),i=(e-t)/2,o=Math.min(i,n*t/2),l=r=>{const c=(e-Math.min(i,r))*n/2;return Et(r,0,Math.min(i,c))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:Et(a.innerStart,0,o),innerEnd:Et(a.innerEnd,0,o)}}function Ge(s,t,e,n){return{x:e+s*Math.cos(t),y:n+s*Math.sin(t)}}function Dn(s,t,e,n,a,i){const{x:o,y:l,startAngle:r,pixelMargin:c,innerRadius:d}=t,f=Math.max(t.outerRadius+n+e-c,0),h=d>0?d+n+e+c:0;let g=0;const _=a-r;if(n){const Z=d>0?d-n:0,K=f>0?f-n:0,Y=(Z+K)/2,vt=Y!==0?_*Y/(Y+n):_;g=(_-vt)/2}const v=Math.max(.001,_*f-e/ft)/f,b=(_-v)/2,w=r+b+g,k=a-b-g,{outerStart:M,outerEnd:E,innerStart:A,innerEnd:O}=af(t,h,f,k-w),$=f-M,C=f-E,P=w+M/$,B=k-E/C,N=h+A,J=h+O,rt=w+A/N,j=k-O/J;if(s.beginPath(),i){const Z=(P+B)/2;if(s.arc(o,l,f,P,Z),s.arc(o,l,f,Z,B),E>0){const mt=Ge(C,B,o,l);s.arc(mt.x,mt.y,E,B,k+Tt)}const K=Ge(J,k,o,l);if(s.lineTo(K.x,K.y),O>0){const mt=Ge(J,j,o,l);s.arc(mt.x,mt.y,O,k+Tt,j+Math.PI)}const Y=(k-O/h+(w+A/h))/2;if(s.arc(o,l,h,k-O/h,Y,!0),s.arc(o,l,h,Y,w+A/h,!0),A>0){const mt=Ge(N,rt,o,l);s.arc(mt.x,mt.y,A,rt+Math.PI,w-Tt)}const vt=Ge($,w,o,l);if(s.lineTo(vt.x,vt.y),M>0){const mt=Ge($,P,o,l);s.arc(mt.x,mt.y,M,w-Tt,P)}}else{s.moveTo(o,l);const Z=Math.cos(P)*f+o,K=Math.sin(P)*f+l;s.lineTo(Z,K);const Y=Math.cos(B)*f+o,vt=Math.sin(B)*f+l;s.lineTo(Y,vt)}s.closePath()}function of(s,t,e,n,a){const{fullCircles:i,startAngle:o,circumference:l}=t;let r=t.endAngle;if(i){Dn(s,t,e,n,r,a);for(let c=0;c<i;++c)s.fill();isNaN(l)||(r=o+(l%ht||ht))}return Dn(s,t,e,n,r,a),s.fill(),r}function lf(s,t,e,n,a){const{fullCircles:i,startAngle:o,circumference:l,options:r}=t,{borderWidth:c,borderJoinStyle:d,borderDash:f,borderDashOffset:h}=r,g=r.borderAlign==="inner";if(!c)return;s.setLineDash(f||[]),s.lineDashOffset=h,g?(s.lineWidth=c*2,s.lineJoin=d||"round"):(s.lineWidth=c,s.lineJoin=d||"bevel");let _=t.endAngle;if(i){Dn(s,t,e,n,_,a);for(let v=0;v<i;++v)s.stroke();isNaN(l)||(_=o+(l%ht||ht))}g&&sf(s,t,_),i||(Dn(s,t,e,n,_,a),s.stroke())}class vs extends Qt{constructor(e){super();z(this,"circumference");z(this,"endAngle");z(this,"fullCircles");z(this,"innerRadius");z(this,"outerRadius");z(this,"pixelMargin");z(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,a){const i=this.getProps(["x","y"],a),{angle:o,distance:l}=Do(i,{x:e,y:n}),{startAngle:r,endAngle:c,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),g=(this.options.spacing+this.options.borderWidth)/2,v=tt(h,c-r)>=ht||$s(o,r,c),b=re(l,d+g,f+g);return v&&b}getCenterPoint(e){const{x:n,y:a,startAngle:i,endAngle:o,innerRadius:l,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:d}=this.options,f=(i+o)/2,h=(l+r+d+c)/2;return{x:n+Math.cos(f)*h,y:a+Math.sin(f)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:a}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>ht?Math.floor(a/ht):0,a===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const r=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(r)*i,Math.sin(r)*i);const c=1-Math.sin(Math.min(ft,a||0)),d=i*c;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,of(e,this,d,o,l),lf(e,this,d,o,l),e.restore()}}z(vs,"id","arc"),z(vs,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),z(vs,"defaultRoutes",{backgroundColor:"backgroundColor"}),z(vs,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function il(s,t,e=t){s.lineCap=tt(e.borderCapStyle,t.borderCapStyle),s.setLineDash(tt(e.borderDash,t.borderDash)),s.lineDashOffset=tt(e.borderDashOffset,t.borderDashOffset),s.lineJoin=tt(e.borderJoinStyle,t.borderJoinStyle),s.lineWidth=tt(e.borderWidth,t.borderWidth),s.strokeStyle=tt(e.borderColor,t.borderColor)}function rf(s,t,e){s.lineTo(e.x,e.y)}function cf(s){return s.stepped?Ed:s.tension||s.cubicInterpolationMode==="monotone"?Pd:rf}function ol(s,t,e={}){const n=s.length,{start:a=0,end:i=n-1}=e,{start:o,end:l}=t,r=Math.max(a,o),c=Math.min(i,l),d=a<o&&i<o||a>l&&i>l;return{count:n,start:r,loop:t.loop,ilen:c<r&&!d?n+c-r:c-r}}function df(s,t,e,n){const{points:a,options:i}=t,{count:o,start:l,loop:r,ilen:c}=ol(a,e,n),d=cf(i);let{move:f=!0,reverse:h}=n||{},g,_,v;for(g=0;g<=c;++g)_=a[(l+(h?c-g:g))%o],!_.skip&&(f?(s.moveTo(_.x,_.y),f=!1):d(s,v,_,h,i.stepped),v=_);return r&&(_=a[(l+(h?c:0))%o],d(s,v,_,h,i.stepped)),!!r}function uf(s,t,e,n){const a=t.points,{count:i,start:o,ilen:l}=ol(a,e,n),{move:r=!0,reverse:c}=n||{};let d=0,f=0,h,g,_,v,b,w;const k=E=>(o+(c?l-E:E))%i,M=()=>{v!==b&&(s.lineTo(d,b),s.lineTo(d,v),s.lineTo(d,w))};for(r&&(g=a[k(0)],s.moveTo(g.x,g.y)),h=0;h<=l;++h){if(g=a[k(h)],g.skip)continue;const E=g.x,A=g.y,O=E|0;O===_?(A<v?v=A:A>b&&(b=A),d=(f*d+E)/++f):(M(),s.lineTo(E,A),_=O,f=0,v=b=A),w=A}M()}function aa(s){const t=s.options,e=t.borderDash&&t.borderDash.length;return!s._decimated&&!s._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?uf:df}function hf(s){return s.stepped?du:s.tension||s.cubicInterpolationMode==="monotone"?uu:Pe}function ff(s,t,e,n){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,n)&&a.closePath()),il(s,t.options),s.stroke(a)}function mf(s,t,e,n){const{segments:a,options:i}=t,o=aa(t);for(const l of a)il(s,i,l.style),s.beginPath(),o(s,t,l,{start:e,end:e+n-1})&&s.closePath(),s.stroke()}const pf=typeof Path2D=="function";function gf(s,t,e,n){pf&&!t.options.segment?ff(s,t,e,n):mf(s,t,e,n)}class ge extends Qt{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;su(this._points,n,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_u(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,a=t[e],i=this.points,o=Yo(this,{property:e,start:a,end:a});if(!o.length)return;const l=[],r=hf(n);let c,d;for(c=0,d=o.length;c<d;++c){const{start:f,end:h}=o[c],g=i[f],_=i[h];if(g===_){l.push(g);continue}const v=Math.abs((a-g[e])/(_[e]-g[e])),b=r(g,_,v,n.stepped);b[e]=t[e],l.push(b)}return l.length===1?l[0]:l}pathSegment(t,e,n){return aa(this)(t,this,e,n)}path(t,e,n){const a=this.segments,i=aa(this);let o=this._loop;e=e||0,n=n||this.points.length-e;for(const l of a)o&=i(t,this,l,{start:e,end:e+n-1});return!!o}draw(t,e,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),gf(t,this,n,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}z(ge,"id","line"),z(ge,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),z(ge,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),z(ge,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Ii(s,t,e,n){const a=s.options,{[e]:i}=s.getProps([e],n);return Math.abs(t-i)<a.radius+a.hitRadius}class _n extends Qt{constructor(e){super();z(this,"parsed");z(this,"skip");z(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,a){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],a);return Math.pow(e-o,2)+Math.pow(n-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return Ii(this,e,"x",n)}inYRange(e,n){return Ii(this,e,"y",n)}getCenterPoint(e){const{x:n,y:a}=this.getProps(["x","y"],e);return{x:n,y:a}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const a=n&&e.borderWidth||0;return(n+a)*2}draw(e,n){const a=this.options;this.skip||a.radius<.1||!de(this,n,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,ta(e,a,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}z(_n,"id","point"),z(_n,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),z(_n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ll(s,t){const{x:e,y:n,base:a,width:i,height:o}=s.getProps(["x","y","base","width","height"],t);let l,r,c,d,f;return s.horizontal?(f=o/2,l=Math.min(e,a),r=Math.max(e,a),c=n-f,d=n+f):(f=i/2,l=e-f,r=e+f,c=Math.min(n,a),d=Math.max(n,a)),{left:l,top:c,right:r,bottom:d}}function _e(s,t,e,n){return s?0:Et(t,e,n)}function _f(s,t,e){const n=s.options.borderWidth,a=s.borderSkipped,i=Ro(n);return{t:_e(a.top,i.top,0,e),r:_e(a.right,i.right,0,t),b:_e(a.bottom,i.bottom,0,e),l:_e(a.left,i.left,0,t)}}function vf(s,t,e){const{enableBorderRadius:n}=s.getProps(["enableBorderRadius"]),a=s.options.borderRadius,i=Ie(a),o=Math.min(t,e),l=s.borderSkipped,r=n||at(a);return{topLeft:_e(!r||l.top||l.left,i.topLeft,0,o),topRight:_e(!r||l.top||l.right,i.topRight,0,o),bottomLeft:_e(!r||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:_e(!r||l.bottom||l.right,i.bottomRight,0,o)}}function bf(s){const t=ll(s),e=t.right-t.left,n=t.bottom-t.top,a=_f(s,e/2,n/2),i=vf(s,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:i},inner:{x:t.left+a.l,y:t.top+a.t,w:e-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function Yn(s,t,e,n){const a=t===null,i=e===null,l=s&&!(a&&i)&&ll(s,n);return l&&(a||re(t,l.left,l.right))&&(i||re(e,l.top,l.bottom))}function yf(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function xf(s,t){s.rect(t.x,t.y,t.w,t.h)}function Gn(s,t,e={}){const n=s.x!==e.x?-t:0,a=s.y!==e.y?-t:0,i=(s.x+s.w!==e.x+e.w?t:0)-n,o=(s.y+s.h!==e.y+e.h?t:0)-a;return{x:s.x+n,y:s.y+a,w:s.w+i,h:s.h+o,radius:s.radius}}class vn extends Qt{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:o}=bf(this),l=yf(o.radius)?Es:xf;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),l(t,Gn(o,e,i)),t.clip(),l(t,Gn(i,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),l(t,Gn(i,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,n){return Yn(this,t,e,n)}inXRange(t,e){return Yn(this,t,null,e)}inYRange(t,e){return Yn(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+a)/2:e,y:i?n:(n+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}z(vn,"id","bar"),z(vn,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),z(vn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Sf=Object.freeze({__proto__:null,ArcElement:vs,BarElement:vn,LineElement:ge,PointElement:_n});const ia=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ri=ia.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function rl(s){return ia[s%ia.length]}function cl(s){return Ri[s%Ri.length]}function kf(s,t){return s.borderColor=rl(t),s.backgroundColor=cl(t),++t}function wf(s,t){return s.backgroundColor=s.data.map(()=>rl(t++)),t}function Tf(s,t){return s.backgroundColor=s.data.map(()=>cl(t++)),t}function Df(s){let t=0;return(e,n)=>{const a=s.getDatasetMeta(n).controller;a instanceof Oe?t=wf(e,t):a instanceof Ds?t=Tf(e,t):a&&(t=kf(e,t))}}function Fi(s){let t;for(t in s)if(s[t].borderColor||s[t].backgroundColor)return!0;return!1}function Mf(s){return s&&(s.borderColor||s.backgroundColor)}var Af={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,t,e){if(!e.enabled)return;const{data:{datasets:n},options:a}=s.config,{elements:i}=a;if(!e.forceOverride&&(Fi(n)||Mf(a)||i&&Fi(i)))return;const o=Df(s);n.forEach(o)}};function Cf(s,t,e,n,a){const i=a.samples||n;if(i>=e)return s.slice(t,t+e);const o=[],l=(e-2)/(i-2);let r=0;const c=t+e-1;let d=t,f,h,g,_,v;for(o[r++]=s[d],f=0;f<i-2;f++){let b=0,w=0,k;const M=Math.floor((f+1)*l)+1+t,E=Math.min(Math.floor((f+2)*l)+1,e)+t,A=E-M;for(k=M;k<E;k++)b+=s[k].x,w+=s[k].y;b/=A,w/=A;const O=Math.floor(f*l)+1+t,$=Math.min(Math.floor((f+1)*l)+1,e)+t,{x:C,y:P}=s[d];for(g=_=-1,k=O;k<$;k++)_=.5*Math.abs((C-b)*(s[k].y-P)-(C-s[k].x)*(w-P)),_>g&&(g=_,h=s[k],v=k);o[r++]=h,d=v}return o[r++]=s[c],o}function $f(s,t,e,n){let a=0,i=0,o,l,r,c,d,f,h,g,_,v;const b=[],w=t+e-1,k=s[t].x,E=s[w].x-k;for(o=t;o<t+e;++o){l=s[o],r=(l.x-k)/E*n,c=l.y;const A=r|0;if(A===d)c<_?(_=c,f=o):c>v&&(v=c,h=o),a=(i*a+l.x)/++i;else{const O=o-1;if(!lt(f)&&!lt(h)){const $=Math.min(f,h),C=Math.max(f,h);$!==g&&$!==O&&b.push({...s[$],x:a}),C!==g&&C!==O&&b.push({...s[C],x:a})}o>0&&O!==g&&b.push(s[O]),b.push(l),d=A,i=0,_=v=c,f=h=g=o}}return b}function dl(s){if(s._decimated){const t=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Li(s){s.data.datasets.forEach(t=>{dl(t)})}function Ef(s,t){const e=t.length;let n=0,a;const{iScale:i}=s,{min:o,max:l,minDefined:r,maxDefined:c}=i.getUserBounds();return r&&(n=Et(ce(t,i.axis,o).lo,0,e-1)),c?a=Et(ce(t,i.axis,l).hi+1,n,e)-n:a=e-n,{start:n,count:a}}var Pf={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,t,e)=>{if(!e.enabled){Li(s);return}const n=s.width;s.data.datasets.forEach((a,i)=>{const{_data:o,indexAxis:l}=a,r=s.getDatasetMeta(i),c=o||a.data;if(gs([l,s.options.indexAxis])==="y"||!r.controller.supportsDecimation)return;const d=s.scales[r.xAxisID];if(d.type!=="linear"&&d.type!=="time"||s.options.parsing)return;let{start:f,count:h}=Ef(r,c);const g=e.threshold||4*n;if(h<=g){dl(a);return}lt(o)&&(a._data=c,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let _;switch(e.algorithm){case"lttb":_=Cf(c,f,h,n,e);break;case"min-max":_=$f(c,f,h,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}a._decimated=_})},destroy(s){Li(s)}};function Of(s,t,e){const n=s.segments,a=s.points,i=t.points,o=[];for(const l of n){let{start:r,end:c}=l;c=Aa(r,c,a);const d=oa(e,a[r],a[c],l.loop);if(!t.segments){o.push({source:l,target:d,start:a[r],end:a[c]});continue}const f=Yo(t,d);for(const h of f){const g=oa(e,i[h.start],i[h.end],h.loop),_=Uo(l,a,g);for(const v of _)o.push({source:v,target:h,start:{[e]:Vi(d,g,"start",Math.max)},end:{[e]:Vi(d,g,"end",Math.min)}})}}return o}function oa(s,t,e,n){if(n)return;let a=t[s],i=e[s];return s==="angle"&&(a=Ht(a),i=Ht(i)),{property:s,start:a,end:i}}function If(s,t){const{x:e=null,y:n=null}=s||{},a=t.points,i=[];return t.segments.forEach(({start:o,end:l})=>{l=Aa(o,l,a);const r=a[o],c=a[l];n!==null?(i.push({x:r.x,y:n}),i.push({x:c.x,y:n})):e!==null&&(i.push({x:e,y:r.y}),i.push({x:e,y:c.y}))}),i}function Aa(s,t,e){for(;t>s;t--){const n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Vi(s,t,e,n){return s&&t?n(s[e],t[e]):s?s[e]:t?t[e]:0}function ul(s,t){let e=[],n=!1;return ut(s)?(n=!0,e=s):e=If(s,t),e.length?new ge({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function Ni(s){return s&&s.fill!==!1}function Rf(s,t,e){let a=s[t].fill;const i=[t];let o;if(!e)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!bt(a))return a;if(o=s[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function Ff(s,t,e){const n=Bf(s);if(at(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return bt(a)&&Math.floor(a)===a?Lf(n[0],t,a,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Lf(s,t,e,n){return(s==="-"||s==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function Vf(s,t){let e=null;return s==="start"?e=t.bottom:s==="end"?e=t.top:at(s)?e=t.getPixelForValue(s.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Nf(s,t,e){let n;return s==="start"?n=e:s==="end"?n=t.options.reverse?t.min:t.max:at(s)?n=s.value:n=t.getBaseValue(),n}function Bf(s){const t=s.options,e=t.fill;let n=tt(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function zf(s){const{scale:t,index:e,line:n}=s,a=[],i=n.segments,o=n.points,l=jf(t,e);l.push(ul({x:null,y:t.bottom},n));for(let r=0;r<i.length;r++){const c=i[r];for(let d=c.start;d<=c.end;d++)Hf(a,o[d],l)}return new ge({points:a,options:{}})}function jf(s,t){const e=[],n=s.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const i=n[a];if(i.index===t)break;i.hidden||e.unshift(i.dataset)}return e}function Hf(s,t,e){const n=[];for(let a=0;a<e.length;a++){const i=e[a],{first:o,last:l,point:r}=Wf(i,t,"x");if(!(!r||o&&l)){if(o)n.unshift(r);else if(s.push(r),!l)break}}s.push(...n)}function Wf(s,t,e){const n=s.interpolate(t,e);if(!n)return{};const a=n[e],i=s.segments,o=s.points;let l=!1,r=!1;for(let c=0;c<i.length;c++){const d=i[c],f=o[d.start][e],h=o[d.end][e];if(re(a,f,h)){l=a===f,r=a===h;break}}return{first:l,last:r,point:n}}class hl{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:a,y:i,radius:o}=this;return e=e||{start:0,end:ht},t.arc(a,i,o,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:a}=this,i=t.angle;return{x:e+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function Uf(s){const{chart:t,fill:e,line:n}=s;if(bt(e))return Yf(t,e);if(e==="stack")return zf(s);if(e==="shape")return!0;const a=Gf(s);return a instanceof hl?a:ul(a,n)}function Yf(s,t){const e=s.getDatasetMeta(t);return e&&s.isDatasetVisible(t)?e.dataset:null}function Gf(s){return(s.scale||{}).getPointPositionForValue?Jf(s):Xf(s)}function Xf(s){const{scale:t={},fill:e}=s,n=Vf(e,t);if(bt(n)){const a=t.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function Jf(s){const{scale:t,fill:e}=s,n=t.options,a=t.getLabels().length,i=n.reverse?t.max:t.min,o=Nf(e,t,i),l=[];if(n.grid.circular){const r=t.getPointPositionForValue(0,i);return new hl({x:r.x,y:r.y,radius:t.getDistanceFromCenterForValue(o)})}for(let r=0;r<a;++r)l.push(t.getPointPositionForValue(r,o));return l}function Xn(s,t,e){const n=Uf(t),{line:a,scale:i,axis:o}=t,l=a.options,r=l.fill,c=l.backgroundColor,{above:d=c,below:f=c}=r||{};n&&a.points.length&&($n(s,e),Kf(s,{line:a,target:n,above:d,below:f,area:e,scale:i,axis:o}),En(s))}function Kf(s,t){const{line:e,target:n,above:a,below:i,area:o,scale:l}=t,r=e._loop?"angle":t.axis;s.save(),r==="x"&&i!==a&&(Bi(s,n,o.top),zi(s,{line:e,target:n,color:a,scale:l,property:r}),s.restore(),s.save(),Bi(s,n,o.bottom)),zi(s,{line:e,target:n,color:i,scale:l,property:r}),s.restore()}function Bi(s,t,e){const{segments:n,points:a}=t;let i=!0,o=!1;s.beginPath();for(const l of n){const{start:r,end:c}=l,d=a[r],f=a[Aa(r,c,a)];i?(s.moveTo(d.x,d.y),i=!1):(s.lineTo(d.x,e),s.lineTo(d.x,d.y)),o=!!t.pathSegment(s,l,{move:o}),o?s.closePath():s.lineTo(f.x,e)}s.lineTo(t.first().x,e),s.closePath(),s.clip()}function zi(s,t){const{line:e,target:n,property:a,color:i,scale:o}=t,l=Of(e,n,a);for(const{source:r,target:c,start:d,end:f}of l){const{style:{backgroundColor:h=i}={}}=r,g=n!==!0;s.save(),s.fillStyle=h,qf(s,o,g&&oa(a,d,f)),s.beginPath();const _=!!e.pathSegment(s,r);let v;if(g){_?s.closePath():ji(s,n,f,a);const b=!!n.pathSegment(s,c,{move:_,reverse:!0});v=_&&b,v||ji(s,n,d,a)}s.closePath(),s.fill(v?"evenodd":"nonzero"),s.restore()}}function qf(s,t,e){const{top:n,bottom:a}=t.chart.chartArea,{property:i,start:o,end:l}=e||{};i==="x"&&(s.beginPath(),s.rect(o,n,l-o,a-n),s.clip())}function ji(s,t,e,n){const a=t.interpolate(e,n);a&&s.lineTo(a.x,a.y)}var Zf={id:"filler",afterDatasetsUpdate(s,t,e){const n=(s.data.datasets||[]).length,a=[];let i,o,l,r;for(o=0;o<n;++o)i=s.getDatasetMeta(o),l=i.dataset,r=null,l&&l.options&&l instanceof ge&&(r={visible:s.isDatasetVisible(o),index:o,fill:Ff(l,o,n),chart:s,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=r,a.push(r);for(o=0;o<n;++o)r=a[o],!(!r||r.fill===!1)&&(r.fill=Rf(a,o,e.propagate))},beforeDraw(s,t,e){const n=e.drawTime==="beforeDraw",a=s.getSortedVisibleDatasetMetas(),i=s.chartArea;for(let o=a.length-1;o>=0;--o){const l=a[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),n&&l.fill&&Xn(s.ctx,l,i))}},beforeDatasetsDraw(s,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const n=s.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const i=n[a].$filler;Ni(i)&&Xn(s.ctx,i,s.chartArea)}},beforeDatasetDraw(s,t,e){const n=t.meta.$filler;!Ni(n)||e.drawTime!=="beforeDatasetDraw"||Xn(s.ctx,n,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Hi=(s,t)=>{let{boxHeight:e=t,boxWidth:n=t}=s;return s.usePointStyle&&(e=Math.min(e,t),n=s.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},Qf=(s,t)=>s!==null&&t!==null&&s.datasetIndex===t.datasetIndex&&s.index===t.index;class Wi extends Qt{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=dt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,a)=>t.sort(n,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,a=Ct(n.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:r}=Hi(n,i);let c,d;e.font=a.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,i,l,r)+10):(d=this.maxHeight,c=this._fitCols(o,a,l,r)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,r=this.legendHitBoxes=[],c=this.lineWidths=[0],d=a+l;let f=t;i.textAlign="left",i.textBaseline="middle";let h=-1,g=-d;return this.legendItems.forEach((_,v)=>{const b=n+e/2+i.measureText(_.text).width;(v===0||c[c.length-1]+b+2*l>o)&&(f+=d,c[c.length-(v>0?0:1)]=0,g+=d,h++),r[v]={left:0,top:g,row:h,width:b,height:a},c[c.length-1]+=b+l}),f}_fitCols(t,e,n,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,r=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-t;let f=l,h=0,g=0,_=0,v=0;return this.legendItems.forEach((b,w)=>{const{itemWidth:k,itemHeight:M}=tm(n,e,i,b,a);w>0&&g+M+2*l>d&&(f+=h+l,c.push({width:h,height:g}),_+=h+l,v++,h=g=0),r[w]={left:_,top:g,col:v,width:k,height:M},h=Math.max(h,k),g+=M+l}),f+=h,c.push({width:h,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:a},rtl:i}}=this,o=Ke(i,this.left,this.width);if(this.isHorizontal()){let l=0,r=Ot(n,this.left+a,this.right-this.lineWidths[l]);for(const c of e)l!==c.row&&(l=c.row,r=Ot(n,this.left+a,this.right-this.lineWidths[l])),c.top+=this.top+t+a,c.left=o.leftForLtr(o.x(r),c.width),r+=c.width+a}else{let l=0,r=Ot(n,this.top+t+a,this.bottom-this.columnSizes[l].height);for(const c of e)c.col!==l&&(l=c.col,r=Ot(n,this.top+t+a,this.bottom-this.columnSizes[l].height)),c.top=r,c.left+=this.left+a,c.left=o.leftForLtr(o.x(c.left),c.width),r+=c.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;$n(t,this),this._draw(),En(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:a}=this,{align:i,labels:o}=t,l=yt.color,r=Ke(t.rtl,this.left,this.width),c=Ct(o.font),{padding:d}=o,f=c.size,h=f/2;let g;this.drawTitle(),a.textAlign=r.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=c.string;const{boxWidth:_,boxHeight:v,itemHeight:b}=Hi(o,f),w=function(O,$,C){if(isNaN(_)||_<=0||isNaN(v)||v<0)return;a.save();const P=tt(C.lineWidth,1);if(a.fillStyle=tt(C.fillStyle,l),a.lineCap=tt(C.lineCap,"butt"),a.lineDashOffset=tt(C.lineDashOffset,0),a.lineJoin=tt(C.lineJoin,"miter"),a.lineWidth=P,a.strokeStyle=tt(C.strokeStyle,l),a.setLineDash(tt(C.lineDash,[])),o.usePointStyle){const B={radius:v*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:P},N=r.xPlus(O,_/2),J=$+h;Io(a,B,N,J,o.pointStyleWidth&&_)}else{const B=$+Math.max((f-v)/2,0),N=r.leftForLtr(O,_),J=Ie(C.borderRadius);a.beginPath(),Object.values(J).some(rt=>rt!==0)?Es(a,{x:N,y:B,w:_,h:v,radius:J}):a.rect(N,B,_,v),a.fill(),P!==0&&a.stroke()}a.restore()},k=function(O,$,C){Be(a,C.text,O,$+b/2,c,{strikethrough:C.hidden,textAlign:r.textAlign(C.textAlign)})},M=this.isHorizontal(),E=this._computeTitleHeight();M?g={x:Ot(i,this.left+d,this.right-n[0]),y:this.top+d+E,line:0}:g={x:this.left+d,y:Ot(i,this.top+E+d,this.bottom-e[0].height),line:0},jo(this.ctx,t.textDirection);const A=b+d;this.legendItems.forEach((O,$)=>{a.strokeStyle=O.fontColor,a.fillStyle=O.fontColor;const C=a.measureText(O.text).width,P=r.textAlign(O.textAlign||(O.textAlign=o.textAlign)),B=_+h+C;let N=g.x,J=g.y;r.setWidth(this.width),M?$>0&&N+B+d>this.right&&(J=g.y+=A,g.line++,N=g.x=Ot(i,this.left+d,this.right-n[g.line])):$>0&&J+A>this.bottom&&(N=g.x=N+e[g.line].width+d,g.line++,J=g.y=Ot(i,this.top+E+d,this.bottom-e[g.line].height));const rt=r.x(N);if(w(rt,J,O),N=yd(P,N+_+h,M?N+B:this.right,t.rtl),k(r.x(N),J,O),M)g.x+=B+d;else if(typeof O.text!="string"){const j=c.lineHeight;g.y+=fl(O,j)+d}else g.y+=A}),Ho(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Ct(e.font),a=Ft(e.padding);if(!e.display)return;const i=Ke(t.rtl,this.left,this.width),o=this.ctx,l=e.position,r=n.size/2,c=a.top+r;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+c,f=Ot(t.align,f,this.right-h);else{const _=this.columnSizes.reduce((v,b)=>Math.max(v,b.height),0);d=c+Ot(t.align,this.top,this.bottom-_-t.labels.padding-this._computeTitleHeight())}const g=Ot(l,f,f+h);o.textAlign=i.textAlign(ba(l)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,Be(o,e.text,g,d,n)}_computeTitleHeight(){const t=this.options.title,e=Ct(t.font),n=Ft(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,a,i;if(re(t,this.left,this.right)&&re(e,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],re(t,a.left,a.left+a.width)&&re(e,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(t){const e=this.options;if(!nm(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,i=Qf(a,n);a&&!i&&dt(e.onLeave,[t,a,this],this),this._hoveredItem=n,n&&!i&&dt(e.onHover,[t,n,this],this)}else n&&dt(e.onClick,[t,n,this],this)}}function tm(s,t,e,n,a){const i=em(n,s,t,e),o=sm(a,n,t.lineHeight);return{itemWidth:i,itemHeight:o}}function em(s,t,e,n){let a=s.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),t+e.size/2+n.measureText(a).width}function sm(s,t,e){let n=s;return typeof t.text!="string"&&(n=fl(t,e)),n}function fl(s,t){const e=s.text?s.text.length:0;return t*e}function nm(s,t){return!!((s==="mousemove"||s==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(s==="click"||s==="mouseup"))}var am={id:"legend",_element:Wi,start(s,t,e){const n=s.legend=new Wi({ctx:s.ctx,options:e,chart:s});It.configure(s,n,e),It.addBox(s,n)},stop(s){It.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,t,e){const n=s.legend;It.configure(s,n,e),n.options=e},afterUpdate(s){const t=s.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(s,t){t.replay||s.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,t,e){const n=t.datasetIndex,a=e.chart;a.isDatasetVisible(n)?(a.hide(n),t.hidden=!0):(a.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const t=s.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(r=>{const c=r.controller.getStyle(e?0:void 0),d=Ft(c.borderWidth);return{text:t[r.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!r.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:a||c.textAlign,borderRadius:o&&(l||c.borderRadius),datasetIndex:r.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class Ca extends Qt{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=ut(n.text)?n.text.length:1;this._padding=Ft(n.padding);const i=a*Ct(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:n,bottom:a,right:i,options:o}=this,l=o.align;let r=0,c,d,f;return this.isHorizontal()?(d=Ot(l,n,i),f=e+t,c=i-n):(o.position==="left"?(d=n+t,f=Ot(l,a,e),r=ft*-.5):(d=i-t,f=Ot(l,e,a),r=ft*.5),c=a-e),{titleX:d,titleY:f,maxWidth:c,rotation:r}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Ct(e.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:r,rotation:c}=this._drawArgs(i);Be(t,e.text,0,0,n,{color:e.color,maxWidth:r,rotation:c,textAlign:ba(e.align),textBaseline:"middle",translation:[o,l]})}}function im(s,t){const e=new Ca({ctx:s.ctx,options:t,chart:s});It.configure(s,e,t),It.addBox(s,e),s.titleBlock=e}var om={id:"title",_element:Ca,start(s,t,e){im(s,e)},stop(s){const t=s.titleBlock;It.removeBox(s,t),delete s.titleBlock},beforeUpdate(s,t,e){const n=s.titleBlock;It.configure(s,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rn=new WeakMap;var lm={id:"subtitle",start(s,t,e){const n=new Ca({ctx:s.ctx,options:e,chart:s});It.configure(s,n,e),It.addBox(s,n),rn.set(s,n)},stop(s){It.removeBox(s,rn.get(s)),rn.delete(s)},beforeUpdate(s,t,e){const n=rn.get(s);It.configure(s,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bs={average(s){if(!s.length)return!1;let t,e,n=0,a=0,i=0;for(t=0,e=s.length;t<e;++t){const o=s[t].element;if(o&&o.hasValue()){const l=o.tooltipPosition();n+=l.x,a+=l.y,++i}}return{x:n/i,y:a/i}},nearest(s,t){if(!s.length)return!1;let e=t.x,n=t.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=s.length;i<o;++i){const r=s[i].element;if(r&&r.hasValue()){const c=r.getCenterPoint(),d=Zn(t,c);d<a&&(a=d,l=r)}}if(l){const r=l.tooltipPosition();e=r.x,n=r.y}return{x:e,y:n}}};function te(s,t){return t&&(ut(t)?Array.prototype.push.apply(s,t):s.push(t)),s}function oe(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function rm(s,t){const{element:e,datasetIndex:n,index:a}=t,i=s.getDatasetMeta(n).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:s,label:o,parsed:i.getParsed(a),raw:s.data.datasets[n].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:e}}function Ui(s,t){const e=s.chart.ctx,{body:n,footer:a,title:i}=s,{boxWidth:o,boxHeight:l}=t,r=Ct(t.bodyFont),c=Ct(t.titleFont),d=Ct(t.footerFont),f=i.length,h=a.length,g=n.length,_=Ft(t.padding);let v=_.height,b=0,w=n.reduce((E,A)=>E+A.before.length+A.lines.length+A.after.length,0);if(w+=s.beforeBody.length+s.afterBody.length,f&&(v+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),w){const E=t.displayColors?Math.max(l,r.lineHeight):r.lineHeight;v+=g*E+(w-g)*r.lineHeight+(w-1)*t.bodySpacing}h&&(v+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let k=0;const M=function(E){b=Math.max(b,e.measureText(E).width+k)};return e.save(),e.font=c.string,ct(s.title,M),e.font=r.string,ct(s.beforeBody.concat(s.afterBody),M),k=t.displayColors?o+2+t.boxPadding:0,ct(n,E=>{ct(E.before,M),ct(E.lines,M),ct(E.after,M)}),k=0,e.font=d.string,ct(s.footer,M),e.restore(),b+=_.width,{width:b,height:v}}function cm(s,t){const{y:e,height:n}=t;return e<n/2?"top":e>s.height-n/2?"bottom":"center"}function dm(s,t,e,n){const{x:a,width:i}=n,o=e.caretSize+e.caretPadding;if(s==="left"&&a+i+o>t.width||s==="right"&&a-i-o<0)return!0}function um(s,t,e,n){const{x:a,width:i}=e,{width:o,chartArea:{left:l,right:r}}=s;let c="center";return n==="center"?c=a<=(l+r)/2?"left":"right":a<=i/2?c="left":a>=o-i/2&&(c="right"),dm(c,s,t,e)&&(c="center"),c}function Yi(s,t,e){const n=e.yAlign||t.yAlign||cm(s,e);return{xAlign:e.xAlign||t.xAlign||um(s,t,e,n),yAlign:n}}function hm(s,t){let{x:e,width:n}=s;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function fm(s,t,e){let{y:n,height:a}=s;return t==="top"?n+=e:t==="bottom"?n-=a+e:n-=a/2,n}function Gi(s,t,e,n){const{caretSize:a,caretPadding:i,cornerRadius:o}=s,{xAlign:l,yAlign:r}=e,c=a+i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:g}=Ie(o);let _=hm(t,l);const v=fm(t,r,c);return r==="center"?l==="left"?_+=c:l==="right"&&(_-=c):l==="left"?_-=Math.max(d,h)+a:l==="right"&&(_+=Math.max(f,g)+a),{x:Et(_,0,n.width-t.width),y:Et(v,0,n.height-t.height)}}function cn(s,t,e){const n=Ft(e.padding);return t==="center"?s.x+s.width/2:t==="right"?s.x+s.width-n.right:s.x+n.left}function Xi(s){return te([],oe(s))}function mm(s,t,e){return xe(s,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Ji(s,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?s.override(e):s}const ml={beforeTitle:ae,title(s){if(s.length>0){const t=s[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:ae,beforeBody:ae,beforeLabel:ae,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let t=s.dataset.label||"";t&&(t+=": ");const e=s.formattedValue;return lt(e)||(t+=e),t},labelColor(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ae,afterBody:ae,beforeFooter:ae,footer:ae,afterFooter:ae};function Bt(s,t,e,n){const a=s[t].call(e,n);return typeof a>"u"?ml[t].call(e,n):a}class la extends Qt{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&e.options.animation&&n.animations,i=new Go(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=mm(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,a=Bt(n,"beforeTitle",this,t),i=Bt(n,"title",this,t),o=Bt(n,"afterTitle",this,t);let l=[];return l=te(l,oe(a)),l=te(l,oe(i)),l=te(l,oe(o)),l}getBeforeBody(t,e){return Xi(Bt(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,a=[];return ct(t,i=>{const o={before:[],lines:[],after:[]},l=Ji(n,i);te(o.before,oe(Bt(l,"beforeLabel",this,i))),te(o.lines,Bt(l,"label",this,i)),te(o.after,oe(Bt(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(t,e){return Xi(Bt(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,a=Bt(n,"beforeFooter",this,t),i=Bt(n,"footer",this,t),o=Bt(n,"afterFooter",this,t);let l=[];return l=te(l,oe(a)),l=te(l,oe(i)),l=te(l,oe(o)),l}_createItems(t){const e=this._active,n=this.chart.data,a=[],i=[],o=[];let l=[],r,c;for(r=0,c=e.length;r<c;++r)l.push(rm(this.chart,e[r]));return t.filter&&(l=l.filter((d,f,h)=>t.filter(d,f,h,n))),t.itemSort&&(l=l.sort((d,f)=>t.itemSort(d,f,n))),ct(l,d=>{const f=Ji(t.callbacks,d);a.push(Bt(f,"labelColor",this,d)),i.push(Bt(f,"labelPointStyle",this,d)),o.push(Bt(f,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=bs[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const r=this._size=Ui(this,n),c=Object.assign({},l,r),d=Yi(this.chart,n,c),f=Gi(n,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:r.width,height:r.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,a){const i=this.getCaretPosition(t,n,a);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:r,topRight:c,bottomLeft:d,bottomRight:f}=Ie(l),{x:h,y:g}=t,{width:_,height:v}=e;let b,w,k,M,E,A;return i==="center"?(E=g+v/2,a==="left"?(b=h,w=b-o,M=E+o,A=E-o):(b=h+_,w=b+o,M=E-o,A=E+o),k=b):(a==="left"?w=h+Math.max(r,d)+o:a==="right"?w=h+_-Math.max(c,f)-o:w=this.caretX,i==="top"?(M=g,E=M-o,b=w-o,k=w+o):(M=g+v,E=M+o,b=w+o,k=w-o),A=M),{x1:b,x2:w,x3:k,y1:M,y2:E,y3:A}}drawTitle(t,e,n){const a=this.title,i=a.length;let o,l,r;if(i){const c=Ke(n.rtl,this.x,this.width);for(t.x=cn(this,n.titleAlign,n),e.textAlign=c.textAlign(n.titleAlign),e.textBaseline="middle",o=Ct(n.titleFont),l=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,r=0;r<i;++r)e.fillText(a[r],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,r+1===i&&(t.y+=n.titleMarginBottom-l)}}_drawColorBox(t,e,n,a,i){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:r,boxWidth:c}=i,d=Ct(i.bodyFont),f=cn(this,"left",i),h=a.x(f),g=r<d.lineHeight?(d.lineHeight-r)/2:0,_=e.y+g;if(i.usePointStyle){const v={radius:Math.min(c,r)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=a.leftForLtr(h,c)+c/2,w=_+r/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,ta(t,v,b,w),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,ta(t,v,b,w)}else{t.lineWidth=at(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const v=a.leftForLtr(h,c),b=a.leftForLtr(a.xPlus(h,1),c-2),w=Ie(o.borderRadius);Object.values(w).some(k=>k!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Es(t,{x:v,y:_,w:c,h:r,radius:w}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Es(t,{x:b,y:_+1,w:c-2,h:r-2,radius:w}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(v,_,c,r),t.strokeRect(v,_,c,r),t.fillStyle=o.backgroundColor,t.fillRect(b,_+1,c-2,r-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:r,boxWidth:c,boxPadding:d}=n,f=Ct(n.bodyFont);let h=f.lineHeight,g=0;const _=Ke(n.rtl,this.x,this.width),v=function(C){e.fillText(C,_.x(t.x+g),t.y+h/2),t.y+=h+i},b=_.textAlign(o);let w,k,M,E,A,O,$;for(e.textAlign=o,e.textBaseline="middle",e.font=f.string,t.x=cn(this,b,n),e.fillStyle=n.bodyColor,ct(this.beforeBody,v),g=l&&b!=="right"?o==="center"?c/2+d:c+2+d:0,E=0,O=a.length;E<O;++E){for(w=a[E],k=this.labelTextColors[E],e.fillStyle=k,ct(w.before,v),M=w.lines,l&&M.length&&(this._drawColorBox(e,t,E,_,n),h=Math.max(f.lineHeight,r)),A=0,$=M.length;A<$;++A)v(M[A]),h=f.lineHeight;ct(w.after,v)}g=0,h=f.lineHeight,ct(this.afterBody,v),t.y-=i}drawFooter(t,e,n){const a=this.footer,i=a.length;let o,l;if(i){const r=Ke(n.rtl,this.x,this.width);for(t.x=cn(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=r.textAlign(n.footerAlign),e.textBaseline="middle",o=Ct(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,l=0;l<i;++l)e.fillText(a[l],r.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,a){const{xAlign:i,yAlign:o}=this,{x:l,y:r}=t,{width:c,height:d}=n,{topLeft:f,topRight:h,bottomLeft:g,bottomRight:_}=Ie(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(l+f,r),o==="top"&&this.drawCaret(t,e,n,a),e.lineTo(l+c-h,r),e.quadraticCurveTo(l+c,r,l+c,r+h),o==="center"&&i==="right"&&this.drawCaret(t,e,n,a),e.lineTo(l+c,r+d-_),e.quadraticCurveTo(l+c,r+d,l+c-_,r+d),o==="bottom"&&this.drawCaret(t,e,n,a),e.lineTo(l+g,r+d),e.quadraticCurveTo(l,r+d,l,r+d-g),o==="center"&&i==="left"&&this.drawCaret(t,e,n,a),e.lineTo(l,r+f),e.quadraticCurveTo(l,r,l+f,r),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const o=bs[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Ui(this,t),r=Object.assign({},o,this._size),c=Yi(e,t,r),d=Gi(t,r,c,e);(a._to!==d.x||i._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Ft(e.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&l&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,a,e),jo(t,e.textDirection),i.y+=o.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),Ho(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,a=t.map(({datasetIndex:l,index:r})=>{const c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[r],index:r}}),i=!yn(n,a),o=this._positionChanged(a,e);(i||o)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(t,i,e,n),l=this._positionChanged(o,t),r=e||!yn(o,i)||l;return r&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),r}_getActiveElements(t,e,n,a){const i=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:a,options:i}=this,o=bs[i.position].call(this,t,e);return o!==!1&&(n!==o.x||a!==o.y)}}z(la,"positioners",bs);var pm={id:"tooltip",_element:la,positioners:bs,afterInit(s,t,e){e&&(s.tooltip=new la({chart:s,options:e}))},beforeUpdate(s,t,e){s.tooltip&&s.tooltip.initialize(e)},reset(s,t,e){s.tooltip&&s.tooltip.initialize(e)},afterDraw(s){const t=s.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(s.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",e)}},afterEvent(s,t){if(s.tooltip){const e=t.replay;s.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,t)=>t.bodyFont.size,boxWidth:(s,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ml},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},gm=Object.freeze({__proto__:null,Colors:Af,Decimation:Pf,Filler:Zf,Legend:am,SubTitle:lm,Title:om,Tooltip:pm});const _m=(s,t,e,n)=>(typeof t=="string"?(e=s.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function vm(s,t,e,n){const a=s.indexOf(t);if(a===-1)return _m(s,t,e,n);const i=s.lastIndexOf(t);return a!==i?e:a}const bm=(s,t)=>s===null?null:Et(Math.round(s),0,t);function Ki(s){const t=this.getLabels();return s>=0&&s<t.length?t[s]:s}class ra extends je{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const n=this.getLabels();for(const{index:a,label:i}of e)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(lt(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:vm(n,t,tt(e,t),this._addedLabels),bm(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),e||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=t===0&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=e;o++)a.push({value:o});return a}getLabelForValue(t){return Ki.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}z(ra,"id","category"),z(ra,"defaults",{ticks:{callback:Ki}});function ym(s,t){const e=[],{bounds:a,step:i,min:o,max:l,precision:r,count:c,maxTicks:d,maxDigits:f,includeBounds:h}=s,g=i||1,_=d-1,{min:v,max:b}=t,w=!lt(o),k=!lt(l),M=!lt(c),E=(b-v)/(f+1);let A=Wa((b-v)/_/g)*g,O,$,C,P;if(A<1e-14&&!w&&!k)return[{value:v},{value:b}];P=Math.ceil(b/A)-Math.floor(v/A),P>_&&(A=Wa(P*A/_/g)*g),lt(r)||(O=Math.pow(10,r),A=Math.ceil(A*O)/O),a==="ticks"?($=Math.floor(v/A)*A,C=Math.ceil(b/A)*A):($=v,C=b),w&&k&&i&&fd((l-o)/i,A/1e3)?(P=Math.round(Math.min((l-o)/A,d)),A=(l-o)/P,$=o,C=l):M?($=w?o:$,C=k?l:C,P=c-1,A=(C-$)/P):(P=(C-$)/A,Ss(P,Math.round(P),A/1e3)?P=Math.round(P):P=Math.ceil(P));const B=Math.max(Ua(A),Ua($));O=Math.pow(10,lt(r)?B:r),$=Math.round($*O)/O,C=Math.round(C*O)/O;let N=0;for(w&&(h&&$!==o?(e.push({value:o}),$<o&&N++,Ss(Math.round(($+N*A)*O)/O,o,qi(o,E,s))&&N++):$<o&&N++);N<P;++N){const J=Math.round(($+N*A)*O)/O;if(k&&J>l)break;e.push({value:J})}return k&&h&&C!==l?e.length&&Ss(e[e.length-1].value,l,qi(l,E,s))?e[e.length-1].value=l:e.push({value:l}):(!k||C===l)&&e.push({value:C}),e}function qi(s,t,{horizontal:e,minRotation:n}){const a=qt(n),i=(e?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+s).length;return Math.min(t/i,o)}class Mn extends je{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return lt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const o=r=>a=e?a:r,l=r=>i=n?i:r;if(t){const r=se(a),c=se(i);r<0&&c<0?l(0):r>0&&c>0&&o(0)}if(a===i){let r=i===0?1:Math.abs(i*.05);l(i+r),t||o(a-r)}this.min=a,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:n}=t,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},i=this._range||this,o=ym(a,i);return t.bounds==="ticks"&&To(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const a=(n-e)/Math.max(t.length-1,1)/2;e-=a,n+=a}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Bs(t,this.chart.options.locale,this.options.ticks.format)}}class ca extends Mn{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=bt(t)?t:0,this.max=bt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=qt(this.options.ticks.minRotation),a=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}z(ca,"id","linear"),z(ca,"defaults",{ticks:{callback:Cn.formatters.numeric}});const Os=s=>Math.floor(pe(s)),$e=(s,t)=>Math.pow(10,Os(s)+t);function Zi(s){return s/Math.pow(10,Os(s))===1}function Qi(s,t,e){const n=Math.pow(10,e),a=Math.floor(s/n);return Math.ceil(t/n)-a}function xm(s,t){const e=t-s;let n=Os(e);for(;Qi(s,t,n)>10;)n++;for(;Qi(s,t,n)<10;)n--;return Math.min(n,Os(s))}function Sm(s,{min:t,max:e}){t=jt(s.min,t);const n=[],a=Os(t);let i=xm(t,e),o=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),r=a>i?Math.pow(10,a):0,c=Math.round((t-r)*o)/o,d=Math.floor((t-r)/l/10)*l*10;let f=Math.floor((c-d)/Math.pow(10,i)),h=jt(s.min,Math.round((r+d+f*Math.pow(10,i))*o)/o);for(;h<e;)n.push({value:h,major:Zi(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,o=i>=0?1:o),h=Math.round((r+d+f*Math.pow(10,i))*o)/o;const g=jt(s.max,h);return n.push({value:g,major:Zi(g),significand:f}),n}class da extends je{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=Mn.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return bt(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=bt(t)?Math.max(0,t):null,this.max=bt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!bt(this._userMin)&&(this.min=t===$e(this.min,0)?$e(this.min,-1):$e(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,a=this.max;const i=l=>n=t?n:l,o=l=>a=e?a:l;n===a&&(n<=0?(i(1),o(10)):(i($e(n,-1)),o($e(a,1)))),n<=0&&i($e(a,-1)),a<=0&&o($e(n,1)),this.min=n,this.max=a}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},n=Sm(e,this);return t.bounds==="ticks"&&To(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Bs(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=pe(t),this._valueRange=pe(this.max)-pe(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(pe(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}z(da,"id","logarithmic"),z(da,"defaults",{ticks:{callback:Cn.formatters.logarithmic,major:{enabled:!0}}});function ua(s){const t=s.ticks;if(t.display&&s.display){const e=Ft(t.backdropPadding);return tt(t.font&&t.font.size,yt.font.size)+e.height}return 0}function km(s,t,e){return e=ut(e)?e:[e],{w:$d(s,t.string,e),h:e.length*t.lineHeight}}function to(s,t,e,n,a){return s===n||s===a?{start:t-e/2,end:t+e/2}:s<n||s>a?{start:t-e,end:t}:{start:t,end:t+e}}function wm(s){const t={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},e=Object.assign({},t),n=[],a=[],i=s._pointLabels.length,o=s.options.pointLabels,l=o.centerPointLabels?ft/i:0;for(let r=0;r<i;r++){const c=o.setContext(s.getPointLabelContext(r));a[r]=c.padding;const d=s.getPointPosition(r,s.drawingArea+a[r],l),f=Ct(c.font),h=km(s.ctx,f,s._pointLabels[r]);n[r]=h;const g=Ht(s.getIndexAngle(r)+l),_=Math.round(_a(g)),v=to(_,d.x,h.w,0,180),b=to(_,d.y,h.h,90,270);Tm(e,t,g,v,b)}s.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),s._pointLabelItems=Am(s,n,a)}function Tm(s,t,e,n,a){const i=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let l=0,r=0;n.start<t.l?(l=(t.l-n.start)/i,s.l=Math.min(s.l,t.l-l)):n.end>t.r&&(l=(n.end-t.r)/i,s.r=Math.max(s.r,t.r+l)),a.start<t.t?(r=(t.t-a.start)/o,s.t=Math.min(s.t,t.t-r)):a.end>t.b&&(r=(a.end-t.b)/o,s.b=Math.max(s.b,t.b+r))}function Dm(s,t,e){const n=s.drawingArea,{extra:a,additionalAngle:i,padding:o,size:l}=e,r=s.getPointPosition(t,n+a+o,i),c=Math.round(_a(Ht(r.angle+Tt))),d=Em(r.y,l.h,c),f=Cm(c),h=$m(r.x,l.w,f);return{visible:!0,x:r.x,y:d,textAlign:f,left:h,top:d,right:h+l.w,bottom:d+l.h}}function Mm(s,t){if(!t)return!0;const{left:e,top:n,right:a,bottom:i}=s;return!(de({x:e,y:n},t)||de({x:e,y:i},t)||de({x:a,y:n},t)||de({x:a,y:i},t))}function Am(s,t,e){const n=[],a=s._pointLabels.length,i=s.options,{centerPointLabels:o,display:l}=i.pointLabels,r={extra:ua(i)/2,additionalAngle:o?ft/a:0};let c;for(let d=0;d<a;d++){r.padding=e[d],r.size=t[d];const f=Dm(s,d,r);n.push(f),l==="auto"&&(f.visible=Mm(f,c),f.visible&&(c=f))}return n}function Cm(s){return s===0||s===180?"center":s<180?"left":"right"}function $m(s,t,e){return e==="right"?s-=t:e==="center"&&(s-=t/2),s}function Em(s,t,e){return e===90||e===270?s-=t/2:(e>270||e<90)&&(s-=t),s}function Pm(s,t,e){const{left:n,top:a,right:i,bottom:o}=e,{backdropColor:l}=t;if(!lt(l)){const r=Ie(t.borderRadius),c=Ft(t.backdropPadding);s.fillStyle=l;const d=n-c.left,f=a-c.top,h=i-n+c.width,g=o-a+c.height;Object.values(r).some(_=>_!==0)?(s.beginPath(),Es(s,{x:d,y:f,w:h,h:g,radius:r}),s.fill()):s.fillRect(d,f,h,g)}}function Om(s,t){const{ctx:e,options:{pointLabels:n}}=s;for(let a=t-1;a>=0;a--){const i=s._pointLabelItems[a];if(!i.visible)continue;const o=n.setContext(s.getPointLabelContext(a));Pm(e,o,i);const l=Ct(o.font),{x:r,y:c,textAlign:d}=i;Be(e,s._pointLabels[a],r,c+l.lineHeight/2,l,{color:o.color,textAlign:d,textBaseline:"middle"})}}function pl(s,t,e,n){const{ctx:a}=s;if(e)a.arc(s.xCenter,s.yCenter,t,0,ht);else{let i=s.getPointPosition(0,t);a.moveTo(i.x,i.y);for(let o=1;o<n;o++)i=s.getPointPosition(o,t),a.lineTo(i.x,i.y)}}function Im(s,t,e,n,a){const i=s.ctx,o=t.circular,{color:l,lineWidth:r}=t;!o&&!n||!l||!r||e<0||(i.save(),i.strokeStyle=l,i.lineWidth=r,i.setLineDash(a.dash),i.lineDashOffset=a.dashOffset,i.beginPath(),pl(s,e,o,n),i.closePath(),i.stroke(),i.restore())}function Rm(s,t,e){return xe(s,{label:e,index:t,type:"pointLabel"})}class ys extends Mn{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ft(ua(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=bt(t)&&!isNaN(t)?t:0,this.max=bt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ua(this.options))}generateTickLabels(t){Mn.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{const a=dt(this.options.pointLabels.callback,[e,n],this);return a||a===0?a:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?wm(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,a){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,a))}getIndexAngle(t){const e=ht/(this._pointLabels.length||1),n=this.options.startAngle||0;return Ht(t*e+qt(n))}getDistanceFromCenterForValue(t){if(lt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(lt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return Rm(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const a=this.getIndexAngle(t)-Tt+n;return{x:Math.cos(a)*e+this.xCenter,y:Math.sin(a)*e+this.yCenter,angle:a}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:a,bottom:i}=this._pointLabelItems[t];return{left:e,top:n,right:a,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),pl(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:a,border:i}=e,o=this._pointLabels.length;let l,r,c;if(e.pointLabels.display&&Om(this,o),a.display&&this.ticks.forEach((d,f)=>{if(f!==0){r=this.getDistanceFromCenterForValue(d.value);const h=this.getContext(f),g=a.setContext(h),_=i.setContext(h);Im(this,g,r,o,_)}}),n.display){for(t.save(),l=o-1;l>=0;l--){const d=n.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:h}=d;!h||!f||(t.lineWidth=h,t.strokeStyle=f,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,r=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),c=this.getPointPosition(l,r),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let i,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,r)=>{if(r===0&&!e.reverse)return;const c=n.setContext(this.getContext(r)),d=Ct(c.font);if(i=this.getDistanceFromCenterForValue(this.ticks[r].value),c.showLabelBackdrop){t.font=d.string,o=t.measureText(l.label).width,t.fillStyle=c.backdropColor;const f=Ft(c.backdropPadding);t.fillRect(-o/2-f.left,-i-d.size/2-f.top,o+f.width,d.size+f.height)}Be(t,l.label,0,-i,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}z(ys,"id","radialLinear"),z(ys,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Cn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),z(ys,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),z(ys,"descriptors",{angleLines:{_fallback:"grid"}});const In={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zt=Object.keys(In);function eo(s,t){return s-t}function so(s,t){if(lt(t))return null;const e=s._adapter,{parser:n,round:a,isoWeekday:i}=s._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),bt(o)||(o=typeof n=="string"?e.parse(o,n):e.parse(o)),o===null?null:(a&&(o=a==="week"&&(Ze(i)||i===!0)?e.startOf(o,"isoWeek",i):e.startOf(o,a)),+o)}function no(s,t,e,n){const a=zt.length;for(let i=zt.indexOf(s);i<a-1;++i){const o=In[zt[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(l*o.size))<=n)return zt[i]}return zt[a-1]}function Fm(s,t,e,n,a){for(let i=zt.length-1;i>=zt.indexOf(e);i--){const o=zt[i];if(In[o].common&&s._adapter.diff(a,n,o)>=t-1)return o}return zt[e?zt.indexOf(e):0]}function Lm(s){for(let t=zt.indexOf(s)+1,e=zt.length;t<e;++t)if(In[zt[t]].common)return zt[t]}function ao(s,t,e){if(!e)s[t]=!0;else if(e.length){const{lo:n,hi:a}=va(e,t),i=e[n]>=t?e[n]:e[a];s[i]=!0}}function Vm(s,t,e,n){const a=s._adapter,i=+a.startOf(t[0].value,n),o=t[t.length-1].value;let l,r;for(l=i;l<=o;l=+a.add(l,1,n))r=e[l],r>=0&&(t[r].major=!0);return t}function io(s,t,e){const n=[],a={},i=t.length;let o,l;for(o=0;o<i;++o)l=t[o],a[l]=o,n.push({value:l,major:!1});return i===0||!e?n:Vm(s,n,a,e)}class Is extends je{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),a=this._adapter=new Yu._date(t.adapters.date);a.init(e),xs(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:so(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function r(c){!o&&!isNaN(c.min)&&(a=Math.min(a,c.min)),!l&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!l)&&(r(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&r(this.getMinMax(!1))),a=bt(a)&&!isNaN(a)?a:+e.startOf(Date.now(),n),i=bt(i)&&!isNaN(i)?i:+e.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=_d(a,i,o);return this._unit=e.unit||(n.autoSkip?no(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):Fm(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Lm(this._unit),this.initOffsets(a),t.reverse&&l.reverse(),io(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,n=0,a,i;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?n=i:n=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=Et(e,0,o),n=Et(n,0,o),this._offsets={start:e,end:n,factor:1/(e+1+n)}}_generate(){const t=this._adapter,e=this.min,n=this.max,a=this.options,i=a.time,o=i.unit||no(i.minUnit,e,n,this._getLabelCapacity(e)),l=tt(a.ticks.stepSize,1),r=o==="week"?i.isoWeekday:!1,c=Ze(r)||r===!0,d={};let f=e,h,g;if(c&&(f=+t.startOf(f,"isoWeek",r)),f=+t.startOf(f,c?"day":o),t.diff(n,e,o)>1e5*l)throw new Error(e+" and "+n+" are too far apart with stepSize of "+l+" "+o);const _=a.ticks.source==="data"&&this.getDataTimestamps();for(h=f,g=0;h<n;h=+t.add(h,l,o),g++)ao(d,h,_);return(h===n||a.bounds==="ticks"||g===1)&&ao(d,h,_),Object.keys(d).sort(eo).map(v=>+v)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,i=this._unit,o=e||a[i];return this._adapter.format(t,o)}_tickFormatFunction(t,e,n,a){const i=this.options,o=i.ticks.callback;if(o)return dt(o,[t,e,n],this);const l=i.time.displayFormats,r=this._unit,c=this._majorUnit,d=r&&l[r],f=c&&l[c],h=n[e],g=c&&f&&h&&h.major;return this._adapter.format(t,a||(g?f:d))}generateTickLabels(t){let e,n,a;for(e=0,n=t.length;e<n;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,a=qt(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*o,h:n*o+l*i}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,a=n[e.unit]||n.millisecond,i=this._tickFormatFunction(t,0,io(this,[t],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],e,n;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,n=a.length;e<n;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const a=this.getLabels();for(e=0,n=a.length;e<n;++e)t.push(so(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Ao(t.sort(eo))}}z(Is,"id","time"),z(Is,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function dn(s,t,e){let n=0,a=s.length-1,i,o,l,r;e?(t>=s[n].pos&&t<=s[a].pos&&({lo:n,hi:a}=ce(s,"pos",t)),{pos:i,time:l}=s[n],{pos:o,time:r}=s[a]):(t>=s[n].time&&t<=s[a].time&&({lo:n,hi:a}=ce(s,"time",t)),{time:i,pos:l}=s[n],{time:o,pos:r}=s[a]);const c=o-i;return c?l+(r-l)*(t-i)/c:l}class ha extends Is{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=dn(e,this.min),this._tableRange=dn(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,a=[],i=[];let o,l,r,c,d;for(o=0,l=t.length;o<l;++o)c=t[o],c>=e&&c<=n&&a.push(c);if(a.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,l=a.length;o<l;++o)d=a[o+1],r=a[o-1],c=a[o],Math.round((d+r)/2)!==c&&i.push({time:c,pos:o/(l-1)});return i}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(dn(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return dn(this._table,n*this._tableRange+this._minPos,!0)}}z(ha,"id","timeseries"),z(ha,"defaults",Is.defaults);var Nm=Object.freeze({__proto__:null,CategoryScale:ra,LinearScale:ca,LogarithmicScale:da,RadialLinearScale:ys,TimeScale:Is,TimeSeriesScale:ha});const Bm=[Uu,Sf,gm,Nm];On.register(...Bm);const gl={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},zm={ariaLabel:{type:String},ariaDescribedby:{type:String}},jm={type:{type:String,required:!0},...gl,...zm},Hm=El[0]==="2"?(s,t)=>Object.assign(s,{attrs:t}):(s,t)=>Object.assign(s,t);function Xe(s){return po(s)?Kn(s):s}function Wm(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return po(t)?new Proxy(s,{}):s}function Um(s,t){const e=s.options;e&&t&&Object.assign(e,t)}function _l(s,t){s.labels=t}function vl(s,t,e){const n=[];s.datasets=t.map(a=>{const i=s.datasets.find(o=>o[e]===a[e]);return!i||!a.data||n.includes(i)?{...a}:(n.push(i),Object.assign(i,a),i)})}function Ym(s,t){const e={labels:[],datasets:[]};return _l(e,s.labels),vl(e,s.datasets,t),e}const Gm=q({props:jm,setup(s,t){let{expose:e,slots:n}=t;const a=T(null),i=ho(null);e({chart:i});const o=()=>{if(!a.value)return;const{type:c,data:d,options:f,plugins:h,datasetIdKey:g}=s,_=Ym(d,g),v=Wm(_,d);i.value=new On(a.value,{type:c,data:v,options:{...f},plugins:h})},l=()=>{const c=Kn(i.value);c&&(c.destroy(),i.value=null)},r=c=>{c.update(s.updateMode)};return Pl(o),fo(l),qe([()=>s.options,()=>s.data],(c,d)=>{let[f,h]=c,[g,_]=d;const v=Kn(i.value);if(!v)return;let b=!1;if(f){const w=Xe(f),k=Xe(g);w&&w!==k&&(Um(v,w),b=!0)}if(h){const w=Xe(h.labels),k=Xe(_.labels),M=Xe(h.datasets),E=Xe(_.datasets);w!==k&&(_l(v.config.data,w),b=!0),M&&M!==E&&(vl(v.config.data,M,s.datasetIdKey),b=!0)}b&&mo(()=>{r(v)})},{deep:!0}),()=>Jn("canvas",{role:"img",ariaLabel:s.ariaLabel,ariaDescribedby:s.ariaDescribedby,ref:a},[Jn("p",{},[n.default?n.default():""])])}});function Xm(s,t){return On.register(t),q({props:gl,setup(e,n){let{expose:a}=n;const i=ho(null),o=l=>{i.value=l==null?void 0:l.chart};return a({chart:i}),()=>Jn(Gm,Hm({ref:o},{type:s,...e}))}})}const Rs=Xm("bar",Ts),gt=s=>(kt("data-v-b0b8288d"),s=s(),wt(),s),Jm={class:"flex-all-c w-100 h-100"},Km={key:3,class:"table-container"},qm={key:0,class:"term-table"},Zm={class:"term-three table-title-container",style:{position:"relative"}},Qm=gt(()=>u("td",null,"Justice",-1)),tp={key:0,class:"table-title term-three"},ep={class:"term-three"},sp=gt(()=>u("td",{class:"table-data"},"Total Students",-1)),np={class:"table-data-value"},ap={class:"term-three"},ip=gt(()=>u("td",{class:"table-data"},"Highest Score",-1)),op={class:"table-data-value"},lp={class:"term-three"},rp=gt(()=>u("td",{class:"table-data"},"Average Score",-1)),cp={class:"table-data-value"},dp={class:"term-three"},up=gt(()=>u("td",{class:"table-data"},"Lowest Score",-1)),hp={class:"table-data-value"},fp={class:"term-three"},mp=gt(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),pp={class:"table-data-value"},gp={class:"term-three"},_p=gt(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),vp={class:"table-data-value"},bp={class:"term-three"},yp=gt(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),xp={class:"table-data-value"},Sp={key:1,class:"term-table"},kp={class:"term-two table-title-container",style:{position:"relative"}},wp=gt(()=>u("td",null,"Justice",-1)),Tp={key:0,class:"table-title term-two"},Dp={key:1,class:"table-title term-two"},Mp={class:"term-two"},Ap=gt(()=>u("td",{class:"table-data"},"Total Students",-1)),Cp={class:"table-data-value"},$p={class:"term-two"},Ep=gt(()=>u("td",{class:"table-data"},"Highest Score",-1)),Pp={class:"table-data-value"},Op={class:"term-two"},Ip=gt(()=>u("td",{class:"table-data"},"Average Score",-1)),Rp={class:"table-data-value"},Fp={key:0,class:"term-two"},Lp=gt(()=>u("td",{class:"table-data"},"Lowest Score",-1)),Vp={class:"table-data-value"},Np={class:"term-two"},Bp=gt(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),zp={class:"table-data-value"},jp={class:"term-two"},Hp=gt(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),Wp={class:"table-data-value"},Up={class:"term-two"},Yp=gt(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),Gp={class:"table-data-value"},Xp={key:2,class:"term-table"},Jp={class:"term-one table-title-container",style:{position:"relative"}},Kp=gt(()=>u("td",null,"Justice",-1)),qp={key:0,class:"table-title term-one"},Zp={key:1,class:"table-title term-one"},Qp={class:"term-one"},tg=gt(()=>u("td",{class:"table-data"},"Total Students",-1)),eg={class:"table-data-value"},sg={class:"term-one"},ng=gt(()=>u("td",{class:"table-data"},"Highest Score",-1)),ag={class:"table-data-value"},ig={class:"term-one"},og=gt(()=>u("td",{class:"table-data"},"Average Score",-1)),lg={class:"table-data-value"},rg={class:"term-one"},cg=gt(()=>u("td",{class:"table-data"},"Lowest Score",-1)),dg={class:"table-data-value"},ug={class:"term-one"},hg=gt(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),fg={class:"table-data-value"},mg={class:"term-one"},pg=gt(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),gg={class:"table-data-value"},_g={class:"term-one"},vg=gt(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),bg={class:"table-data-value"},yg=q({__name:"HeadPerformanceYearData",props:{year:{}},setup(s){const t=ot(),{year:e}=s,n=T(e.term_one.map(R=>Number(R))),a=T(e.term_two.map(R=>Number(R))),i=T(e.term_three.map(R=>Number(R))),o=n.value.filter(R=>R>=80).length,l=n.value.filter(R=>R>=75&&R<80).length,r=n.value.filter(R=>R>=70&&R<75).length,c=n.value.filter(R=>R>=65&&R<70).length,d=n.value.filter(R=>R>=60&&R<65).length,f=n.value.filter(R=>R>=55&&R<60).length,h=n.value.filter(R=>R>=50&&R<55).length,g=n.value.filter(R=>R>=40&&R<50).length,_=n.value.filter(R=>R<40).length,v=a.value.filter(R=>R>=80).length,b=a.value.filter(R=>R>=75&&R<80).length,w=a.value.filter(R=>R>=70&&R<75).length,k=a.value.filter(R=>R>=65&&R<70).length,M=a.value.filter(R=>R>=60&&R<65).length,E=a.value.filter(R=>R>=55&&R<60).length,A=a.value.filter(R=>R>=50&&R<55).length,O=a.value.filter(R=>R>=40&&R<50).length,$=a.value.filter(R=>R<40).length,C=i.value.filter(R=>R>=80).length,P=i.value.filter(R=>R>=75&&R<80).length,B=i.value.filter(R=>R>=70&&R<75).length,N=i.value.filter(R=>R>=65&&R<70).length,J=i.value.filter(R=>R>=60&&R<65).length,rt=i.value.filter(R=>R>=55&&R<60).length,j=i.value.filter(R=>R>=50&&R<55).length,Z=i.value.filter(R=>R>=40&&R<50).length,K=i.value.filter(R=>R<40).length,Y=T(["A1","B2","B3","C4","C5","C6","D7","E8","F9"]),vt=T([o,l,r,c,d,f,h,g,_]),mt=T([v,b,w,k,M,E,A,O,$]),Nt=T([C,P,B,N,J,rt,j,Z,K]),Mt=T({labels:Y.value,datasets:[{label:"Semester 1",data:vt.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Semester 2",data:mt.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1}]}),Wt=T({labels:Y.value,datasets:[{label:"Trimester 1",data:vt.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Trimester 2",data:mt.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1},{label:"Trimester 3",data:Nt.value,borderColor:"indigo",backgroundColor:"indigo",borderWidth:2,fill:!1}]}),Ut=T({responsive:!0}),At=n.value.length,Yt=G(()=>(n.value.reduce((he,ne)=>he+ne,0)/n.value.length).toFixed(0)),Dt=G(()=>Math.max(...n.value)),is=G(()=>Math.min(...n.value)),os=G(()=>n.value.filter(R=>R>=50).length),ls=G(()=>n.value.filter(R=>R<50&&R>=40).length),rs=G(()=>n.value.filter(R=>R<40).length),Vt=a.value.length,Rn=G(()=>(a.value.reduce((he,ne)=>he+ne,0)/a.value.length).toFixed(0)),Fn=G(()=>Math.max(...a.value)),ke=G(()=>Math.min(...a.value)),Ws=G(()=>a.value.filter(R=>R>=50).length),Us=G(()=>a.value.filter(R=>R<50&&R>=40).length),cs=G(()=>a.value.filter(R=>R<40).length),we=i.value.length,Ys=G(()=>(i.value.reduce((he,ne)=>he+ne,0)/i.value.length).toFixed(0)),Gs=G(()=>Math.max(...i.value)),Gt=G(()=>Math.min(...i.value)),Xs=G(()=>i.value.filter(R=>R>=50).length),Js=G(()=>i.value.filter(R=>R<50&&R>=40).length),Te=G(()=>i.value.filter(R=>R<40).length);return(R,he)=>{const ne=St;return m(),x("div",Jm,[!R.year||R.year&&R.year.term_one.length===0?(m(),L(ne,{key:0})):S("",!0),R.year&&p(t).userData.school.semesters&&R.year.term_one.length>0?(m(),L(p(Rs),{key:1,class:"chart",options:Ut.value,data:Mt.value,fill:!1},null,8,["options","data"])):S("",!0),R.year&&!p(t).userData.school.semesters&&R.year.term_one.length>0?(m(),L(p(Rs),{key:2,class:"chart",options:Ut.value,data:Wt.value,fill:!1},null,8,["options","data"])):S("",!0),R.year&&R.year.term_one.length>0?(m(),x("div",Km,[R.year.term_three&&R.year.term_three.length>0?(m(),x("div",qm,[D(pt,{density:"comfortable"},{default:I(()=>[u("tbody",null,[u("tr",Zm,[Qm,p(t).userData&&!p(t).userData.school.semesters?(m(),x("td",tp,"TRIMESTER 3")):S("",!0)]),u("tr",ep,[sp,u("td",np,y(p(we)),1)]),u("tr",ap,[ip,u("td",op,y(Gs.value),1)]),u("tr",lp,[rp,u("td",cp,y(Ys.value),1)]),u("tr",dp,[up,u("td",hp,y(Gt.value),1)]),u("tr",fp,[mp,u("td",pp,y(Xs.value)+" ["+y((Xs.value/p(we)*100).toFixed(1))+"%] ",1)]),u("tr",gp,[_p,u("td",vp,y(Js.value)+" ["+y((Js.value/p(we)*100).toFixed(1))+"%] ",1)]),u("tr",bp,[yp,u("td",xp,y(Te.value)+" ["+y((Te.value/p(we)*100).toFixed(1))+"%] ",1)])])]),_:1})])):S("",!0),R.year.term_two&&R.year.term_two.length>0?(m(),x("div",Sp,[D(pt,{density:"comfortable"},{default:I(()=>[u("tbody",null,[u("tr",kp,[wp,p(t).userData&&p(t).userData.school.semesters?(m(),x("td",Tp,"SEMESTER 2")):S("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("td",Dp,"TRIMESTER 2")):S("",!0)]),u("tr",Mp,[Ap,u("td",Cp,y(p(Vt)),1)]),u("tr",$p,[Ep,u("td",Pp,y(Fn.value),1)]),u("tr",Op,[Ip,u("td",Rp,y(Rn.value),1)]),ke.value?(m(),x("tr",Fp,[Lp,u("td",Vp,y(ke.value),1)])):S("",!0),u("tr",Np,[Bp,u("td",zp,y(Ws.value)+" ["+y((Ws.value/p(Vt)*100).toFixed(1))+"%] ",1)]),u("tr",jp,[Hp,u("td",Wp,y(Us.value)+" ["+y((Us.value/p(Vt)*100).toFixed(1))+"%] ",1)]),u("tr",Up,[Yp,u("td",Gp,y(cs.value)+" ["+y((cs.value/p(Vt)*100).toFixed(1))+"%] ",1)])])]),_:1})])):S("",!0),R.year.term_one&&R.year.term_one.length>0?(m(),x("div",Xp,[D(pt,{density:"comfortable"},{default:I(()=>[u("tbody",null,[u("tr",Jp,[Kp,p(t).userData&&p(t).userData.school.semesters?(m(),x("td",qp,"SEMESTER 1")):S("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("td",Zp,"TRIMESTER 1")):S("",!0)]),u("tr",Qp,[tg,u("td",eg,y(p(At)),1)]),u("tr",sg,[ng,u("td",ag,y(Dt.value),1)]),u("tr",ig,[og,u("td",lg,y(Yt.value),1)]),u("tr",rg,[cg,u("td",dg,y(is.value),1)]),u("tr",ug,[hg,u("td",fg,y(os.value)+" ["+y((os.value/p(At)*100).toFixed(1))+"%] ",1)]),u("tr",mg,[pg,u("td",gg,y(ls.value)+" ["+y((ls.value/p(At)*100).toFixed(1))+"%] ",1)]),u("tr",_g,[vg,u("td",bg,y(rs.value)+" ["+y((rs.value/p(At)*100).toFixed(1))+"%] ",1)])])]),_:1})])):S("",!0)])):S("",!0)])}}}),xg=st(yg,[["__scopeId","data-v-b0b8288d"]]),Sg={class:"subsections-container"},kg={class:"subsections"},wg=q({__name:"HeadPerformanceYear",props:{year:null},setup(s){const t=s,e=T("section1"),n=a=>{e.value=a};return(a,i)=>{const o=xg;return m(),x("div",Sg,[D(es,{class:"subsection-nav-container",elevation:"0"},{default:I(()=>[u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value==="section1"}]),onClick:i[0]||(i[0]=l=>n("section1"))},"form 1 students",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value==="section2"}]),onClick:i[1]||(i[1]=l=>n("section2"))},"form 2 students",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":e.value==="section3"}]),onClick:i[2]||(i[2]=l=>n("section3"))},"form 3 students",2)]),_:1}),u("div",kg,[u("div",{style:X(e.value==="section1"?{display:"flex"}:{display:"none"})},[D(o,{year:t.year.year_one},null,8,["year"])],4),u("div",{style:X(e.value==="section2"?{display:"flex"}:{display:"none"})},[D(o,{year:t.year.year_two},null,8,["year"])],4),u("div",{style:X(e.value==="section3"?{display:"flex"}:{display:"none"})},[D(o,{year:t.year.year_three},null,8,["year"])],4)])])}}}),Tg={class:"subsections-container"},Dg={key:1,class:"subsection-nav-container"},Mg=["onClick"],Ag={key:2,class:"subsections"},Cg=q({__name:"HeadPerformanceSubjects",props:{department:null},setup(s){const t=T("section1"),e=s,n=a=>{t.value=a};return(a,i)=>{const o=St,l=wg;return m(),x("div",Tg,[e.department?S("",!0):(m(),L(o,{key:0})),e.department?(m(),x("div",Dg,[(m(!0),x(U,null,et(e.department.subjects,(r,c)=>(m(),x("button",{key:c,class:W(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[u("span",null,y(r.name),1)],10,Mg))),128))])):S("",!0),e.department?(m(),x("div",Ag,[(m(!0),x(U,null,et(e.department.subjects,(r,c)=>(m(),x("div",{class:"h-100",key:c,style:X(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[D(l,{year:r},null,8,["year"])],4))),128))])):S("",!0)])}}}),$g=st(Cg,[["__scopeId","data-v-f8918b1b"]]),Eg={class:"sections-container"},Pg={key:1,class:"section-nav-container"},Og=["onClick"],Ig={key:2,class:"sections"},Rg=q({__name:"HeadPerformanceDepartment",setup(s){const t=T("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=St,l=$g;return m(),x("div",Eg,[p(e).headStudentsPerformance?S("",!0):(m(),L(o,{key:0})),p(e).headStudentsPerformance?(m(),x("div",Pg,[(m(!0),x(U,null,et(p(e).headStudentsPerformance,(r,c)=>(m(),x("button",{key:c,class:W(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[r.department==="MATHEMATICS"?(m(),L(H,{key:0,icon:"mdi-function-variant"})):S("",!0),r.department==="ENGLISH"?(m(),L(H,{key:1,icon:"mdi-book-open-variant"})):S("",!0),r.department==="LANGUAGES"?(m(),L(H,{key:2,icon:"mdi-book-open-variant"})):S("",!0),r.department==="ARTS"?(m(),L(H,{key:3,icon:"mdi-history"})):S("",!0),r.department==="SCIENCE"?(m(),L(H,{key:4,icon:"mdi-flask"})):S("",!0),r.department==="BUSINESS"?(m(),L(H,{key:5,icon:"mdi-finance"})):S("",!0),r.department==="ECONOMICS"?(m(),L(H,{key:6,icon:"mdi-finance"})):S("",!0),u("span",null,y(r.department),1)],10,Og))),128))])):S("",!0),p(e).headStudentsPerformance?(m(),x("div",Ig,[(m(!0),x(U,null,et(p(e).headStudentsPerformance,(r,c)=>(m(),x("div",{class:"h-100",key:c,style:X(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[D(l,{department:r},null,8,["department"])],4))),128))])):S("",!0)])}}}),Fg=st(Rg,[["__scopeId","data-v-7f86438b"]]),He=s=>(kt("data-v-be75f227"),s=s(),wt(),s),Lg=["id"],Vg={class:"card",style:{position:"relative"}},Ng={class:"info mt-3"},Bg=He(()=>u("strong",null,"CLASS:",-1)),zg={class:"info"},jg=He(()=>u("strong",null,"SUBJECT:",-1)),Hg={key:0,class:"form-message",style:{color:"green"}},Wg={key:1,class:"form-message",style:{color:"red"}},Ug={style:{width:"100%",position:"relatve",height:"100%"}},Yg={key:1,class:"no-data flex-all"},Gg={key:0},Xg={key:1},Jg=He(()=>u("th",{class:"table-head"},"SUBJECT",-1)),Kg=He(()=>u("th",{class:"table-head"},"CLASS",-1)),qg=He(()=>u("th",{class:"table-head"},"FORM",-1)),Zg={key:0,class:"table-head"},Qg=He(()=>u("th",{class:"table-head"},"STUDENTS",-1)),t_={class:"table-data"},e_={class:"table-data"},s_={class:"table-data"},n_=["onClick"],a_=He(()=>u("button",{class:"page-btn"},"UPLOAD",-1)),i_=[a_],o_={style:{padding:"0"}},l_={class:"student-info-container"},r_=["src"],c_={class:"flex-all-c"},d_={class:"user-name"},u_={class:"user-name"},h_=q({__name:"TeacherTermCourseWork",props:{term:{},termNumber:{}},setup(s){const t=ot(),e=T(""),n=T(""),a=T(0),i=T(""),o=T(""),l=T(""),r=T(!1),c=T(null),d=T(null),f=()=>{setTimeout(()=>{e.value="",n.value=""},1e4)},{term:h,termNumber:g}=s,_=(k,M,E,A)=>{l.value=k,d.value=M,a.value=E,o.value=A;const O=document.getElementById(`attendace${g}`);O&&(O.style.display="flex")},v=async()=>{r.value=!0;const k=new FormData;k.append("className",l.value),k.append("absentStudents",c.value),k.append("year",t.activeAcademicYear),k.append("term",t.activeTerm),k.append("type","create"),k.append("date",i.value),k.append("subject",o.value);try{const M=await xt.post("teacher/students/attendance",k);if(M.status===200){const E=M.data,A=t.teacherStudentsAttendance.find(O=>O.subject===E.subject.name&&O.class_name===E.students_class.name);if(A){const O=t.teacherStudentsAttendance.indexOf(A);t.teacherStudentsAttendance[O].attendance.unshift(E)}else await t.getTeacherStudentsAttendance();n.value="Upload successful",c.value=null}else M.status===201&&(e.value=M.data.ms)}catch(M){return e.value="Oops! something went wrong",Promise.reject(M)}finally{r.value=!1,f()}},b=G(()=>!i.value),w=()=>{l.value="",d.value=null,a.value=0,e.value="",n.value="",c.value=null,i.value="",o.value="";const k=document.getElementById(`attendace${g}`);k&&(k.style.display="none")};return(k,M)=>{const E=St;return m(),x(U,null,[u("div",{id:`attendace${k.termNumber}`,class:"overlay"},[u("div",Vg,[D(Q,{onClick:w,disabled:p(r),color:"red",size:"small",class:"close-btn flex-all"},{default:I(()=>[V("X")]),_:1},8,["disabled"]),u("h2",Ng,[Bg,V(" "+y(p(l))+" FORM "+y(p(a)),1)]),u("h2",zg,[jg,V(" "+y(p(o)),1)]),p(n)?(m(),x("h2",Hg,y(p(n)),1)):S("",!0),p(e)?(m(),x("h2",Wg,y(p(e)),1)):S("",!0),D(nt,{label:"DATE",class:"input-field",modelValue:p(i),"onUpdate:modelValue":M[0]||(M[0]=A=>Je(i)?i.value=A:null),hint:"select the date for the class attendance","persistent-hint":"",clearable:"",variant:"outlined",type:"date",density:"compact"},null,8,["modelValue"]),p(d)?(m(),L(Pt,{key:2,disabled:p(r),clearable:"",multiple:"",chips:"",modelValue:p(c),"onUpdate:modelValue":M[1]||(M[1]=A=>Je(c)?c.value=A:null),class:"select",label:"STUDENTS",variant:"outlined",items:p(d),"item-title":"user.last_name","item-value":"st_id","persistent-hint":"",hint:"Select the students who did not attend class for the specified date"},{item:I(({props:A,item:O})=>[D($t,Rt(A,{subtitle:O.raw.st_id}),null,16,["subtitle"])]),_:1},8,["disabled","modelValue","items"])):S("",!0),D(Q,{loading:p(r),disabled:p(b),onClick:v,size:"small",type:"submit",class:"submit-btn"},{default:I(()=>[V("UPLOAD")]),_:1},8,["loading","disabled"])])],8,Lg),u("div",Ug,[p(t).staffSubjectAssignment[k.term]?S("",!0):(m(),L(E,{key:0})),p(t).staffSubjectAssignment[k.term]&&p(t).staffSubjectAssignment[k.term].length===0?(m(),x("h4",Yg,[p(t).userData.school.semesters?(m(),x("p",Gg,"No coursework for semester "+y(k.termNumber)+" yet",1)):S("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("p",Xg,"No coursework for trimester "+y(k.termNumber)+" yet",1)):S("",!0)])):S("",!0),p(t).staffSubjectAssignment[k.term]&&p(t).staffSubjectAssignment[k.term].length>0?(m(),L(pt,{key:2,"fixed-header":"",class:"table-1"},{default:I(()=>[u("thead",null,[u("tr",null,[Jg,Kg,qg,k.termNumber===p(t).activeTerm?(m(),x("th",Zg,"ATTENDANCE")):S("",!0),Qg])]),u("tbody",null,[(m(!0),x(U,null,et(p(t).staffSubjectAssignment[k.term],(A,O)=>(m(),x("tr",{key:O},[u("td",t_,y(A.subject.name),1),u("td",e_,y(A.students_class.name),1),u("td",s_,y(A.students_class.students_year),1),k.termNumber===p(t).activeTerm?(m(),x("td",{key:0,class:"table-data",onClick:$=>_(A.students_class.name,A.students_class.students,A.students_class.students_year,A.subject.name)},i_,8,n_)):S("",!0),u("td",o_,[D(Fe,{class:"pa-0"},{default:I(()=>[D(Le,null,{activator:I(({props:$})=>[D($t,Rt({class:"title"},$),{default:I(()=>[D(H,{icon:"mdi-account-circle"}),V(y(A.students_class.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:I(()=>[D(Ve,{class:"v-scroll",height:"22vh",items:A.students_class.students},{default:I(({item:$})=>[D($t,{style:{position:"relative"}},{default:I(()=>[u("div",l_,[u("img",{class:"profile-img",src:$.img},null,8,r_),u("div",c_,[u("p",d_,y($.user.first_name+" "+$.user.last_name),1),u("p",u_,y($.st_id),1)])])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1})):S("",!0)])],64)}}}),f_=st(h_,[["__scopeId","data-v-be75f227"]]),m_={key:0,class:"section-nav-container"},p_={key:1,class:"section-nav-container"},g_={class:"sections"},__=q({__name:"TeacherCourseWork",setup(s){const t=ot(),e=T(t.activeTerm),n=a=>{e.value=a};return(a,i)=>{const o=f_;return m(),x(U,null,[p(t).userData&&p(t).userData.school.semesters?(m(),x("div",m_,[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":e.value===1}]),onClick:i[0]||(i[0]=l=>n(1))},"SEMESTER 1",2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":e.value===2}]),onClick:i[1]||(i[1]=l=>n(2))},"SEMESTER 2",2)])):S("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("div",p_,[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":e.value===1}]),onClick:i[2]||(i[2]=l=>n(1))},"TRIMESTER 1",2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":e.value===2}]),onClick:i[3]||(i[3]=l=>n(2))},"TRIMESTER 2",2),u("button",{class:W(["nav-btn-1 btn-3",{"nav-btn-1-active":e.value===3}]),onClick:i[4]||(i[4]=l=>n(3))},"TRIMESTER 3",2)])):S("",!0),u("div",g_,[u("div",{class:"h-100",style:X(e.value===1?{display:"flex"}:{display:"none"})},[D(o,{term:"termOne","term-number":1})],4),u("div",{class:"h-100",style:X(e.value===2?{display:"flex"}:{display:"none"})},[D(o,{term:"termTwo","term-number":2})],4),p(t).userData&&!p(t).userData.school.semesters?(m(),x("div",{key:0,class:"h-100",style:X(e.value===3?{display:"flex"}:{display:"none"})},[D(o,{term:"termThree","term-number":3})],4)):S("",!0)])],64)}}}),v_=st(__,[["__scopeId","data-v-21918f58"]]),bl=s=>(kt("data-v-017d23e6"),s=s(),wt(),s),b_=["id"],y_=bl(()=>u("p",null,"Continue to delete ?",-1)),x_={key:0,class:"mt-5",style:{color:"red"}},S_={style:{width:"100%",position:"relative",height:"100%"}},k_=bl(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"DATE"),u("th",{class:"table-head"},"STUDENTS PRESENT"),u("th",{class:"table-head"},"STUDENTS ABSENT"),u("th",{class:"table-head"},"ACTION")])],-1)),w_={class:"table-data"},T_={style:{padding:"0"}},D_={class:"student-info-container"},M_=["src"],A_={class:"flex-all-c"},C_={class:"user-name"},$_={class:"user-name"},E_={style:{padding:"0"}},P_={class:"student-info-container"},O_=["src"],I_={class:"flex-all-c"},R_={class:"user-name"},F_={class:"user-name"},L_=q({__name:"TeacherStudentsAllSubjecstAttendance",props:{index:{},attendance:{}},setup(s){const t=ot(),e=T(!1),n=T(""),a=T(""),i=T(""),o=T(""),{index:l,attendance:r}=s,c=()=>{const h=document.getElementById(`deleteAttendance${l}`);h&&(h.style.display="none"),n.value="",a.value="",o.value="",i.value=""},d=async()=>{e.value=!0;const h=new FormData;h.append("subject",a.value),h.append("className",o.value),h.append("year",t.activeAcademicYear),h.append("date",i.value),h.append("type","delete"),h.append("term",t.activeTerm.toString());try{if((await xt.post("teacher/students/attendance",h)).status===200){const _=t.teacherStudentsAttendance.find(v=>v.subject===a.value&&v.class_name===o.value);if(_){const v=t.teacherStudentsAttendance.indexOf(_),b=t.teacherStudentsAttendance[v].attendance.find(w=>w.date===i.value);if(b){const w=t.teacherStudentsAttendance[v].attendance.indexOf(b);t.teacherStudentsAttendance[v].attendance.splice(w,1)}}c(),e.value=!1}}catch{n.value="Oops! something went wrong. Check your internet connection and try again",e.value=!1}},f=async(h,g,_)=>{const v=document.getElementById(`deleteAttendance${l}`);a.value=h,i.value=_,o.value=g,v&&(v.style.display="flex")};return(h,g)=>(m(),x(U,null,[u("div",{id:`deleteAttendance${h.index}`,class:"overlay"},[D(ss,{class:"d-flex flex-column align-center"},{default:I(()=>[D(Fs,{style:{"font-size":".8rem","font-family":"sans-serif","text-align":"left","line-height":"1.2","font-weight":"bold"}},{default:I(()=>[y_,n.value?(m(),x("p",x_,y(n.value),1)):S("",!0)]),_:1}),D(Ls,null,{default:I(()=>[D(Q,{loading:e.value,class:"overlay-btn mr-5",elevation:"4",onClick:d},{default:I(()=>[V("YES")]),_:1},8,["loading"]),D(Q,{disabled:e.value,class:"overlay-btn ml-5",elevation:"4",onClick:c},{default:I(()=>[V("NO")]),_:1},8,["disabled"])]),_:1})]),_:1})],8,b_),u("div",S_,[h.attendance&&h.attendance.length>0?(m(),L(pt,{key:0,"fixed-header":""},{default:I(()=>[k_,u("tbody",null,[(m(!0),x(U,null,et(h.attendance,(_,v)=>(m(),x("tr",{key:v},[u("td",w_,y(_.date),1),u("td",T_,[D(Fe,{class:"pa-0"},{default:I(()=>[D(Le,null,{activator:I(({props:b})=>[D($t,Rt({class:"title"},b),{default:I(()=>[D(H,{icon:"mdi-account-circle"}),V(y(_.students_present.length)+" STUDENTS ",1)]),_:2},1040)]),default:I(()=>[D(Ve,{class:"v-scroll",height:"22vh",items:_.students_present},{default:I(({item:b})=>[D($t,{style:{position:"relative"}},{default:I(()=>[u("div",D_,[u("img",{class:"profile-img",src:b.img},null,8,M_),u("div",A_,[u("p",C_,y(b.user.first_name+" "+b.user.last_name),1),u("p",$_,y(b.st_id),1)])])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)]),u("td",E_,[D(Fe,{class:"pa-0"},{default:I(()=>[D(Le,null,{activator:I(({props:b})=>[D($t,Rt({class:"title"},b),{default:I(()=>[D(H,{icon:"mdi-account-circle"}),V(y(_.students_absent.length)+" STUDENTS ",1)]),_:2},1040)]),default:I(()=>[D(Ve,{class:"v-scroll",height:"22vh",items:_.students_absent},{default:I(({item:b})=>[D($t,{style:{position:"relative"}},{default:I(()=>[u("div",P_,[u("img",{class:"profile-img",src:b.img},null,8,O_),u("div",I_,[u("p",R_,y(b.user.first_name+" "+b.user.last_name),1),u("p",F_,y(b.st_id),1)])])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)]),u("td",null,[D(Q,{onClick:b=>f(_.subject.name,_.students_class.name,_.date),size:"small",density:"comfortable",class:"delete-btn"},{default:I(()=>[V("Delete")]),_:2},1032,["onClick"])])]))),128))])]),_:1})):S("",!0)])],64))}}),V_=st(L_,[["__scopeId","data-v-017d23e6"]]),N_={class:"subsections-container"},B_={key:2,class:"subsection-nav-container"},z_=["onClick"],j_={key:3,class:"subsections"},H_=q({__name:"TeacherStudentsAttendance",setup(s){const t=T("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=St,l=ue,r=V_;return m(),x("div",N_,[p(e).teacherStudentsAttendance?S("",!0):(m(),L(o,{key:0})),p(e).teacherStudentsAttendance&&p(e).teacherStudentsAttendance.length===0?(m(),L(l,{key:1,message:"You have not uploaded any attendance yet"})):S("",!0),p(e).teacherStudentsAttendance?(m(),x("div",B_,[(m(!0),x(U,null,et(p(e).teacherStudentsAttendance,(c,d)=>(m(),x("button",{key:d,class:W(["nav-btn-1",{"nav-btn-1-active":t.value===`section${d+1}`}]),onClick:f=>n(`section${d+1}`)},[u("span",null,y(c.class_name)+" "+y(c.subject),1),u("span",null,"FORM "+y(c.students_year),1)],10,z_))),128))])):S("",!0),p(e).teacherStudentsAttendance?(m(),x("div",j_,[(m(!0),x(U,null,et(p(e).teacherStudentsAttendance,(c,d)=>(m(),x("div",{key:d,style:X(t.value===`section${d+1}`?{display:"flex"}:{display:"none"})},[c.attendance&&c.attendance.length>0?(m(),L(r,{attendance:c.attendance,index:d,key:c.attendance},null,8,["attendance","index"])):S("",!0),c.attendance&&c.attendance.length===0?(m(),L(l,{key:1,message:"No data yet"})):S("",!0)],4))),128))])):S("",!0)])}}}),W_=st(H_,[["__scopeId","data-v-c36cc4f7"]]),U_=lo({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:s=>typeof s=="boolean"||[1e3,1024].includes(s)},..._o({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:s=>Ol(s).every(t=>t!=null&&typeof t=="object")},...Vl({clearable:!0})},"VFileInput"),$a=ro()({name:"VFileInput",inheritAttrs:!1,props:U_(),emits:{"click:control":s=>!0,"mousedown:control":s=>!0,"update:focused":s=>!0,"update:modelValue":s=>!0},setup(s,t){let{attrs:e,emit:n,slots:a}=t;const{t:i}=Il(),o=co(s,"modelValue"),{isFocused:l,focus:r,blur:c}=vo(s),d=G(()=>typeof s.showSize!="boolean"?s.showSize:void 0),f=G(()=>(o.value??[]).reduce((P,B)=>{let{size:N=0}=B;return P+N},0)),h=G(()=>Fa(f.value,d.value)),g=G(()=>(o.value??[]).map(P=>{const{name:B="",size:N=0}=P;return s.showSize?`${B} (${Fa(N,d.value)})`:B})),_=G(()=>{var B;const P=((B=o.value)==null?void 0:B.length)??0;return s.showSize?i(s.counterSizeString,P,h.value):i(s.counterString,P)}),v=T(),b=T(),w=T(),k=G(()=>l.value||s.active),M=G(()=>["plain","underlined"].includes(s.variant));function E(){var P;w.value!==document.activeElement&&((P=w.value)==null||P.focus()),l.value||r()}function A(P){$(P)}function O(P){n("mousedown:control",P)}function $(P){var B;(B=w.value)==null||B.click(),n("click:control",P)}function C(P){P.stopPropagation(),E(),mo(()=>{o.value=[],Rl(s["onClick:clear"],P)})}return qe(o,P=>{(!Array.isArray(P)||!P.length)&&w.value&&(w.value.value="")}),go(()=>{const P=!!(a.counter||s.counter),B=!!(P||a.details),[N,J]=uo(e),{modelValue:rt,...j}=bn.filterProps(s),Z=Nl(s);return D(bn,Rt({ref:v,modelValue:o.value,"onUpdate:modelValue":K=>o.value=K,class:["v-file-input",{"v-file-input--chips":!!s.chips,"v-input--plain-underlined":M.value},s.class],style:s.style,"onClick:prepend":A},N,j,{centerAffix:!M.value,focused:l.value}),{...a,default:K=>{let{id:Y,isDisabled:vt,isDirty:mt,isReadonly:Nt,isValid:Mt}=K;return D(Bl,Rt({ref:b,"prepend-icon":s.prependIcon,onMousedown:O,onClick:$,"onClick:clear":C,"onClick:prependInner":s["onClick:prependInner"],"onClick:appendInner":s["onClick:appendInner"]},Z,{id:Y.value,active:k.value||mt.value,dirty:mt.value,disabled:vt.value,focused:l.value,error:Mt.value===!1}),{...a,default:Wt=>{var Yt;let{props:{class:Ut,...At}}=Wt;return D(U,null,[D("input",Rt({ref:w,type:"file",readonly:Nt.value,disabled:vt.value,multiple:s.multiple,name:s.name,onClick:Dt=>{Dt.stopPropagation(),Nt.value&&Dt.preventDefault(),E()},onChange:Dt=>{if(!Dt.target)return;const is=Dt.target;o.value=[...is.files??[]]},onFocus:E,onBlur:c},At,J),null),D("div",{class:Ut},[!!((Yt=o.value)!=null&&Yt.length)&&(a.selection?a.selection({fileNames:g.value,totalBytes:f.value,totalBytesReadable:h.value}):s.chips?g.value.map(Dt=>D(oo,{key:Dt,size:"small",color:s.color},{default:()=>[Dt]})):g.value.join(", "))])])}})},details:B?K=>{var Y,vt;return D(U,null,[(Y=a.details)==null?void 0:Y.call(a,K),P&&D(U,null,[D("span",null,null),D(zl,{active:!!((vt=o.value)!=null&&vt.length),value:_.value},a.counter)])])}:void 0})}),jl({},v,b,w)}}),ns=s=>(kt("data-v-a993fd3c"),s=s(),wt(),s),Y_={id:"singleForm",class:"overlay"},G_={style:{position:"relative"}},X_={class:"info mt-3"},J_=ns(()=>u("strong",null,"CLASS:",-1)),K_={class:"info"},q_=ns(()=>u("strong",null,"SUBJECT:",-1)),Z_={key:0,class:"form-message",style:{color:"green"}},Q_={key:1,class:"form-message",style:{color:"red"}},tv={key:4,class:"flex-all-c"},ev=ns(()=>u("p",{class:"checkbox"},"Check this box if you want to upload results for multiple students with same score",-1)),sv={id:"fileForm",class:"overlay"},nv={style:{position:"relative"}},av={class:"info mt-3"},iv=ns(()=>u("strong",null,"CLASS:",-1)),ov={class:"info"},lv=ns(()=>u("strong",null,"SUBJECT:",-1)),rv={key:0,class:"form-message",style:{color:"green"}},cv={key:1,class:"form-message",style:{color:"green"}},dv={key:2,class:"form-message",style:{color:"red"}},uv={class:"flex-all-c mt-5"},hv={key:1,class:"checkbox"},fv={key:3,class:"line"},mv={style:{width:"100%"}},pv=ns(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"UPLOAD")])],-1)),gv={class:"table-data"},_v={class:"table-data"},vv={class:"table-data"},bv={style:{padding:"0"},class:"upload-btn-container"},yv=["onClick"],xv=["onClick"],Sv=q({__name:"TeacherStudentsResultsUpload",setup(s){const t=ot(),e=T(""),n=T(""),a=T(null),i=T(""),o=T(""),l=T([]),r=T(""),c=T([]),d=T(null),f=T(!1),h=T(!1),g=T(null),_=T(!1),v=T(!0),b=()=>{setTimeout(()=>{o.value="",i.value=""},15e3)},w=async()=>{_.value=!0,i.value="",o.value="";const C={students_year:a.value,students_class:n.value,subject:e.value,st_id:l.value,score:"generate",year:t.activeAcademicYear,term:t.activeTerm};try{const P=await xt.post("teacher/results/upload/",C);if(P.status===200){o.value=P.data.message,t.staffStudentsResultsFileGenerated=!0;const B=document.createElement("a");B.href=P.data.file_path,B.download=P.data.filename,B.click()}else P.status===201?i.value=P.data.ms:i.value="Oops! an error occurred while generating the file. Try again later"}catch{i.value="Something went wrong. Try again later"}finally{_.value=!1,b()}},k=C=>{const P=C.target.files[0];g.value=P||null},M=async()=>{h.value=!0,i.value="",o.value="";const C=new FormData;C.append("students_year",a.value),C.append("students_class",n.value),C.append("subject",e.value),C.append("st_id",g.value),C.append("score","upload"),C.append("year",t.activeAcademicYear),C.append("term",t.activeTerm.toString());try{const P=await xt.post("teacher/results/upload/",C);P.status===200?(t.userData.staff_role==="hod"&&t.getHodPerformance(),t.staffStudentResultsSubjectAssignment=P.data.data[0],t.staffStudentResultsEdit=P.data.data[1],o.value=P.data.message):(P.status===201||P.status===202)&&(i.value=P.data.message)}catch{i.value="Something went wrong!"}finally{h.value=!1,b()}},E=async()=>{h.value=!0,i.value="",o.value="",d.value=Number(d.value),typeof d.value=="number"&&d.value<=100&&d.value>0?f.value?(r.value="",await t.teacherUploadResults(c.value,e.value,d.value).then(C=>{t.getTeacherStudentResults(),t.userData.staff_role==="hod"&&t.getHodPerformance(),o.value=`Result for students with IDs [${c.value}] uploaded and saved successfully`,c.value=[],f.value=!1,d.value=null,h.value=!1}).catch(C=>{i.value="Oops! something went wrong while generating the file. Try again",h.value=!1})):f.value||(c.value=[],await t.teacherUploadResults(r.value,e.value,d.value).then(C=>{t.getTeacherStudentResults(),t.userData.staff_role==="hod"&&t.getHodPerformance();const P=r.value;o.value=`Result for student with ID ${P} uploaded and saved successfully`,r.value="",d.value=null,h.value=!1}).catch(C=>{i.value="Oops! something went wrong. try again",h.value=!1})):typeof d.value=="number"&&d.value>100?(i.value="The exams score must not exceed 100",h.value=!1):typeof d.value=="number"&&d.value<0?(i.value="The exams score can not be negative",h.value=!1):(i.value="The exams score must be a number",h.value=!1),b()},A=G(()=>!(c.value&&d.value)&&!(r.value&&d.value)),O=C=>{const P=document.getElementById(C);P&&(l.value=[],c.value=[],d.value=null,i.value="",o.value="",r.value="",h.value=!1,v.value=!0,f.value=!1,g.value=null,t.staffStudentsResultsFileGenerated=!1,P.style.display="none")},$=(C,P,B,N,J,rt)=>{e.value=C,n.value=P,a.value=J,l.value=B,B.length>0?qe(()=>t.staffStudentResultsSubjectAssignment,Z=>{if(Z){const K=Z[N];K&&K.students&&(l.value=K.students)}}):(i.value="You have already uploaded results for students in this class",v.value=!1);const j=document.getElementById(rt);j&&(j.style.display="flex")};return(C,P)=>{const B=St;return m(),x(U,null,[u("div",Y_,[u("form",G_,[D(Q,{onClick:P[0]||(P[0]=Kt(N=>O("singleForm"),["prevent"])),disabled:h.value||_.value,color:"red",size:"small",class:"close-btn flex-all"},{default:I(()=>[V("X")]),_:1},8,["disabled"]),u("h2",X_,[J_,V(" "+y(n.value)+" FORM "+y(a.value),1)]),u("h2",K_,[q_,V(" "+y(e.value),1)]),o.value?(m(),x("h2",Z_,y(o.value),1)):S("",!0),i.value?(m(),x("h2",Q_,y(i.value),1)):S("",!0),!f.value&&v.value?(m(),L(Pt,{key:2,disabled:h.value,modelValue:r.value,"onUpdate:modelValue":P[1]||(P[1]=N=>r.value=N),class:"select",label:"STUDENT",variant:"outlined",items:l.value,"item-title":"name","item-value":"st_id","persistent-hint":"",hint:"Select the student you want to upload result for"},{item:I(({props:N,item:J})=>[D($t,Rt(N,{subtitle:J.raw.st_id}),null,16,["subtitle"])]),_:1},8,["disabled","modelValue","items"])):S("",!0),f.value&&v.value?(m(),L(Pt,{key:3,disabled:h.value,multiple:"",clearable:"",modelValue:c.value,"onUpdate:modelValue":P[2]||(P[2]=N=>c.value=N),chips:"",class:"select",label:"STUDENT",variant:"outlined",items:l.value,"item-title":"name","item-value":"st_id","persistent-hint":"",hint:"Select the student you want to upload result for"},{item:I(({props:N,item:J})=>[D($t,Rt(N,{subtitle:J.raw.st_id}),null,16,["subtitle"])]),_:1},8,["disabled","modelValue","items"])):S("",!0),v.value?(m(),x("div",tv,[ev,D(Ul,{disabled:h.value,modelValue:f.value,"onUpdate:modelValue":P[3]||(P[3]=N=>f.value=N)},null,8,["disabled","modelValue"])])):S("",!0),v.value?(m(),L(nt,{key:5,disabled:h.value,type:"number",modelValue:d.value,"onUpdate:modelValue":P[4]||(P[4]=N=>d.value=N),class:"input-field","persistent-hint":"",hint:"Enter the student(s) exams score",label:"EXAMS SCORE",variant:"outlined"},null,8,["disabled","modelValue"])):S("",!0),v.value?(m(),L(Q,{key:6,loading:h.value,disabled:A.value,onClick:Kt(E,["prevent"]),type:"submit",class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])):S("",!0)])]),u("div",sv,[u("form",nv,[D(Q,{onClick:P[5]||(P[5]=Kt(N=>O("fileForm"),["prevent"])),disabled:h.value||_.value,color:"red",size:"small",class:"close-btn flex-all"},{default:I(()=>[V("X")]),_:1},8,["disabled"]),u("h2",av,[iv,V(" "+y(n.value)+" FORM "+y(a.value),1)]),u("h2",ov,[lv,V(" "+y(e.value),1)]),o.value?(m(),x("h2",rv,y(o.value),1)):S("",!0),p(t).staffStudentsResultsFileGenerated&&!_.value&&!h.value?(m(),x("h2",cv,"Note: you can now edit only the students score, save and upload the same file")):S("",!0),i.value?(m(),x("h2",dv,y(i.value),1)):S("",!0),u("div",uv,[v.value?(m(),L(Q,{key:0,loading:_.value,disabled:h.value,onClick:Kt(w,["prevent"]),type:"submit",class:"submit-btn"},{default:I(()=>[V("GET FILE")]),_:1},8,["loading","disabled"])):S("",!0),!p(t).staffStudentsResultsFileGenerated&&v.value?(m(),x("p",hv,"Click to get an excel file that contains the students names and IDs")):S("",!0)]),v.value?(m(),x("hr",fv)):S("",!0),v.value?(m(),L($a,{key:4,disabled:h.value||_.value,onChange:k,"show-size":"",class:"file-field",label:"Choose an excel file",density:"compact",variant:"outlined",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},null,8,["disabled"])):S("",!0),v.value?(m(),L(Q,{key:5,loading:h.value,disabled:!g.value||_.value,onClick:Kt(M,["prevent"]),type:"submit",class:"submit-btn"},{default:I(()=>[V("UPLOAD")]),_:1},8,["loading","disabled"])):S("",!0)])]),u("div",mv,[p(t).staffStudentResultsSubjectAssignment?S("",!0):(m(),L(B,{key:0})),p(t).staffStudentResultsSubjectAssignment?(m(),L(pt,{key:1,"fixed-header":"",class:"table-1"},{default:I(()=>[pv,u("tbody",null,[(m(!0),x(U,null,et(p(t).staffStudentResultsSubjectAssignment,(N,J)=>(m(),x("tr",{key:J},[u("td",gv,y(N.subject),1),u("td",_v,y(N.class_name),1),u("td",vv,y(N.students_year),1),u("td",bv,[u("button",{onClick:rt=>$(N.subject,N.class_name,N.students,J,N.students_year,"singleForm"),class:"upload-btn"},"SELECT",8,yv),u("button",{onClick:rt=>$(N.subject,N.class_name,N.students,J,N.students_year,"fileForm"),class:"upload-btn last-btn"},"FILE",8,xv)])]))),128))])]),_:1})):S("",!0)])],64)}}}),kv=st(Sv,[["__scopeId","data-v-a993fd3c"]]),js=s=>(kt("data-v-df41e9d0"),s=s(),wt(),s),wv={id:"editForm",class:"overlay"},Tv={style:{position:"relative"}},Dv={class:"info"},Mv=js(()=>u("strong",null,"CLASS:",-1)),Av={class:"info"},Cv=js(()=>u("strong",null,"SUBJECT:",-1)),$v={class:"info"},Ev=js(()=>u("strong",null,"STUDENT:",-1)),Pv={key:0,class:"form-message",style:{color:"green"}},Ov={key:1,class:"form-message",style:{color:"red"}},Iv={style:{width:"100%",position:"relative",height:"100%"}},Rv=js(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"STUDENTS")])],-1)),Fv={class:"table-data"},Lv={class:"table-data"},Vv={class:"table-data"},Nv={style:{padding:"0"}},Bv={class:"student-info-container"},zv=["src"],jv={class:"flex-all-c"},Hv={class:"user-name"},Wv={class:"user-name"},Uv={class:"score-container flex-all-c"},Yv=js(()=>u("p",{class:"title"},"SCORE",-1)),Gv={class:"score"},Xv={class:"flex-all pa-2"},Jv=["onClick"],Kv=q({__name:"TeacherStudentsViewResults",setup(s){const t=ot();An();const e=T(""),n=T(""),a=T(!1),i=T(""),o=T(""),l=T(""),r=T(""),c=T(null),d=T(null),f=async()=>{if(a.value=!0,n.value="",e.value="",d.value=Number(d.value),typeof d.value=="number"&&d.value<=100&&d.value>0){const _=new FormData;_.append("student_year",c.value),_.append("student_class",r.value),_.append("student_name",i.value),_.append("subject",l.value),_.append("st_id",o.value),_.append("score","edit"),_.append("mark",d.value),_.append("year",t.activeAcademicYear),_.append("term",t.activeTerm.toString());try{const v=await xt.post("teacher/results/upload/",_);v.status===200?(t.userData.staff_role==="hod"&&t.getHodPerformance(),e.value=`Result for ${i.value} [${o.value}] updated successfully`,t.staffStudentResultsSubjectAssignment=v.data[0],t.staffStudentResultsEdit=v.data[1],d.value=null):v.status===202?n.value=v.data.message:n.value="Oops! something went wrong. try again"}catch{n.value="Oops! something went wrong. try again"}finally{a.value=!1}}else typeof d.value=="number"&&d.value>100?(n.value="The exams score must not exceed 100",a.value=!1):typeof d.value=="number"&&d.value<0?(n.value="The exams score can not be negative",a.value=!1):(n.value="The exams score must be a number",a.value=!1)},h=()=>{const _=document.getElementById("editForm");_&&(d.value=null,n.value="",e.value="",a.value=!1,_.style.display="none")},g=(_,v,b,w,k)=>{l.value=_,r.value=v,c.value=k,o.value=w,i.value=b;const M=document.getElementById("editForm");M&&(M.style.display="flex")};return(_,v)=>{const b=St;return m(),x(U,null,[u("div",wv,[u("form",Tv,[u("button",{onClick:Kt(h,["prevent"]),class:"close-btn flex-all"},"X"),u("h2",Dv,[Mv,V(" "+y(r.value)+" FORM "+y(c.value),1)]),u("h2",Av,[Cv,V(" "+y(l.value),1)]),u("h2",$v,[Ev,V(" "+y(i.value)+" ["+y(o.value)+"]",1)]),e.value?(m(),x("h2",Pv,y(e.value),1)):S("",!0),n.value?(m(),x("h2",Ov,y(n.value),1)):S("",!0),D(nt,{disabled:a.value,modelValue:d.value,"onUpdate:modelValue":v[0]||(v[0]=w=>d.value=w),type:"number",class:"input-field","persistent-hint":"",hint:"Enter the student(s) exams score",label:"EXAMS SCORE",variant:"outlined"},null,8,["disabled","modelValue"]),D(Q,{loading:a.value,disabled:!d.value,onClick:Kt(f,["prevent"]),type:"submit",class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])])]),u("div",Iv,[p(t).staffStudentResultsEdit?S("",!0):(m(),L(b,{key:0,class:"no-data flex-all"})),p(t).staffStudentResultsEdit?(m(),L(pt,{key:1,"fixed-header":"",class:"table-1"},{default:I(()=>[Rv,u("tbody",null,[(m(!0),x(U,null,et(p(t).staffStudentResultsEdit,(w,k)=>(m(),x("tr",{key:k},[u("td",Fv,y(w.subject),1),u("td",Lv,y(w.class_name),1),u("td",Vv,y(w.students_year),1),u("td",Nv,[D(Fe,{class:"pa-0"},{default:I(()=>[D(Le,null,{activator:I(({props:M})=>[D($t,Rt({class:"title"},M),{default:I(()=>[D(H,{icon:"mdi-account-circle"}),V(y(w.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:I(()=>[D(Ve,{class:"v-scroll",height:"22vh",items:w.students},{default:I(({item:M})=>[D($t,{style:{position:"relative"}},{default:I(()=>[u("div",Bv,[u("img",{class:"profile-img",src:M.student.img},null,8,zv),u("div",jv,[u("p",Hv,y(M.student.user.first_name+" "+M.student.user.last_name),1),u("p",Wv,y(M.student.st_id),1)]),u("div",Uv,[Yv,u("p",Gv,y(M.score),1)]),u("div",Xv,[u("button",{onClick:E=>g(w.subject,w.class_name,`${M.student.user.first_name} ${M.student.user.last_name}`,M.student.st_id,w.students_year),class:"edit-btn page-btn"},"Edit",8,Jv)])])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1})):S("",!0)])],64)}}}),qv=st(Kv,[["__scopeId","data-v-df41e9d0"]]),Zv={class:"sections-container"},Qv={class:"sections"},tb=q({__name:"TeacherStudents",setup(s){const t=T("section1"),e=n=>{t.value=n};return(n,a)=>{const i=W_,o=kv,l=qv;return m(),x("div",Zv,[D(es,{class:"section-nav-container",elevation:"0"},{default:I(()=>[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value==="section1"}]),onClick:a[0]||(a[0]=r=>e("section1"))},[D(H,{icon:"mdi-account-multiple-check"}),V(" ATTENDANCE")],2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value==="section2"}]),onClick:a[1]||(a[1]=r=>e("section2"))},[D(H,{icon:"mdi-upload-box"}),V(" UPLOAD RESULTS")],2),u("button",{class:W(["nav-btn-1 btn-3",{"nav-btn-1-active":t.value==="section3"}]),onClick:a[2]||(a[2]=r=>e("section3"))},[D(H,{icon:"mdi-view-list"}),V(" ALL UPLOADED RESULTS")],2)]),_:1}),u("div",Qv,[u("div",{class:"h-100",style:X(t.value==="section1"?{display:"flex"}:{display:"none"})},[D(i)],4),u("div",{class:"h-100",style:X(t.value==="section2"?{display:"flex"}:{display:"none"})},[D(o)],4),u("div",{class:"h-100",style:X(t.value==="section3"?{display:"flex"}:{display:"none"})},[D(l)],4)])])}}}),eb=st(tb,[["__scopeId","data-v-ad7ab35c"]]),Lt=s=>(kt("data-v-182b2fac"),s=s(),wt(),s),sb={class:"flex-all-c w-100"},nb={key:0,class:"notice"},ab=Lt(()=>u("span",{style:{color:"red"}},"NOTE: ",-1)),ib={key:1,class:"notice"},ob=Lt(()=>u("span",{style:{color:"red"}},"NOTE: ",-1)),lb={class:"table-container"},rb=Lt(()=>u("td",{class:"table-data"},"Total Students",-1)),cb={class:"table-data-value"},db=Lt(()=>u("td",{class:"table-data"},"Highest Score",-1)),ub={class:"table-data-value"},hb=Lt(()=>u("td",{class:"table-data"},"Average Score",-1)),fb={class:"table-data-value"},mb=Lt(()=>u("td",{class:"table-data"},"Lowest Score",-1)),pb={class:"table-data-value"},gb=Lt(()=>u("td",{class:"table-data"},"Grade A Students (>=80)",-1)),_b={class:"table-data-value"},vb=Lt(()=>u("td",{class:"table-data"},"Grade B Students (70-79)",-1)),bb={class:"table-data-value"},yb=Lt(()=>u("td",{class:"table-data"},"Grade C Students (60-69)",-1)),xb={class:"table-data-value"},Sb=Lt(()=>u("td",{class:"table-data"},"Grade D Students (50-59)",-1)),kb={class:"table-data-value"},wb=Lt(()=>u("td",{class:"table-data"},"Passed Students (>=50)",-1)),Tb={class:"table-data-value"},Db=Lt(()=>u("td",{class:"table-data"},"Failed Students (<50)",-1)),Mb={class:"table-data-value"},Ab={key:0,class:"table-title-container",style:{position:"relative"}},Cb=Lt(()=>u("td",null,"Justice",-1)),$b=Lt(()=>u("td",{class:"table-title"},"top 5 students",-1)),Eb=[Cb,$b],Pb={key:0,class:"table-data"},Ob={key:1,class:"table-data-value"},Ib={key:1,class:"table-title-container",style:{position:"relative"}},Rb=Lt(()=>u("td",null,"Justice",-1)),Fb=Lt(()=>u("td",{class:"table-title"},"last 5 students",-1)),Lb=[Rb,Fb],Vb={key:0,class:"table-data"},Nb={key:1,class:"table-data-value"},Bb=q({__name:"TeacherAnalyticsStatistics",props:{studentsData:{}},setup(s){const{studentsData:t}=s,e=ot(),n=T(t.slice(0,5)),a=T(t.slice(-5)),i=T(t.filter(j=>j.score>=80)),o=T(t.filter(j=>j.score>=75&&j.score<80)),l=T(t.filter(j=>j.score>=70&&j.score<75)),r=T(t.filter(j=>j.score>=65&&j.score<70)),c=T(t.filter(j=>j.score>=60&&j.score<65)),d=T(t.filter(j=>j.score>=55&&j.score<60)),f=T(t.filter(j=>j.score>=50&&j.score<55)),h=T(t.filter(j=>j.score>=40&&j.score<50)),g=T(t.filter(j=>j.score<40)),_=T(["A1","B2","B3","C4","C5","C6","D7","E8","F9"]),v=T([i.value.length,o.value.length,l.value.length,r.value.length,c.value.length,d.value.length,f.value.length,h.value.length,g.value.length]),b=T({labels:_.value,datasets:[{label:"Number of Students",data:v.value,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,fill:!1}]}),w=T({responsive:!0}),k=T(t.map(j=>Number(j.score))),M=T(k.value.reduce((j,Z)=>j+Z,0)),E=T(k.value.length),A=T((M.value/E.value).toFixed(2)),O=T(Math.max(...k.value)),$=T(Math.min(...k.value)),C=G(()=>k.value.filter(j=>j>=50).length),P=G(()=>k.value.filter(j=>j<50).length),B=G(()=>k.value.filter(j=>j>=80).length),N=G(()=>k.value.filter(j=>j>=70&&j<80).length),J=G(()=>k.value.filter(j=>j>=60&&j<70).length),rt=G(()=>k.value.filter(j=>j>=50&&j<60).length);return(j,Z)=>(m(),x("div",sb,[p(e).userData&&p(e).userData.school.semesters?(m(),x("p",nb,[ab,V("This analytics is based on SEMESTER "+y(p(e).activeTerm)+" of the "+y(p(e).activeAcademicYear)+" academic year.",1)])):S("",!0),p(e).userData&&!p(e).userData.school.semesters?(m(),x("p",ib,[ob,V("This analytics is based on TRIMESTER "+y(p(e).activeTerm)+" of the "+y(p(e).activeAcademicYear)+" academic year.",1)])):S("",!0),D(p(Rs),{class:"chart",options:w.value,data:b.value,fill:!1},null,8,["options","data"]),u("div",lb,[D(pt,{class:"analytics-table",density:"comfortable"},{default:I(()=>[u("tbody",null,[u("tr",null,[rb,u("td",cb,y(k.value.length),1)]),u("tr",null,[db,u("td",ub,y(O.value),1)]),u("tr",null,[hb,u("td",fb,y(A.value),1)]),u("tr",null,[mb,u("td",pb,y($.value),1)]),u("tr",null,[gb,u("td",_b,y(B.value)+" ("+y((B.value/k.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[vb,u("td",bb,y(N.value)+" ("+y((N.value/k.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[yb,u("td",xb,y(J.value)+" ("+y((J.value/k.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[Sb,u("td",kb,y(rt.value)+" ("+y((rt.value/k.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[wb,u("td",Tb,y(C.value)+" ("+y((C.value/k.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[Db,u("td",Mb,y(P.value)+" ("+y((P.value/k.value.length*100).toFixed(2))+"%)",1)]),k.value.length>10?(m(),x("tr",Ab,Eb)):S("",!0),(m(!0),x(U,null,et(n.value,(K,Y)=>(m(),x("tr",{key:Y},[k.value.length>10?(m(),x("td",Pb,y(K.student.user.first_name)+" "+y(K.student.user.last_name)+"["+y(K.student.st_id)+"]",1)):S("",!0),k.value.length>10?(m(),x("td",Ob,y(K.score),1)):S("",!0)]))),128)),k.value.length>10?(m(),x("tr",Ib,Lb)):S("",!0),(m(!0),x(U,null,et(a.value,(K,Y)=>(m(),x("tr",{key:Y},[k.value.length>10?(m(),x("td",Vb,y(K.student.user.first_name)+" "+y(K.student.user.last_name)+"["+y(K.student.st_id)+"]",1)):S("",!0),k.value.length>10?(m(),x("td",Nb,y(K.score),1)):S("",!0)]))),128))])]),_:1})])]))}}),zb=st(Bb,[["__scopeId","data-v-182b2fac"]]),jb={class:"sections-container"},Hb={key:1,class:"section-nav-container"},Wb=["onClick"],Ub={key:2,class:"sections"},Yb=q({__name:"TeacherAnalytics",setup(s){const t=T("section1"),e=ot(),n=i=>{t.value=i},a=T(null);return qe(()=>e.staffStudentResultsEdit,(i,o)=>{i&&(a.value=i)},{deep:!0,immediate:!0}),(i,o)=>{const l=St,r=zb,c=ue;return m(),x("div",jb,[a.value?S("",!0):(m(),L(l,{key:0})),a.value?(m(),x("div",Hb,[(m(!0),x(U,null,et(a.value,(d,f)=>(m(),x("button",{key:f,class:W(["nav-btn-1",{"nav-btn-1-active":t.value===`section${f+1}`}]),onClick:h=>n(`section${f+1}`)},[u("span",null,y(d.class_name)+" "+y(d.subject),1),u("span",null,"FORM "+y(d.students_year),1)],10,Wb))),128))])):S("",!0),a.value?(m(),x("div",Ub,[(m(!0),x(U,null,et(a.value,(d,f)=>(m(),x("div",{key:f,style:X(t.value===`section${f+1}`?{display:"flex"}:{display:"none"})},[d.students&&d.students.length>0?(m(),L(r,{studentsData:d.students,key:d.students},null,8,["studentsData"])):S("",!0),d.students&&d.students.length===0?(m(),L(c,{key:1,message:"You have not uploaded results for students under this subject yet"})):S("",!0)],4))),128))])):S("",!0)])}}}),Gb=st(Yb,[["__scopeId","data-v-e2dd2cd8"]]),Xb=s=>(kt("data-v-afb4aef7"),s=s(),wt(),s),Jb={style:{width:"100%",position:"relative",height:"100%"}},Kb=Xb(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"NAME"),u("th",{class:"table-head"},"STAFF ID"),u("th",{class:"table-head"},"SUBJECT(S)"),u("th",{class:"table-head"},"IMAGE")])],-1)),qb={class:"table-data"},Zb={key:0,style:{color:"seagreen"}},Qb={class:"table-data"},ty={class:"table-data"},ey={class:"table-data"},sy=["src"],ny=q({__name:"HodTeachersProfile",props:{staff:null},setup(s){const t=s;return An(),(e,n)=>{const a=St;return m(),x("div",Jb,[!t.staff||t.staff&&t.staff.length===0?(m(),L(a,{key:0})):S("",!0),t.staff&&t.staff.length>0?(m(),L(pt,{key:1,"fixed-header":"",height:"55dvh"},{default:I(()=>[Kb,u("tbody",null,[(m(!0),x(U,null,et(t.staff,(i,o)=>(m(),x("tr",{key:o},[u("td",qb,[V(y(i.name)+" ",1),i.role==="hod"?(m(),x("span",Zb,"[HOD]")):S("",!0)]),u("td",Qb,y(i.stf_id),1),u("td",ty,[(m(!0),x(U,null,et(i.subjects,(l,r)=>(m(),x("p",{key:r},y(l.name),1))),128))]),u("td",ey,[u("img",{class:"profile-img",src:i.img},null,8,sy)])]))),128))])]),_:1})):S("",!0)])}}}),ay=st(ny,[["__scopeId","data-v-afb4aef7"]]),iy={class:"flex-all w-100"},oy={key:0,class:"form"},ly={key:0,class:"mt-10 info"},ry={key:1,class:"form-message",style:{color:"green"}},cy={key:2,class:"form-message",style:{color:"red"}},dy={class:"flex-all justify-center mt-5 w-100"},uy={class:"select-wrap"},hy={class:"select-wrap ml-5"},fy=q({__name:"HodSubjectAssignmentUpload",setup(s){const t=ot(),e=T(""),n=T(""),a=T(""),i=T(""),o=T(""),l=T(!1),r=()=>{setTimeout(()=>{o.value="",i.value=""},1e4)},c=async()=>{l.value=!0,i.value="",o.value="";const f=new FormData;f.append("subject",e.value),f.append("class_name",n.value),f.append("staff_id",a.value),f.append("year",t.activeAcademicYear),f.append("type","create"),f.append("term",t.activeTerm.toString());try{const h=await xt.post("hod/data",f);h.status===200?(t.hodSubjectAssignment.termOne=h.data.data.term_one,t.hodSubjectAssignment.termTwo=h.data.data.term_two,t.hodSubjectAssignment.termThree=h.data.data.term_three,t.getTeacherSubjectAssignments(),t.getTeacherStudentResults(),o.value=h.data.ms,e.value="",n.value="",a.value=""):h.status===201?i.value=h.data.ms:i.value="Oops! an error occurred during the upload. Try again later"}catch{i.value="Oops! something went wrong"}finally{l.value=!1,r()}},d=G(()=>!(e.value&&n.value&&a.value));return(f,h)=>(m(),x("div",iy,[p(t).hodSubjectAssignmentUpload.staff?(m(),x("form",oy,[p(t).userData&&!p(t).userData.school.semesters?(m(),x("p",ly,"NB: All subject assignment will be for the current trimester")):S("",!0),o.value?(m(),x("h2",ry,y(o.value),1)):S("",!0),i.value?(m(),x("h2",cy,y(i.value),1)):S("",!0),u("div",dy,[u("div",uy,[D(Pt,{disabled:l.value,modelValue:e.value,"onUpdate:modelValue":h[0]||(h[0]=g=>e.value=g),clearable:"",label:"SUBJECT",style:{width:"100%",color:"black","font-weight":"bold"},density:"compact",variant:"outlined",items:p(t).hodSubjectAssignmentUpload.subjects,"persistent-hint":"",hint:"Select the subject"},null,8,["disabled","modelValue","items"])]),u("div",hy,[D(Pt,{disabled:l.value,modelValue:n.value,"onUpdate:modelValue":h[1]||(h[1]=g=>n.value=g),clearable:"",label:"CLASS",style:{width:"100%",color:"black","font-weight":"bold"},density:"compact",variant:"outlined",items:p(t).hodSubjectAssignmentUpload.classes,"persistent-hint":"",hint:"Select the students class"},null,8,["disabled","modelValue","items"])])]),D(Pt,{disabled:l.value,modelValue:a.value,"onUpdate:modelValue":h[2]||(h[2]=g=>a.value=g),class:"select",clearable:"",label:"TEACHER",density:"compact",variant:"outlined",items:p(t).hodSubjectAssignmentUpload.staff,"item-title":"name","item-value":"stf_id","persistent-hint":"",hint:"Select the teacher who will be teaching the subject"},{item:I(({props:g,item:_})=>[D($t,Rt(g,{subtitle:_.raw.stf_id}),null,16,["subtitle"])]),_:1},8,["disabled","modelValue","items"]),D(Q,{loading:l.value,disabled:d.value,onClick:Kt(c,["prevent"]),type:"submit",class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])])):S("",!0)]))}}),my=st(fy,[["__scopeId","data-v-e81d6a86"]]),yl=s=>(kt("data-v-198a50b3"),s=s(),wt(),s),py=["id"],gy=yl(()=>u("p",null,"Continue to delete ?",-1)),_y={key:0,class:"mt-5",style:{color:"red"}},vy={style:{width:"100%",position:"relative",height:"100%"}},by={key:0,class:"no-data flex-all"},yy={key:0},xy={key:1},Sy=yl(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"TEACHER"),u("th",{class:"table-head"},"ACTION")])],-1)),ky={class:"table-data"},wy={class:"table-data"},Ty={class:"table-data"},Dy={class:"table-data"},My={key:0},Ay=q({__name:"HodTermSubjectAssignment",props:{term:{},data:{}},setup(s){const t=ot(),e=T(!1),n=T(""),a=T(""),i=T(""),o=T(""),{term:l,data:r}=s,c=()=>{const h=document.getElementById(`delete${l}`);h&&(h.style.display="none"),n.value="",a.value="",i.value="",o.value=""},d=async()=>{e.value=!0;const h=new FormData;h.append("subject_name",a.value),h.append("students_class_name",i.value),h.append("teacher_id",o.value),h.append("year",t.activeAcademicYear),h.append("type","delete"),h.append("term",l.toString());try{if((await xt.post("hod/data",h)).status===200){const _=t.hodSubjectAssignment[r].find(b=>b.subject.name===a.value&&b.students_class.name===i.value&&b.teacher.staff_id===o.value);if(_){const b=t.hodSubjectAssignment[r].indexOf(_);t.hodSubjectAssignment[r].splice(b,1)}const v=t.staffSubjectAssignment[r].find(b=>b.subject.name===a.value&&b.students_class.name===i.value&&b.teacher.staff_id===o.value);if(v){const b=t.staffSubjectAssignment[r].indexOf(v);t.staffSubjectAssignment[r].splice(b,1)}await t.getTeacherStudentResults(),c(),e.value=!1}}catch{n.value="Oops! something went wrong. Check your internet connection and try again",e.value=!1}},f=async(h,g,_)=>{const v=document.getElementById(`delete${l}`);a.value=h,i.value=g,o.value=_,v&&(v.style.display="flex")};return(h,g)=>(m(),x(U,null,[u("div",{id:`delete${h.term}`,class:"overlay"},[D(ss,{class:"d-flex flex-column align-center"},{default:I(()=>[D(Fs,{style:{"font-size":".8rem","font-family":"sans-serif","text-align":"left","line-height":"1.2","font-weight":"bold"}},{default:I(()=>[gy,n.value?(m(),x("p",_y,y(n.value),1)):S("",!0)]),_:1}),D(Ls,null,{default:I(()=>[D(Q,{loading:e.value,class:"overlay-btn mr-5",elevation:"4",onClick:d},{default:I(()=>[V("YES")]),_:1},8,["loading"]),D(Q,{disabled:e.value,class:"overlay-btn ml-5",elevation:"4",onClick:c},{default:I(()=>[V("NO")]),_:1},8,["disabled"])]),_:1})]),_:1})],8,py),u("div",vy,[p(t).hodSubjectAssignment[h.data]&&p(t).hodSubjectAssignment[h.data].length===0?(m(),x("h4",by,[p(t).userData&&p(t).userData.school.semesters?(m(),x("p",yy,"You have not uploaded any subject-assignment for semester "+y(h.term)+" yet",1)):S("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("p",xy,"You have not uploaded any subject-assignment for trimester "+y(h.term)+" yet",1)):S("",!0)])):S("",!0),p(t).hodSubjectAssignment[h.data]&&p(t).hodSubjectAssignment[h.data].length>0?(m(),L(pt,{key:1,"fixed-header":"",height:"320px"},{default:I(()=>[Sy,u("tbody",null,[(m(!0),x(U,null,et(p(t).hodSubjectAssignment[h.data],(_,v)=>(m(),x("tr",{key:v},[u("td",ky,y(_.subject.name),1),u("td",wy,y(_.students_class.name),1),u("td",Ty,y(_.students_class.students_year),1),u("td",Dy,y(_.teacher.user.first_name)+" "+y(_.teacher.user.last_name)+" ["+y(_.teacher.staff_id)+"]",1),p(t).activeTerm===h.term?(m(),x("td",My,[D(Q,{onClick:b=>f(_.subject.name,_.students_class.name,_.teacher.staff_id),size:"small",density:"comfortable",class:"delete-btn"},{default:I(()=>[V("Delete")]),_:2},1032,["onClick"])])):S("",!0)]))),128))])]),_:1})):S("",!0)])],64))}}),Cy=st(Ay,[["__scopeId","data-v-198a50b3"]]),$y={class:"subsections-container"},Ey={key:0,class:"subsection-nav-container flex-all"},Py={key:1,class:"subsection-nav-container flex-all"},Oy={class:"subsections"},Iy=q({__name:"HodViewSubjectAssignment",setup(s){const t=ot(),e=T(t.activeTerm),n=a=>{e.value=a};return(a,i)=>{const o=Cy;return m(),x("div",$y,[p(t).userData&&p(t).userData.school.semesters?(m(),x("div",Ey,[u("button",{class:W(["nav-btn-2 btn-1",{"nav-btn-2-active":e.value===1}]),onClick:i[0]||(i[0]=l=>n(1))},"SEMESTER 1",2),u("button",{class:W(["nav-btn-2 btn-2",{"nav-btn-2-active":e.value===2}]),onClick:i[1]||(i[1]=l=>n(2))},"SEMESTER 2",2)])):S("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("div",Py,[u("button",{class:W(["nav-btn-2 btn-1",{"nav-btn-2-active":e.value===1}]),onClick:i[2]||(i[2]=l=>n(1))},"TRIMESTER 1",2),u("button",{class:W(["nav-btn-2 btn-2",{"nav-btn-2-active":e.value===2}]),onClick:i[3]||(i[3]=l=>n(2))},"TRIMESTER 2",2),u("button",{class:W(["nav-btn-2 btn-3",{"nav-btn-2-active":e.value===3}]),onClick:i[4]||(i[4]=l=>n(3))},"TRIMESTER 3",2)])):S("",!0),u("div",Oy,[u("div",{style:X(e.value===1?{display:"flex"}:{display:"none"})},[D(o,{data:"termOne",term:1,"term-number":1})],4),u("div",{style:X(e.value===2?{display:"flex"}:{display:"none"})},[D(o,{data:"termTwo",term:2,"term-number":2})],4),p(t).userData&&!p(t).userData.school.semesters?(m(),x("div",{key:0,style:X(e.value===3?{display:"flex"}:{display:"none"})},[D(o,{data:"termThree",term:3,"term-number":3})],4)):S("",!0)])])}}}),Ry=st(Iy,[["__scopeId","data-v-300c46f2"]]),Fy={class:"sections-container"},Ly={class:"sections"},Vy=q({__name:"HodTeachers",setup(s){const t=T("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=ay,l=my,r=Ry;return m(),x("div",Fy,[D(es,{class:"section-nav-container",elevation:"0"},{default:I(()=>[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value==="section1"}]),onClick:i[0]||(i[0]=c=>n("section1"))},[D(H,{icon:"mdi-account"}),V(" PROFILE ")],2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value==="section2"}]),onClick:i[1]||(i[1]=c=>n("section2"))},[D(H,{icon:"mdi-clipboard-check"}),V(" ASSIGN SUBJECTS")],2),u("button",{class:W(["nav-btn-1 btn-3",{"nav-btn-1-active":t.value==="section3"}]),onClick:i[2]||(i[2]=c=>n("section3"))},[D(H,{icon:"mdi-book-open-outline"}),V(" ALL SUBJECTS ASSIGNMENT")],2)]),_:1}),u("div",Ly,[u("div",{class:"h-100",style:X(t.value==="section1"?{display:"flex"}:{display:"none"})},[D(o,{staff:p(e).hodSubjectAssignmentUpload.staff},null,8,["staff"])],4),u("div",{class:"h-100",style:X(t.value==="section2"?{display:"flex"}:{display:"none"})},[D(l)],4),u("div",{class:"h-100",style:X(t.value==="section3"?{display:"flex"}:{display:"none"})},[D(r)],4)])])}}}),Ny=st(Vy,[["__scopeId","data-v-9f33e497"]]),it=s=>(kt("data-v-75ec537b"),s=s(),wt(),s),By={class:"flex-all-c w-100 h-100"},zy={key:3,class:"table-container"},jy={key:0,class:"term-table"},Hy={class:"term-three table-title-container",style:{position:"relative"}},Wy=it(()=>u("td",null,"Justice",-1)),Uy={key:0,class:"table-title term-three"},Yy={class:"term-three"},Gy=it(()=>u("td",{class:"table-data"},"Total Students",-1)),Xy={class:"table-data-value"},Jy={class:"term-three"},Ky=it(()=>u("td",{class:"table-data"},"Highest Score",-1)),qy={class:"table-data-value"},Zy={class:"term-three"},Qy=it(()=>u("td",{class:"table-data"},"Average Score",-1)),t1={class:"table-data-value"},e1={class:"term-three"},s1=it(()=>u("td",{class:"table-data"},"Lowest Score",-1)),n1={class:"table-data-value"},a1={class:"term-three"},i1=it(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),o1={class:"table-data-value"},l1={class:"term-three"},r1=it(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),c1={class:"table-data-value"},d1={class:"term-three"},u1=it(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),h1={class:"table-data-value"},f1={key:0,class:"table-title-container",style:{position:"relative"}},m1=it(()=>u("td",null,"Justice",-1)),p1=it(()=>u("td",{class:"subtitle"},"top 5 students",-1)),g1=[m1,p1],_1={key:0,class:"table-data"},v1={key:1,class:"table-data-value"},b1={key:1,class:"table-title-container",style:{position:"relative"}},y1=it(()=>u("td",null,"Justice",-1)),x1=it(()=>u("td",{class:"subtitle"},"last 5 students",-1)),S1=[y1,x1],k1={key:0,class:"table-data"},w1={key:1,class:"table-data-value"},T1={key:1,class:"term-table"},D1={class:"term-two table-title-container",style:{position:"relative"}},M1=it(()=>u("td",null,"Justice",-1)),A1={key:0,class:"table-title term-two"},C1={key:1,class:"table-title term-two"},$1={class:"term-two"},E1=it(()=>u("td",{class:"table-data"},"Total Students",-1)),P1={class:"table-data-value"},O1={class:"term-two"},I1=it(()=>u("td",{class:"table-data"},"Highest Score",-1)),R1={class:"table-data-value"},F1={class:"term-two"},L1=it(()=>u("td",{class:"table-data"},"Average Score",-1)),V1={class:"table-data-value"},N1={key:0,class:"term-two"},B1=it(()=>u("td",{class:"table-data"},"Lowest Score",-1)),z1={class:"table-data-value"},j1={class:"term-two"},H1=it(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),W1={class:"table-data-value"},U1={class:"term-two"},Y1=it(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),G1={class:"table-data-value"},X1={class:"term-two"},J1=it(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),K1={class:"table-data-value"},q1={key:1,class:"table-title-container",style:{position:"relative"}},Z1=it(()=>u("td",null,"Justice",-1)),Q1=it(()=>u("td",{class:"subtitle"},"top 5 students",-1)),t0=[Z1,Q1],e0={key:0,class:"table-data"},s0={key:1,class:"table-data-value"},n0={key:2,class:"table-title-container",style:{position:"relative"}},a0=it(()=>u("td",null,"Justice",-1)),i0=it(()=>u("td",{class:"subtitle"},"last 5 students",-1)),o0=[a0,i0],l0={key:0,class:"table-data"},r0={key:1,class:"table-data-value"},c0={key:2,class:"term-table"},d0={class:"term-one table-title-container",style:{position:"relative"}},u0=it(()=>u("td",null,"Justice",-1)),h0={key:0,class:"table-title term-one"},f0={key:1,class:"table-title term-one"},m0={class:"term-one"},p0=it(()=>u("td",{class:"table-data"},"Total Students",-1)),g0={class:"table-data-value"},_0={class:"term-one"},v0=it(()=>u("td",{class:"table-data"},"Highest Score",-1)),b0={class:"table-data-value"},y0={class:"term-one"},x0=it(()=>u("td",{class:"table-data"},"Average Score",-1)),S0={class:"table-data-value"},k0={class:"term-one"},w0=it(()=>u("td",{class:"table-data"},"Lowest Score",-1)),T0={class:"table-data-value"},D0={class:"term-one"},M0=it(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),A0={class:"table-data-value"},C0={class:"term-one"},$0=it(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),E0={class:"table-data-value"},P0={class:"term-one"},O0=it(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),I0={class:"table-data-value"},R0={key:0,class:"table-title-container",style:{position:"relative"}},F0=it(()=>u("td",null,"Justice",-1)),L0=it(()=>u("td",{class:"subtitle"},"top 5 students",-1)),V0=[F0,L0],N0={key:0,class:"table-data"},B0={key:1,class:"table-data-value"},z0={key:1,class:"table-title-container",style:{position:"relative"}},j0=it(()=>u("td",null,"Justice",-1)),H0=it(()=>u("td",{class:"subtitle"},"last 5 students",-1)),W0=[j0,H0],U0={key:0,class:"table-data"},Y0={key:1,class:"table-data-value"},G0=q({__name:"HodYearPerformance",props:{year:{}},setup(s){const t=ot(),{year:e}=s,n=T(e.term_one.filter(F=>F.score>=80)).value.length,a=T(e.term_one.filter(F=>F.score>=75&&F.score<80)).value.length,i=T(e.term_one.filter(F=>F.score>=70&&F.score<75)).value.length,o=T(e.term_one.filter(F=>F.score>=65&&F.score<70)).value.length,l=T(e.term_one.filter(F=>F.score>=60&&F.score<65)).value.length,r=T(e.term_one.filter(F=>F.score>=55&&F.score<60)).value.length,c=T(e.term_one.filter(F=>F.score>=50&&F.score<55)).value.length,d=T(e.term_one.filter(F=>F.score>=40&&F.score<50)).value.length,f=T(e.term_one.filter(F=>F.score<40)).value.length,h=T(e.term_two.filter(F=>F.score>=80)).value.length,g=T(e.term_two.filter(F=>F.score>=75&&F.score<80)).value.length,_=T(e.term_two.filter(F=>F.score>=70&&F.score<75)).value.length,v=T(e.term_two.filter(F=>F.score>=65&&F.score<70)).value.length,b=T(e.term_two.filter(F=>F.score>=60&&F.score<65)).value.length,w=T(e.term_two.filter(F=>F.score>=55&&F.score<60)).value.length,k=T(e.term_two.filter(F=>F.score>=50&&F.score<55)).value.length,M=T(e.term_two.filter(F=>F.score>=40&&F.score<50)).value.length,E=T(e.term_two.filter(F=>F.score<40)).value.length,A=T(e.term_three.filter(F=>F.score>=80)).value.length,O=T(e.term_three.filter(F=>F.score>=75&&F.score<80)).value.length,$=T(e.term_three.filter(F=>F.score>=70&&F.score<75)).value.length,C=T(e.term_three.filter(F=>F.score>=65&&F.score<70)).value.length,P=T(e.term_three.filter(F=>F.score>=60&&F.score<65)).value.length,B=T(e.term_three.filter(F=>F.score>=55&&F.score<60)).value.length,N=T(e.term_three.filter(F=>F.score>=50&&F.score<55)).value.length,J=T(e.term_three.filter(F=>F.score>=40&&F.score<50)).value.length,rt=T(e.term_three.filter(F=>F.score<40)).value.length,j=T(["A1","B2","B3","C4","C5","C6","D7","E8","F9"]),Z=T([n,a,i,o,l,r,c,d,f]),K=T([h,g,_,v,b,w,k,M,E]),Y=T([A,O,$,C,P,B,N,J,rt]),vt=T({labels:j.value,datasets:[{label:"Semester 1",data:Z.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Semester 2",data:K.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1}]}),mt=T({labels:j.value,datasets:[{label:"Semester 1",data:Z.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Semester 2",data:K.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1},{label:"Semester 3",data:Y.value,borderColor:"indigo",backgroundColor:"indigo",borderWidth:2,fill:!1}]}),Nt=T({responsive:!0}),Mt=T(e.term_one).value.length,Wt=T(e.term_one).value.slice(0,5),Ut=T(e.term_one).value.slice(-5),At=T(e.term_one.map(F=>Number(F.score))),Yt=G(()=>(At.value.reduce((Ue,De)=>Ue+De,0)/At.value.length).toFixed(0)),Dt=G(()=>Math.max(...At.value)),is=G(()=>Math.min(...At.value)),os=G(()=>e.term_one.filter(F=>F.score>=50).length),ls=G(()=>e.term_one.filter(F=>F.score<50&&F.score>=40).length),rs=G(()=>e.term_one.filter(F=>F.score<40).length),Vt=T(e.term_two).value.length,Rn=T(e.term_two).value.slice(0,5),Fn=T(e.term_two).value.slice(-5),ke=T(e.term_two.map(F=>Number(F.score))),Ws=G(()=>(ke.value.reduce((Ue,De)=>Ue+De,0)/ke.value.length).toFixed(0)),Us=G(()=>Math.max(...ke.value)),cs=G(()=>Math.min(...ke.value)),we=G(()=>e.term_two.filter(F=>F.score>=50).length),Ys=G(()=>e.term_two.filter(F=>F.score<50&&F.score>=40).length),Gs=G(()=>e.term_two.filter(F=>F.score<40).length),Gt=T(e.term_three).value.length,Xs=T(e.term_three).value.slice(0,5),Js=T(e.term_three).value.slice(-5),Te=T(e.term_three.map(F=>Number(F.score))),R=G(()=>(Te.value.reduce((Ue,De)=>Ue+De,0)/Te.value.length).toFixed(0)),he=G(()=>Math.max(...Te.value)),ne=G(()=>Math.min(...Te.value)),Pa=G(()=>e.term_three.filter(F=>F.score>=50).length),Oa=G(()=>e.term_three.filter(F=>F.score<50&&F.score>=40).length),Ia=G(()=>e.term_three.filter(F=>F.score<40).length);return(F,Ue)=>{const De=St;return m(),x("div",By,[!F.year||F.year&&F.year.term_one.length===0?(m(),L(De,{key:0})):S("",!0),F.year&&p(t).userData.school.semesters&&F.year.term_one.length>0?(m(),L(p(Rs),{key:1,class:"chart",options:Nt.value,data:vt.value,fill:!1},null,8,["options","data"])):S("",!0),F.year&&!p(t).userData.school.semesters&&F.year.term_one.length>0?(m(),L(p(Rs),{key:2,class:"chart",options:Nt.value,data:mt.value,fill:!1},null,8,["options","data"])):S("",!0),F.year&&F.year.term_one.length>0?(m(),x("div",zy,[F.year.term_three&&F.year.term_three.length>0?(m(),x("div",jy,[D(pt,{density:"comfortable"},{default:I(()=>[u("tbody",null,[u("tr",Hy,[Wy,p(t).userData&&!p(t).userData.school.semesters?(m(),x("td",Uy,"TRIMESTER 3")):S("",!0)]),u("tr",Yy,[Gy,u("td",Xy,y(p(Gt)),1)]),u("tr",Jy,[Ky,u("td",qy,y(he.value),1)]),u("tr",Zy,[Qy,u("td",t1,y(R.value),1)]),u("tr",e1,[s1,u("td",n1,y(ne.value),1)]),u("tr",a1,[i1,u("td",o1,y(Pa.value)+" ["+y((Pa.value/p(Gt)*100).toFixed(1))+"%] ",1)]),u("tr",l1,[r1,u("td",c1,y(Oa.value)+" ["+y((Oa.value/p(Gt)*100).toFixed(1))+"%] ",1)]),u("tr",d1,[u1,u("td",h1,y(Ia.value)+" ["+y((Ia.value/p(Gt)*100).toFixed(1))+"%] ",1)]),p(Gt)>15?(m(),x("tr",f1,g1)):S("",!0),(m(!0),x(U,null,et(p(Xs),(_t,Jt)=>(m(),x("tr",{class:"term-three",key:Jt},[p(Gt)>15?(m(),x("td",_1,y(_t.name)+" ["+y(_t.st_id)+"]",1)):S("",!0),p(Gt)>15?(m(),x("td",v1,y(_t.score),1)):S("",!0)]))),128)),p(Gt)>15?(m(),x("tr",b1,S1)):S("",!0),(m(!0),x(U,null,et(p(Js),(_t,Jt)=>(m(),x("tr",{class:"term-three",key:Jt},[p(Gt)>15?(m(),x("td",k1,y(_t.name)+" ["+y(_t.st_id)+"]",1)):S("",!0),p(Gt)>15?(m(),x("td",w1,y(_t.score),1)):S("",!0)]))),128))])]),_:1})])):S("",!0),F.year.term_two&&F.year.term_two.length>0?(m(),x("div",T1,[D(pt,{density:"comfortable"},{default:I(()=>[u("tbody",null,[u("tr",D1,[M1,p(t).userData&&p(t).userData.school.semesters?(m(),x("td",A1,"SEMESTER 2")):S("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("td",C1,"TRIMESTER 2")):S("",!0)]),u("tr",$1,[E1,u("td",P1,y(p(Vt)),1)]),u("tr",O1,[I1,u("td",R1,y(Us.value),1)]),u("tr",F1,[L1,u("td",V1,y(Ws.value),1)]),cs.value?(m(),x("tr",N1,[B1,u("td",z1,y(cs.value),1)])):S("",!0),u("tr",j1,[H1,u("td",W1,y(we.value)+" ["+y((we.value/p(Vt)*100).toFixed(1))+"%] ",1)]),u("tr",U1,[Y1,u("td",G1,y(Ys.value)+" ["+y((Ys.value/p(Vt)*100).toFixed(1))+"%] ",1)]),u("tr",X1,[J1,u("td",K1,y(Gs.value)+" ["+y((Gs.value/p(Vt)*100).toFixed(1))+"%] ",1)]),p(Vt)>15?(m(),x("tr",q1,t0)):S("",!0),(m(!0),x(U,null,et(p(Rn),(_t,Jt)=>(m(),x("tr",{class:"term-two",key:Jt},[p(Vt)>15?(m(),x("td",e0,y(_t.name)+" ["+y(_t.st_id)+"]",1)):S("",!0),p(Vt)>15?(m(),x("td",s0,y(_t.score),1)):S("",!0)]))),128)),p(Vt)>15?(m(),x("tr",n0,o0)):S("",!0),(m(!0),x(U,null,et(p(Fn),(_t,Jt)=>(m(),x("tr",{class:"term-two",key:Jt},[p(Vt)>15?(m(),x("td",l0,y(_t.name)+" ["+y(_t.st_id)+"]",1)):S("",!0),p(Vt)>15?(m(),x("td",r0,y(_t.score),1)):S("",!0)]))),128))])]),_:1})])):S("",!0),F.year.term_one&&F.year.term_one.length>0?(m(),x("div",c0,[D(pt,{density:"comfortable"},{default:I(()=>[u("tbody",null,[u("tr",d0,[u0,p(t).userData&&p(t).userData.school.semesters?(m(),x("td",h0,"SEMESTER 1")):S("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("td",f0,"TRIMESTER 1")):S("",!0)]),u("tr",m0,[p0,u("td",g0,y(p(Mt)),1)]),u("tr",_0,[v0,u("td",b0,y(Dt.value),1)]),u("tr",y0,[x0,u("td",S0,y(Yt.value),1)]),u("tr",k0,[w0,u("td",T0,y(is.value),1)]),u("tr",D0,[M0,u("td",A0,y(os.value)+" ["+y((os.value/p(Mt)*100).toFixed(1))+"%] ",1)]),u("tr",C0,[$0,u("td",E0,y(ls.value)+" ["+y((ls.value/p(Mt)*100).toFixed(1))+"%] ",1)]),u("tr",P0,[O0,u("td",I0,y(rs.value)+" ["+y((rs.value/p(Mt)*100).toFixed(1))+"%] ",1)]),p(Mt)>15?(m(),x("tr",R0,V0)):S("",!0),(m(!0),x(U,null,et(p(Wt),(_t,Jt)=>(m(),x("tr",{class:"term-one",key:Jt},[p(Mt)>15?(m(),x("td",N0,y(_t.name)+" ["+y(_t.st_id)+"]",1)):S("",!0),p(Mt)>15?(m(),x("td",B0,y(_t.score),1)):S("",!0)]))),128)),p(Mt)>15?(m(),x("tr",z0,W0)):S("",!0),(m(!0),x(U,null,et(p(Ut),(_t,Jt)=>(m(),x("tr",{class:"term-one",key:Jt},[p(Mt)>15?(m(),x("td",U0,y(_t.name)+" ["+y(_t.st_id)+"]",1)):S("",!0),p(Mt)>15?(m(),x("td",Y0,y(_t.score),1)):S("",!0)]))),128))])]),_:1})])):S("",!0)])):S("",!0)])}}}),X0=st(G0,[["__scopeId","data-v-75ec537b"]]),J0={class:"subsections-container"},K0={class:"subsections"},q0=q({__name:"HodPerformanceSubject",props:{data:{}},setup(s){const t=T("section1"),e=n=>{t.value=n};return(n,a)=>{const i=X0;return m(),x("div",J0,[D(es,{class:"subsection-nav-container",elevation:"0"},{default:I(()=>[u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":t.value==="section1"}]),onClick:a[0]||(a[0]=o=>e("section1"))},"Form 1 students",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":t.value==="section2"}]),onClick:a[1]||(a[1]=o=>e("section2"))},"Form 2 students",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":t.value==="section3"}]),onClick:a[2]||(a[2]=o=>e("section3"))},"Form 3 students",2)]),_:1}),u("div",K0,[u("div",{style:X(t.value==="section1"?{display:"flex"}:{display:"none"})},[D(i,{year:n.data.year_one},null,8,["year"])],4),u("div",{style:X(t.value==="section2"?{display:"flex"}:{display:"none"})},[D(i,{year:n.data.year_two},null,8,["year"])],4),u("div",{style:X(t.value==="section3"?{display:"flex"}:{display:"none"})},[D(i,{year:n.data.year_three},null,8,["year"])],4)])])}}}),Z0={class:"sections-container"},Q0={key:1,class:"section-nav-container"},tx=["onClick"],ex={key:2,class:"sections"},sx=q({__name:"HodPerformance",setup(s){const t=T("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=St,l=q0;return m(),x("div",Z0,[p(e).hodPerformance?S("",!0):(m(),L(o,{key:0})),p(e).hodPerformance?(m(),x("div",Q0,[(m(!0),x(U,null,et(p(e).hodPerformance,(r,c)=>(m(),x("button",{key:c,class:W(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[r.subject==="CORE MATHEMATICS"?(m(),L(H,{key:0,icon:"mdi-calculator-variant"})):S("",!0),r.subject==="ELECTIVE MATHEMATICS"?(m(),L(H,{key:1,icon:"mdi-function-variant"})):S("",!0),r.subject==="BIOLOGY"?(m(),L(H,{key:2,icon:"mdi-microscope"})):S("",!0),r.subject==="CHEMISTRY"?(m(),L(H,{key:3,icon:"mdi-flask"})):S("",!0),r.subject==="FINANCIAL ACCOUNTING"?(m(),L(H,{key:4,icon:"mdi-currency-usd"})):S("",!0),r.subject==="BUSINESS MANAGEMENT"?(m(),L(H,{key:5,icon:"mdi-chart-bar"})):S("",!0),r.subject==="ENGLISH LANGUAGE"?(m(),L(H,{key:6,icon:"mdi-book-open-variant"})):S("",!0),r.subject==="SOCIAL STUDIES"?(m(),L(H,{key:7,icon:"mdi-account-group"})):S("",!0),r.subject==="INTEGRATED SCIENCE"?(m(),L(H,{key:8,icon:"mdi-scale"})):S("",!0),r.subject==="CHRISTIAN RELIGIOUS STUDIES (CRS)"?(m(),L(H,{key:9,icon:"mdi-book-cross"})):S("",!0),r.subject==="LITERATURE"?(m(),L(H,{key:10,icon:"mdi-library"})):S("",!0),r.subject==="HISTORY"?(m(),L(H,{key:11,icon:"mdi-history"})):S("",!0),r.subject==="GOVERNMENT"?(m(),L(H,{key:12,icon:"mdi-briefcase-account"})):S("",!0),r.subject==="GEOGRAPHY"?(m(),L(H,{key:13,icon:"mdi-earth"})):S("",!0),r.subject==="PHYSICS"?(m(),L(H,{key:14,icon:"mdi-atom"})):S("",!0),r.subject==="ELECTIVE ICT"?(m(),L(H,{key:15,icon:"mdi-desktop-tower-monitor"})):S("",!0),r.subject==="COST ACCOUNTING"?(m(),L(H,{key:16,icon:"mdi-cash-register"})):S("",!0),r.subject==="ECONOMICS"?(m(),L(H,{key:17,icon:"mdi-finance"})):S("",!0),u("span",null,y(r.subject),1)],10,tx))),128))])):S("",!0),p(e).hodPerformance?(m(),x("div",ex,[(m(!0),x(U,null,et(p(e).hodPerformance,(r,c)=>(m(),x("div",{class:"h-100",key:c,style:X(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[(m(),L(l,{data:r,key:r},null,8,["data"]))],4))),128))])):S("",!0)])}}}),nx=st(sx,[["__scopeId","data-v-88b900ef"]]),as=s=>(kt("data-v-f7373a8b"),s=s(),wt(),s),ax={class:"flex-all w-100",style:{overflow:"hidden"}},ix={class:"form"},ox=as(()=>u("p",{class:"info"},"You cannot delete a particular academic year after creation, so ensure accurate data input.",-1)),lx={key:0,class:"form-message",style:{color:"green"}},rx={key:1,class:"form-message",style:{color:"red"}},cx={key:2,class:"fields-container"},dx={class:"select-container mt-5 w-100"},ux=as(()=>u("p",null,"FIRST SEMESTER",-1)),hx={class:"select-container w-100"},fx=as(()=>u("p",null,"SECOND SEMESTER",-1)),mx={class:"select-container w-100"},px={key:4,class:"fields-container"},gx={class:"select-container mt-5 w-100"},_x=as(()=>u("p",null,"FIRST TRIMESTER",-1)),vx={class:"select-container w-100"},bx=as(()=>u("p",null,"SECOND TRIMESTER",-1)),yx={class:"select-container w-100"},xx=as(()=>u("p",null,"THIRD TRIMESTER",-1)),Sx={class:"select-container mb-5 w-100"},kx=q({__name:"AdminAddAcademicYear",setup(s){const t=ot(),e=T(""),n=T(""),a=T(""),i=T(""),o=T(""),l=T(""),r=T(""),c=T(""),d=T(""),f=T(""),h=T(!1),g=()=>{setTimeout(()=>{f.value="",d.value=""},1e4)},_=async()=>{h.value=!0,d.value="",f.value="";const w=new FormData;w.append("startDate",n.value),w.append("endDate",a.value),w.append("year",t.activeAcademicYear),w.append("type","create-year"),w.append("yearName",e.value.trim()),w.append("term1EndDate",i.value),w.append("term2StartDate",o.value),w.append("term2EndDate",l.value),w.append("term3StartDate",r.value),w.append("term3EndDate",c.value),w.append("term",t.activeTerm.toString());try{const k=await xt.post("sch-admin/data",w);k.status===200?(t.adminStaff.academicYears.unshift(k.data.new_year),await t.getUserData().then(M=>(f.value=k.data.ms,e.value="",Promise.resolve())).catch(M=>Promise.reject(M)),await t.getAdminData()):k.status===201&&(d.value=k.data.ms)}catch{d.value="Oops! something went wrong"}finally{h.value=!1,g()}},v=G(()=>!(e.value&&n.value&&a.value&&i.value&&o.value&&l.value)),b=G(()=>!(e.value&&n.value&&a.value&&i.value&&o.value&&l.value&&r.value&&c.value));return(w,k)=>(m(),x("div",ax,[u("form",ix,[ox,f.value?(m(),x("h2",lx,y(f.value),1)):S("",!0),d.value?(m(),x("h2",rx,y(d.value),1)):S("",!0),p(t).userData&&p(t).userData.school.semesters?(m(),x("div",cx,[D(nt,{label:"YEAR NAME",clearable:"",class:"input-field year-name",modelValue:e.value,"onUpdate:modelValue":k[0]||(k[0]=M=>e.value=M),density:"compact",variant:"outlined","persistent-hint":"",hint:"Enter the name of the academic year",placeholder:"eg. 2023-2024"},null,8,["modelValue"]),u("div",dx,[D(nt,{label:"START DATE",clearable:"",class:"input-field",modelValue:n.value,"onUpdate:modelValue":k[1]||(k[1]=M=>n.value=M),"persistent-hint":"",hint:"The date the academic year starts",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),D(nt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:a.value,"onUpdate:modelValue":k[2]||(k[2]=M=>a.value=M),"persistent-hint":"",hint:"The expected date the academic year ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])]),ux,u("div",hx,[D(nt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:i.value,"onUpdate:modelValue":k[3]||(k[3]=M=>i.value=M),"persistent-hint":"",hint:"The expected date first semester ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])]),fx,u("div",mx,[D(nt,{label:"START DATE",clearable:"",class:"input-field",modelValue:o.value,"onUpdate:modelValue":k[4]||(k[4]=M=>o.value=M),"persistent-hint":"",hint:"The date second semester starts",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),D(nt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:l.value,"onUpdate:modelValue":k[5]||(k[5]=M=>l.value=M),"persistent-hint":"",hint:"The expected date second semester ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])])])):S("",!0),p(t).userData&&p(t).userData.school.semesters?(m(),L(Q,{key:3,loading:h.value,disabled:v.value,onClick:Kt(_,["prevent"]),type:"submit",class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])):S("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),x("div",px,[D(nt,{label:"YEAR NAME",clearable:"",class:"input-field year-name",modelValue:e.value,"onUpdate:modelValue":k[6]||(k[6]=M=>e.value=M),density:"compact",variant:"outlined","persistent-hint":"",hint:"Enter the name of the academic year",placeholder:"eg. 2023/2024"},null,8,["modelValue"]),u("div",gx,[D(nt,{label:"START DATE",clearable:"",class:"input-field",modelValue:n.value,"onUpdate:modelValue":k[7]||(k[7]=M=>n.value=M),"persistent-hint":"",hint:"The date the academic year starts",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),D(nt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:a.value,"onUpdate:modelValue":k[8]||(k[8]=M=>a.value=M),"persistent-hint":"",hint:"The expected date the academic year ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])]),_x,u("div",vx,[D(nt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:i.value,"onUpdate:modelValue":k[9]||(k[9]=M=>i.value=M),"persistent-hint":"",hint:"The expected date first trimester ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])]),bx,u("div",yx,[D(nt,{label:"START DATE",clearable:"",class:"input-field",modelValue:o.value,"onUpdate:modelValue":k[10]||(k[10]=M=>o.value=M),"persistent-hint":"",hint:"The date second trimester starts",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),D(nt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:l.value,"onUpdate:modelValue":k[11]||(k[11]=M=>l.value=M),"persistent-hint":"",hint:"The expected date second trimester ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])]),xx,u("div",Sx,[D(nt,{label:"START DATE",clearable:"",class:"input-field",modelValue:r.value,"onUpdate:modelValue":k[12]||(k[12]=M=>r.value=M),"persistent-hint":"",hint:"The date third trimester starts",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),D(nt,{label:"EXPECTED END DATE",clearable:"",class:"input-field",modelValue:c.value,"onUpdate:modelValue":k[13]||(k[13]=M=>c.value=M),"persistent-hint":"",hint:"The expected date third trimester ends",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])])])):S("",!0),p(t).userData&&!p(t).userData.school.semesters?(m(),L(Q,{key:5,loading:h.value,disabled:b.value,onClick:Kt(_,["prevent"]),type:"submit",class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])):S("",!0)])]))}}),wx=st(kx,[["__scopeId","data-v-f7373a8b"]]),xl=s=>(kt("data-v-bf8ed2fd"),s=s(),wt(),s),Tx={style:{width:"100%",position:"relative",height:"100%"}},Dx=xl(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"NAME"),u("th",{class:"table-head"},"START DATE"),u("th",{class:"table-head"},"END DATE"),u("th",{class:"table-head"},"SEM 1 END DATE"),u("th",{class:"table-head"},"SEM 2 START DATE"),u("th",{class:"table-head"},"SEM 2 END DATE")])],-1)),Mx={class:"table-data"},Ax={class:"table-data"},Cx={class:"table-data"},$x={class:"table-data"},Ex={class:"table-data"},Px={class:"table-data"},Ox=xl(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"NAME"),u("th",{class:"table-head"},"START DATE"),u("th",{class:"table-head"},"END DATE"),u("th",{class:"table-head"},"TRIM 1 END DATE"),u("th",{class:"table-head"},"TRIM 2 START DATE"),u("th",{class:"table-head"},"TRIM 2 END DATE"),u("th",{class:"table-head"},"TRIM 3 START DATE"),u("th",{class:"table-head"},"TRIM 3 END DATE")])],-1)),Ix={class:"table-data"},Rx={class:"table-data"},Fx={class:"table-data"},Lx={class:"table-data"},Vx={class:"table-data"},Nx={class:"table-data"},Bx={class:"table-data"},zx={class:"table-data"},jx=q({__name:"AdminAllAcademicYears",setup(s){const t=ot();return(e,n)=>{const a=St;return m(),x("div",Tx,[p(t).adminStaff.academicYears?S("",!0):(m(),L(a,{key:0})),p(t).userData.school.semesters&&p(t).adminStaff.academicYears?(m(),L(pt,{key:1,"fixed-header":"",height:"55dvh"},{default:I(()=>[Dx,u("tbody",null,[(m(!0),x(U,null,et(p(t).adminStaff.academicYears,(i,o)=>(m(),x("tr",{key:o},[u("td",Mx,y(i.name),1),u("td",Ax,y(i.start_date),1),u("td",Cx,y(i.end_date),1),u("td",$x,y(i.term_1_end_date),1),u("td",Ex,y(i.term_2_start_date),1),u("td",Px,y(i.term_2_end_date),1)]))),128))])]),_:1})):S("",!0),!p(t).userData.school.semesters&&p(t).adminStaff.academicYears?(m(),L(pt,{key:2,"fixed-header":"",height:"55dvh"},{default:I(()=>[Ox,u("tbody",null,[(m(!0),x(U,null,et(p(t).adminStaff.academicYears,(i,o)=>(m(),x("tr",{key:o},[u("td",Ix,y(i.name),1),u("td",Rx,y(i.start_date),1),u("td",Fx,y(i.end_date),1),u("td",Lx,y(i.term_1_end_date),1),u("td",Vx,y(i.term_2_start_date),1),u("td",Nx,y(i.term_2_end_date),1),u("td",Bx,y(i.term_3_start_date),1),u("td",zx,y(i.term_3_end_date),1)]))),128))])]),_:1})):S("",!0)])}}}),Hx=st(jx,[["__scopeId","data-v-bf8ed2fd"]]),Wx={class:"section-nav-container"},Ux={class:"sections"},Yx=q({__name:"AdminCalendar",setup(s){const t=T(1),e=n=>{t.value=n};return(n,a)=>{const i=wx,o=Hx;return m(),x(U,null,[u("div",Wx,[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value===1}]),onClick:a[0]||(a[0]=l=>e(1))},"ADD ACADEMIC YEAR",2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value===2}]),onClick:a[1]||(a[1]=l=>e(2))},"ALL ACADEMIC YEARS",2)]),u("div",Ux,[u("div",{class:"h-100",style:X(t.value===1?{display:"flex"}:{display:"none"})},[D(i)],4),u("div",{class:"h-100",style:X(t.value===2?{display:"flex"}:{display:"none"})},[D(o)],4)])],64)}}}),Gx=st(Yx,[["__scopeId","data-v-e040bcf3"]]),Xx=s=>(kt("data-v-00324f5c"),s=s(),wt(),s),Jx={class:"flex-all w-100",style:{overflow:"hidden"}},Kx={key:1,class:"form"},qx=Xx(()=>u("p",{class:"info"},"Use uppercase for class names. It will be converted to uppercase though",-1)),Zx={key:0,class:"form-message",style:{color:"green"}},Qx={key:1,class:"form-message",style:{color:"red"}},tS={class:"field-container"},eS={class:"select-container mt-5 w-100"},sS={class:"select-wrap"},nS={class:"select-wrap"},aS={key:1,class:"text-grey text-caption align-self-center"},iS={class:"select-container mt-5 w-100"},oS=q({__name:"AdminStudentsAddClass",setup(s){const t=ot(),e=T(""),n=T(null),a=T(""),i=T(null),o=T(""),l=T(""),r=T(""),c=T(""),d=T(!1),f=()=>{setTimeout(()=>{c.value="",r.value=""},1e4)},h=async()=>{if(d.value=!0,r.value="",c.value="",i.value<0||i.value>3){r.value="The students year must be 1, 2 or 3",f(),d.value=!1;return}const _=new FormData;_.append("subjects",n.value),_.append("program",a.value),_.append("completionDate",e.value),_.append("year",t.activeAcademicYear),_.append("type","create-class"),_.append("className",l.value.trim()),_.append("enrollmentDate",o.value),_.append("studentsYear",i.value),_.append("term",t.activeTerm.toString());try{const v=await xt.post("sch-admin/students",_);v.status===200?(t.adminClasses.names.unshift(v.data.class_name),t.adminClasses.yearOne.unshift(v.data.new_class),c.value=v.data.ms,l.value=""):v.status===201&&(r.value=v.data.ms)}catch{r.value="Oops! something went wrong"}finally{d.value=!1,f()}},g=G(()=>!(l.value&&n.value&&a.value&&e.value&&o.value&&i.value));return(_,v)=>{const b=St;return m(),x("div",Jx,[p(t).adminClasses.programs?S("",!0):(m(),L(b,{key:0})),p(t).adminClasses.programs?(m(),x("form",Kx,[qx,c.value?(m(),x("h2",Zx,y(c.value),1)):S("",!0),r.value?(m(),x("h2",Qx,y(r.value),1)):S("",!0),u("div",tS,[D(nt,{label:"CLASS NAME",class:"input-field class-name",modelValue:l.value,"onUpdate:modelValue":v[0]||(v[0]=w=>l.value=w),density:"compact",variant:"outlined","persistent-hint":"",hint:"Enter the name of the class",placeholder:"eg. SCIENCE or SCIENCE-1 or SCIENCE-1-A"},null,8,["modelValue"]),D(nt,{label:"STUDENTS YEAR/FORM",clearable:"",class:"input-field mt-7 mb-5",type:"number",modelValue:i.value,"onUpdate:modelValue":v[1]||(v[1]=w=>i.value=w),density:"compact",variant:"outlined","persistent-hint":"",hint:"Enter the year/form of the students",placeholder:"eg. 1"},null,8,["modelValue"]),u("div",eS,[u("div",sS,[D(Pt,{disabled:d.value,modelValue:a.value,"onUpdate:modelValue":v[2]||(v[2]=w=>a.value=w),class:"select",clearable:"",label:"PROGRAM",style:{width:"100%",color:"black","font-weight":"bold"},density:"compact",variant:"outlined",items:p(t).adminClasses.programs,"persistent-hint":"",hint:"Select the program that students in this class are enrolled in"},null,8,["disabled","modelValue","items"])]),u("div",nS,[D(Pt,{disabled:d.value,modelValue:n.value,"onUpdate:modelValue":v[3]||(v[3]=w=>n.value=w),multiple:"",clearable:"",label:"SUBJECTS",style:{width:"100%",color:"black","font-weight":"bold"},density:"compact",variant:"outlined",items:p(t).adminStaff.subjects,"persistent-hint":"",hint:"Select the subjects students in this class will study"},{selection:I(({item:w,index:k})=>[k<1?(m(),L(oo,{key:0},{default:I(()=>[u("span",null,y(w.title),1)]),_:2},1024)):S("",!0),k===1?(m(),x("span",aS," (+"+y(n.value.length-1)+" others) ",1)):S("",!0)]),_:1},8,["disabled","modelValue","items"])])]),u("div",iS,[D(nt,{label:"DATE ENROLLED",class:"input-field",modelValue:o.value,"onUpdate:modelValue":v[4]||(v[4]=w=>o.value=w),"persistent-hint":"",hint:"The enrollment date of the students",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"]),D(nt,{label:"COMPLETION DATE",class:"input-field mb-5",modelValue:e.value,"onUpdate:modelValue":v[5]||(v[5]=w=>e.value=w),"persistent-hint":"",hint:"The expected completion date of the students",density:"compact",variant:"outlined",type:"date"},null,8,["modelValue"])])]),D(Q,{loading:d.value,disabled:g.value,onClick:Kt(h,["prevent"]),type:"submit",class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])])):S("",!0)])}}}),lS=st(oS,[["__scopeId","data-v-00324f5c"]]),Ea=s=>(kt("data-v-d13f04e3"),s=s(),wt(),s),rS={id:"inputForm",class:"overlay"},cS={class:"form",style:{position:"relative"}},dS={key:0,class:"form-message",style:{color:"green"}},uS={key:1,class:"form-message",style:{color:"red"}},hS={class:"input-container"},fS=Ea(()=>u("div",null,null,-1)),mS={id:"fileForm",class:"overlay"},pS={class:"form",style:{position:"relative"}},gS={key:0,class:"form-message",style:{color:"green"}},_S={key:1,class:"form-message",style:{color:"red"}},vS={class:"flex-all-c mt-16"},bS=Ea(()=>u("p",{class:"hint mt-0"},"Click to get an excel file based on the selected class",-1)),yS=Ea(()=>u("hr",{class:"line"},null,-1)),xS={class:"w-100 h-100"},SS={class:"flex-all w-100 h-100"},kS=q({__name:"AdminStudentsAdmission",setup(s){const t=ot(),e=T(""),n=T(""),a=T(null),i=T(null),o=T(null),l=T(null),r=T(!1),c=T(null),d=T(null),f=T(["MALE","FEMALE"]),h=T(!1),g=T(null),_=()=>{setTimeout(()=>{n.value="",e.value=""},15e3)},v=async()=>{r.value=!0,e.value="",n.value="";const O=new FormData;O.append("className",a.value),O.append("type","get-students-file");try{const $=await xt.post("sch-admin/students",O);if($.status===200){n.value="File generated successfully. wait for it to be downloaded";const C=document.createElement("a");C.href=$.data.file_path,C.download=$.data.filename,C.click()}else e.value="Oops! an error occurred while generating the file. Try again later"}catch{e.value="Something went wrong. Try again later"}finally{r.value=!1,_()}},b=O=>{const $=O.target.files[0];g.value=$||null},w=async()=>{h.value=!0,e.value="",n.value="";const O=new FormData;O.append("className",a.value),O.append("file",g.value),O.append("year",t.activeAcademicYear),O.append("type","upload-students-file");try{const $=await xt.post("sch-admin/students",O);if($.status===200){const C=$.data.year,P=$.data.data,B=t.adminClasses[C].find(N=>N.name===P.name);if(B){const N=t.adminClasses[C].indexOf(B);t.adminClasses[C][N]=P}else t.adminClasses[C].push(P);n.value=$.data.ms}else $.status===201&&(e.value=$.data.ms)}catch{e.value="Something went wrong!"}finally{h.value=!1,_()}},k=async()=>{h.value=!0,e.value="",n.value="";const O=new FormData;O.append("className",a.value.trim()),O.append("firstName",i.value.trim()),O.append("year",t.activeAcademicYear),O.append("lastName",o.value.trim()),O.append("gender",l.value),O.append("dob",d.value),O.append("type","input-student"),O.append("studentId",c.value);try{const $=await xt.post("sch-admin/students",O);if($.status===200){const C=$.data.year,P=t.adminClasses[C].find(B=>B.name===$.data.class_name);if(P){const B=t.adminClasses[C].indexOf(P);t.adminClasses[C][B].students.push($.data.student)}n.value=$.data.ms}else $.status===201&&(e.value=$.data.ms)}catch{e.value="Oops something went wrong, check you internet connection"}finally{h.value=!1}_()},M=G(()=>!(a.value&&i.value&&o.value&&l.value&&d.value)),E=O=>{const $=document.getElementById(O);$&&(e.value="",n.value="",a.value="",h.value=!1,g.value=null,$.style.display="none")},A=O=>{const $=document.getElementById(O);$&&($.style.display="flex")};return(O,$)=>(m(),x(U,null,[u("div",rS,[u("div",cS,[D(Q,{onClick:$[0]||($[0]=C=>E("inputForm")),disabled:h.value||r.value,color:"red",size:"small",class:"close-btn flex-all"},{default:I(()=>[V("X")]),_:1},8,["disabled"]),n.value?(m(),x("h2",dS,y(n.value),1)):S("",!0),e.value?(m(),x("h2",uS,y(e.value),1)):S("",!0),u("div",hS,[p(t).adminClasses.names?(m(),L(Pt,{key:0,disabled:h.value,modelValue:a.value,"onUpdate:modelValue":$[1]||($[1]=C=>a.value=C),class:"select",label:"CLASS",density:"compact",variant:"outlined",items:p(t).adminClasses.names,"persistent-hint":"",hint:"Select the students's class"},null,8,["disabled","modelValue","items"])):S("",!0),D(nt,{disabled:h.value,modelValue:i.value,"onUpdate:modelValue":$[2]||($[2]=C=>i.value=C),clearable:"",class:"input-field",label:"FIRST NAME",variant:"underlined"},null,8,["disabled","modelValue"]),D(nt,{disabled:h.value,modelValue:o.value,"onUpdate:modelValue":$[3]||($[3]=C=>o.value=C),clearable:"",class:"input-field",label:"LAST NAME",variant:"underlined"},null,8,["disabled","modelValue"]),D(nt,{disabled:h.value,modelValue:c.value,"onUpdate:modelValue":$[4]||($[4]=C=>c.value=C),clearable:"",class:"input-field",label:"STUDENT ID",variant:"underlined"},null,8,["disabled","modelValue"]),D(Pt,{disabled:h.value,modelValue:l.value,"onUpdate:modelValue":$[5]||($[5]=C=>l.value=C),class:"select",label:"GENDER",density:"compact",variant:"outlined",items:f.value},null,8,["disabled","modelValue","items"]),D(nt,{disabled:h.value,modelValue:d.value,"onUpdate:modelValue":$[6]||($[6]=C=>d.value=C),type:"date",class:"input-field",label:"DATE OF BIRTH",variant:"underlined"},null,8,["disabled","modelValue"]),fS]),D(Q,{loading:h.value,disabled:M.value,onClick:k,class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])])]),u("div",mS,[u("div",pS,[D(Q,{onClick:$[7]||($[7]=C=>E("fileForm")),disabled:h.value||r.value,color:"red",size:"small",class:"close-btn flex-all"},{default:I(()=>[V("X")]),_:1},8,["disabled"]),n.value?(m(),x("h2",gS,y(n.value),1)):S("",!0),e.value?(m(),x("h2",_S,y(e.value),1)):S("",!0),p(t).adminClasses.names?(m(),L(Pt,{key:2,disabled:h.value,modelValue:a.value,"onUpdate:modelValue":$[8]||($[8]=C=>a.value=C),class:"select file",label:"CLASS",variant:"outlined",density:"compact",items:p(t).adminClasses.names,"persistent-hint":"",hint:"select the students class"},null,8,["disabled","modelValue","items"])):S("",!0),u("div",vS,[D(Q,{loading:r.value,disabled:h.value||!a.value,onClick:v,class:"submit-btn"},{default:I(()=>[V("GET FILE")]),_:1},8,["loading","disabled"]),bS]),yS,D($a,{disabled:h.value,onChange:b,clearable:"","show-size":"",class:"file-field",label:"upload an excel file",density:"compact",variant:"outlined",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},null,8,["disabled"]),D(Q,{loading:h.value,disabled:!g.value||!a.value,onClick:w,class:"submit-btn"},{default:I(()=>[V("UPLOAD")]),_:1},8,["loading","disabled"])])]),u("div",xS,[u("div",SS,[D(Q,{size:"small",class:"btn mr-5",onClick:$[9]||($[9]=C=>A("inputForm"))},{default:I(()=>[V("INPUT DATA")]),_:1}),D(Q,{size:"small",class:"btn ml-5",onClick:$[10]||($[10]=C=>A("fileForm"))},{default:I(()=>[V("USE FILE")]),_:1})])])],64))}}),wS=st(kS,[["__scopeId","data-v-d13f04e3"]]),Hs=s=>(kt("data-v-36ac3498"),s=s(),wt(),s),TS={id:"deleteClassSubjectStudentOverlay",class:"overlay"},DS={class:"mb-5 error-message"},MS={class:"mb-10"},AS={style:{width:"100%",position:"relative"}},CS=Hs(()=>u("th",{class:"table-head"},"CLASS",-1)),$S=Hs(()=>u("th",{class:"table-head"},"DATE ENROLLED",-1)),ES=Hs(()=>u("th",{class:"table-head"},"EXPECTED COMPLETION DATE",-1)),PS=Hs(()=>u("th",{class:"table-head"},"SUBJECTS",-1)),OS=Hs(()=>u("th",{class:"table-head"},"STUDENTS",-1)),IS={key:0,class:"table-head"},RS={class:"table-data"},FS={class:"table-data"},LS={class:"table-data"},VS={style:{padding:"0"}},NS={class:"student-info-container"},BS={key:0,class:"flex-all pa-2"},zS={style:{padding:"0"}},jS={class:"student-info-container"},HS=["src"],WS={class:"flex-all-c"},US={class:"user-name"},YS={class:"user-name"},GS={key:0,class:"flex-all pa-2"},XS={key:0,class:"table-data"},JS={class:"flex-all pa-2"},KS=q({__name:"AdminStudentsYear",props:{classYear:{}},setup(s){const t=ot(),e=T(!1),n=T(""),a=T(""),i=T(""),o=T(""),l=T(""),r=T(""),c=async(b,w)=>{const k=new FormData;k.append("className",b),k.append("subject",w),k.append("type","delete-subject"),await xt.post("sch-admin/students",k).then(M=>{const E=M.data,A=E.year,O=t.adminClasses[A].find($=>$.name===E.class_name);if(O){const $=t.adminClasses[A].indexOf(O),C=t.adminClasses[A][$].subjects.filter(P=>P.name!==w);t.adminClasses[A][$].subjects=C}}).catch(M=>Promise.reject(M))},d=()=>{setTimeout(()=>{n.value=""},15e3)},f=async(b,w)=>{const k=new FormData;k.append("className",b),k.append("stId",w),k.append("type","delete-student"),await xt.post("sch-admin/students",k).then(M=>{const E=M.data,A=E.year,O=t.adminClasses[A].find($=>$.name===E.class_name);if(O){const $=t.adminClasses[A].indexOf(O),C=t.adminClasses[A][$].students.filter(P=>P.st_id!==w);t.adminClasses[A][$].students=C}}).catch(M=>Promise.reject(M))},h=(b,w,k,M)=>{a.value=b,i.value=w,l.value=k,o.value=M,b==="deleteStudent"?r.value=`Are you sure you want to delete student with ID ${l.value} from the class`:b==="deleteClass"?r.value=`Are you sure you want to delete the ${i.value} class`:b==="deleteSubject"&&(r.value=`Are you sure you want to delete ${o.value} from the ${i.value} class subjects`);const E=document.getElementById("deleteClassSubjectStudentOverlay");E&&(E.style.display="flex")},g=()=>{const b=document.getElementById("deleteClassSubjectStudentOverlay");b&&(b.style.display="none")},_=async b=>{const w=new FormData;w.append("className",b),w.append("type","delete-class"),await xt.post("sch-admin/students",w).then(k=>{const M=t.adminClasses.yearOne.find(E=>E.name===b);if(M){const E=t.adminClasses.yearOne.indexOf(M);t.adminClasses.yearOne.splice(E,1);const A=t.adminClasses.names.filter(O=>O!==`${b} FORM-1`);A&&(t.adminClasses.names=A)}}).catch(k=>Promise.reject(k))},v=async()=>{e.value=!0,a.value==="deleteStudent"?await f(i.value,l.value).then(b=>{g()}).catch(b=>{d()}):a.value==="deleteSubject"?await c(i.value,o.value).then(b=>{g()}).catch(b=>{d()}):a.value==="deleteClass"&&await _(i.value).then(b=>{g()}).catch(b=>{d()}),e.value=!1,d()};return(b,w)=>{const k=St,M=ue;return m(),x(U,null,[u("div",TS,[D(ss,{class:"overlay-card"},{default:I(()=>[u("p",DS,y(n.value),1),u("p",MS,y(r.value),1),u("div",null,[D(Q,{class:"mr-5",color:"red",onClick:v,loading:e.value},{default:I(()=>[V("YES")]),_:1},8,["loading"]),D(Q,{onClick:g,color:"blue",class:"ml-5",disabled:e.value},{default:I(()=>[V("NO")]),_:1},8,["disabled"])])]),_:1})]),u("div",AS,[b.classYear?S("",!0):(m(),L(k,{key:0,class:"no-data flex-all"})),b.classYear&&b.classYear.length===0?(m(),L(M,{key:1,message:"No data yet"})):S("",!0),b.classYear&&b.classYear.length>0?(m(),L(pt,{key:2,"fixed-header":"",class:"table-2"},{default:I(()=>[u("thead",null,[u("tr",null,[CS,$S,ES,PS,OS,p(t).userData.school.delete_class?(m(),x("th",IS,"ACTION")):S("",!0)])]),u("tbody",null,[(m(!0),x(U,null,et(b.classYear,(E,A)=>(m(),x("tr",{key:A},[u("td",RS,y(E.name),1),u("td",FS,y(E.date_enrolled),1),u("td",LS,y(E.completion_date),1),u("td",VS,[D(Fe,{class:"pa-0"},{default:I(()=>[D(Le,null,{activator:I(({props:O})=>[D($t,Rt({class:"title"},O),{default:I(()=>[D(H,{icon:"mdi-lightbulb-on"}),V(y(E.subjects.length)+" SUBJECTS ",1)]),_:2},1040)]),default:I(()=>[D(Ve,{class:"v-scroll",height:"22vh",items:E.subjects},{default:I(({item:O})=>[D($t,{style:{position:"relative"}},{default:I(()=>[u("div",NS,[u("p",null,y(O.name),1),E.students_year===1&&p(t).userData.school.delete_class?(m(),x("div",BS,[D(Q,{onClick:$=>h("deleteSubject",E.name,"",O.name),size:"x-small",class:"edit-btn remove"},{default:I(()=>[V("delete")]),_:2},1032,["onClick"])])):S("",!0)])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)]),u("td",zS,[D(Fe,{class:"pa-0"},{default:I(()=>[D(Le,null,{activator:I(({props:O})=>[D($t,Rt({class:"title"},O),{default:I(()=>[D(H,{icon:"mdi-account-circle"}),V(y(E.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:I(()=>[D(Ve,{class:"v-scroll",height:"22vh",items:E.students},{default:I(({item:O})=>[D($t,{style:{position:"relative"}},{default:I(()=>[u("div",jS,[u("img",{class:"profile-img",src:O.img},null,8,HS),u("div",WS,[u("p",US,y(O.user.first_name)+" "+y(O.user.last_name)+" [ "+y(O.gender)+" ]",1),u("p",YS,y(O.st_id)+" [ "+y(O.user.username)+" ] [ "+y(O.dob)+" ]",1)]),E.students_year===1&&p(t).userData.school.delete_class?(m(),x("div",GS,[D(Q,{onClick:$=>h("deleteStudent",E.name,O.st_id,""),size:"x-small",class:"edit-btn remove"},{default:I(()=>[V("delete")]),_:2},1032,["onClick"])])):S("",!0)])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)]),E.students_year===1&&p(t).userData.school.delete_class?(m(),x("td",XS,[u("div",JS,[D(Q,{onClick:O=>h("deleteClass",E.name,"",""),size:"x-small",class:"edit-btn remove"},{default:I(()=>[V("delete")]),_:2},1032,["onClick"])])])):S("",!0)]))),128))])]),_:1})):S("",!0)])],64)}}}),qS=st(KS,[["__scopeId","data-v-36ac3498"]]),ZS={class:"subsections-container"},QS={class:"subsections"},tk=q({__name:"AdminStudentsViewAdmittedStudents",setup(s){const t=T("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=qS;return m(),x("div",ZS,[D(es,{class:"subsection-nav-container",elevation:"0"},{default:I(()=>[u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":t.value==="section1"}]),onClick:i[0]||(i[0]=l=>n("section1"))},"Form 1 students",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":t.value==="section2"}]),onClick:i[1]||(i[1]=l=>n("section2"))},"Form 2 students",2),u("button",{class:W(["nav-btn-2",{"nav-btn-2-active":t.value==="section3"}]),onClick:i[2]||(i[2]=l=>n("section3"))},"Form 3 students",2)]),_:1}),u("div",QS,[u("div",{style:X(t.value==="section1"?{display:"flex"}:{display:"none"})},[D(o,{classYear:p(e).adminClasses.yearOne},null,8,["classYear"])],4),u("div",{style:X(t.value==="section2"?{display:"flex"}:{display:"none"})},[D(o,{classYear:p(e).adminClasses.yearTwo},null,8,["classYear"])],4),u("div",{style:X(t.value==="section3"?{display:"flex"}:{display:"none"})},[D(o,{classYear:p(e).adminClasses.yearThree},null,8,["classYear"])],4)])])}}}),ek={class:"section-nav-container"},sk={class:"sections"},nk=q({__name:"AdminStudents",setup(s){ot();const t=T(1),e=n=>{t.value=n};return(n,a)=>{const i=lS,o=wS,l=tk;return m(),x(U,null,[u("div",ek,[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value===1}]),onClick:a[0]||(a[0]=r=>e(1))},"CREATE CLASS",2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value===2}]),onClick:a[1]||(a[1]=r=>e(2))},"ADMISSION",2),u("button",{class:W(["nav-btn-1 btn-3",{"nav-btn-1-active":t.value===3}]),onClick:a[2]||(a[2]=r=>e(3))},"ALL ADMITTED STUDENTS",2)]),u("div",sk,[u("div",{class:"h-100",style:X(t.value===1?{display:"flex"}:{display:"none"})},[D(i)],4),u("div",{class:"h-100",style:X(t.value===2?{display:"flex"}:{display:"none"})},[D(o)],4),u("div",{class:"h-100",style:X(t.value===3?{display:"flex"}:{display:"none"})},[D(l)],4)])],64)}}}),ak=st(nk,[["__scopeId","data-v-0ec2c153"]]),Sl=s=>(kt("data-v-086ad2ed"),s=s(),wt(),s),ik={id:"staffInputForm",class:"overlay"},ok={class:"form",style:{position:"relative"}},lk={key:0,class:"form-message",style:{color:"green"}},rk={key:1,class:"form-message",style:{color:"red"}},ck={class:"input-container"},dk={class:"wrap one"},uk={class:"wrap-1 department"},hk={class:"wrap"},fk={class:"wrap-1"},mk={class:"ml-16"},pk={id:"staffFileForm",class:"overlay"},gk={class:"form",style:{position:"relative"}},_k={key:0,class:"form-message",style:{color:"green"}},vk={key:1,class:"form-message",style:{color:"red"}},bk={class:"flex-all-c mt-16"},yk=Sl(()=>u("p",{class:"hint mt-0"},"Click to get an excel file based on the selected department",-1)),xk=Sl(()=>u("hr",{class:"line"},null,-1)),Sk={class:"w-100 h-100"},kk={class:"flex-all w-100 h-100"},wk=q({__name:"AdminAddStaff",setup(s){const t=ot(),e=T(""),n=T(""),a=T(null),i=T(null),o=T(null),l=T(null),r=T(null),c=T(null),d=T(!1),f=T(null),h=T(["MALE","FEMALE"]),g=T(!1),_=T(null),v=()=>{setTimeout(()=>{n.value="",e.value=""},15e3)},b=async()=>{d.value=!0,e.value="",n.value="";const $=new FormData;$.append("departmentName",a.value),$.append("type","get-staff-file");try{const C=await xt.post("sch-admin/staff",$);if(C.status===200){n.value="File generated successfully. Wait for it to be downloaded";const P=document.createElement("a");P.href=C.data.file_path,P.download=C.data.filename,P.click()}else e.value="Oops! an error occurred while generating the file. Try again later"}catch{e.value="Something went wrong. Try again later"}finally{d.value=!1,v()}},w=$=>{const C=$.target.files[0];_.value=C||null},k=async()=>{g.value=!0,e.value="",n.value="";const $=new FormData;$.append("departmentName",a.value),$.append("file",_.value),$.append("type","upload-staff-file");try{const C=await xt.post("sch-admin/staff",$);if(C.status===200){const P=C.data.data,B=t.adminStaff.departments.find(N=>N.name===P.name);if(B){const N=t.adminStaff.departments.indexOf(B);t.adminStaff.departments[N]=P}n.value=C.data.ms}else C.status===201&&(e.value=C.data.ms)}catch{e.value="Something went wrong!"}finally{g.value=!1,v()}},M=async()=>{g.value=!0,e.value="",n.value="";const $=new FormData;$.append("departmentName",a.value),$.append("firstName",i.value.trim()),$.append("lastName",l.value.trim()),$.append("staffId",r.value.trim()),$.append("gender",c.value),$.append("subjects",o.value),$.append("dob",f.value),$.append("type","input-staff");try{const C=await xt.post("sch-admin/staff",$);if(C.status===200){const P=C.data,B=t.adminStaff.departments.find(N=>N.name===P.department_name);if(B){const N=t.adminStaff.departments.indexOf(B);t.adminStaff.departments[N].teachers.unshift(P.staff)}i.value=null,l.value=null,r.value=null,o.value=null,f.value=null,n.value=C.data.ms}else C.status===201&&(e.value=C.data.ms)}catch{e.value="Oops something went wrong, check you internet connection"}finally{g.value=!1}v()},E=G(()=>!(a.value&&o.value&&i.value&&l.value&&r.value&&c.value&&f.value)),A=$=>{const C=document.getElementById($);C&&(e.value="",n.value="",a.value=null,o.value="",g.value=!1,_.value=null,C.style.display="none")},O=$=>{const C=document.getElementById($);C&&(C.style.display="flex")};return($,C)=>(m(),x(U,null,[u("div",ik,[u("div",ok,[u("button",{onClick:C[0]||(C[0]=P=>A("staffInputForm")),class:"close-btn flex-all"},"X"),n.value?(m(),x("h2",lk,y(n.value),1)):S("",!0),e.value?(m(),x("h2",rk,y(e.value),1)):S("",!0),u("div",ck,[u("div",dk,[u("div",uk,[p(t).adminStaff.departmentNames?(m(),L(Pt,{key:0,disabled:g.value,modelValue:a.value,"onUpdate:modelValue":C[1]||(C[1]=P=>a.value=P),class:"select",label:"DEPARTMENT",density:"compact",variant:"outlined",items:p(t).adminStaff.departmentNames,"persistent-hint":"",hint:"Select the department the teacher belongs to"},null,8,["disabled","modelValue","items"])):S("",!0),p(t).adminStaff.subjects?(m(),L(Pt,{key:1,multiple:"",disabled:g.value,chips:"",modelValue:o.value,"onUpdate:modelValue":C[2]||(C[2]=P=>o.value=P),class:"select",label:"SUBJECTS(S)",density:"compact",variant:"outlined",items:p(t).adminStaff.subjects,"persistent-hint":"",hint:"Select the subject(s) the teacher teaches"},null,8,["disabled","modelValue","items"])):S("",!0)])]),u("div",hk,[D(nt,{disabled:g.value,modelValue:i.value,"onUpdate:modelValue":C[3]||(C[3]=P=>i.value=P),clearable:"",class:"input-field",label:"FIRST NAME",variant:"underlined"},null,8,["disabled","modelValue"]),D(nt,{disabled:g.value,modelValue:l.value,"onUpdate:modelValue":C[4]||(C[4]=P=>l.value=P),clearable:"",class:"input-field",label:"LAST NAME",variant:"underlined"},null,8,["disabled","modelValue"])]),u("div",fk,[D(Pt,{disabled:g.value,modelValue:c.value,"onUpdate:modelValue":C[5]||(C[5]=P=>c.value=P),class:"select",label:"GENDER",density:"compact",variant:"outlined",items:h.value},null,8,["disabled","modelValue","items"])]),u("div",mk,[D(nt,{disabled:g.value,modelValue:r.value,"onUpdate:modelValue":C[6]||(C[6]=P=>r.value=P),type:"number",clearable:"",class:"input-field",label:"STAFF ID",variant:"underlined"},null,8,["disabled","modelValue"])]),u("div",null,[D(nt,{disabled:g.value,modelValue:f.value,"onUpdate:modelValue":C[7]||(C[7]=P=>f.value=P),type:"date",class:"input-field",label:"DATE OF BIRTH",variant:"underlined"},null,8,["disabled","modelValue"])])]),D(Q,{loading:g.value,disabled:E.value,onClick:M,class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])])]),u("div",pk,[u("div",gk,[u("button",{onClick:C[8]||(C[8]=P=>A("staffFileForm")),class:"close-btn flex-all"},"X"),n.value?(m(),x("h2",_k,y(n.value),1)):S("",!0),e.value?(m(),x("h2",vk,y(e.value),1)):S("",!0),p(t).adminStaff.departmentNames?(m(),L(Pt,{key:2,disabled:g.value,modelValue:a.value,"onUpdate:modelValue":C[9]||(C[9]=P=>a.value=P),class:"select file",label:"DEPARTMENT",variant:"outlined",density:"compact",items:p(t).adminStaff.departmentNames,"persistent-hint":"",hint:"select the department the teacher belongs to"},null,8,["disabled","modelValue","items"])):S("",!0),u("div",bk,[D(Q,{loading:d.value,disabled:g.value||!a.value,onClick:b,class:"submit-btn"},{default:I(()=>[V("GET FILE")]),_:1},8,["loading","disabled"]),yk]),xk,D($a,{disabled:g.value,onChange:w,clearable:"","show-size":"",class:"file-field",label:"upload an excel file",density:"compact",variant:"outlined",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},null,8,["disabled"]),D(Q,{loading:g.value,disabled:!_.value||!a.value,onClick:k,class:"submit-btn"},{default:I(()=>[V("UPLOAD")]),_:1},8,["loading","disabled"])])]),u("div",Sk,[u("div",kk,[D(Q,{size:"small",class:"btn mr-5",onClick:C[10]||(C[10]=P=>O("staffInputForm"))},{default:I(()=>[V("INPUT DATA")]),_:1}),D(Q,{size:"small",class:"btn ml-5",onClick:C[11]||(C[11]=P=>O("staffFileForm"))},{default:I(()=>[V("USE FILE")]),_:1})])])],64))}}),Tk=st(wk,[["__scopeId","data-v-086ad2ed"]]),Se=s=>(kt("data-v-e536da18"),s=s(),wt(),s),Dk=["id"],Mk=Se(()=>u("p",null,"Continue to delete ?",-1)),Ak={key:0,class:"mt-5",style:{color:"red"}},Ck={style:{width:"100%",position:"relative",height:"100%"}},$k=Se(()=>u("th",{class:"table-head"},"NAME",-1)),Ek=Se(()=>u("th",{class:"table-head"},"USERNAME",-1)),Pk=Se(()=>u("th",{class:"table-head"},"GENDER",-1)),Ok=Se(()=>u("th",{class:"table-head"},"STAFF ID",-1)),Ik=Se(()=>u("th",{class:"table-head"},"SUBJECT(S)",-1)),Rk=Se(()=>u("th",{class:"table-head"},"DATE OF BIRTH",-1)),Fk=Se(()=>u("th",{class:"table-head"},"IMAGE",-1)),Lk={key:0,class:"table-head"},Vk={class:"table-data"},Nk={key:0,style:{color:"seagreen"}},Bk={class:"table-data username"},zk={class:"table-data username"},jk={class:"table-data"},Hk={class:"table-data"},Wk={class:"table-data username"},Uk={class:"table-data"},Yk=["src"],Gk={key:0,class:"table-data"},Xk=q({__name:"AdminDepartmentStaff",props:{staff:null,overlayIndex:null},setup(s){const t=s;An();const e=ot(),n=T(!1),a=T(""),i=T(""),o=()=>{const c=document.getElementById(`deleteStaff${t.overlayIndex}`);c&&(c.style.display="none"),a.value="",i.value=""},l=async()=>{n.value=!0;const c=new FormData;c.append("staffId",i.value),c.append("type","delete-staff"),await xt.post("sch-admin/staff",c).then(d=>{const f=d.data,h=e.adminStaff.departments.find(g=>g.name===f.department_name);if(h){const g=e.adminStaff.departments.indexOf(h),_=e.adminStaff.departments[g].teachers.filter(v=>v.staff_id!==i.value);e.adminStaff.departments[g].teachers=_}o(),n.value=!1}).catch(d=>{a.value="Oops! something went wrong. Check your internet connection and try again",n.value=!1})},r=c=>{i.value=c;const d=document.getElementById(`deleteStaff${t.overlayIndex}`);d&&(d.style.display="flex")};return(c,d)=>{const f=St;return m(),x(U,null,[p(e).userData.school.delete_staff?(m(),x("div",{key:0,id:`deleteStaff${t.overlayIndex}`,class:"overlay"},[D(ss,{class:"d-flex flex-column align-center"},{default:I(()=>[D(Fs,{style:{"font-size":".8rem","font-family":"sans-serif","text-align":"left","line-height":"1.2","font-weight":"bold"}},{default:I(()=>[Mk,p(a)?(m(),x("p",Ak,y(p(a)),1)):S("",!0)]),_:1}),D(Ls,null,{default:I(()=>[D(Q,{loading:p(n),class:"overlay-btn mr-5",elevation:"4",onClick:l},{default:I(()=>[V("YES")]),_:1},8,["loading"]),D(Q,{disabled:p(n),class:"overlay-btn ml-5",elevation:"4",onClick:o},{default:I(()=>[V("NO")]),_:1},8,["disabled"])]),_:1})]),_:1})],8,Dk)):S("",!0),u("div",Ck,[!t.staff||t.staff.length===0?(m(),L(f,{key:0})):S("",!0),t.staff&&t.staff.length>0?(m(),L(pt,{key:1,"fixed-header":"",height:"55dvh"},{default:I(()=>[u("thead",null,[u("tr",null,[$k,Ek,Pk,Ok,Ik,Rk,Fk,p(e).userData.school.delete_staff?(m(),x("th",Lk,"ACTION")):S("",!0)])]),u("tbody",null,[(m(!0),x(U,null,et(t.staff,(h,g)=>(m(),x("tr",{key:g},[u("td",Vk,[V(y(h.user.first_name)+" "+y(h.user.last_name)+" ",1),h.role==="hod"?(m(),x("span",Nk,"[HOD]")):S("",!0)]),u("td",Bk,y(h.user.username),1),u("td",zk,y(h.gender),1),u("td",jk,y(h.staff_id),1),u("td",Hk,[(m(!0),x(U,null,et(h.subjects,(_,v)=>(m(),x("p",{key:v},y(_.name),1))),128))]),u("td",Wk,y(h.dob),1),u("td",Uk,[u("img",{class:"profile-img",src:h.img},null,8,Yk)]),p(e).userData.school.delete_staff?(m(),x("td",Gk,[D(Q,{onClick:_=>r(h.staff_id),size:"x-small",class:"edit-btn remove"},{default:I(()=>[V("delete")]),_:2},1032,["onClick"])])):S("",!0)]))),128))])]),_:1})):S("",!0)])],64)}}}),Jk=st(Xk,[["__scopeId","data-v-e536da18"]]),Kk={class:"subsections-container"},qk={key:1,class:"subsection-nav-container"},Zk=["onClick"],Qk={key:2,class:"sections"},t2=q({__name:"AdminAllStaff",setup(s){const t=T("section1"),e=ot(),n=a=>{t.value=a};return(a,i)=>{const o=St,l=Jk;return m(),x("div",Kk,[!p(e).adminStaff.departments||p(e).adminStaff.departments&&p(e).adminStaff.departments.length===0?(m(),L(o,{key:0,class:"no-data"})):S("",!0),p(e).adminStaff.departments&&p(e).adminStaff.departments.length>0?(m(),x("div",qk,[(m(!0),x(U,null,et(p(e).adminStaff.departments,(r,c)=>(m(),x("button",{key:c,class:W(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[u("span",null,y(r.name),1)],10,Zk))),128))])):S("",!0),p(e).adminStaff.departments&&p(e).adminStaff.departments.length>0?(m(),x("div",Qk,[(m(!0),x(U,null,et(p(e).adminStaff.departments,(r,c)=>(m(),x("div",{class:"h-100",key:c,style:X(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[D(l,{staff:r.teachers,overlayIndex:c},null,8,["staff","overlayIndex"])],4))),128))])):S("",!0)])}}}),e2={class:"section-nav-container"},s2={class:"sections"},n2=q({__name:"AdminStaff",setup(s){const t=T(1),e=n=>{t.value=n};return(n,a)=>{const i=Tk,o=t2;return m(),x(U,null,[u("div",e2,[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value===1}]),onClick:a[0]||(a[0]=l=>e(1))},"ADD TEACHER(S)",2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value===2}]),onClick:a[1]||(a[1]=l=>e(2))},"ALL TEACHERS",2)]),u("div",s2,[u("div",{class:"h-100",style:X(t.value===1?{display:"flex"}:{display:"none"})},[D(i)],4),u("div",{class:"h-100",style:X(t.value===2?{display:"flex"}:{display:"none"})},[D(o)],4)])],64)}}}),a2=st(n2,[["__scopeId","data-v-4701f11b"]]),i2={class:"flex-all w-100",style:{overflow:"hidden"}},o2={class:"form"},l2={key:0,class:"form-message",style:{color:"green"}},r2={key:1,class:"form-message",style:{color:"red"}},c2={class:"field-container"},d2={class:"select-container w-100 first"},u2={class:"select-container w-100"},h2={class:"select-container w-100"},f2=q({__name:"AdminAddHead",setup(s){const t=ot(),e=T(null),n=T(""),a=T(""),i=T(""),o=T(""),l=T(["HEAD MASTER/MISTRESS","ASST. HEAD MASTER/MISTRESS","HEAD OF ACADEMICS","ASST. HEAD OF ACADEMIC"]),r=T(""),c=T(["MALE","FEMALE"]),d=T(""),f=T(""),h=T(!1),g=()=>{setTimeout(()=>{f.value="",d.value=""},1e4)},_=async()=>{h.value=!0,d.value="",f.value="";const b=new FormData;b.append("firstName",i.value.trim()),b.append("lastName",a.value.trim()),b.append("headId",e.value),b.append("year",t.activeAcademicYear),b.append("type","create-head"),b.append("dob",n.value.trim()),b.append("role",o.value),b.append("gender",r.value),b.append("term",t.activeTerm.toString());try{const w=await xt.post("sch-admin/head",b);w.status===200?(t.adminHeads.unshift(w.data),f.value=`Head with ID ${e.value} created successfully`,i.value="",a.value="",e.value=null):w.status===201&&(d.value=w.data.ms)}catch{d.value="Oops! something went wrong"}finally{h.value=!1,g()}},v=G(()=>!(i.value&&a.value&&e.value&&r.value&&n.value&&o.value));return(b,w)=>(m(),x("div",i2,[u("div",o2,[f.value?(m(),x("h2",l2,y(f.value),1)):S("",!0),d.value?(m(),x("h2",r2,y(d.value),1)):S("",!0),u("div",c2,[u("div",d2,[D(nt,{label:"FIRST NAME",class:"input-field",modelValue:i.value,"onUpdate:modelValue":w[0]||(w[0]=k=>i.value=k),density:"compact",variant:"outlined"},null,8,["modelValue"]),D(nt,{label:"LAST NAME",class:"input-field",modelValue:a.value,"onUpdate:modelValue":w[1]||(w[1]=k=>a.value=k),density:"compact",variant:"outlined"},null,8,["modelValue"])]),u("div",u2,[D(nt,{label:"STAFF ID",class:"input-field",modelValue:e.value,"onUpdate:modelValue":w[2]||(w[2]=k=>e.value=k),density:"compact",variant:"outlined",type:"number"},null,8,["modelValue"]),D(Pt,{label:"ROLE",items:l.value,modelValue:o.value,"onUpdate:modelValue":w[3]||(w[3]=k=>o.value=k),class:"input-field",variant:"outlined",density:"compact"},null,8,["items","modelValue"])]),u("div",h2,[D(Pt,{label:"GENDER",items:c.value,modelValue:r.value,"onUpdate:modelValue":w[4]||(w[4]=k=>r.value=k),class:"input-field",variant:"outlined",density:"compact"},null,8,["items","modelValue"]),D(nt,{label:"DATE OF BIRTH",class:"input-field",modelValue:n.value,"onUpdate:modelValue":w[5]||(w[5]=k=>n.value=k),density:"compact",variant:"outlined","prepend-icon":"mdi-calendar",type:"date"},null,8,["modelValue"])])]),D(Q,{loading:h.value,disabled:v.value,onClick:_,type:"submit",class:"submit-btn"},{default:I(()=>[V("SUBMIT")]),_:1},8,["loading","disabled"])])]))}}),m2=st(f2,[["__scopeId","data-v-090b28c1"]]),We=s=>(kt("data-v-9733548e"),s=s(),wt(),s),p2={key:0,id:"deleteHead",class:"overlay"},g2=We(()=>u("p",null,"Continue to delete ?",-1)),_2={key:0,class:"mt-5",style:{color:"red"}},v2={style:{width:"100%",position:"relative",height:"100%"}},b2=We(()=>u("th",{class:"table-head"},"NAME",-1)),y2=We(()=>u("th",{class:"table-head"},"USERNAME",-1)),x2=We(()=>u("th",{class:"table-head"},"STAFF ID",-1)),S2=We(()=>u("th",{class:"table-head"},"GENDER",-1)),k2=We(()=>u("th",{class:"table-head"},"DATE OF BIRTH",-1)),w2=We(()=>u("th",{class:"table-head"},"IMAGE",-1)),T2={key:0,class:"table-head"},D2={class:"table-data"},M2={style:{color:"seagreen"}},A2={class:"table-data username"},C2={class:"table-data"},$2={class:"table-data"},E2={class:"table-data"},P2={class:"table-data"},O2=["src"],I2={key:0,class:"table-data"},R2=q({__name:"AdminAllHeads",setup(s){const t=ot(),e=T(!1),n=T(""),a=T(""),i=()=>{const r=document.getElementById("deleteHead");r&&(r.style.display="none"),n.value="",a.value=""},o=async()=>{e.value=!0,n.value="";const r=new FormData;r.append("headId",a.value),r.append("type","delete-head"),await xt.post("sch-admin/head",r).then(c=>{c.data;const d=t.adminHeads.find(f=>f.head_id===a.value);if(d){const f=t.adminHeads.indexOf(d);t.adminHeads.splice(f,1)}i(),e.value=!1}).catch(c=>{n.value="Oops! something went wrong. Check your internet connection and try again",e.value=!1})},l=r=>{a.value=r;const c=document.getElementById("deleteHead");c&&(c.style.display="flex")};return(r,c)=>{const d=St,f=ue;return m(),x(U,null,[p(t).userData.school.delete_staff?(m(),x("div",p2,[D(ss,{class:"d-flex flex-column align-center"},{default:I(()=>[D(Fs,{style:{"font-size":".8rem","font-family":"sans-serif","text-align":"left","line-height":"1.2","font-weight":"bold"}},{default:I(()=>[g2,p(n)?(m(),x("p",_2,y(p(n)),1)):S("",!0)]),_:1}),D(Ls,null,{default:I(()=>[D(Q,{loading:p(e),class:"overlay-btn mr-5",elevation:"4",onClick:o},{default:I(()=>[V("YES")]),_:1},8,["loading"]),D(Q,{disabled:p(e),class:"overlay-btn ml-5",elevation:"4",onClick:i},{default:I(()=>[V("NO")]),_:1},8,["disabled"])]),_:1})]),_:1})])):S("",!0),u("div",v2,[p(t).adminHeads?S("",!0):(m(),L(d,{key:0})),p(t).adminHeads&&p(t).adminHeads.length===0?(m(),L(f,{key:1,message:"No data yet"})):S("",!0),p(t).adminHeads&&p(t).adminHeads.length>0?(m(),L(pt,{key:2,"fixed-header":"",height:"55dvh"},{default:I(()=>[u("thead",null,[u("tr",null,[b2,y2,x2,S2,k2,w2,p(t).userData.school.delete_staff?(m(),x("th",T2,"ACTION")):S("",!0)])]),u("tbody",null,[(m(!0),x(U,null,et(p(t).adminHeads,(h,g)=>(m(),x("tr",{key:g},[u("td",D2,[V(y(h.user.first_name)+" "+y(h.user.last_name)+" ",1),u("span",M2,"[ "+y(h.role)+" ]",1)]),u("td",A2,y(h.user.username),1),u("td",C2,y(h.head_id),1),u("td",$2,y(h.gender),1),u("td",E2,y(h.dob),1),u("td",P2,[u("img",{class:"profile-img",src:h.img},null,8,O2)]),p(t).userData.school.delete_staff?(m(),x("td",I2,[D(Q,{onClick:_=>l(h.head_id),size:"x-small",class:"edit-btn remove"},{default:I(()=>[V("delete")]),_:2},1032,["onClick"])])):S("",!0)]))),128))])]),_:1})):S("",!0)])],64)}}}),F2=st(R2,[["__scopeId","data-v-9733548e"]]),L2={class:"section-nav-container"},V2={class:"sections"},N2=q({__name:"AdminHead",setup(s){const t=T(1),e=n=>{t.value=n};return(n,a)=>{const i=m2,o=F2;return m(),x(U,null,[u("div",L2,[u("button",{class:W(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value===1}]),onClick:a[0]||(a[0]=l=>e(1))},"ADD HEAD",2),u("button",{class:W(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value===2}]),onClick:a[1]||(a[1]=l=>e(2))},"ALL HEADS",2)]),u("div",V2,[u("div",{class:"h-100",style:X(t.value===1?{display:"flex"}:{display:"none"})},[D(i)],4),u("div",{class:"h-100",style:X(t.value===2?{display:"flex"}:{display:"none"})},[D(o)],4)])],64)}}}),B2=st(N2,[["__scopeId","data-v-12b33b9c"]]),z2={key:0,id:"welcome",class:"welcome-overlay"},j2={style:{"text-align":"center"},class:"mb-5"},H2={key:0,class:"form-message",style:{color:"yellow"}},W2={key:1,class:"form-message",style:{color:"red"}},U2={class:"field-container flex-all-c"},Y2={class:"field-container flex-all-c"},G2={class:"main"},X2={class:"pages-container"},J2={class:"page-nav-container"},K2=q({__name:"staff",setup(s){Hl({meta:[{name:"robots",content:"no-index"}]});const t=ot(),e=T(null),n=T("page1"),a=T(""),i=T(""),o=T(""),l=T(""),r=T(""),c=T(""),d=T(!1),f=T(!1);fo(()=>{document.body.style.overflow="auto"}),Fl(()=>{t.isAuthenticated&&t.userData&&(document.title="EduAAP"),document.body.style.overflow="hidden",e.value=localStorage.getItem("RozmachAuth"),e.value&&(e.value=JSON.parse(e.value))});const h=async()=>{d.value=!0;const v=new FormData;v.append("password",o.value),v.append("contact",l.value),v.append("altContact",c.value),v.append("email",r.value);try{const b=await xt.post("user/data",v);if(b.status===200){e.value&&e.value.reset&&(e.value.reset=!1,localStorage.setItem("RozmachAuth",JSON.stringify(e.value))),await t.getUserData(),i.value="success";const w=document.getElementById("welcome");w&&(w.style.display="none")}else b.status===201&&(a.value=b.data.ms)}catch{return a.value="Something went wrong. check your internet connection",Promise.reject()}finally{d.value=!1}},g=G(()=>!(l.value&&o.value)),_=v=>{n.value=v};return(v,b)=>{const w=Dl,k=Or,M=gc,E=Ic,A=Fg,O=Ml,$=v_,C=eb,P=Gb,B=Ny,N=nx,J=Gx,rt=ak,j=a2,Z=B2,K=Al;return m(),x(U,null,[p(e)&&p(e).reset&&p(t).userData&&p(t).userData.role==="staff"||p(e)&&p(e).reset&&p(t).userData&&p(t).userData.role==="head"?(m(),x("div",z2,[D(ss,{class:"card flex-all-c"},{default:I(()=>[D(Ll,{id:"school-name"},{default:I(()=>[V(y(p(t).userData.school.name),1)]),_:1}),D(Fs,{style:{"font-size":".9rem","font-family":"sans-serif","text-align":"left","line-height":"1.5"}},{default:I(()=>[u("p",j2,[u("strong",null,"Welcome "+y(p(t).userData.first_name+" "+p(t).userData.last_name)+"! Update your information before you begin",1)]),p(i)?(m(),x("h6",H2,y(p(i)),1)):S("",!0),p(a)?(m(),x("h6",W2,y(p(a)),1)):S("",!0),u("div",U2,[D(nt,{disabled:p(d),class:"form-text-field",modelValue:p(l),"onUpdate:modelValue":b[0]||(b[0]=Y=>Je(l)?l.value=Y:null),label:"PHONE NUMBER",hint:"Enter you phone number",placeholder:"0596021383","prepend-inner-icon":"mdi-phone",type:"number",variant:"outlined",density:"compact",clearable:""},null,8,["disabled","modelValue"]),D(nt,{disabled:p(d),class:"form-text-field",modelValue:p(c),"onUpdate:modelValue":b[1]||(b[1]=Y=>Je(c)?c.value=Y:null),label:"SECOND PHONE (OPTIONAL)",type:"number",placeholder:"0556429210",hint:"Enter you second phone number","prepend-inner-icon":"mdi-phone",density:"compact",variant:"outlined",clearable:""},null,8,["disabled","modelValue"])]),u("div",Y2,[D(nt,{disabled:p(d),class:"form-text-field",modelValue:p(r),"onUpdate:modelValue":b[2]||(b[2]=Y=>Je(r)?r.value=Y:null),label:"EMAIL (OPTIONAL)",hint:"Enter your email address",type:"email",placeholder:"nyamejustice2000@gmail.com",variant:"outlined","prepend-inner-icon":"mdi-email",density:"compact",clearable:""},null,8,["disabled","modelValue"]),D(nt,{"append-inner-icon":p(f)?"mdi-eye-off-outline":"mdi-eye-outline","onClick:appendInner":b[3]||(b[3]=Y=>f.value=!p(f)),disabled:p(d),type:p(f)?"text":"password",clearable:"",density:"compact",class:"form-text-field",variant:"outlined",hint:"Enter a new password",modelValue:p(o),"onUpdate:modelValue":b[4]||(b[4]=Y=>Je(o)?o.value=Y:null),label:"RESET PASSWORD","prepend-inner-icon":"mdi-lock-outline"},null,8,["append-inner-icon","disabled","type","modelValue"])])]),_:1}),D(Ls,{class:"flex-all"},{default:I(()=>[D(Q,{class:"overlay-btn",disabled:p(g),loading:p(d),elevation:"4",onClick:b[5]||(b[5]=Y=>h())},{default:I(()=>[V("DONE")]),_:1},8,["disabled","loading"])]),_:1})]),_:1})])):S("",!0),D(w),u("main",G2,[u("div",X2,[u("div",J2,[p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("button",{key:0,class:W(["nav-btn",{"nav-btn-active":p(n)==="page1"}]),onClick:b[6]||(b[6]=Y=>_("page1"))},[D(H,{icon:"mdi-eye"}),V(" OVERVIEW ")],2)):S("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("button",{key:1,class:W(["nav-btn",{"nav-btn-active":p(n)==="page2"}]),onClick:b[7]||(b[7]=Y=>_("page2"))},[D(H,{icon:"mdi-account"}),V(" DEPARTMENTS ")],2)):S("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("button",{key:2,class:W(["nav-btn",{"nav-btn-active":p(n)==="page3"}]),onClick:b[8]||(b[8]=Y=>_("page3"))},[D(H,{icon:"mdi-account-group-outline"}),V(" STUDENTS ")],2)):S("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("button",{key:3,class:W(["nav-btn",{"nav-btn-active":p(n)==="page4"}]),onClick:b[9]||(b[9]=Y=>_("page4"))},[D(H,{icon:"mdi-chart-bar"}),V(" ANALYTICS ")],2)):S("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("button",{key:4,class:W(["nav-btn",{"nav-btn-active":p(n)==="page5"}]),onClick:b[10]||(b[10]=Y=>_("page5"))},[D(H,{icon:"mdi-alert-octagon-outline"}),V(" HELP ")],2)):S("",!0),p(t).userData&&p(t).userData.staff_role==="teacher"||p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("button",{key:5,class:W(["nav-btn",{"nav-btn-active":p(n)==="page1"}]),onClick:b[11]||(b[11]=Y=>_("page1"))},[D(H,{icon:"mdi-book-open-outline"}),V(" COURSEWORK ")],2)):S("",!0),p(t).userData&&p(t).userData.staff_role==="teacher"||p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("button",{key:6,class:W(["nav-btn",{"nav-btn-active":p(n)==="page2"}]),onClick:b[12]||(b[12]=Y=>_("page2"))},[D(H,{icon:"mdi-account-group-outline"}),V(" STUDENTS ")],2)):S("",!0),p(t).userData&&p(t).userData.staff_role==="teacher"||p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("button",{key:7,class:W(["nav-btn",{"nav-btn-active":p(n)==="page3"}]),onClick:b[13]||(b[13]=Y=>_("page3"))},[D(H,{icon:"mdi-chart-bar"}),V(" ANALYTICS ")],2)):S("",!0),p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("button",{key:8,class:W(["nav-btn",{"nav-btn-active":p(n)==="page4"}]),onClick:b[14]||(b[14]=Y=>_("page4"))},[D(H,{icon:"mdi-account-multiple"}),V(" TEACHERS ")],2)):S("",!0),p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("button",{key:9,class:W(["nav-btn",{"nav-btn-active":p(n)==="page5"}]),onClick:b[15]||(b[15]=Y=>_("page5"))},[D(H,{icon:"mdi-chart-line"}),V(" PERFORMANCE ")],2)):S("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("button",{key:10,class:W(["nav-btn",{"nav-btn-active":p(n)==="page1"}]),onClick:b[16]||(b[16]=Y=>_("page1"))},[D(H,{icon:"mdi-calendar"}),V(" CALENDAR ")],2)):S("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("button",{key:11,class:W(["nav-btn",{"nav-btn-active":p(n)==="page2"}]),onClick:b[17]||(b[17]=Y=>_("page2"))},[D(H,{icon:"mdi-account-group-outline"}),V(" STUDENTS ")],2)):S("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("button",{key:12,class:W(["nav-btn",{"nav-btn-active":p(n)==="page3"}]),onClick:b[18]||(b[18]=Y=>_("page3"))},[D(H,{icon:"mdi-account-multiple"}),V(" TEACHERS ")],2)):S("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("button",{key:13,class:W(["nav-btn",{"nav-btn-active":p(n)==="page4"}]),onClick:b[19]||(b[19]=Y=>_("page4"))},[D(H,{icon:"mdi-account"}),V(" HEAD ")],2)):S("",!0),p(t).userData&&p(t).userData.role==="staff"?(m(),x("button",{key:14,class:W(["nav-btn",{"nav-btn-active":p(n)==="page6"}]),onClick:b[20]||(b[20]=Y=>_("page6"))},[D(H,{icon:"mdi-alert-octagon-outline"}),V(" HELP ")],2)):S("",!0)]),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("div",{key:0,class:"pages",style:X(p(n)==="page1"?{display:"flex"}:{display:"none"})},[D(k)],4)):S("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("div",{key:1,class:"pages",style:X(p(n)==="page2"?{display:"flex"}:{display:"none"})},[D(M)],4)):S("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("div",{key:2,class:"pages",style:X(p(n)==="page3"?{display:"flex"}:{display:"none"})},[D(E)],4)):S("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("div",{key:3,class:"pages",style:X(p(n)==="page4"?{display:"flex"}:{display:"none"})},[D(A)],4)):S("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="head"?(m(),x("div",{key:4,class:"pages",style:X(p(n)==="page5"?{display:"flex"}:{display:"none"})},[D(O)],4)):S("",!0),p(t).userData&&p(t).userData.staff_role==="teacher"||p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("div",{key:5,class:"pages",style:X(p(n)==="page1"?{display:"flex"}:{display:"none"})},[D($)],4)):S("",!0),p(t).userData&&p(t).userData.staff_role==="teacher"||p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("div",{key:6,class:"pages",style:X(p(n)==="page2"?{display:"flex"}:{display:"none"})},[D(C)],4)):S("",!0),p(t).userData&&p(t).userData.staff_role==="teacher"||p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("div",{key:7,class:"pages",style:X(p(n)==="page3"?{display:"flex"}:{display:"none"})},[D(P)],4)):S("",!0),p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("div",{key:8,class:"pages",style:X(p(n)==="page4"?{display:"flex"}:{display:"none"})},[D(B)],4)):S("",!0),p(t).userData&&p(t).userData.staff_role==="hod"?(m(),x("div",{key:9,class:"pages",style:X(p(n)==="page5"?{display:"flex"}:{display:"none"})},[D(N)],4)):S("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("div",{key:10,class:"pages",style:X(p(n)==="page1"?{display:"flex"}:{display:"none"})},[D(J)],4)):S("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("div",{key:11,class:"pages",style:X(p(n)==="page2"?{display:"flex"}:{display:"none"})},[D(rt)],4)):S("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("div",{key:12,class:"pages",style:X(p(n)==="page3"?{display:"flex"}:{display:"none"})},[D(j)],4)):S("",!0),p(t).userData&&p(t).userData.staff_role==="admin"?(m(),x("div",{key:13,class:"pages",style:X(p(n)==="page4"?{display:"flex"}:{display:"none"})},[D(Z)],4)):S("",!0),p(t).userData&&p(t).userData.role&&p(t).userData.role==="staff"?(m(),x("div",{key:14,class:"pages",style:X(p(n)==="page6"?{display:"flex"}:{display:"none"})},[D(O)],4)):S("",!0)])]),D(K)],64)}}}),iw=st(K2,[["__scopeId","data-v-d7604b70"]]);export{iw as default};
