import{u as C}from"./SCYtYpnd.js";import{h as V,i as k,u as P,V as x,a as b,b as w}from"./UlccNJJ0.js";import{M as I,an as S,O as B,ao as A,ay as M,z as s,d as T,H as E,F as L,r as N,e as O,T as R,A as n,t as g,x as r,K as m,v as U,y as h,L as $,B as p,aV as D,C as z,D as H,_ as F}from"./7KyJguAr.js";import{m as K,u as Y,V as f}from"./9_bobrbN.js";const j=window.setInterval,q=I({...K(),...V({fullHeight:!0}),...S()},"VApp"),G=B()({name:"VApp",props:q(),setup(o,e){let{slots:l}=e;const t=A(o),{layoutClasses:u,getLayoutItem:c,items:d,layoutRef:y}=k(o),{rtlClasses:v}=M();return Y(()=>{var a;return s("div",{ref:y,class:["v-application",t.themeClasses.value,u.value,v.value,o.class],style:[o.style]},[s("div",{class:"v-application__wrap"},[(a=l.default)==null?void 0:a.call(l)])])}),{getLayoutItem:c,items:d,theme:t}}}),J=o=>(z("data-v-bfa77cfa"),o=o(),H(),o),Q={class:"container",style:{"background-color":"white"}},W={id:"logout",class:"overlay"},X={key:0},Z={id:"session-alert",class:"overlay"},ee={class:"overlay-card d-flex flex-column align-center"},ae=J(()=>r("h4",{id:"company-name"},"Rozmach",-1)),te={class:"overlay-text"},oe=T({__name:"default",setup(o){C({link:[{rel:"icon",href:"/login_logo.jpg"}],htmlAttrs:{lang:"en"}});const e=P(),l=E(),t=L(),u=N(!1);let c=j(()=>{t.startUpServer()},60*1e3);O(()=>{clearInterval(c)});const d=async()=>{const a=document.getElementById("session-alert");a&&e.overlayPath&&e.logout?(t.logoutUser(),await l.push(`${e.overlayPath}`),a.style.display="none",e.overlayMessage="",e.overlayMessageColor=null,e.overlayPath=null,e.logout=null):a&&e.overlayPath&&!e.logout?(await l.push(`${e.overlayPath}`),a.style.display="none",e.overlayMessage="",e.overlayPath=null,e.overlayMessageColor=null,e.logout=null):a&&!e.overlayPath&&!e.logout&&(a.style.display="none",e.overlayMessage="",e.overlayMessageColor=null,e.overlayPath=null,e.logout=null)},y=()=>{const a=document.getElementById("logout");a&&(a.style.display="none")},v=async()=>{const a=document.getElementById("logout");u.value=!0,t.logoutUser(),t.message="Your have been logged out!",await l.push(e.overlayPath),u.value=!1,a&&(a.style.display="none"),setTimeout(()=>{e.overlayPath=null,t.message=""},5e3)};return(a,i)=>(g(),R(G,{style:{"background-color":"seagreen"}},{default:n(()=>[r("div",Q,[r("div",W,[s(w,{class:"d-flex flex-column align-center"},{default:n(()=>[s(x,{style:{"font-size":".8rem","font-family":"sans-serif","text-align":"left","line-height":"1.2","font-weight":"bold"}},{default:n(()=>[m(t).userData?(g(),U("p",X,h(m(t).userData.first_name)+"! are you sure you want to logout?",1)):$("",!0)]),_:1}),s(b,null,{default:n(()=>[s(f,{class:"mr-5",color:"red",elevation:"4",onClick:i[0]||(i[0]=_=>v())},{default:n(()=>[p("YES")]),_:1}),s(f,{disabled:u.value,color:"blue",class:"ml-5",elevation:"4",onClick:y},{default:n(()=>[p("NO")]),_:1},8,["disabled"])]),_:1})]),_:1})]),r("div",Z,[r("div",ee,[ae,r("p",te,h(m(e).overlayMessage),1),r("div",null,[s(f,{class:"overlay-btn",onClick:i[1]||(i[1]=_=>d())},{default:n(()=>[p("OK")]),_:1})])])]),D(a.$slots,"default",{},void 0,!0)])]),_:3}))}}),ue=F(oe,[["__scopeId","data-v-bfa77cfa"]]);export{ue as default};
