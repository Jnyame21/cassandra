var gr=Object.defineProperty;var pr=(s,t,e)=>t in s?gr(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var B=(s,t,e)=>(pr(s,typeof t!="symbol"?t+"":t,e),e);import{m as mr,V as wi,a as St,_ as At,b as hn,c as fn,d as qt,e as gn,f as Xe,g as _r,h as Yt,i as br,j as vr,k as yr}from"./TheFooter.fawzvJKy.js";import{M as Ka,N as xr,O as Ja,P as qa,Q as Sr,c as V,R as Za,z as D,S as Gt,d as Q,G as lt,r as x,t as _,v as S,T as j,A as z,y,x as u,B as W,L as C,C as Ct,D as Tt,_ as at,U as We,K as b,V as K,W as nt,X as G,Y as X,Z as Qa,g as Vn,$ as kr,o as wr,e as to,a0 as zn,a1 as eo,a2 as so,a3 as Mr,a4 as Cr,a5 as Mi,a6 as Tr,J as ue,a7 as zt,F as Dr}from"./entry.RWiFkUZM.js";import{u as Le,V as no,a as io,b as ao,c as Ar}from"./VCard.YBfEJOoB.js";import{u as oo,a as Z,V as bt}from"./index.0PP7SGfJ.js";import{m as ro,u as lo,b as sn,c as Pr,f as $r,d as Or,e as Fr,g as Er,a as ee}from"./VTextField.KbvYYWv9.js";import{u as Lr}from"./vue.f36acd1f.IXqAWTJW.js";const Rr=Ka({...ro(),...xr(mr(),["inline"])},"VCheckbox"),Ir=Ja()({name:"VCheckbox",inheritAttrs:!1,props:Rr(),emits:{"update:modelValue":s=>!0,"update:focused":s=>!0},setup(s,t){let{attrs:e,slots:n}=t;const i=qa(s,"modelValue"),{isFocused:a,focus:o,blur:r}=lo(s),l=Sr(),c=V(()=>s.id||`checkbox-${l}`);return oo(()=>{const[d,h]=Za(e),f=sn.filterProps(s),g=wi.filterProps(s);return D(sn,Gt({class:["v-checkbox",s.class]},d,f,{modelValue:i.value,"onUpdate:modelValue":m=>i.value=m,id:c.value,focused:a.value,style:s.style}),{...n,default:m=>{let{id:p,messagesId:v,isDisabled:k,isReadonly:w}=m;return D(wi,Gt(g,{id:p.value,"aria-describedby":v.value,disabled:k.value,readonly:w.value},h,{modelValue:i.value,"onUpdate:modelValue":O=>i.value=O,onFocus:o,onBlur:r}),n)}})}),{}}}),ks=s=>(Ct("data-v-a44afed7"),s=s(),Tt(),s),Br={style:{width:"100%",position:"relative",height:"100%"}},Vr={class:"table-title-container",style:{position:"relative"}},zr=ks(()=>u("td",null,"Justice",-1)),Nr={class:"subtitle"},Hr=ks(()=>u("td",{class:"table-data"},"Total",-1)),jr={class:"table-data-value"},Wr={key:0,class:"table-data"},Ur=ks(()=>u("td",{class:"table-data"},"form one",-1)),Yr={class:"table-data-value"},Gr={key:0,class:"table-data"},Xr=ks(()=>u("td",{class:"table-data"},"form two",-1)),Kr={class:"table-data-value"},Jr={key:0,class:"table-data"},qr=ks(()=>u("td",{class:"table-data"},"form three",-1)),Zr={class:"table-data-value"},Qr={key:0,class:"table-data"},tl=Q({__name:"HeadOverviewPrograms",props:{program:{}},setup(s){const{program:t}=s;lt();const e=x([]),n=x([]),i=x([]),a=x([]),o=x([]),r=x([]),l=x([]),c=x([]),d=x([]),h=x([]),f=x([]),g=x([]);return t.classes.forEach(m=>{m&&m.students&&m.students.forEach(p=>{e.value.push(p),p.gender&&p.gender==="Male"||p.gender==="M"?n.value.push(p):i.value.push(p),p.current_year&&p.current_year===1?(a.value.push(p),p.gender&&p.gender==="Male"||p.gender==="M"?o.value.push(p):r.value.push(p)):p.current_year&&p.current_year===2?(l.value.push(p),p.gender&&p.gender==="Male"||p.gender==="M"?c.value.push(p):d.value.push(p)):p.current_year&&p.current_year===3&&(h.value.push(p),p.gender&&p.gender==="Male"||p.gender==="M"?f.value.push(p):g.value.push(p))})}),(m,p)=>(_(),S("div",Br,[e.value.length>0?(_(),j(St,{key:0,class:"mt-5",height:"300px"},{default:z(()=>[u("tbody",null,[u("tr",Vr,[zr,u("td",Nr,y(m.program.name),1)]),u("tr",null,[Hr,u("td",jr,[W(y(e.value.length)+" ",1),e.value&&e.value.length>0&&e.value[0].gender?(_(),S("span",Wr," [ M: "+y(n.value.length)+"("+y(parseFloat((n.value.length/e.value.length*100).toFixed(1)))+")%] [ F: "+y(i.value.length)+"("+y(parseFloat((i.value.length/e.value.length*100).toFixed(1)))+")%] ",1)):C("",!0)])]),u("tr",null,[Ur,u("td",Yr,[W(y(a.value.length)+" ",1),a.value&&a.value.length>0&&a.value[0].gender?(_(),S("span",Gr," [ M: "+y(o.value.length)+"("+y(parseFloat((o.value.length/a.value.length*100).toFixed(1)))+")%] [ F: "+y(r.value.length)+"("+y(parseFloat((r.value.length/a.value.length*100).toFixed(1)))+")%] ",1)):C("",!0)])]),u("tr",null,[Xr,u("td",Kr,[W(y(l.value.length)+" ",1),l.value&&l.value.length>0&&l.value[0].gender?(_(),S("span",Jr," [ M: "+y(c.value.length)+"("+y(parseFloat((c.value.length/l.value.length*100).toFixed(1)))+")%] [ F: "+y(d.value.length)+"("+y(parseFloat((d.value.length/l.value.length*100).toFixed(1)))+")%] ",1)):C("",!0)])]),u("tr",null,[qr,u("td",Zr,[W(y(h.value.length)+" ",1),h.value&&h.value.length>0&&h.value[0].gender?(_(),S("span",Qr," [ M: "+y(f.value.length)+"("+y(parseFloat((f.value.length/h.value.length*100).toFixed(1)))+")%] [ F: "+y(g.value.length)+"("+y(parseFloat((g.value.length/h.value.length*100).toFixed(1)))+")%] ",1)):C("",!0)])])])]),_:1})):C("",!0)]))}}),el=at(tl,[["__scopeId","data-v-a44afed7"]]),Re=s=>(Ct("data-v-1db534fc"),s=s(),Tt(),s),sl={style:{width:"100%",position:"relative",height:"100%"},class:"overview"},nl=Re(()=>u("tr",{class:"table-title-container",style:{position:"relative"}},[u("td",null,"Justice"),u("td",{class:"table-title"},"students")],-1)),il=Re(()=>u("td",{class:"table-data"},"Total",-1)),al={class:"table-data-value"},ol={key:0,class:"table-data"},rl=Re(()=>u("td",{class:"table-data"},"form one",-1)),ll={class:"table-data-value"},cl={key:0,class:"table-data"},dl=Re(()=>u("td",{class:"table-data"},"form two",-1)),ul={class:"table-data-value"},hl={key:0,class:"table-data"},fl=Re(()=>u("td",{class:"table-data"},"form three",-1)),gl={class:"table-data-value"},pl={key:0,class:"table-data"},ml=Re(()=>u("tr",{class:"table-title-container",style:{position:"relative"}},[u("td",null,"Justice"),u("td",{class:"table-title"},"teachers")],-1)),_l={key:0},bl=Re(()=>u("td",{class:"table-data"},"total",-1)),vl={class:"table-data-value"},yl={key:0,class:"table-data"},xl=Q({__name:"HeadOverview",setup(s){const t=lt(),e=x([]),n=x([]),i=x([]),a=x([]),o=x([]),r=x([]),l=x([]),c=x([]),d=x([]),h=x([]),f=x([]),g=x([]),m=x([]),p=x([]),v=x([]);return We(()=>t.headDepartments,(k,w)=>{k&&k.forEach(O=>{O&&O.department.teachers.forEach($=>{m.value.push($),$.gender&&$.gender==="Male"||$.gender==="M"?p.value.push($):v.value.push($)})})}),We(()=>t.headPrograms,(k,w)=>{k&&k.forEach(O=>{O.classes.forEach($=>{$&&$.students&&$.students.forEach(A=>{e.value.push(A),A.gender&&A.gender==="Male"||A.gender==="M"?n.value.push(A):i.value.push(A),A.current_year&&A.current_year===1?(a.value.push(A),A.gender&&A.gender==="Male"||A.gender==="M"?o.value.push(A):r.value.push(A)):A.current_year&&A.current_year===2?(l.value.push(A),A.gender&&A.gender==="Male"||A.gender==="M"?c.value.push(A):d.value.push(A)):A.current_year&&A.current_year===3&&(h.value.push(A),A.gender&&A.gender==="Male"||A.gender==="M"?f.value.push(A):g.value.push(A))})})})}),(k,w)=>{const O=At,$=el;return _(),S("div",sl,[!b(t).headDepartments&&!b(t).headPrograms||e.value.length===0&&m.value.length===0?(_(),j(O,{key:0})):C("",!0),e.value.length>0||m.value.length>0?(_(),j(St,{key:1,class:"mt-5",height:"300px"},{default:z(()=>[u("tbody",null,[nl,u("tr",null,[il,u("td",al,[W(y(e.value.length)+" ",1),e.value&&e.value.length>0&&e.value[0].gender?(_(),S("span",ol," [ M: "+y(n.value.length)+"("+y(parseFloat((n.value.length/e.value.length*100).toFixed(1)))+")%] [ F: "+y(i.value.length)+"("+y(parseFloat((i.value.length/e.value.length*100).toFixed(1)))+")%] ",1)):C("",!0)])]),u("tr",null,[rl,u("td",ll,[W(y(a.value.length)+" ",1),a.value&&a.value.length>0&&a.value[0].gender?(_(),S("span",cl," [ M: "+y(o.value.length)+"("+y(parseFloat((o.value.length/a.value.length*100).toFixed(1)))+")%] [ F: "+y(r.value.length)+"("+y(parseFloat((r.value.length/a.value.length*100).toFixed(1)))+")%] ",1)):C("",!0)])]),u("tr",null,[dl,u("td",ul,[W(y(l.value.length)+" ",1),l.value&&l.value.length>0&&l.value[0].gender?(_(),S("span",hl," [ M: "+y(c.value.length)+"("+y(parseFloat((c.value.length/l.value.length*100).toFixed(1)))+")%] [ F: "+y(d.value.length)+"("+y(parseFloat((d.value.length/l.value.length*100).toFixed(1)))+")%] ",1)):C("",!0)])]),u("tr",null,[fl,u("td",gl,[W(y(h.value.length)+" ",1),h.value&&h.value.length>0&&h.value[0].gender?(_(),S("span",pl," [ M: "+y(f.value.length)+"("+y(parseFloat((f.value.length/h.value.length*100).toFixed(1)))+")%] [ F: "+y(g.value.length)+"("+y(parseFloat((g.value.length/h.value.length*100).toFixed(1)))+")%] ",1)):C("",!0)])])])]),_:1})):C("",!0),(_(!0),S(K,null,nt(b(t).headPrograms,(A,E)=>(_(),S("div",{key:E},[D($,{program:A},null,8,["program"])]))),128)),e.value.length>0||m.value.length>0?(_(),j(St,{key:2,class:"mt-5",height:"110px"},{default:z(()=>[u("tbody",null,[ml,m.value?(_(),S("tr",_l,[bl,u("td",vl,[W(y(m.value.length)+" ",1),m.value.length>0&&m.value[0].gender?(_(),S("span",yl," [ M: "+y(p.value.length)+"("+y(parseFloat((p.value.length/m.value.length*100).toFixed(1)))+")%] [ F: "+y(v.value.length)+"("+y(parseFloat((v.value.length/m.value.length*100).toFixed(1)))+")%] ",1)):C("",!0)])])):C("",!0)])]),_:1})):C("",!0)])}}}),Sl=at(xl,[["__scopeId","data-v-1db534fc"]]),kl=s=>(Ct("data-v-388dbcaa"),s=s(),Tt(),s),wl={style:{width:"100%",position:"relative",height:"100%"}},Ml=kl(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"NAME"),u("th",{class:"table-head"},"STAFF ID"),u("th",{class:"table-head"},"SUBJECT(S)"),u("th",{class:"table-head"},"IMAGE")])],-1)),Cl={class:"table-data"},Tl={key:0,style:{color:"seagreen"}},Dl={class:"table-data"},Al={class:"table-data"},Pl={class:"table-data"},$l=["src"],Ol=Q({__name:"HeadDepartmentStaffProfile",props:{staff:null},setup(s){const t=s,e=Le();return(n,i)=>{const a=At;return _(),S("div",wl,[t.staff?C("",!0):(_(),j(a,{key:0})),t.staff?(_(),j(St,{key:1,"fixed-header":"",height:"55dvh"},{default:z(()=>[Ml,u("tbody",null,[(_(!0),S(K,null,nt(t.staff,(o,r)=>(_(),S("tr",{key:r},[u("td",Cl,[W(y(o.user.first_name)+" "+y(o.user.last_name)+" ",1),o.role==="hod"?(_(),S("span",Tl,"[HOD]")):C("",!0)]),u("td",Dl,y(o.staff_id),1),u("td",Al,[(_(!0),S(K,null,nt(o.subjects,(l,c)=>(_(),S("p",{key:c},y(l.name),1))),128))]),u("td",Pl,[u("img",{class:"student-img",src:b(e).getBaseUrl+o.img},null,8,$l)])]))),128))])]),_:1})):C("",!0)])}}}),Fl=at(Ol,[["__scopeId","data-v-388dbcaa"]]),co=s=>(Ct("data-v-6db47b35"),s=s(),Tt(),s),El={style:{width:"100%",position:"relative",height:"100%"}},Ll=co(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"TEACHER"),u("th",{class:"table-head"},"STAFF ID"),u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM")])],-1)),Rl={class:"table-data"},Il={class:"table-data"},Bl={class:"table-data"},Vl={class:"table-data"},zl={class:"table-data"},Nl=co(()=>u("tr",{class:"empty-row"},"Justice",-1)),Hl=Q({__name:"HeadDepartmentTermCourseAssignment",props:{term:{}},setup(s){return(t,e)=>{const n=At;return _(),S("div",El,[!t.term||t.term.length===0?(_(),j(n,{key:0})):C("",!0),t.term.length>0?(_(),j(St,{key:1,"fixed-header":"",height:"45dvh"},{default:z(()=>[Ll,u("tbody",null,[(_(!0),S(K,null,nt(t.term,(i,a)=>(_(),S("tr",{key:a},[u("td",Rl,y(i.teacher.user.first_name)+" "+y(i.teacher.user.last_name),1),u("td",Il,y(i.teacher.staff_id),1),u("td",Bl,y(i.subject.name),1),u("td",Vl,y(i.students_class.name),1),u("td",zl,y(i.students_class.students_year),1)]))),128)),Nl])]),_:1})):C("",!0)])}}}),jl=at(Hl,[["__scopeId","data-v-6db47b35"]]),Wl={class:"subsections-container"},Ul={class:"subsection-nav-container"},Yl={class:"subsections"},Gl=Q({__name:"HeadDepartmentsCourseAssignment",props:{subjectAssignment:{}},setup(s){const t=lt(),e=x(t.activeTerm),n=i=>{e.value=i};return(i,a)=>{const o=jl;return _(),S("div",Wl,[u("div",Ul,[u("button",{class:G(["nav-btn-2",{"nav-btn-2-active":e.value===1}]),onClick:a[0]||(a[0]=r=>n(1))},"SEMESTER 1",2),u("button",{class:G(["nav-btn-2",{"nav-btn-2-active":e.value===2}]),onClick:a[1]||(a[1]=r=>n(2))},"SEMESTER 2",2),b(t).userData&&b(t).userData.academic_year.sem_3_start_date?(_(),S("button",{key:0,class:G(["nav-btn-2",{"nav-btn-2-active":e.value===3}]),onClick:a[2]||(a[2]=r=>n(3))},"SEMESTER 3",2)):C("",!0)]),u("div",Yl,[u("div",{class:"h-100",style:X(e.value===1?{display:"flex"}:{display:"none"})},[D(o,{term:i.subjectAssignment.term_one},null,8,["term"])],4),u("div",{class:"h-100",style:X(e.value===2?{display:"flex"}:{display:"none"})},[D(o,{term:i.subjectAssignment.term_two},null,8,["term"])],4),b(t).userData&&b(t).userData.academic_year.sem_3_start_date?(_(),S("div",{key:0,class:"h-100",style:X(e.value===3?{display:"flex"}:{display:"none"})},[D(o,{term:i.subjectAssignment.term_three},null,8,["term"])],4)):C("",!0)])])}}}),Xl={class:"subsections-container"},Kl={class:"subsection-nav-container"},Jl={class:"subsections"},ql=Q({__name:"HeadDepartmentPage",props:{department:null},setup(s){const t=s,e=x("section1"),n=i=>{e.value=i};return(i,a)=>{const o=Fl,r=Gl;return _(),S("div",Xl,[u("div",Kl,[u("button",{class:G(["nav-btn-1 btn-1",{"nav-btn-1-active":e.value==="section1"}]),onClick:a[0]||(a[0]=l=>n("section1"))},[D(Z,{icon:"mdi-account"}),W(" TEACHERS PROFILE ")],2),u("button",{class:G(["nav-btn-1 btn-2",{"nav-btn-1-active":e.value==="section2"}]),onClick:a[1]||(a[1]=l=>n("section2"))},[D(Z,{icon:"mdi-book-open-outline"}),W(" TEACHERS COURSEWORK ")],2)]),u("div",Jl,[u("div",{style:X(e.value==="section1"?{display:"flex"}:{display:"none"})},[D(o,{staff:t.department.department.teachers},null,8,["staff"])],4),u("div",{class:"h-100",style:X(e.value==="section2"?{display:"flex"}:{display:"none"})},[D(r,{subjectAssignment:t.department.subject_assignments},null,8,["subjectAssignment"])],4)])])}}}),Zl=at(ql,[["__scopeId","data-v-d521e7d1"]]),Ql={class:"sections-container"},tc={key:1,class:"section-nav-container"},ec=["onClick"],sc={key:2,class:"sections"},nc=Q({__name:"HeadDepartments",setup(s){const t=x("section1"),e=lt(),n=i=>{t.value=i};return(i,a)=>{const o=At,r=Zl;return _(),S("div",Ql,[!b(e).headDepartments||b(e).headDepartments&&b(e).headDepartments.length===0?(_(),j(o,{key:0,class:"no-data"})):C("",!0),b(e).headDepartments&&b(e).headDepartments.length>0?(_(),S("div",tc,[(_(!0),S(K,null,nt(b(e).headDepartments,(l,c)=>(_(),S("button",{key:c,class:G(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[u("span",null,y(l.department.name),1)],10,ec))),128))])):C("",!0),b(e).headDepartments&&b(e).headDepartments.length>0?(_(),S("div",sc,[(_(!0),S(K,null,nt(b(e).headDepartments,(l,c)=>(_(),S("div",{class:"h-100",key:c,style:X(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[D(r,{department:l},null,8,["department"])],4))),128))])):C("",!0)])}}}),ic=at(nc,[["__scopeId","data-v-e377c4de"]]),ac=s=>(Ct("data-v-abe361e1"),s=s(),Tt(),s),oc={style:{width:"100%",position:"relative",height:"100%"}},rc=ac(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"STUDENTS")])],-1)),lc={class:"table-data"},cc={class:"table-data"},dc={style:{padding:"0"}},uc={class:"student-info-container"},hc=["src"],fc={class:"flex-all-c"},gc={class:"user-name"},pc={class:"user-name"},mc=Q({__name:"HeadStudentsProgram",props:{program:{}},setup(s){const t=Le();return(e,n)=>(_(),S("div",oc,[D(St,{"fixed-header":"",height:"300px"},{default:z(()=>[rc,u("tbody",null,[(_(!0),S(K,null,nt(e.program.classes,(i,a)=>(_(),S("tr",{key:a},[u("td",lc,y(i.name),1),u("td",cc,y(i.students_year),1),u("td",dc,[D(hn,{class:"pa-0"},{default:z(()=>[D(fn,null,{activator:z(({props:o})=>[D(qt,Gt({class:"title"},o),{default:z(()=>[D(Z,{icon:"mdi-account-circle"}),W(y(i.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:z(()=>[D(gn,{class:"v-scroll",height:"22vh",items:i.students},{default:z(({item:o})=>[D(qt,{style:{position:"relative"}},{default:z(()=>[u("div",uc,[u("img",{class:"student-img",src:b(t).getBaseUrl+o.img},null,8,hc),u("div",fc,[u("p",gc,y(o.user.first_name+" "+o.user.last_name),1),u("p",pc,y(o.st_id),1)])])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1})]))}}),_c=at(mc,[["__scopeId","data-v-abe361e1"]]),bc={class:"sections-container"},vc=["onClick"],yc={key:2,class:"sections"},xc=Q({__name:"HeadStudents",setup(s){const t=x("section1"),e=lt(),n=i=>{t.value=i};return(i,a)=>{const o=At,r=_c;return _(),S("div",bc,[!b(e).headPrograms||b(e).headPrograms&&b(e).headPrograms.length===0?(_(),j(o,{key:0})):C("",!0),b(e).headPrograms&&b(e).headPrograms.length>0?(_(),j(Xe,{key:1,class:"section-nav-container",elevation:"0"},{default:z(()=>[(_(!0),S(K,null,nt(b(e).headPrograms,(l,c)=>(_(),S("button",{key:c,class:G(["nav-btn-2 btn-1",{"nav-btn-2-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},y(l.name),11,vc))),128))]),_:1})):C("",!0),b(e).headPrograms&&b(e).headPrograms.length>0?(_(),S("div",yc,[(_(!0),S(K,null,nt(b(e).headPrograms,(l,c)=>(_(),S("div",{class:"w-100 h-100",style:X(t.value===`section${c+1}`?{display:"flex"}:{display:"none"}),key:c},[D(r,{program:l},null,8,["program"])],4))),128))])):C("",!0)])}}}),Sc=at(xc,[["__scopeId","data-v-e7a26cb6"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function ws(s){return s+.5|0}const he=(s,t,e)=>Math.max(Math.min(s,e),t);function ss(s){return he(ws(s*2.55),0,255)}function me(s){return he(ws(s*255),0,255)}function oe(s){return he(ws(s/2.55)/100,0,1)}function Ci(s){return he(ws(s*100),0,100)}const Ut={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Nn=[..."0123456789ABCDEF"],kc=s=>Nn[s&15],wc=s=>Nn[(s&240)>>4]+Nn[s&15],Es=s=>(s&240)>>4===(s&15),Mc=s=>Es(s.r)&&Es(s.g)&&Es(s.b)&&Es(s.a);function Cc(s){var t=s.length,e;return s[0]==="#"&&(t===4||t===5?e={r:255&Ut[s[1]]*17,g:255&Ut[s[2]]*17,b:255&Ut[s[3]]*17,a:t===5?Ut[s[4]]*17:255}:(t===7||t===9)&&(e={r:Ut[s[1]]<<4|Ut[s[2]],g:Ut[s[3]]<<4|Ut[s[4]],b:Ut[s[5]]<<4|Ut[s[6]],a:t===9?Ut[s[7]]<<4|Ut[s[8]]:255})),e}const Tc=(s,t)=>s<255?t(s):"";function Dc(s){var t=Mc(s)?kc:wc;return s?"#"+t(s.r)+t(s.g)+t(s.b)+Tc(s.a,t):void 0}const Ac=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function uo(s,t,e){const n=t*Math.min(e,1-e),i=(a,o=(a+s/30)%12)=>e-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Pc(s,t,e){const n=(i,a=(i+s/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function $c(s,t,e){const n=uo(s,1,.5);let i;for(t+e>1&&(i=1/(t+e),t*=i,e*=i),i=0;i<3;i++)n[i]*=1-t-e,n[i]+=t;return n}function Oc(s,t,e,n,i){return s===i?(t-e)/n+(t<e?6:0):t===i?(e-s)/n+2:(s-t)/n+4}function ni(s){const e=s.r/255,n=s.g/255,i=s.b/255,a=Math.max(e,n,i),o=Math.min(e,n,i),r=(a+o)/2;let l,c,d;return a!==o&&(d=a-o,c=r>.5?d/(2-a-o):d/(a+o),l=Oc(e,n,i,d,a),l=l*60+.5),[l|0,c||0,r]}function ii(s,t,e,n){return(Array.isArray(t)?s(t[0],t[1],t[2]):s(t,e,n)).map(me)}function ai(s,t,e){return ii(uo,s,t,e)}function Fc(s,t,e){return ii($c,s,t,e)}function Ec(s,t,e){return ii(Pc,s,t,e)}function ho(s){return(s%360+360)%360}function Lc(s){const t=Ac.exec(s);let e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?ss(+t[5]):me(+t[5]));const i=ho(+t[2]),a=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=Fc(i,a,o):t[1]==="hsv"?n=Ec(i,a,o):n=ai(i,a,o),{r:n[0],g:n[1],b:n[2],a:e}}function Rc(s,t){var e=ni(s);e[0]=ho(e[0]+t),e=ai(e),s.r=e[0],s.g=e[1],s.b=e[2]}function Ic(s){if(!s)return;const t=ni(s),e=t[0],n=Ci(t[1]),i=Ci(t[2]);return s.a<255?`hsla(${e}, ${n}%, ${i}%, ${oe(s.a)})`:`hsl(${e}, ${n}%, ${i}%)`}const Ti={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Di={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Bc(){const s={},t=Object.keys(Di),e=Object.keys(Ti);let n,i,a,o,r;for(n=0;n<t.length;n++){for(o=r=t[n],i=0;i<e.length;i++)a=e[i],r=r.replace(a,Ti[a]);a=parseInt(Di[o],16),s[r]=[a>>16&255,a>>8&255,a&255]}return s}let Ls;function Vc(s){Ls||(Ls=Bc(),Ls.transparent=[0,0,0,0]);const t=Ls[s.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const zc=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Nc(s){const t=zc.exec(s);let e=255,n,i,a;if(t){if(t[7]!==n){const o=+t[7];e=t[8]?ss(o):he(o*255,0,255)}return n=+t[1],i=+t[3],a=+t[5],n=255&(t[2]?ss(n):he(n,0,255)),i=255&(t[4]?ss(i):he(i,0,255)),a=255&(t[6]?ss(a):he(a,0,255)),{r:n,g:i,b:a,a:e}}}function Hc(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${oe(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const Tn=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,ze=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function jc(s,t,e){const n=ze(oe(s.r)),i=ze(oe(s.g)),a=ze(oe(s.b));return{r:me(Tn(n+e*(ze(oe(t.r))-n))),g:me(Tn(i+e*(ze(oe(t.g))-i))),b:me(Tn(a+e*(ze(oe(t.b))-a))),a:s.a+e*(t.a-s.a)}}function Rs(s,t,e){if(s){let n=ni(s);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=ai(n),s.r=n[0],s.g=n[1],s.b=n[2]}}function fo(s,t){return s&&Object.assign(t||{},s)}function Ai(s){var t={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(t={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(t.a=me(s[3]))):(t=fo(s,{r:0,g:0,b:0,a:1}),t.a=me(t.a)),t}function Wc(s){return s.charAt(0)==="r"?Nc(s):Lc(s)}class gs{constructor(t){if(t instanceof gs)return t;const e=typeof t;let n;e==="object"?n=Ai(t):e==="string"&&(n=Cc(t)||Vc(t)||Wc(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=fo(this._rgb);return t&&(t.a=oe(t.a)),t}set rgb(t){this._rgb=Ai(t)}rgbString(){return this._valid?Hc(this._rgb):void 0}hexString(){return this._valid?Dc(this._rgb):void 0}hslString(){return this._valid?Ic(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let a;const o=e===a?.5:e,r=2*o-1,l=n.a-i.a,c=((r*l===-1?r:(r+l)/(1+r*l))+1)/2;a=1-c,n.r=255&c*n.r+a*i.r+.5,n.g=255&c*n.g+a*i.g+.5,n.b=255&c*n.b+a*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=jc(this._rgb,t._rgb,e)),this}clone(){return new gs(this.rgb)}alpha(t){return this._rgb.a=me(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=ws(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Rs(this._rgb,2,t),this}darken(t){return Rs(this._rgb,2,-t),this}saturate(t){return Rs(this._rgb,1,t),this}desaturate(t){return Rs(this._rgb,1,-t),this}rotate(t){return Rc(this._rgb,t),this}}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function ne(){}const Uc=(()=>{let s=0;return()=>s++})();function it(s){return s===null||typeof s>"u"}function dt(s){if(Array.isArray&&Array.isArray(s))return!0;const t=Object.prototype.toString.call(s);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function tt(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function mt(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function Bt(s,t){return mt(s)?s:t}function J(s,t){return typeof s>"u"?t:s}const Yc=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/t,go=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*t:+s;function ct(s,t,e){if(s&&typeof s.call=="function")return s.apply(e,t)}function rt(s,t,e,n){let i,a,o;if(dt(s))if(a=s.length,n)for(i=a-1;i>=0;i--)t.call(e,s[i],i);else for(i=0;i<a;i++)t.call(e,s[i],i);else if(tt(s))for(o=Object.keys(s),a=o.length,i=0;i<a;i++)t.call(e,s[o[i]],o[i])}function nn(s,t){let e,n,i,a;if(!s||!t||s.length!==t.length)return!1;for(e=0,n=s.length;e<n;++e)if(i=s[e],a=t[e],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function an(s){if(dt(s))return s.map(an);if(tt(s)){const t=Object.create(null),e=Object.keys(s),n=e.length;let i=0;for(;i<n;++i)t[e[i]]=an(s[e[i]]);return t}return s}function po(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function Gc(s,t,e,n){if(!po(s))return;const i=t[s],a=e[s];tt(i)&&tt(a)?ps(i,a,n):t[s]=an(a)}function ps(s,t,e){const n=dt(t)?t:[t],i=n.length;if(!tt(s))return s;e=e||{};const a=e.merger||Gc;let o;for(let r=0;r<i;++r){if(o=n[r],!tt(o))continue;const l=Object.keys(o);for(let c=0,d=l.length;c<d;++c)a(l[c],s,o,e)}return s}function ls(s,t){return ps(s,t,{merger:Xc})}function Xc(s,t,e){if(!po(s))return;const n=t[s],i=e[s];tt(n)&&tt(i)?ls(n,i):Object.prototype.hasOwnProperty.call(t,s)||(t[s]=an(i))}const Pi={"":s=>s,x:s=>s.x,y:s=>s.y};function Kc(s){const t=s.split("."),e=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function Jc(s){const t=Kc(s);return e=>{for(const n of t){if(n==="")break;e=e&&e[n]}return e}}function _e(s,t){return(Pi[t]||(Pi[t]=Jc(t)))(s)}function oi(s){return s.charAt(0).toUpperCase()+s.slice(1)}const ms=s=>typeof s<"u",be=s=>typeof s=="function",$i=(s,t)=>{if(s.size!==t.size)return!1;for(const e of s)if(!t.has(e))return!1;return!0};function qc(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const ht=Math.PI,ut=2*ht,Zc=ut+ht,on=Number.POSITIVE_INFINITY,Qc=ht/180,vt=ht/2,we=ht/4,Oi=ht*2/3,fe=Math.log10,se=Math.sign;function cs(s,t,e){return Math.abs(s-t)<e}function Fi(s){const t=Math.round(s);s=cs(s,t,s/1e3)?t:s;const e=Math.pow(10,Math.floor(fe(s))),n=s/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function td(s){const t=[],e=Math.sqrt(s);let n;for(n=1;n<e;n++)s%n===0&&(t.push(n),t.push(s/n));return e===(e|0)&&t.push(e),t.sort((i,a)=>i-a).pop(),t}function Ue(s){return!isNaN(parseFloat(s))&&isFinite(s)}function ed(s,t){const e=Math.round(s);return e-t<=s&&e+t>=s}function mo(s,t,e){let n,i,a;for(n=0,i=s.length;n<i;n++)a=s[n][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Kt(s){return s*(ht/180)}function ri(s){return s*(180/ht)}function Ei(s){if(!mt(s))return;let t=1,e=0;for(;Math.round(s*t)/t!==s;)t*=10,e++;return e}function _o(s,t){const e=t.x-s.x,n=t.y-s.y,i=Math.sqrt(e*e+n*n);let a=Math.atan2(n,e);return a<-.5*ht&&(a+=ut),{angle:a,distance:i}}function Hn(s,t){return Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))}function sd(s,t){return(s-t+Zc)%ut-ht}function Vt(s){return(s%ut+ut)%ut}function _s(s,t,e,n){const i=Vt(s),a=Vt(t),o=Vt(e),r=Vt(a-i),l=Vt(o-i),c=Vt(i-a),d=Vt(i-o);return i===a||i===o||n&&a===o||r>l&&c<d}function Dt(s,t,e){return Math.max(t,Math.min(e,s))}function nd(s){return Dt(s,-32768,32767)}function re(s,t,e,n=1e-6){return s>=Math.min(t,e)-n&&s<=Math.max(t,e)+n}function li(s,t,e){e=e||(o=>s[o]<t);let n=s.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,e(a)?i=a:n=a;return{lo:i,hi:n}}const le=(s,t,e,n)=>li(s,e,n?i=>{const a=s[i][t];return a<e||a===e&&s[i+1][t]===e}:i=>s[i][t]<e),id=(s,t,e)=>li(s,e,n=>s[n][t]>=e);function ad(s,t,e){let n=0,i=s.length;for(;n<i&&s[n]<t;)n++;for(;i>n&&s[i-1]>e;)i--;return n>0||i<s.length?s.slice(n,i):s}const bo=["push","pop","shift","splice","unshift"];function od(s,t){if(s._chartjs){s._chartjs.listeners.push(t);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),bo.forEach(e=>{const n="_onData"+oi(e),i=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(...a){const o=i.apply(this,a);return s._chartjs.listeners.forEach(r=>{typeof r[n]=="function"&&r[n](...a)}),o}})})}function Li(s,t){const e=s._chartjs;if(!e)return;const n=e.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(bo.forEach(a=>{delete s[a]}),delete s._chartjs)}function vo(s){const t=new Set(s);return t.size===s.length?s:Array.from(t)}const yo=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function xo(s,t){let e=[],n=!1;return function(...i){e=i,n||(n=!0,yo.call(window,()=>{n=!1,s.apply(t,e)}))}}function rd(s,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(s,t,n)):s.apply(this,n),t}}const ci=s=>s==="start"?"left":s==="end"?"right":"center",Pt=(s,t,e)=>s==="start"?t:s==="end"?e:(t+e)/2,ld=(s,t,e,n)=>s===(n?"left":"right")?e:s==="center"?(t+e)/2:t;function So(s,t,e){const n=t.length;let i=0,a=n;if(s._sorted){const{iScale:o,_parsed:r}=s,l=o.axis,{min:c,max:d,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(i=Dt(Math.min(le(r,l,c).lo,e?n:le(t,l,o.getPixelForValue(c)).lo),0,n-1)),f?a=Dt(Math.max(le(r,o.axis,d,!0).hi+1,e?0:le(t,l,o.getPixelForValue(d),!0).hi+1),i,n)-i:a=n-i}return{start:i,count:a}}function ko(s){const{xScale:t,yScale:e,_scaleRanges:n}=s,i={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return s._scaleRanges=i,!0;const a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,i),a}const Is=s=>s===0||s===1,Ri=(s,t,e)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-t)*ut/e)),Ii=(s,t,e)=>Math.pow(2,-10*s)*Math.sin((s-t)*ut/e)+1,ds={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*vt)+1,easeOutSine:s=>Math.sin(s*vt),easeInOutSine:s=>-.5*(Math.cos(ht*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Is(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Is(s)?s:Ri(s,.075,.3),easeOutElastic:s=>Is(s)?s:Ii(s,.075,.3),easeInOutElastic(s){return Is(s)?s:s<.5?.5*Ri(s*2,.1125,.45):.5+.5*Ii(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let t=1.70158;return(s/=.5)<1?.5*(s*s*(((t*=1.525)+1)*s-t)):.5*((s-=2)*s*(((t*=1.525)+1)*s+t)+2)},easeInBounce:s=>1-ds.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?ds.easeInBounce(s*2)*.5:ds.easeOutBounce(s*2-1)*.5+.5};function di(s){if(s&&typeof s=="object"){const t=s.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Bi(s){return di(s)?s:new gs(s)}function Dn(s){return di(s)?s:new gs(s).saturate(.5).darken(.1).hexString()}const cd=["x","y","borderWidth","radius","tension"],dd=["color","borderColor","backgroundColor"];function ud(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),s.set("animations",{colors:{type:"color",properties:dd},numbers:{type:"number",properties:cd}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function hd(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Vi=new Map;function fd(s,t){t=t||{};const e=s+JSON.stringify(t);let n=Vi.get(e);return n||(n=new Intl.NumberFormat(s,t),Vi.set(e,n)),n}function Ms(s,t,e){return fd(t,e).format(s)}const wo={values(s){return dt(s)?s:""+s},numeric(s,t,e){if(s===0)return"0";const n=this.chart.options.locale;let i,a=s;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),a=gd(s,e)}const o=fe(Math.abs(a)),r=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(l,this.options.ticks.format),Ms(s,n,l)},logarithmic(s,t,e){if(s===0)return"0";const n=e[t].significand||s/Math.pow(10,Math.floor(fe(s)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?wo.numeric.call(this,s,t,e):""}};function gd(s,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&s!==Math.floor(s)&&(e=s-Math.floor(s)),e}var pn={formatters:wo};function pd(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Fe=Object.create(null),jn=Object.create(null);function us(s,t){if(!t)return s;const e=t.split(".");for(let n=0,i=e.length;n<i;++n){const a=e[n];s=s[a]||(s[a]=Object.create(null))}return s}function An(s,t,e){return typeof t=="string"?ps(us(s,t),e):ps(us(s,""),t)}class md{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Dn(i.backgroundColor),this.hoverBorderColor=(n,i)=>Dn(i.borderColor),this.hoverColor=(n,i)=>Dn(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return An(this,t,e)}get(t){return us(this,t)}describe(t,e){return An(jn,t,e)}override(t,e){return An(Fe,t,e)}route(t,e,n,i){const a=us(this,t),o=us(this,n),r="_"+e;Object.defineProperties(a,{[r]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[r],c=o[i];return tt(l)?Object.assign({},c,l):J(l,c)},set(l){this[r]=l}}})}apply(t){t.forEach(e=>e(this))}}var _t=new md({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ud,hd,pd]);function _d(s){return!s||it(s.size)||it(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function rn(s,t,e,n,i){let a=t[i];return a||(a=t[i]=s.measureText(i).width,e.push(i)),a>n&&(n=a),n}function bd(s,t,e,n){n=n||{};let i=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(i=n.data={},a=n.garbageCollect=[],n.font=t),s.save(),s.font=t;let o=0;const r=e.length;let l,c,d,h,f;for(l=0;l<r;l++)if(h=e[l],h!=null&&!dt(h))o=rn(s,i,a,o,h);else if(dt(h))for(c=0,d=h.length;c<d;c++)f=h[c],f!=null&&!dt(f)&&(o=rn(s,i,a,o,f));s.restore();const g=a.length/2;if(g>e.length){for(l=0;l<g;l++)delete i[a[l]];a.splice(0,g)}return o}function Me(s,t,e){const n=s.currentDevicePixelRatio,i=e!==0?Math.max(e/2,.5):0;return Math.round((t-i)*n)/n+i}function zi(s,t){t=t||s.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,s.width,s.height),t.restore()}function Wn(s,t,e,n){Mo(s,t,e,n,null)}function Mo(s,t,e,n,i){let a,o,r,l,c,d,h,f;const g=t.pointStyle,m=t.rotation,p=t.radius;let v=(m||0)*Qc;if(g&&typeof g=="object"&&(a=g.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){s.save(),s.translate(e,n),s.rotate(v),s.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),s.restore();return}if(!(isNaN(p)||p<=0)){switch(s.beginPath(),g){default:i?s.ellipse(e,n,i/2,p,0,0,ut):s.arc(e,n,p,0,ut),s.closePath();break;case"triangle":d=i?i/2:p,s.moveTo(e+Math.sin(v)*d,n-Math.cos(v)*p),v+=Oi,s.lineTo(e+Math.sin(v)*d,n-Math.cos(v)*p),v+=Oi,s.lineTo(e+Math.sin(v)*d,n-Math.cos(v)*p),s.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(v+we)*l,h=Math.cos(v+we)*(i?i/2-c:l),r=Math.sin(v+we)*l,f=Math.sin(v+we)*(i?i/2-c:l),s.arc(e-h,n-r,c,v-ht,v-vt),s.arc(e+f,n-o,c,v-vt,v),s.arc(e+h,n+r,c,v,v+vt),s.arc(e-f,n+o,c,v+vt,v+ht),s.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*p,d=i?i/2:l,s.rect(e-d,n-l,2*d,2*l);break}v+=we;case"rectRot":h=Math.cos(v)*(i?i/2:p),o=Math.cos(v)*p,r=Math.sin(v)*p,f=Math.sin(v)*(i?i/2:p),s.moveTo(e-h,n-r),s.lineTo(e+f,n-o),s.lineTo(e+h,n+r),s.lineTo(e-f,n+o),s.closePath();break;case"crossRot":v+=we;case"cross":h=Math.cos(v)*(i?i/2:p),o=Math.cos(v)*p,r=Math.sin(v)*p,f=Math.sin(v)*(i?i/2:p),s.moveTo(e-h,n-r),s.lineTo(e+h,n+r),s.moveTo(e+f,n-o),s.lineTo(e-f,n+o);break;case"star":h=Math.cos(v)*(i?i/2:p),o=Math.cos(v)*p,r=Math.sin(v)*p,f=Math.sin(v)*(i?i/2:p),s.moveTo(e-h,n-r),s.lineTo(e+h,n+r),s.moveTo(e+f,n-o),s.lineTo(e-f,n+o),v+=we,h=Math.cos(v)*(i?i/2:p),o=Math.cos(v)*p,r=Math.sin(v)*p,f=Math.sin(v)*(i?i/2:p),s.moveTo(e-h,n-r),s.lineTo(e+h,n+r),s.moveTo(e+f,n-o),s.lineTo(e-f,n+o);break;case"line":o=i?i/2:Math.cos(v)*p,r=Math.sin(v)*p,s.moveTo(e-o,n-r),s.lineTo(e+o,n+r);break;case"dash":s.moveTo(e,n),s.lineTo(e+Math.cos(v)*(i?i/2:p),n+Math.sin(v)*p);break;case!1:s.closePath();break}s.fill(),t.borderWidth>0&&s.stroke()}}function ce(s,t,e){return e=e||.5,!t||s&&s.x>t.left-e&&s.x<t.right+e&&s.y>t.top-e&&s.y<t.bottom+e}function mn(s,t){s.save(),s.beginPath(),s.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),s.clip()}function _n(s){s.restore()}function vd(s,t,e,n,i){if(!t)return s.lineTo(e.x,e.y);if(i==="middle"){const a=(t.x+e.x)/2;s.lineTo(a,t.y),s.lineTo(a,e.y)}else i==="after"!=!!n?s.lineTo(t.x,e.y):s.lineTo(e.x,t.y);s.lineTo(e.x,e.y)}function yd(s,t,e,n){if(!t)return s.lineTo(e.x,e.y);s.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function xd(s,t){t.translation&&s.translate(t.translation[0],t.translation[1]),it(t.rotation)||s.rotate(t.rotation),t.color&&(s.fillStyle=t.color),t.textAlign&&(s.textAlign=t.textAlign),t.textBaseline&&(s.textBaseline=t.textBaseline)}function Sd(s,t,e,n,i){if(i.strikethrough||i.underline){const a=s.measureText(n),o=t-a.actualBoundingBoxLeft,r=t+a.actualBoundingBoxRight,l=e-a.actualBoundingBoxAscent,c=e+a.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=i.decorationWidth||2,s.moveTo(o,d),s.lineTo(r,d),s.stroke()}}function kd(s,t){const e=s.fillStyle;s.fillStyle=t.color,s.fillRect(t.left,t.top,t.width,t.height),s.fillStyle=e}function Ee(s,t,e,n,i,a={}){const o=dt(t)?t:[t],r=a.strokeWidth>0&&a.strokeColor!=="";let l,c;for(s.save(),s.font=i.string,xd(s,a),l=0;l<o.length;++l)c=o[l],a.backdrop&&kd(s,a.backdrop),r&&(a.strokeColor&&(s.strokeStyle=a.strokeColor),it(a.strokeWidth)||(s.lineWidth=a.strokeWidth),s.strokeText(c,e,n,a.maxWidth)),s.fillText(c,e,n,a.maxWidth),Sd(s,e,n,c,a),n+=Number(i.lineHeight);s.restore()}function bs(s,t){const{x:e,y:n,w:i,h:a,radius:o}=t;s.arc(e+o.topLeft,n+o.topLeft,o.topLeft,1.5*ht,ht,!0),s.lineTo(e,n+a-o.bottomLeft),s.arc(e+o.bottomLeft,n+a-o.bottomLeft,o.bottomLeft,ht,vt,!0),s.lineTo(e+i-o.bottomRight,n+a),s.arc(e+i-o.bottomRight,n+a-o.bottomRight,o.bottomRight,vt,0,!0),s.lineTo(e+i,n+o.topRight),s.arc(e+i-o.topRight,n+o.topRight,o.topRight,0,-vt,!0),s.lineTo(e+o.topLeft,n)}const wd=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Md=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Cd(s,t){const e=(""+s).match(wd);if(!e||e[1]==="normal")return t*1.2;switch(s=+e[2],e[3]){case"px":return s;case"%":s/=100;break}return t*s}const Td=s=>+s||0;function ui(s,t){const e={},n=tt(t),i=n?Object.keys(t):t,a=tt(s)?n?o=>J(s[o],s[t[o]]):o=>s[o]:()=>s;for(const o of i)e[o]=Td(a(o));return e}function Co(s){return ui(s,{top:"y",right:"x",bottom:"y",left:"x"})}function $e(s){return ui(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Ot(s){const t=Co(s);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Mt(s,t){s=s||{},t=t||_t.font;let e=J(s.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=J(s.style,t.style);n&&!(""+n).match(Md)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:J(s.family,t.family),lineHeight:Cd(J(s.lineHeight,t.lineHeight),e),size:e,style:n,weight:J(s.weight,t.weight),string:""};return i.string=_d(i),i}function ns(s,t,e,n){let i=!0,a,o,r;for(a=0,o=s.length;a<o;++a)if(r=s[a],r!==void 0&&(t!==void 0&&typeof r=="function"&&(r=r(t),i=!1),e!==void 0&&dt(r)&&(r=r[e%r.length],i=!1),r!==void 0))return n&&!i&&(n.cacheable=!1),r}function Dd(s,t,e){const{min:n,max:i}=s,a=go(t,(i-n)/2),o=(r,l)=>e&&r===0?0:r+l;return{min:o(n,-Math.abs(a)),max:o(i,a)}}function ve(s,t){return Object.assign(Object.create(s),t)}function hi(s,t=[""],e,n,i=()=>s[0]){const a=e||s;typeof n>"u"&&(n=Po("_fallback",s));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:a,_fallback:n,_getTarget:i,override:r=>hi([r,...s],t,a,n)};return new Proxy(o,{deleteProperty(r,l){return delete r[l],delete r._keys,delete s[0][l],!0},get(r,l){return Do(r,l,()=>Rd(l,t,s,r))},getOwnPropertyDescriptor(r,l){return Reflect.getOwnPropertyDescriptor(r._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(r,l){return Hi(r).includes(l)},ownKeys(r){return Hi(r)},set(r,l,c){const d=r._storage||(r._storage=i());return r[l]=d[l]=c,delete r._keys,!0}})}function Ye(s,t,e,n){const i={_cacheable:!1,_proxy:s,_context:t,_subProxy:e,_stack:new Set,_descriptors:To(s,n),setContext:a=>Ye(s,a,e,n),override:a=>Ye(s.override(a),t,e,n)};return new Proxy(i,{deleteProperty(a,o){return delete a[o],delete s[o],!0},get(a,o,r){return Do(a,o,()=>Pd(a,o,r))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(s,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,o)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(a,o){return Reflect.has(s,o)},ownKeys(){return Reflect.ownKeys(s)},set(a,o,r){return s[o]=r,delete a[o],!0}})}function To(s,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=s;return{allKeys:i,scriptable:e,indexable:n,isScriptable:be(e)?e:()=>e,isIndexable:be(n)?n:()=>n}}const Ad=(s,t)=>s?s+oi(t):t,fi=(s,t)=>tt(t)&&s!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Do(s,t,e){if(Object.prototype.hasOwnProperty.call(s,t))return s[t];const n=e();return s[t]=n,n}function Pd(s,t,e){const{_proxy:n,_context:i,_subProxy:a,_descriptors:o}=s;let r=n[t];return be(r)&&o.isScriptable(t)&&(r=$d(t,r,s,e)),dt(r)&&r.length&&(r=Od(t,r,s,o.isIndexable)),fi(t,r)&&(r=Ye(r,i,a&&a[t],o)),r}function $d(s,t,e,n){const{_proxy:i,_context:a,_subProxy:o,_stack:r}=e;if(r.has(s))throw new Error("Recursion detected: "+Array.from(r).join("->")+"->"+s);r.add(s);let l=t(a,o||n);return r.delete(s),fi(s,l)&&(l=gi(i._scopes,i,s,l)),l}function Od(s,t,e,n){const{_proxy:i,_context:a,_subProxy:o,_descriptors:r}=e;if(typeof a.index<"u"&&n(s))return t[a.index%t.length];if(tt(t[0])){const l=t,c=i._scopes.filter(d=>d!==l);t=[];for(const d of l){const h=gi(c,i,s,d);t.push(Ye(h,a,o&&o[s],r))}}return t}function Ao(s,t,e){return be(s)?s(t,e):s}const Fd=(s,t)=>s===!0?t:typeof s=="string"?_e(t,s):void 0;function Ed(s,t,e,n,i){for(const a of t){const o=Fd(e,a);if(o){s.add(o);const r=Ao(o._fallback,e,i);if(typeof r<"u"&&r!==e&&r!==n)return r}else if(o===!1&&typeof n<"u"&&e!==n)return null}return!1}function gi(s,t,e,n){const i=t._rootScopes,a=Ao(t._fallback,e,n),o=[...s,...i],r=new Set;r.add(n);let l=Ni(r,o,e,a||e,n);return l===null||typeof a<"u"&&a!==e&&(l=Ni(r,o,a,l,n),l===null)?!1:hi(Array.from(r),[""],i,a,()=>Ld(t,e,n))}function Ni(s,t,e,n,i){for(;e;)e=Ed(s,t,e,n,i);return e}function Ld(s,t,e){const n=s._getTarget();t in n||(n[t]={});const i=n[t];return dt(i)&&tt(e)?e:i||{}}function Rd(s,t,e,n){let i;for(const a of t)if(i=Po(Ad(a,s),e),typeof i<"u")return fi(s,i)?gi(e,n,s,i):i}function Po(s,t){for(const e of t){if(!e)continue;const n=e[s];if(typeof n<"u")return n}}function Hi(s){let t=s._keys;return t||(t=s._keys=Id(s._scopes)),t}function Id(s){const t=new Set;for(const e of s)for(const n of Object.keys(e).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}function $o(s,t,e,n){const{iScale:i}=s,{key:a="r"}=this._parsing,o=new Array(n);let r,l,c,d;for(r=0,l=n;r<l;++r)c=r+e,d=t[c],o[r]={r:i.parse(_e(d,a),c)};return o}const Bd=Number.EPSILON||1e-14,Ge=(s,t)=>t<s.length&&!s[t].skip&&s[t],Oo=s=>s==="x"?"y":"x";function Vd(s,t,e,n){const i=s.skip?t:s,a=t,o=e.skip?t:e,r=Hn(a,i),l=Hn(o,a);let c=r/(r+l),d=l/(r+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=n*c,f=n*d;return{previous:{x:a.x-h*(o.x-i.x),y:a.y-h*(o.y-i.y)},next:{x:a.x+f*(o.x-i.x),y:a.y+f*(o.y-i.y)}}}function zd(s,t,e){const n=s.length;let i,a,o,r,l,c=Ge(s,0);for(let d=0;d<n-1;++d)if(l=c,c=Ge(s,d+1),!(!l||!c)){if(cs(t[d],0,Bd)){e[d]=e[d+1]=0;continue}i=e[d]/t[d],a=e[d+1]/t[d],r=Math.pow(i,2)+Math.pow(a,2),!(r<=9)&&(o=3/Math.sqrt(r),e[d]=i*o*t[d],e[d+1]=a*o*t[d])}}function Nd(s,t,e="x"){const n=Oo(e),i=s.length;let a,o,r,l=Ge(s,0);for(let c=0;c<i;++c){if(o=r,r=l,l=Ge(s,c+1),!r)continue;const d=r[e],h=r[n];o&&(a=(d-o[e])/3,r[`cp1${e}`]=d-a,r[`cp1${n}`]=h-a*t[c]),l&&(a=(l[e]-d)/3,r[`cp2${e}`]=d+a,r[`cp2${n}`]=h+a*t[c])}}function Hd(s,t="x"){const e=Oo(t),n=s.length,i=Array(n).fill(0),a=Array(n);let o,r,l,c=Ge(s,0);for(o=0;o<n;++o)if(r=l,l=c,c=Ge(s,o+1),!!l){if(c){const d=c[t]-l[t];i[o]=d!==0?(c[e]-l[e])/d:0}a[o]=r?c?se(i[o-1])!==se(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}zd(s,i,a),Nd(s,a,t)}function Bs(s,t,e){return Math.max(Math.min(s,e),t)}function jd(s,t){let e,n,i,a,o,r=ce(s[0],t);for(e=0,n=s.length;e<n;++e)o=a,a=r,r=e<n-1&&ce(s[e+1],t),a&&(i=s[e],o&&(i.cp1x=Bs(i.cp1x,t.left,t.right),i.cp1y=Bs(i.cp1y,t.top,t.bottom)),r&&(i.cp2x=Bs(i.cp2x,t.left,t.right),i.cp2y=Bs(i.cp2y,t.top,t.bottom)))}function Wd(s,t,e,n,i){let a,o,r,l;if(t.spanGaps&&(s=s.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Hd(s,i);else{let c=n?s[s.length-1]:s[0];for(a=0,o=s.length;a<o;++a)r=s[a],l=Vd(c,r,s[Math.min(a+1,o-(n?0:1))%o],t.tension),r.cp1x=l.previous.x,r.cp1y=l.previous.y,r.cp2x=l.next.x,r.cp2y=l.next.y,c=r}t.capBezierPoints&&jd(s,e)}function pi(){return typeof window<"u"&&typeof document<"u"}function mi(s){let t=s.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ln(s,t,e){let n;return typeof s=="string"?(n=parseInt(s,10),s.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=s,n}const bn=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function Ud(s,t){return bn(s).getPropertyValue(t)}const Yd=["top","right","bottom","left"];function Oe(s,t,e){const n={};e=e?"-"+e:"";for(let i=0;i<4;i++){const a=Yd[i];n[a]=parseFloat(s[t+"-"+a+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Gd=(s,t,e)=>(s>0||t>0)&&(!e||!e.shadowRoot);function Xd(s,t){const e=s.touches,n=e&&e.length?e[0]:s,{offsetX:i,offsetY:a}=n;let o=!1,r,l;if(Gd(i,a,s.target))r=i,l=a;else{const c=t.getBoundingClientRect();r=n.clientX-c.left,l=n.clientY-c.top,o=!0}return{x:r,y:l,box:o}}function De(s,t){if("native"in s)return s;const{canvas:e,currentDevicePixelRatio:n}=t,i=bn(e),a=i.boxSizing==="border-box",o=Oe(i,"padding"),r=Oe(i,"border","width"),{x:l,y:c,box:d}=Xd(s,e),h=o.left+(d&&r.left),f=o.top+(d&&r.top);let{width:g,height:m}=t;return a&&(g-=o.width+r.width,m-=o.height+r.height),{x:Math.round((l-h)/g*e.width/n),y:Math.round((c-f)/m*e.height/n)}}function Kd(s,t,e){let n,i;if(t===void 0||e===void 0){const a=mi(s);if(!a)t=s.clientWidth,e=s.clientHeight;else{const o=a.getBoundingClientRect(),r=bn(a),l=Oe(r,"border","width"),c=Oe(r,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,n=ln(r.maxWidth,a,"clientWidth"),i=ln(r.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:n||on,maxHeight:i||on}}const Vs=s=>Math.round(s*10)/10;function Jd(s,t,e,n){const i=bn(s),a=Oe(i,"margin"),o=ln(i.maxWidth,s,"clientWidth")||on,r=ln(i.maxHeight,s,"clientHeight")||on,l=Kd(s,t,e);let{width:c,height:d}=l;if(i.boxSizing==="content-box"){const f=Oe(i,"border","width"),g=Oe(i,"padding");c-=g.width+f.width,d-=g.height+f.height}return c=Math.max(0,c-a.width),d=Math.max(0,n?c/n:d-a.height),c=Vs(Math.min(c,o,l.maxWidth)),d=Vs(Math.min(d,r,l.maxHeight)),c&&!d&&(d=Vs(c/2)),(t!==void 0||e!==void 0)&&n&&l.height&&d>l.height&&(d=l.height,c=Vs(Math.floor(d*n))),{width:c,height:d}}function ji(s,t,e){const n=t||1,i=Math.floor(s.height*n),a=Math.floor(s.width*n);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const o=s.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${s.height}px`,o.style.width=`${s.width}px`),s.currentDevicePixelRatio!==n||o.height!==i||o.width!==a?(s.currentDevicePixelRatio=n,o.height=i,o.width=a,s.ctx.setTransform(n,0,0,n,0,0),!0):!1}const qd=function(){let s=!1;try{const t={get passive(){return s=!0,!1}};pi()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return s}();function Wi(s,t){const e=Ud(s,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Ae(s,t,e,n){return{x:s.x+e*(t.x-s.x),y:s.y+e*(t.y-s.y)}}function Zd(s,t,e,n){return{x:s.x+e*(t.x-s.x),y:n==="middle"?e<.5?s.y:t.y:n==="after"?e<1?s.y:t.y:e>0?t.y:s.y}}function Qd(s,t,e,n){const i={x:s.cp2x,y:s.cp2y},a={x:t.cp1x,y:t.cp1y},o=Ae(s,i,e),r=Ae(i,a,e),l=Ae(a,t,e),c=Ae(o,r,e),d=Ae(r,l,e);return Ae(c,d,e)}const tu=function(s,t){return{x(e){return s+s+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},eu=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,t){return s+t},leftForLtr(s,t){return s}}};function je(s,t,e){return s?tu(t,e):eu()}function Fo(s,t){let e,n;(t==="ltr"||t==="rtl")&&(e=s.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),s.prevTextDirection=n)}function Eo(s,t){t!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",t[0],t[1]))}function Lo(s){return s==="angle"?{between:_s,compare:sd,normalize:Vt}:{between:re,compare:(t,e)=>t-e,normalize:t=>t}}function Ui({start:s,end:t,count:e,loop:n,style:i}){return{start:s%e,end:t%e,loop:n&&(t-s+1)%e===0,style:i}}function su(s,t,e){const{property:n,start:i,end:a}=e,{between:o,normalize:r}=Lo(n),l=t.length;let{start:c,end:d,loop:h}=s,f,g;if(h){for(c+=l,d+=l,f=0,g=l;f<g&&o(r(t[c%l][n]),i,a);++f)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:s.style}}function Ro(s,t,e){if(!e)return[s];const{property:n,start:i,end:a}=e,o=t.length,{compare:r,between:l,normalize:c}=Lo(n),{start:d,end:h,loop:f,style:g}=su(s,t,e),m=[];let p=!1,v=null,k,w,O;const $=()=>l(i,O,k)&&r(i,O)!==0,A=()=>r(a,k)===0||l(a,O,k),E=()=>p||$(),T=()=>!p||A();for(let M=d,P=d;M<=h;++M)w=t[M%o],!w.skip&&(k=c(w[n]),k!==O&&(p=l(k,i,a),v===null&&E()&&(v=r(k,i)===0?M:P),v!==null&&T()&&(m.push(Ui({start:v,end:M,loop:f,count:o,style:g})),v=null),P=M,O=k));return v!==null&&m.push(Ui({start:v,end:h,loop:f,count:o,style:g})),m}function Io(s,t){const e=[],n=s.segments;for(let i=0;i<n.length;i++){const a=Ro(n[i],s.points,t);a.length&&e.push(...a)}return e}function nu(s,t,e,n){let i=0,a=t-1;if(e&&!n)for(;i<t&&!s[i].skip;)i++;for(;i<t&&s[i].skip;)i++;for(i%=t,e&&(a+=i);a>i&&s[a%t].skip;)a--;return a%=t,{start:i,end:a}}function iu(s,t,e,n){const i=s.length,a=[];let o=t,r=s[t],l;for(l=t+1;l<=e;++l){const c=s[l%i];c.skip||c.stop?r.skip||(n=!1,a.push({start:t%i,end:(l-1)%i,loop:n}),t=o=c.stop?l:null):(o=l,r.skip&&(t=l)),r=c}return o!==null&&a.push({start:t%i,end:o%i,loop:n}),a}function au(s,t){const e=s.points,n=s.options.spanGaps,i=e.length;if(!i)return[];const a=!!s._loop,{start:o,end:r}=nu(e,i,a,n);if(n===!0)return Yi(s,[{start:o,end:r,loop:a}],e,t);const l=r<o?r+i:r,c=!!s._fullLoop&&o===0&&r===i-1;return Yi(s,iu(e,o,l,c),e,t)}function Yi(s,t,e,n){return!n||!n.setContext||!e?t:ou(s,t,e,n)}function ou(s,t,e,n){const i=s._chart.getContext(),a=Gi(s.options),{_datasetIndex:o,options:{spanGaps:r}}=s,l=e.length,c=[];let d=a,h=t[0].start,f=h;function g(m,p,v,k){const w=r?-1:1;if(m!==p){for(m+=l;e[m%l].skip;)m-=w;for(;e[p%l].skip;)p+=w;m%l!==p%l&&(c.push({start:m%l,end:p%l,loop:v,style:k}),d=k,h=p%l)}}for(const m of t){h=r?h:m.start;let p=e[h%l],v;for(f=h+1;f<=m.end;f++){const k=e[f%l];v=Gi(n.setContext(ve(i,{type:"segment",p0:p,p1:k,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),ru(v,d)&&g(h,f-1,m.loop,d),p=k,d=v}h<f-1&&g(h,f-1,m.loop,d)}return c}function Gi(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function ru(s,t){if(!t)return!1;const e=[],n=function(i,a){return di(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(s,n)!==JSON.stringify(t,n)}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class lu{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const a=e.listeners[i],o=e.duration;a.forEach(r=>r({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=yo.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const a=n.items;let o=a.length-1,r=!1,l;for(;o>=0;--o)l=a[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),r=!0):(a[o]=a[a.length-1],a.pop());r&&(i.draw(),this._notify(i,n,t,"progress")),a.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ie=new lu;const Xi="transparent",cu={boolean(s,t,e){return e>.5?t:s},color(s,t,e){const n=Bi(s||Xi),i=n.valid&&Bi(t||Xi);return i&&i.valid?i.mix(n,e).hexString():t},number(s,t,e){return s+(t-s)*e}};class du{constructor(t,e,n,i){const a=e[n];i=ns([t.to,i,a,t.from]);const o=ns([t.from,a,i]);this._active=!0,this._fn=t.fn||cu[t.type||typeof o],this._easing=ds[t.easing]||ds.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],a=n-this._start,o=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=ns([t.to,e,i,t.from]),this._from=ns([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,a=this._from,o=this._loop,r=this._to;let l;if(this._active=a!==r&&(o||e<n),!this._active){this._target[i]=r,this._notify(!0);return}if(e<0){this._target[i]=a;return}l=e/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(a,r,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class Bo{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!tt(t))return;const e=Object.keys(_t.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const a=t[i];if(!tt(a))return;const o={};for(const r of e)o[r]=a[r];(dt(a.properties)&&a.properties||[i]).forEach(r=>{(r===i||!n.has(r))&&n.set(r,o)})})}_animateOptions(t,e){const n=e.options,i=hu(t,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&uu(t.options.$animations,n).then(()=>{t.options=n},()=>{}),a}_createAnimations(t,e){const n=this._properties,i=[],a=t.$animations||(t.$animations={}),o=Object.keys(e),r=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,e));continue}const d=e[c];let h=a[c];const f=n.get(c);if(h)if(f&&h.active()){h.update(f,d,r);continue}else h.cancel();if(!f||!f.duration){t[c]=d;continue}a[c]=h=new du(f,t,c,d),i.push(h)}return i}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const n=this._createAnimations(t,e);if(n.length)return ie.add(this._chart,n),!0}}function uu(s,t){const e=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const a=s[n[i]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function hu(s,t){if(!t)return;let e=s.options;if(!e){s.options=t;return}return e.$shared&&(s.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Ki(s,t){const e=s&&s.options||{},n=e.reverse,i=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:n?a:i,end:n?i:a}}function fu(s,t,e){if(e===!1)return!1;const n=Ki(s,e),i=Ki(t,e);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function gu(s){let t,e,n,i;return tt(s)?(t=s.top,e=s.right,n=s.bottom,i=s.left):t=e=n=i=s,{top:t,right:e,bottom:n,left:i,disabled:s===!1}}function Vo(s,t){const e=[],n=s._getSortedDatasetMetas(t);let i,a;for(i=0,a=n.length;i<a;++i)e.push(n[i].index);return e}function Ji(s,t,e,n={}){const i=s.keys,a=n.mode==="single";let o,r,l,c;if(t!==null){for(o=0,r=i.length;o<r;++o){if(l=+i[o],l===e){if(n.all)continue;break}c=s.values[l],mt(c)&&(a||t===0||se(t)===se(c))&&(t+=c)}return t}}function pu(s){const t=Object.keys(s),e=new Array(t.length);let n,i,a;for(n=0,i=t.length;n<i;++n)a=t[n],e[n]={x:a,y:s[a]};return e}function qi(s,t){const e=s&&s.options.stacked;return e||e===void 0&&t.stack!==void 0}function mu(s,t,e){return`${s.id}.${t.id}.${e.stack||e.type}`}function _u(s){const{min:t,max:e,minDefined:n,maxDefined:i}=s.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function bu(s,t,e){const n=s[t]||(s[t]={});return n[e]||(n[e]={})}function Zi(s,t,e,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const a=s[i.index];if(e&&a>0||!e&&a<0)return i.index}return null}function Qi(s,t){const{chart:e,_cachedMeta:n}=s,i=e._stacks||(e._stacks={}),{iScale:a,vScale:o,index:r}=n,l=a.axis,c=o.axis,d=mu(a,o,n),h=t.length;let f;for(let g=0;g<h;++g){const m=t[g],{[l]:p,[c]:v}=m,k=m._stacks||(m._stacks={});f=k[c]=bu(i,d,p),f[r]=v,f._top=Zi(f,o,!0,n.type),f._bottom=Zi(f,o,!1,n.type);const w=f._visualValues||(f._visualValues={});w[r]=v}}function Pn(s,t){const e=s.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function vu(s,t){return ve(s,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function yu(s,t,e){return ve(s,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function qe(s,t){const e=s.controller.index,n=s.vScale&&s.vScale.axis;if(n){t=t||s._parsed;for(const i of t){const a=i._stacks;if(!a||a[n]===void 0||a[n][e]===void 0)return;delete a[n][e],a[n]._visualValues!==void 0&&a[n]._visualValues[e]!==void 0&&delete a[n]._visualValues[e]}}}const $n=s=>s==="reset"||s==="none",ta=(s,t)=>t?s:Object.assign({},s),xu=(s,t,e)=>s&&!t.hidden&&t._stacked&&{keys:Vo(e,!0),values:null};class Jt{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=qi(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&qe(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(h,f,g,m)=>h==="x"?f:h==="r"?m:g,a=e.xAxisID=J(n.xAxisID,Pn(t,"x")),o=e.yAxisID=J(n.yAxisID,Pn(t,"y")),r=e.rAxisID=J(n.rAxisID,Pn(t,"r")),l=e.indexAxis,c=e.iAxisID=i(l,a,o,r),d=e.vAxisID=i(l,o,a,r);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(r),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Li(this._data,this),t._stacked&&qe(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(tt(e))this._data=pu(e);else if(n!==e){if(n){Li(n,this);const i=this._cachedMeta;qe(i),i._parsed=[]}e&&Object.isExtensible(e)&&od(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const a=e._stacked;e._stacked=qi(e.vScale,e),e.stack!==n.stack&&(i=!0,qe(e),e.stack=n.stack),this._resyncElements(t),(i||a!==e._stacked)&&Qi(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:o}=n,r=a.axis;let l=t===0&&e===i.length?!0:n._sorted,c=t>0&&n._parsed[t-1],d,h,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{dt(i[t])?f=this.parseArrayData(n,i,t,e):tt(i[t])?f=this.parseObjectData(n,i,t,e):f=this.parsePrimitiveData(n,i,t,e);const g=()=>h[r]===null||c&&h[r]<c[r];for(d=0;d<e;++d)n._parsed[d+t]=h=f[d],l&&(g()&&(l=!1),c=h);n._sorted=l}o&&Qi(this,f)}parsePrimitiveData(t,e,n,i){const{iScale:a,vScale:o}=t,r=a.axis,l=o.axis,c=a.getLabels(),d=a===o,h=new Array(i);let f,g,m;for(f=0,g=i;f<g;++f)m=f+n,h[f]={[r]:d||a.parse(c[m],m),[l]:o.parse(e[m],m)};return h}parseArrayData(t,e,n,i){const{xScale:a,yScale:o}=t,r=new Array(i);let l,c,d,h;for(l=0,c=i;l<c;++l)d=l+n,h=e[d],r[l]={x:a.parse(h[0],d),y:o.parse(h[1],d)};return r}parseObjectData(t,e,n,i){const{xScale:a,yScale:o}=t,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let d,h,f,g;for(d=0,h=i;d<h;++d)f=d+n,g=e[f],c[d]={x:a.parse(_e(g,r),f),y:o.parse(_e(g,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,a=this._cachedMeta,o=e[t.axis],r={keys:Vo(i,!0),values:e._stacks[t.axis]._visualValues};return Ji(r,o,a.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const a=n[e.axis];let o=a===null?NaN:a;const r=i&&n._stacks[e.axis];i&&r&&(i.values=r,o=Ji(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,a=n._sorted&&t===n.iScale,o=i.length,r=this._getOtherScale(t),l=xu(e,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=_u(r);let f,g;function m(){g=i[f];const p=g[r.axis];return!mt(g[t.axis])||d>p||h<p}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(c,t,g,l),a));++f);if(a){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,t,g,l);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,a,o;for(i=0,a=e.length;i<a;++i)o=e[i][t.axis],mt(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,a=this.getParsed(t);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=gu(J(this.options.clip,fu(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],a=e.chartArea,o=[],r=this._drawStart||0,l=this._drawCount||i.length-r,c=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(t,a,r,l),d=r;d<r+l;++d){const h=i[d];h.hidden||(h.active&&c?o.push(h):h.draw(t,a))}for(d=0;d<o.length;++d)o[d].draw(t,a)}getStyle(t,e){const n=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];a=o.$context||(o.$context=yu(this.getContext(),t,o)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=vu(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=n,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const i=e==="active",a=this._cachedDataOpts,o=t+"-"+e,r=a[o],l=this.enableOptionSharing&&ms(n);if(r)return ta(r,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),d),g=Object.keys(_t.elements[t]),m=()=>this.getContext(n,i,e),p=c.resolveNamedOptions(f,g,m,h);return p.$shared&&(p.$shared=l,a[o]=Object.freeze(ta(p,l))),p}_resolveAnimations(t,e,n){const i=this.chart,a=this._cachedDataOpts,o=`animation-${e}`,r=a[o];if(r)return r;let l;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,e),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(t,n,e))}const c=new Bo(i,l&&l.animations);return l&&l._cacheable&&(a[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||$n(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,a=this.getSharedOptions(n),o=this.includeOptions(e,a)||a!==i;return this.updateSharedOptions(a,e,n),{sharedOptions:a,includeOptions:o}}updateElement(t,e,n,i){$n(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!$n(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const a=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[r,l,c]of this._syncList)this[r](l,c);this._syncList=[];const i=n.length,a=e.length,o=Math.min(a,i);o&&this.parse(0,o),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,e,n=!0){const i=this._cachedMeta,a=i.data,o=t+e;let r;const l=c=>{for(c.length+=e,r=c.length-1;r>=o;r--)c[r]=c[r-e]};for(l(a),r=t;r<o;++r)a[r]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,e),n&&this.updateElements(a,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&qe(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}B(Jt,"defaults",{}),B(Jt,"datasetElementType",null),B(Jt,"dataElementType",null);function Su(s,t){if(!s._cache.$bar){const e=s.getMatchingVisibleMetas(t);let n=[];for(let i=0,a=e.length;i<a;i++)n=n.concat(e[i].controller.getAllParsedValues(s));s._cache.$bar=vo(n.sort((i,a)=>i-a))}return s._cache.$bar}function ku(s){const t=s.iScale,e=Su(t,s.type);let n=t._length,i,a,o,r;const l=()=>{o===32767||o===-32768||(ms(r)&&(n=Math.min(n,Math.abs(o-r)||n)),r=o)};for(i=0,a=e.length;i<a;++i)o=t.getPixelForValue(e[i]),l();for(r=void 0,i=0,a=t.ticks.length;i<a;++i)o=t.getPixelForTick(i),l();return n}function wu(s,t,e,n){const i=e.barThickness;let a,o;return it(i)?(a=t.min*e.categoryPercentage,o=e.barPercentage):(a=i*n,o=1),{chunk:a/n,ratio:o,start:t.pixels[s]-a/2}}function Mu(s,t,e,n){const i=t.pixels,a=i[s];let o=s>0?i[s-1]:null,r=s<i.length-1?i[s+1]:null;const l=e.categoryPercentage;o===null&&(o=a-(r===null?t.end-t.start:r-a)),r===null&&(r=a+a-o);const c=a-(a-Math.min(o,r))/2*l;return{chunk:Math.abs(r-o)/2*l/n,ratio:e.barPercentage,start:c}}function Cu(s,t,e,n){const i=e.parse(s[0],n),a=e.parse(s[1],n),o=Math.min(i,a),r=Math.max(i,a);let l=o,c=r;Math.abs(o)>Math.abs(r)&&(l=r,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:a,min:o,max:r}}function zo(s,t,e,n){return dt(s)?Cu(s,t,e,n):t[e.axis]=e.parse(s,n),t}function ea(s,t,e,n){const i=s.iScale,a=s.vScale,o=i.getLabels(),r=i===a,l=[];let c,d,h,f;for(c=e,d=e+n;c<d;++c)f=t[c],h={},h[i.axis]=r||i.parse(o[c],c),l.push(zo(f,h,a,c));return l}function On(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function Tu(s,t,e){return s!==0?se(s):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Du(s){let t,e,n,i,a;return s.horizontal?(t=s.base>s.x,e="left",n="right"):(t=s.base<s.y,e="bottom",n="top"),t?(i="end",a="start"):(i="start",a="end"),{start:e,end:n,reverse:t,top:i,bottom:a}}function Au(s,t,e,n){let i=t.borderSkipped;const a={};if(!i){s.borderSkipped=a;return}if(i===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:r,reverse:l,top:c,bottom:d}=Du(s);i==="middle"&&e&&(s.enableBorderRadius=!0,(e._top||0)===n?i=c:(e._bottom||0)===n?i=d:(a[sa(d,o,r,l)]=!0,i=c)),a[sa(i,o,r,l)]=!0,s.borderSkipped=a}function sa(s,t,e,n){return n?(s=Pu(s,t,e),s=na(s,e,t)):s=na(s,t,e),s}function Pu(s,t,e){return s===t?e:s===e?t:s}function na(s,t,e){return s==="start"?t:s==="end"?e:s}function $u(s,{inflateAmount:t},e){s.inflateAmount=t==="auto"?e===1?.33:0:t}class hs extends Jt{parsePrimitiveData(t,e,n,i){return ea(t,e,n,i)}parseArrayData(t,e,n,i){return ea(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:a,vScale:o}=t,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,c=a.axis==="x"?r:l,d=o.axis==="x"?r:l,h=[];let f,g,m,p;for(f=n,g=n+i;f<g;++f)p=e[f],m={},m[a.axis]=a.parse(_e(p,c),f),h.push(zo(_e(p,d),m,o,f));return h}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const a=n._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,a=this.getParsed(t),o=a._custom,r=On(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const a=i==="reset",{index:o,_cachedMeta:{vScale:r}}=this,l=r.getBasePixel(),c=r.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(e,i);for(let g=e;g<e+n;g++){const m=this.getParsed(g),p=a||it(m[r.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),v=this._calculateBarIndexPixels(g,d),k=(m._stacks||{})[r.axis],w={horizontal:c,base:p.base,enableBorderRadius:!k||On(m._custom)||o===k._top||o===k._bottom,x:c?p.head:v.center,y:c?v.center:p.head,height:c?v.size:Math.abs(p.size),width:c?Math.abs(p.size):v.size};f&&(w.options=h||this.resolveDataElementOptions(g,t[g].active?"active":i));const O=w.options||t[g].options;Au(w,O,k,o),$u(w,O,d.ratio),this.updateElement(t[g],g,w,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),a=n.options.stacked,o=[],r=l=>{const c=l.controller.getParsed(e),d=c&&c[l.vScale.axis];if(it(d)||isNaN(d))return!0};for(const l of i)if(!(e!==void 0&&r(l))&&((a===!1||o.indexOf(l.stack)===-1||a===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),a=e!==void 0?i.indexOf(e):-1;return a===-1?i.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let a,o;for(a=0,o=e.data.length;a<o;++a)i.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));const r=t.barThickness;return{min:r||ku(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:r?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:a,minBarLength:o}}=this,r=a||0,l=this.getParsed(t),c=l._custom,d=On(c);let h=l[e.axis],f=0,g=n?this.applyStack(e,l,n):h,m,p;g!==h&&(f=g-h,g=h),d&&(h=c.barStart,g=c.barEnd-c.barStart,h!==0&&se(h)!==se(c.barEnd)&&(f=0),f+=h);const v=!it(a)&&!d?a:f;let k=e.getPixelForValue(v);if(this.chart.getDataVisibility(t)?m=e.getPixelForValue(f+g):m=k,p=m-k,Math.abs(p)<o){p=Tu(p,e,r)*o,h===r&&(k-=p/2);const w=e.getPixelForDecimal(0),O=e.getPixelForDecimal(1),$=Math.min(w,O),A=Math.max(w,O);k=Math.max(Math.min(k,A),$),m=k+p,n&&!d&&(l._stacks[e.axis]._visualValues[i]=e.getValueForPixel(m)-e.getValueForPixel(k))}if(k===e.getPixelForValue(r)){const w=se(p)*e.getLineWidthForValue(r)/2;k+=w,p-=w}return{size:p,base:k,head:m,center:m+p/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,a=i.skipNull,o=J(i.maxBarThickness,1/0);let r,l;if(e.grouped){const c=a?this._getStackCount(t):e.stackCount,d=i.barThickness==="flex"?Mu(t,e,i,c):wu(t,e,i,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);r=d.start+d.chunk*h+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else r=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(o,e.min*e.ratio);return{base:r-l/2,head:r+l/2,center:r,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let a=0;for(;a<i;++a)this.getParsed(a)[e.axis]!==null&&n[a].draw(this._ctx)}}B(hs,"id","bar"),B(hs,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),B(hs,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Xs extends Jt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const a=super.parsePrimitiveData(t,e,n,i);for(let o=0;o<a.length;o++)a[o]._custom=this.resolveDataElementOptions(o+n).radius;return a}parseArrayData(t,e,n,i){const a=super.parseArrayData(t,e,n,i);for(let o=0;o<a.length;o++){const r=e[n+o];a[o]._custom=J(r[2],this.resolveDataElementOptions(o+n).radius)}return a}parseObjectData(t,e,n,i){const a=super.parseObjectData(t,e,n,i);for(let o=0;o<a.length;o++){const r=e[n+o];a[o]._custom=J(r&&r.r&&+r.r,this.resolveDataElementOptions(o+n).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:a}=e,o=this.getParsed(t),r=i.getLabelForValue(o.x),l=a.getLabelForValue(o.y),c=o._custom;return{label:n[t]||"",value:"("+r+", "+l+(c?", "+c:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const a=i==="reset",{iScale:o,vScale:r}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,i),d=o.axis,h=r.axis;for(let f=e;f<e+n;f++){const g=t[f],m=!a&&this.getParsed(f),p={},v=p[d]=a?o.getPixelForDecimal(.5):o.getPixelForValue(m[d]),k=p[h]=a?r.getBasePixel():r.getPixelForValue(m[h]);p.skip=isNaN(v)||isNaN(k),c&&(p.options=l||this.resolveDataElementOptions(f,g.active?"active":i),a&&(p.options.radius=0)),this.updateElement(g,f,p,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const a=i.radius;return e!=="active"&&(i.radius=0),i.radius+=J(n&&n._custom,a),i}}B(Xs,"id","bubble"),B(Xs,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),B(Xs,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Ou(s,t,e){let n=1,i=1,a=0,o=0;if(t<ut){const r=s,l=r+t,c=Math.cos(r),d=Math.sin(r),h=Math.cos(l),f=Math.sin(l),g=(O,$,A)=>_s(O,r,l,!0)?1:Math.max($,$*e,A,A*e),m=(O,$,A)=>_s(O,r,l,!0)?-1:Math.min($,$*e,A,A*e),p=g(0,c,h),v=g(vt,d,f),k=m(ht,c,h),w=m(ht+vt,d,f);n=(p-k)/2,i=(v-w)/2,a=-(p+k)/2,o=-(v+w)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:o}}class Pe extends Jt{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let a=l=>+n[l];if(tt(n[t])){const{key:l="value"}=this._parsing;a=c=>+_e(n[c],l)}let o,r;for(o=t,r=t+e;o<r;++o)i._parsed[o]=a(o)}}_getRotation(){return Kt(this.options.rotation-90)}_getCircumference(){return Kt(this.options.circumference)}_getRotationExtents(){let t=ut,e=-ut;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,a=i._getRotation(),o=i._getCircumference();t=Math.min(t,a),e=Math.max(e,a+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,a=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,r=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(Yc(this.options.cutout,r),1),c=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:m,offsetY:p}=Ou(h,d,l),v=(n.width-o)/f,k=(n.height-o)/g,w=Math.max(Math.min(v,k)/2,0),O=go(this.options.radius,w),$=Math.max(O*l,0),A=(O-$)/this._getVisibleDatasetWeightTotal();this.offsetX=m*O,this.offsetY=p*O,i.total=this.calculateTotal(),this.outerRadius=O-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*c,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,a=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*a/ut)}updateElements(t,e,n,i){const a=i==="reset",o=this.chart,r=o.chartArea,c=o.options.animation,d=(r.left+r.right)/2,h=(r.top+r.bottom)/2,f=a&&c.animateScale,g=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:p,includeOptions:v}=this._getSharedOptions(e,i);let k=this._getRotation(),w;for(w=0;w<e;++w)k+=this._circumference(w,a);for(w=e;w<e+n;++w){const O=this._circumference(w,a),$=t[w],A={x:d+this.offsetX,y:h+this.offsetY,startAngle:k,endAngle:k+O,circumference:O,outerRadius:m,innerRadius:g};v&&(A.options=p||this.resolveDataElementOptions(w,$.active?"active":i)),k+=O,this.updateElement($,w,A,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n=0,i;for(i=0;i<e.length;i++){const a=t._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!e[i].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ut*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=Ms(e._parsed[t],n.options.locale);return{label:i[t]||"",value:a}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,a,o,r,l;if(!t){for(i=0,a=n.data.datasets.length;i<a;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),t=o.data,r=o.controller;break}}if(!t)return 0;for(i=0,a=t.length;i<a;++i)l=r.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const a=this.resolveDataElementOptions(n);e=Math.max(e,a.offset||0,a.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(J(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}B(Pe,"id","doughnut"),B(Pe,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),B(Pe,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),B(Pe,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((a,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class Ks extends Jt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:a}=e,o=this.chart._animationsDisabled;let{start:r,count:l}=So(e,i,o);this._drawStart=r,this._drawCount=l,ko(e)&&(r=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},t),this.updateElements(i,r,l,t)}updateElements(t,e,n,i){const a=i==="reset",{iScale:o,vScale:r,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(e,i),f=o.axis,g=r.axis,{spanGaps:m,segment:p}=this.options,v=Ue(m)?m:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||a||i==="none",w=e+n,O=t.length;let $=e>0&&this.getParsed(e-1);for(let A=0;A<O;++A){const E=t[A],T=k?E:{};if(A<e||A>=w){T.skip=!0;continue}const M=this.getParsed(A),P=it(M[g]),I=T[f]=o.getPixelForValue(M[f],A),L=T[g]=a||P?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,M,l):M[g],A);T.skip=isNaN(I)||isNaN(L)||P,T.stop=A>0&&Math.abs(M[f]-$[f])>v,p&&(T.parsed=M,T.raw=c.data[A]),h&&(T.options=d||this.resolveDataElementOptions(A,E.active?"active":i)),k||this.updateElement(E,A,T,i),$=M}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const a=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,a,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}B(Ks,"id","line"),B(Ks,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),B(Ks,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class fs extends Jt{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=Ms(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:a}}parseObjectData(t,e,n,i){return $o.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,i)=>{const a=this.getParsed(i).r;!isNaN(a)&&this.chart.getDataVisibility(i)&&(a<e.min&&(e.min=a),a>e.max&&(e.max=a))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),a=Math.max(i/2,0),o=Math.max(n.cutoutPercentage?a/100*n.cutoutPercentage:1,0),r=(a-o)/t.getVisibleDatasetCount();this.outerRadius=a-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(t,e,n,i){const a=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,d=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*ht;let g=f,m;const p=360/this.countVisibleElements();for(m=0;m<e;++m)g+=this._computeAngle(m,i,p);for(m=e;m<e+n;m++){const v=t[m];let k=g,w=g+this._computeAngle(m,i,p),O=o.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;g=w,a&&(l.animateScale&&(O=0),l.animateRotate&&(k=w=f));const $={x:d,y:h,innerRadius:0,outerRadius:O,startAngle:k,endAngle:w,options:this.resolveDataElementOptions(m,v.active?"active":i)};this.updateElement(v,m,$,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?Kt(this.resolveDataElementOptions(t,e).angle||n):0}}B(fs,"id","polarArea"),B(fs,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),B(fs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((a,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Un extends Pe{}B(Un,"id","pie"),B(Un,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Js extends Jt{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return $o.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],a=e.iScale.getLabels();if(n.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const r={_loop:!0,_fullLoop:a.length===i.length,options:o};this.updateElement(n,void 0,r,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const a=this._cachedMeta.rScale,o=i==="reset";for(let r=e;r<e+n;r++){const l=t[r],c=this.resolveDataElementOptions(r,l.active?"active":i),d=a.getPointPositionForValue(r,this.getParsed(r).r),h=o?a.xCenter:d.x,f=o?a.yCenter:d.y,g={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,r,g,i)}}}B(Js,"id","radar"),B(Js,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),B(Js,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class qs extends Jt{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:a}=e,o=this.getParsed(t),r=i.getLabelForValue(o.x),l=a.getLabelForValue(o.y);return{label:n[t]||"",value:"("+r+", "+l+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:a,count:o}=So(e,n,i);if(this._drawStart=a,this._drawCount=o,ko(e)&&(a=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:l}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!l._decimated,r.points=n;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,a,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,i){const a=i==="reset",{iScale:o,vScale:r,_stacked:l,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(e,i),h=this.getSharedOptions(d),f=this.includeOptions(i,h),g=o.axis,m=r.axis,{spanGaps:p,segment:v}=this.options,k=Ue(p)?p:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||a||i==="none";let O=e>0&&this.getParsed(e-1);for(let $=e;$<e+n;++$){const A=t[$],E=this.getParsed($),T=w?A:{},M=it(E[m]),P=T[g]=o.getPixelForValue(E[g],$),I=T[m]=a||M?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,E,l):E[m],$);T.skip=isNaN(P)||isNaN(I)||M,T.stop=$>0&&Math.abs(E[g]-O[g])>k,v&&(T.parsed=E,T.raw=c.data[$]),f&&(T.options=h||this.resolveDataElementOptions($,A.active?"active":i)),w||this.updateElement(A,$,T,i),O=E}this.updateSharedOptions(h,i,d)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let r=0;for(let l=e.length-1;l>=0;--l)r=Math.max(r,e[l].size(this.resolveDataElementOptions(l))/2);return r>0&&r}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const a=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,a,o)/2}}B(qs,"id","scatter"),B(qs,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),B(qs,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Fu=Object.freeze({__proto__:null,BarController:hs,BubbleController:Xs,DoughnutController:Pe,LineController:Ks,PieController:Un,PolarAreaController:fs,RadarController:Js,ScatterController:qs});function Ce(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class _i{constructor(t){B(this,"options");this.options=t||{}}static override(t){Object.assign(_i.prototype,t)}init(){}formats(){return Ce()}parse(){return Ce()}format(){return Ce()}add(){return Ce()}diff(){return Ce()}startOf(){return Ce()}endOf(){return Ce()}}var Eu={_date:_i};function Lu(s,t,e,n){const{controller:i,data:a,_sorted:o}=s,r=i._cachedMeta.iScale;if(r&&t===r.axis&&t!=="r"&&o&&a.length){const l=r._reversePixels?id:le;if(n){if(i._sharedOptions){const c=a[0],d=typeof c.getRange=="function"&&c.getRange(t);if(d){const h=l(a,t,e-d),f=l(a,t,e+d);return{lo:h.lo,hi:f.hi}}}}else return l(a,t,e)}return{lo:0,hi:a.length-1}}function Cs(s,t,e,n,i){const a=s.getSortedVisibleDatasetMetas(),o=e[t];for(let r=0,l=a.length;r<l;++r){const{index:c,data:d}=a[r],{lo:h,hi:f}=Lu(a[r],t,o,i);for(let g=h;g<=f;++g){const m=d[g];m.skip||n(m,c,g)}}}function Ru(s){const t=s.indexOf("x")!==-1,e=s.indexOf("y")!==-1;return function(n,i){const a=t?Math.abs(n.x-i.x):0,o=e?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function Fn(s,t,e,n,i){const a=[];return!i&&!s.isPointInArea(t)||Cs(s,e,t,function(r,l,c){!i&&!ce(r,s.chartArea,0)||r.inRange(t.x,t.y,n)&&a.push({element:r,datasetIndex:l,index:c})},!0),a}function Iu(s,t,e,n){let i=[];function a(o,r,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],n),{angle:h}=_o(o,{x:t.x,y:t.y});_s(h,c,d)&&i.push({element:o,datasetIndex:r,index:l})}return Cs(s,e,t,a),i}function Bu(s,t,e,n,i,a){let o=[];const r=Ru(e);let l=Number.POSITIVE_INFINITY;function c(d,h,f){const g=d.inRange(t.x,t.y,i);if(n&&!g)return;const m=d.getCenterPoint(i);if(!(!!a||s.isPointInArea(m))&&!g)return;const v=r(t,m);v<l?(o=[{element:d,datasetIndex:h,index:f}],l=v):v===l&&o.push({element:d,datasetIndex:h,index:f})}return Cs(s,e,t,c),o}function En(s,t,e,n,i,a){return!a&&!s.isPointInArea(t)?[]:e==="r"&&!n?Iu(s,t,e,i):Bu(s,t,e,n,i,a)}function ia(s,t,e,n,i){const a=[],o=e==="x"?"inXRange":"inYRange";let r=!1;return Cs(s,e,t,(l,c,d)=>{l[o](t[e],i)&&(a.push({element:l,datasetIndex:c,index:d}),r=r||l.inRange(t.x,t.y,i))}),n&&!r?[]:a}var Vu={evaluateInteractionItems:Cs,modes:{index(s,t,e,n){const i=De(t,s),a=e.axis||"x",o=e.includeInvisible||!1,r=e.intersect?Fn(s,i,a,n,o):En(s,i,a,!1,n,o),l=[];return r.length?(s.getSortedVisibleDatasetMetas().forEach(c=>{const d=r[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(s,t,e,n){const i=De(t,s),a=e.axis||"xy",o=e.includeInvisible||!1;let r=e.intersect?Fn(s,i,a,n,o):En(s,i,a,!1,n,o);if(r.length>0){const l=r[0].datasetIndex,c=s.getDatasetMeta(l).data;r=[];for(let d=0;d<c.length;++d)r.push({element:c[d],datasetIndex:l,index:d})}return r},point(s,t,e,n){const i=De(t,s),a=e.axis||"xy",o=e.includeInvisible||!1;return Fn(s,i,a,n,o)},nearest(s,t,e,n){const i=De(t,s),a=e.axis||"xy",o=e.includeInvisible||!1;return En(s,i,a,e.intersect,n,o)},x(s,t,e,n){const i=De(t,s);return ia(s,i,"x",e.intersect,n)},y(s,t,e,n){const i=De(t,s);return ia(s,i,"y",e.intersect,n)}}};const No=["left","top","right","bottom"];function Ze(s,t){return s.filter(e=>e.pos===t)}function aa(s,t){return s.filter(e=>No.indexOf(e.pos)===-1&&e.box.axis===t)}function Qe(s,t){return s.sort((e,n)=>{const i=t?n:e,a=t?e:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function zu(s){const t=[];let e,n,i,a,o,r;for(e=0,n=(s||[]).length;e<n;++e)i=s[e],{position:a,options:{stack:o,stackWeight:r=1}}=i,t.push({index:e,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&a+o,stackWeight:r});return t}function Nu(s){const t={};for(const e of s){const{stack:n,pos:i,stackWeight:a}=e;if(!n||!No.includes(i))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return t}function Hu(s,t){const e=Nu(s),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let a,o,r;for(a=0,o=s.length;a<o;++a){r=s[a];const{fullSize:l}=r.box,c=e[r.stack],d=c&&r.stackWeight/c.weight;r.horizontal?(r.width=d?d*n:l&&t.availableWidth,r.height=i):(r.width=n,r.height=d?d*i:l&&t.availableHeight)}return e}function ju(s){const t=zu(s),e=Qe(t.filter(c=>c.box.fullSize),!0),n=Qe(Ze(t,"left"),!0),i=Qe(Ze(t,"right")),a=Qe(Ze(t,"top"),!0),o=Qe(Ze(t,"bottom")),r=aa(t,"x"),l=aa(t,"y");return{fullSize:e,leftAndTop:n.concat(a),rightAndBottom:i.concat(l).concat(o).concat(r),chartArea:Ze(t,"chartArea"),vertical:n.concat(i).concat(l),horizontal:a.concat(o).concat(r)}}function oa(s,t,e,n){return Math.max(s[e],t[e])+Math.max(s[n],t[n])}function Ho(s,t){s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}function Wu(s,t,e,n){const{pos:i,box:a}=e,o=s.maxPadding;if(!tt(i)){e.size&&(s[i]-=e.size);const h=n[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?a.height:a.width),e.size=h.size/h.count,s[i]+=e.size}a.getPadding&&Ho(o,a.getPadding());const r=Math.max(0,t.outerWidth-oa(o,s,"left","right")),l=Math.max(0,t.outerHeight-oa(o,s,"top","bottom")),c=r!==s.w,d=l!==s.h;return s.w=r,s.h=l,e.horizontal?{same:c,other:d}:{same:d,other:c}}function Uu(s){const t=s.maxPadding;function e(n){const i=Math.max(t[n]-s[n],0);return s[n]+=i,i}s.y+=e("top"),s.x+=e("left"),e("right"),e("bottom")}function Yu(s,t){const e=t.maxPadding;function n(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{a[o]=Math.max(t[o],e[o])}),a}return n(s?["left","right"]:["top","bottom"])}function is(s,t,e,n){const i=[];let a,o,r,l,c,d;for(a=0,o=s.length,c=0;a<o;++a){r=s[a],l=r.box,l.update(r.width||t.w,r.height||t.h,Yu(r.horizontal,t));const{same:h,other:f}=Wu(t,e,r,n);c|=h&&i.length,d=d||f,l.fullSize||i.push(r)}return c&&is(i,t,e,n)||d}function zs(s,t,e,n,i){s.top=e,s.left=t,s.right=t+n,s.bottom=e+i,s.width=n,s.height=i}function ra(s,t,e,n){const i=e.padding;let{x:a,y:o}=t;for(const r of s){const l=r.box,c=n[r.stack]||{count:1,placed:0,weight:1},d=r.stackWeight/c.weight||1;if(r.horizontal){const h=t.w*d,f=c.size||l.height;ms(c.start)&&(o=c.start),l.fullSize?zs(l,i.left,o,e.outerWidth-i.right-i.left,f):zs(l,t.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*d,f=c.size||l.width;ms(c.start)&&(a=c.start),l.fullSize?zs(l,a,i.top,f,e.outerHeight-i.bottom-i.top):zs(l,a,t.top+c.placed,f,h),c.start=a,c.placed+=h,a=l.right}}t.x=a,t.y=o}var $t={addBox(s,t){s.boxes||(s.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},s.boxes.push(t)},removeBox(s,t){const e=s.boxes?s.boxes.indexOf(t):-1;e!==-1&&s.boxes.splice(e,1)},configure(s,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(s,t,e,n){if(!s)return;const i=Ot(s.options.layout.padding),a=Math.max(t-i.width,0),o=Math.max(e-i.height,0),r=ju(s.boxes),l=r.vertical,c=r.horizontal;rt(s.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const d=l.reduce((p,v)=>v.box.options&&v.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},i);Ho(f,Ot(n));const g=Object.assign({maxPadding:f,w:a,h:o,x:i.left,y:i.top},i),m=Hu(l.concat(c),h);is(r.fullSize,g,h,m),is(l,g,h,m),is(c,g,h,m)&&is(l,g,h,m),Uu(g),ra(r.leftAndTop,g,h,m),g.x+=g.w,g.y+=g.h,ra(r.rightAndBottom,g,h,m),s.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},rt(r.chartArea,p=>{const v=p.box;Object.assign(v,s.chartArea),v.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class jo{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class Gu extends jo{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Zs="$chartjs",Xu={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},la=s=>s===null||s==="";function Ku(s,t){const e=s.style,n=s.getAttribute("height"),i=s.getAttribute("width");if(s[Zs]={initial:{height:n,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",la(i)){const a=Wi(s,"width");a!==void 0&&(s.width=a)}if(la(n))if(s.style.height==="")s.height=s.width/(t||2);else{const a=Wi(s,"height");a!==void 0&&(s.height=a)}return s}const Wo=qd?{passive:!0}:!1;function Ju(s,t,e){s.addEventListener(t,e,Wo)}function qu(s,t,e){s.canvas.removeEventListener(t,e,Wo)}function Zu(s,t){const e=Xu[s.type]||s.type,{x:n,y:i}=De(s,t);return{type:e,chart:t,native:s,x:n!==void 0?n:null,y:i!==void 0?i:null}}function cn(s,t){for(const e of s)if(e===t||e.contains(t))return!0}function Qu(s,t,e){const n=s.canvas,i=new MutationObserver(a=>{let o=!1;for(const r of a)o=o||cn(r.addedNodes,n),o=o&&!cn(r.removedNodes,n);o&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function th(s,t,e){const n=s.canvas,i=new MutationObserver(a=>{let o=!1;for(const r of a)o=o||cn(r.removedNodes,n),o=o&&!cn(r.addedNodes,n);o&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}const vs=new Map;let ca=0;function Uo(){const s=window.devicePixelRatio;s!==ca&&(ca=s,vs.forEach((t,e)=>{e.currentDevicePixelRatio!==s&&t()}))}function eh(s,t){vs.size||window.addEventListener("resize",Uo),vs.set(s,t)}function sh(s){vs.delete(s),vs.size||window.removeEventListener("resize",Uo)}function nh(s,t,e){const n=s.canvas,i=n&&mi(n);if(!i)return;const a=xo((r,l)=>{const c=i.clientWidth;e(r,l),c<i.clientWidth&&e()},window),o=new ResizeObserver(r=>{const l=r[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||a(c,d)});return o.observe(i),eh(s,a),o}function Ln(s,t,e){e&&e.disconnect(),t==="resize"&&sh(s)}function ih(s,t,e){const n=s.canvas,i=xo(a=>{s.ctx!==null&&e(Zu(a,s))},s);return Ju(n,t,i),i}class ah extends jo{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Ku(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[Zs])return!1;const n=e[Zs].initial;["height","width"].forEach(a=>{const o=n[a];it(o)?e.removeAttribute(a):e.setAttribute(a,o)});const i=n.style||{};return Object.keys(i).forEach(a=>{e.style[a]=i[a]}),e.width=e.width,delete e[Zs],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),o={attach:Qu,detach:th,resize:nh}[e]||ih;i[e]=o(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:Ln,detach:Ln,resize:Ln}[e]||qu)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return Jd(t,e,n,i)}isAttached(t){const e=mi(t);return!!(e&&e.isConnected)}}function oh(s){return!pi()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?Gu:ah}class Zt{constructor(){B(this,"x");B(this,"y");B(this,"active",!1);B(this,"options");B(this,"$animations")}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Ue(this.x)&&Ue(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}}B(Zt,"defaults",{}),B(Zt,"defaultRoutes");function rh(s,t){const e=s.options.ticks,n=lh(s),i=Math.min(e.maxTicksLimit||n,n),a=e.major.enabled?dh(t):[],o=a.length,r=a[0],l=a[o-1],c=[];if(o>i)return uh(t,c,a,o/i),c;const d=ch(a,t,i);if(o>0){let h,f;const g=o>1?Math.round((l-r)/(o-1)):null;for(Ns(t,c,d,it(g)?0:r-g,r),h=0,f=o-1;h<f;h++)Ns(t,c,d,a[h],a[h+1]);return Ns(t,c,d,l,it(g)?t.length:l+g),c}return Ns(t,c,d),c}function lh(s){const t=s.options.offset,e=s._tickSize(),n=s._length/e+(t?0:1),i=s._maxLength/e;return Math.floor(Math.min(n,i))}function ch(s,t,e){const n=hh(s),i=t.length/e;if(!n)return Math.max(i,1);const a=td(n);for(let o=0,r=a.length-1;o<r;o++){const l=a[o];if(l>i)return l}return Math.max(i,1)}function dh(s){const t=[];let e,n;for(e=0,n=s.length;e<n;e++)s[e].major&&t.push(e);return t}function uh(s,t,e,n){let i=0,a=e[0],o;for(n=Math.ceil(n),o=0;o<s.length;o++)o===a&&(t.push(s[o]),i++,a=e[i*n])}function Ns(s,t,e,n,i){const a=J(n,0),o=Math.min(J(i,s.length),s.length);let r=0,l,c,d;for(e=Math.ceil(e),i&&(l=i-n,e=l/Math.floor(l/e)),d=a;d<0;)r++,d=Math.round(a+r*e);for(c=Math.max(a,0);c<o;c++)c===d&&(t.push(s[c]),r++,d=Math.round(a+r*e))}function hh(s){const t=s.length;let e,n;if(t<2)return!1;for(n=s[0],e=1;e<t;++e)if(s[e]-s[e-1]!==n)return!1;return n}const fh=s=>s==="left"?"right":s==="right"?"left":s,da=(s,t,e)=>t==="top"||t==="left"?s[t]+e:s[t]-e,ua=(s,t)=>Math.min(t||s,s);function ha(s,t){const e=[],n=s.length/t,i=s.length;let a=0;for(;a<i;a+=n)e.push(s[Math.floor(a)]);return e}function gh(s,t,e){const n=s.ticks.length,i=Math.min(t,n-1),a=s._startPixel,o=s._endPixel,r=1e-6;let l=s.getPixelForTick(i),c;if(!(e&&(n===1?c=Math.max(l-a,o-l):t===0?c=(s.getPixelForTick(1)-l)/2:c=(l-s.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<a-r||l>o+r)))return l}function ph(s,t){rt(s,e=>{const n=e.gc,i=n.length/2;let a;if(i>t){for(a=0;a<i;++a)delete e.data[n[a]];n.splice(0,i)}})}function ts(s){return s.drawTicks?s.tickLength:0}function fa(s,t){if(!s.display)return 0;const e=Mt(s.font,t),n=Ot(s.padding);return(dt(s.text)?s.text.length:1)*e.lineHeight+n.height}function mh(s,t){return ve(s,{scale:t,type:"scale"})}function _h(s,t,e){return ve(s,{tick:e,index:t,type:"tick"})}function bh(s,t,e){let n=ci(s);return(e&&t!=="right"||!e&&t==="right")&&(n=fh(n)),n}function vh(s,t,e,n){const{top:i,left:a,bottom:o,right:r,chart:l}=s,{chartArea:c,scales:d}=l;let h=0,f,g,m;const p=o-i,v=r-a;if(s.isHorizontal()){if(g=Pt(n,a,r),tt(e)){const k=Object.keys(e)[0],w=e[k];m=d[k].getPixelForValue(w)+p-t}else e==="center"?m=(c.bottom+c.top)/2+p-t:m=da(s,e,t);f=r-a}else{if(tt(e)){const k=Object.keys(e)[0],w=e[k];g=d[k].getPixelForValue(w)-v+t}else e==="center"?g=(c.left+c.right)/2-v+t:g=da(s,e,t);m=Pt(n,o,i),h=e==="left"?-vt:vt}return{titleX:g,titleY:m,maxWidth:f,rotation:h}}class Ie extends Zt{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=Bt(t,Number.POSITIVE_INFINITY),e=Bt(e,Number.NEGATIVE_INFINITY),n=Bt(n,Number.POSITIVE_INFINITY),i=Bt(i,Number.NEGATIVE_INFINITY),{min:Bt(t,n),max:Bt(e,i),minDefined:mt(t),maxDefined:mt(e)}}getMinMax(t){let{min:e,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),o;if(i&&a)return{min:e,max:n};const r=this.getMatchingVisibleMetas();for(let l=0,c=r.length;l<c;++l)o=r[l].controller.getMinMax(this,t),i||(e=Math.min(e,o.min)),a||(n=Math.max(n,o.max));return e=a&&e>n?n:e,n=i&&e>n?e:n,{min:Bt(e,Bt(n,e)),max:Bt(n,Bt(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ct(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:a,ticks:o}=this.options,r=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Dd(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=r<this.ticks.length;this._convertTicksToLabels(l?ha(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=rh(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ct(this.options.afterUpdate,[this])}beforeSetDimensions(){ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ct(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ct(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,a;for(n=0,i=t.length;n<i;n++)a=t[n],a.label=ct(e.callback,[a.value,n,t],this)}afterTickToLabelConversion(){ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=ua(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,a=e.maxRotation;let o=i,r,l,c;if(!this._isVisible()||!e.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,g=Dt(this.chart.width-h,0,this.maxWidth);r=t.offset?this.maxWidth/n:g/(n-1),h+6>r&&(r=g/(n-(t.offset?.5:1)),l=this.maxHeight-ts(t.grid)-e.padding-fa(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=ri(Math.min(Math.asin(Dt((d.highest.height+6)/r,-1,1)),Math.asin(Dt(l/c,-1,1))-Math.asin(Dt(f/c,-1,1)))),o=Math.max(i,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ct(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:a}}=this,o=this._isVisible(),r=this.isHorizontal();if(o){const l=fa(i,e.options.font);if(r?(t.width=this.maxWidth,t.height=ts(a)+l):(t.height=this.maxHeight,t.width=ts(a)+l),n.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:f}=this._getLabelSizes(),g=n.padding*2,m=Kt(this.labelRotation),p=Math.cos(m),v=Math.sin(m);if(r){const k=n.mirror?0:v*h.width+p*f.height;t.height=Math.min(this.maxHeight,t.height+k+g)}else{const k=n.mirror?0:p*h.width+v*f.height;t.width=Math.min(this.maxWidth,t.width+k+g)}this._calculatePadding(c,d,v,p)}}this._handleMargins(),r?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:a,padding:o},position:r}=this.options,l=this.labelRotation!==0,c=r!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?c?(f=i*t.width,g=n*e.height):(f=n*t.height,g=i*e.width):a==="start"?g=e.width:a==="end"?f=t.width:a!=="inner"&&(f=t.width/2,g=e.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-h+o)*this.width/(this.width-h),0)}else{let d=e.height/2,h=t.height/2;a==="start"?(d=0,h=t.height):a==="end"&&(d=e.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ct(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)it(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=ha(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:a}=this,o=[],r=[],l=Math.floor(e/ua(e,n));let c=0,d=0,h,f,g,m,p,v,k,w,O,$,A;for(h=0;h<e;h+=l){if(m=t[h].label,p=this._resolveTickFontOptions(h),i.font=v=p.string,k=a[v]=a[v]||{data:{},gc:[]},w=p.lineHeight,O=$=0,!it(m)&&!dt(m))O=rn(i,k.data,k.gc,O,m),$=w;else if(dt(m))for(f=0,g=m.length;f<g;++f)A=m[f],!it(A)&&!dt(A)&&(O=rn(i,k.data,k.gc,O,A),$+=w);o.push(O),r.push($),c=Math.max(O,c),d=Math.max($,d)}ph(a,e);const E=o.indexOf(c),T=r.indexOf(d),M=P=>({width:o[P]||0,height:r[P]||0});return{first:M(0),last:M(e-1),widest:M(E),highest:M(T),widths:o,heights:r}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return nd(this._alignToPixels?Me(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=_h(this.getContext(),t,n))}return this.$context||(this.$context=mh(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Kt(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),a=this._getLabelSizes(),o=t.autoSkipPadding||0,r=a?a.widest.width+o:0,l=a?a.highest.height+o:0;return this.isHorizontal()?l*n>r*i?r/n:l/i:l*i<r*n?l/n:r/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:a,position:o,border:r}=i,l=a.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=ts(a),g=[],m=r.setContext(this.getContext()),p=m.display?m.width:0,v=p/2,k=function(Y){return Me(n,Y,p)};let w,O,$,A,E,T,M,P,I,L,U,ot;if(o==="top")w=k(this.bottom),T=this.bottom-f,P=w-v,L=k(t.top)+v,ot=t.bottom;else if(o==="bottom")w=k(this.top),L=t.top,ot=k(t.bottom)-v,T=w+v,P=this.top+f;else if(o==="left")w=k(this.right),E=this.right-f,M=w-v,I=k(t.left)+v,U=t.right;else if(o==="right")w=k(this.left),I=t.left,U=k(t.right)-v,E=w+v,M=this.left+f;else if(e==="x"){if(o==="center")w=k((t.top+t.bottom)/2+.5);else if(tt(o)){const Y=Object.keys(o)[0],st=o[Y];w=k(this.chart.scales[Y].getPixelForValue(st))}L=t.top,ot=t.bottom,T=w+v,P=T+f}else if(e==="y"){if(o==="center")w=k((t.left+t.right)/2);else if(tt(o)){const Y=Object.keys(o)[0],st=o[Y];w=k(this.chart.scales[Y].getPixelForValue(st))}E=w-v,M=E-f,I=t.left,U=t.right}const H=J(i.ticks.maxTicksLimit,h),q=Math.max(1,Math.ceil(h/H));for(O=0;O<h;O+=q){const Y=this.getContext(O),st=a.setContext(Y),pt=r.setContext(Y),ft=st.lineWidth,Lt=st.color,kt=pt.dash||[],Nt=pt.dashOffset,Ht=st.tickWidth,wt=st.tickColor,jt=st.tickBorderDash||[],xt=st.tickBorderDashOffset;$=gh(this,O,l),$!==void 0&&(A=Me(n,$,ft),c?E=M=I=U=A:T=P=L=ot=A,g.push({tx1:E,ty1:T,tx2:M,ty2:P,x1:I,y1:L,x2:U,y2:ot,width:ft,color:Lt,borderDash:kt,borderDashOffset:Nt,tickWidth:Ht,tickColor:wt,tickBorderDash:jt,tickBorderDashOffset:xt}))}return this._ticksLength=h,this._borderValue=w,g}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:a}=n,o=this.isHorizontal(),r=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=a,f=ts(n.grid),g=f+d,m=h?-d:g,p=-Kt(this.labelRotation),v=[];let k,w,O,$,A,E,T,M,P,I,L,U,ot="middle";if(i==="top")E=this.bottom-m,T=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+m,T=this._getXAxisLabelAlignment();else if(i==="left"){const q=this._getYAxisLabelAlignment(f);T=q.textAlign,A=q.x}else if(i==="right"){const q=this._getYAxisLabelAlignment(f);T=q.textAlign,A=q.x}else if(e==="x"){if(i==="center")E=(t.top+t.bottom)/2+g;else if(tt(i)){const q=Object.keys(i)[0],Y=i[q];E=this.chart.scales[q].getPixelForValue(Y)+g}T=this._getXAxisLabelAlignment()}else if(e==="y"){if(i==="center")A=(t.left+t.right)/2-g;else if(tt(i)){const q=Object.keys(i)[0],Y=i[q];A=this.chart.scales[q].getPixelForValue(Y)}T=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(l==="start"?ot="top":l==="end"&&(ot="bottom"));const H=this._getLabelSizes();for(k=0,w=r.length;k<w;++k){O=r[k],$=O.label;const q=a.setContext(this.getContext(k));M=this.getPixelForTick(k)+a.labelOffset,P=this._resolveTickFontOptions(k),I=P.lineHeight,L=dt($)?$.length:1;const Y=L/2,st=q.color,pt=q.textStrokeColor,ft=q.textStrokeWidth;let Lt=T;o?(A=M,T==="inner"&&(k===w-1?Lt=this.options.reverse?"left":"right":k===0?Lt=this.options.reverse?"right":"left":Lt="center"),i==="top"?c==="near"||p!==0?U=-L*I+I/2:c==="center"?U=-H.highest.height/2-Y*I+I:U=-H.highest.height+I/2:c==="near"||p!==0?U=I/2:c==="center"?U=H.highest.height/2-Y*I:U=H.highest.height-L*I,h&&(U*=-1),p!==0&&!q.showLabelBackdrop&&(A+=I/2*Math.sin(p))):(E=M,U=(1-L)*I/2);let kt;if(q.showLabelBackdrop){const Nt=Ot(q.backdropPadding),Ht=H.heights[k],wt=H.widths[k];let jt=U-Nt.top,xt=0-Nt.left;switch(ot){case"middle":jt-=Ht/2;break;case"bottom":jt-=Ht;break}switch(T){case"center":xt-=wt/2;break;case"right":xt-=wt;break;case"inner":k===w-1?xt-=wt:k>0&&(xt-=wt/2);break}kt={left:xt,top:jt,width:wt+Nt.width,height:Ht+Nt.height,color:q.backdropColor}}v.push({label:$,font:P,textOffset:U,options:{rotation:p,color:st,strokeColor:pt,strokeWidth:ft,textAlign:Lt,textBaseline:ot,translation:[A,E],backdrop:kt}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Kt(this.labelRotation))return t==="top"?"left":"right";let i="center";return e.align==="start"?i="left":e.align==="end"?i="right":e.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,o=this._getLabelSizes(),r=t+a,l=o.widest.width;let c,d;return e==="left"?i?(d=this.right+a,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-r,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d=this.left)):e==="right"?i?(d=this.left+a,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+r,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:a,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,a,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex(a=>a.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,o;const r=(l,c,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(e.display)for(a=0,o=i.length;a<o;++a){const l=i[a];e.drawOnChartArea&&r({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&r({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),o=n.display?a.width:0;if(!o)return;const r=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,h,f;this.isHorizontal()?(c=Me(t,this.left,o)-o/2,d=Me(t,this.right,r)+r/2,h=f=l):(h=Me(t,this.top,o)-o/2,f=Me(t,this.bottom,r)+r/2,c=d=l),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(c,h),e.lineTo(d,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&mn(n,i);const a=this.getLabelItems(t);for(const o of a){const r=o.options,l=o.font,c=o.label,d=o.textOffset;Ee(n,c,0,d,l,r)}i&&_n(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const a=Mt(n.font),o=Ot(n.padding),r=n.align;let l=a.lineHeight/2;e==="bottom"||e==="center"||tt(e)?(l+=o.bottom,dt(n.text)&&(l+=a.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:h,rotation:f}=vh(this,l,e,r);Ee(t,n.text,0,0,a,{color:n.color,maxWidth:h,rotation:f,textAlign:bh(r,e,i),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=J(t.grid&&t.grid.z,-1),i=J(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ie.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let a,o;for(a=0,o=e.length;a<o;++a){const r=e[a];r[n]===this.id&&(!t||r.type===t)&&i.push(r)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Mt(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Hs{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;Sh(e)&&(n=this.register(e));const i=this.items,a=t.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in i||(i[a]=t,yh(t,o,n),this.override&&_t.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in _t[i]&&(delete _t[i][n],this.override&&delete Fe[n])}}function yh(s,t,e){const n=ps(Object.create(null),[e?_t.get(e):{},_t.get(t),s.defaults]);_t.set(t,n),s.defaultRoutes&&xh(t,s.defaultRoutes),s.descriptors&&_t.describe(t,s.descriptors)}function xh(s,t){Object.keys(t).forEach(e=>{const n=e.split("."),i=n.pop(),a=[s].concat(n).join("."),o=t[e].split("."),r=o.pop(),l=o.join(".");_t.route(a,i,l,r)})}function Sh(s){return"id"in s&&"defaults"in s}class kh{constructor(){this.controllers=new Hs(Jt,"datasets",!0),this.elements=new Hs(Zt,"elements"),this.plugins=new Hs(Object,"plugins"),this.scales=new Hs(Ie,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(i=>{const a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(t,a,i):rt(i,o=>{const r=n||this._getRegistryForType(o);this._exec(t,r,o)})})}_exec(t,e,n){const i=oi(t);ct(n["before"+i],[],n),e[t](n),ct(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var te=new kh;class wh{constructor(){this._init=[]}notify(t,e,n,i){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(a,t,e,n);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,i){i=i||{};for(const a of t){const o=a.plugin,r=o[n],l=[e,i,a.options];if(ct(r,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){it(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=J(n.options&&n.options.plugins,{}),a=Mh(n);return i===!1&&!e?[]:Th(t,a,i,e)}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(a,o)=>a.filter(r=>!o.some(l=>r.plugin.id===l.plugin.id));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function Mh(s){const t={},e=[],n=Object.keys(te.plugins.items);for(let a=0;a<n.length;a++)e.push(te.getPlugin(n[a]));const i=s.plugins||[];for(let a=0;a<i.length;a++){const o=i[a];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function Ch(s,t){return!t&&s===!1?null:s===!0?{}:s}function Th(s,{plugins:t,localIds:e},n,i){const a=[],o=s.getContext();for(const r of t){const l=r.id,c=Ch(n[l],i);c!==null&&a.push({plugin:r,options:Dh(s.config,{plugin:r,local:e[l]},c,o)})}return a}function Dh(s,{plugin:t,local:e},n,i){const a=s.pluginScopeKeys(t),o=s.getOptionScopes(n,a);return e&&t.defaults&&o.push(t.defaults),s.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Yn(s,t){const e=_t.datasets[s]||{};return((t.datasets||{})[s]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Ah(s,t){let e=s;return s==="_index_"?e=t:s==="_value_"&&(e=t==="x"?"y":"x"),e}function Ph(s,t){return s===t?"_index_":"_value_"}function ga(s){if(s==="x"||s==="y"||s==="r")return s}function $h(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function Gn(s,...t){if(ga(s))return s;for(const e of t){const n=e.axis||$h(e.position)||s.length>1&&ga(s[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function pa(s,t,e){if(e[t+"AxisID"]===s)return{axis:t}}function Oh(s,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(n=>n.xAxisID===s||n.yAxisID===s);if(e.length)return pa(s,"x",e[0])||pa(s,"y",e[0])}return{}}function Fh(s,t){const e=Fe[s.type]||{scales:{}},n=t.scales||{},i=Yn(s.type,t),a=Object.create(null);return Object.keys(n).forEach(o=>{const r=n[o];if(!tt(r))return console.error(`Invalid scale configuration for scale: ${o}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Gn(o,r,Oh(o,s),_t.scales[r.type]),c=Ph(l,i),d=e.scales||{};a[o]=ls(Object.create(null),[{axis:l},r,d[l],d[c]])}),s.data.datasets.forEach(o=>{const r=o.type||s.type,l=o.indexAxis||Yn(r,t),d=(Fe[r]||{}).scales||{};Object.keys(d).forEach(h=>{const f=Ah(h,l),g=o[f+"AxisID"]||f;a[g]=a[g]||Object.create(null),ls(a[g],[{axis:f},n[g],d[h]])})}),Object.keys(a).forEach(o=>{const r=a[o];ls(r,[_t.scales[r.type],_t.scale])}),a}function Yo(s){const t=s.options||(s.options={});t.plugins=J(t.plugins,{}),t.scales=Fh(s,t)}function Go(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function Eh(s){return s=s||{},s.data=Go(s.data),Yo(s),s}const ma=new Map,Xo=new Set;function js(s,t){let e=ma.get(s);return e||(e=t(),ma.set(s,e),Xo.add(e)),e}const es=(s,t,e)=>{const n=_e(t,e);n!==void 0&&s.add(n)};class Lh{constructor(t){this._config=Eh(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Go(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Yo(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return js(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return js(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return js(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return js(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return(!i||e)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:a}=this,o=this._cachedScopes(t,n),r=o.get(e);if(r)return r;const l=new Set;e.forEach(d=>{t&&(l.add(t),d.forEach(h=>es(l,t,h))),d.forEach(h=>es(l,i,h)),d.forEach(h=>es(l,Fe[a]||{},h)),d.forEach(h=>es(l,_t,h)),d.forEach(h=>es(l,jn,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Xo.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,Fe[e]||{},_t.datasets[e]||{},{type:e},_t,jn]}resolveNamedOptions(t,e,n,i=[""]){const a={$shared:!0},{resolver:o,subPrefixes:r}=_a(this._resolverCache,t,i);let l=o;if(Ih(o,e)){a.$shared=!1,n=be(n)?n():n;const c=this.createResolver(t,n,r);l=Ye(o,n,c)}for(const c of e)a[c]=l[c];return a}createResolver(t,e,n=[""],i){const{resolver:a}=_a(this._resolverCache,t,n);return tt(e)?Ye(a,e,void 0,i):a}}function _a(s,t,e){let n=s.get(t);n||(n=new Map,s.set(t,n));const i=e.join();let a=n.get(i);return a||(a={resolver:hi(t,e),subPrefixes:e.filter(r=>!r.toLowerCase().includes("hover"))},n.set(i,a)),a}const Rh=s=>tt(s)&&Object.getOwnPropertyNames(s).some(t=>be(s[t]));function Ih(s,t){const{isScriptable:e,isIndexable:n}=To(s);for(const i of t){const a=e(i),o=n(i),r=(o||a)&&s[i];if(a&&(be(r)||Rh(r))||o&&dt(r))return!0}return!1}var Bh="4.4.1";const Vh=["top","bottom","left","right","chartArea"];function ba(s,t){return s==="top"||s==="bottom"||Vh.indexOf(s)===-1&&t==="x"}function va(s,t){return function(e,n){return e[s]===n[s]?e[t]-n[t]:e[s]-n[s]}}function ya(s){const t=s.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ct(e&&e.onComplete,[s],t)}function zh(s){const t=s.chart,e=t.options.animation;ct(e&&e.onProgress,[s],t)}function Ko(s){return pi()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Qs={},xa=s=>{const t=Ko(s);return Object.values(Qs).filter(e=>e.canvas===t).pop()};function Nh(s,t,e){const n=Object.keys(s);for(const i of n){const a=+i;if(a>=t){const o=s[i];delete s[i],(e>0||a>t)&&(s[a+e]=o)}}}function Hh(s,t,e,n){return!e||s.type==="mouseout"?null:n?t:s}function Ws(s,t,e){return s.options.clip?s[e]:t[e]}function jh(s,t){const{xScale:e,yScale:n}=s;return e&&n?{left:Ws(e,t,"left"),right:Ws(e,t,"right"),top:Ws(n,t,"top"),bottom:Ws(n,t,"bottom")}:t}var de;let vn=(de=class{static register(...t){te.add(...t),Sa()}static unregister(...t){te.remove(...t),Sa()}constructor(t,e){const n=this.config=new Lh(e),i=Ko(t),a=xa(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||oh(i)),this.platform.updateConfig(n);const r=this.platform.acquireContext(i,o.aspectRatio),l=r&&r.canvas,c=l&&l.height,d=l&&l.width;if(this.id=Uc(),this.ctx=r,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wh,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=rd(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Qs[this.id]=this,!r||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ie.listen(this,"complete",ya),ie.listen(this,"progress",zh),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:a}=this;return it(t)?e&&a?a:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return te}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ji(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zi(this.canvas,this.ctx),this}stop(){return ie.stop(this),this}resize(t,e){ie.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,e,a),r=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ji(this,r,!0)&&(this.notifyPlugins("resize",{size:o}),ct(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};rt(e,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce((o,r)=>(o[r]=!1,o),{});let a=[];e&&(a=a.concat(Object.keys(e).map(o=>{const r=e[o],l=Gn(o,r),c=l==="r",d=l==="x";return{options:r,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),rt(a,o=>{const r=o.options,l=r.id,c=Gn(l,r),d=J(r.type,o.dtype);(r.position===void 0||ba(r.position,c)!==ba(o.dposition))&&(r.position=o.dposition),i[l]=!0;let h=null;if(l in n&&n[l].type===d)h=n[l];else{const f=te.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(r,t)}),rt(i,(o,r)=>{o||delete n[r]}),rt(n,o=>{$t.configure(this,o,o.options),$t.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((i,a)=>i.index-a.index),n>e){for(let i=e;i<n;++i)this._destroyDatasetMeta(i);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(va("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((n,i)=>{e.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const a=e[n];let o=this.getDatasetMeta(n);const r=a.type||this.config.type;if(o.type&&o.type!==r&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=r,o.indexAxis=a.indexAxis||Yn(r,this.options),o.order=a.order||0,o.index=n,o.label=""+a.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=te.getController(r),{datasetElementType:c,dataElementType:d}=_t.datasets[r];Object.assign(l,{dataElementType:te.getElement(d),datasetElementType:c&&te.getElement(c)}),o.controller=new l(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){rt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&a.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||rt(a,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(va("z","_idx"));const{_active:r,_lastEvent:l}=this;l?this._eventHandler(l,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){rt(this.scales,t=>{$t.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!$i(e,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:a}of e){const o=n==="_removeElements"?-a:a;Nh(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=a=>new Set(t.filter(o=>o[0]===a).map((o,r)=>r+","+o.splice(1).join(","))),i=n(0);for(let a=1;a<e;a++)if(!$i(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$t.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],rt(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,be(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ie.has(this)?this.attached&&!ie.running(this)&&ie.start(this):(this.draw(),ya({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resize(n,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,a;for(i=0,a=e.length;i<a;++i){const o=e[i];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,a=jh(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&mn(e,{left:n.left===!1?0:a.left-n.left,right:n.right===!1?this.width:a.right+n.right,top:n.top===!1?0:a.top-n.top,bottom:n.bottom===!1?this.height:a.bottom+n.bottom}),t.controller.draw(),i&&_n(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return ce(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const a=Vu.modes[e];return typeof a=="function"?a(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter(a=>a&&a._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=ve(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",a=this.getDatasetMeta(t),o=a.controller._resolveAnimations(void 0,i);ms(e)?(a.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(a,{visible:n}),this.update(r=>r.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ie.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),zi(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Qs[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(a,o)=>{e.addEventListener(this,a,o),t[a]=o},i=(a,o,r)=>{a.offsetX=o,a.offsetY=r,this._eventHandler(a)};rt(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},a=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const r=()=>{i("attach",r),this.attached=!0,this.resize(),n("resize",a),n("detach",o)};o=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",r)},e.isAttached(this.canvas)?r():o()}unbindEvents(){rt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},rt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let a,o,r,l;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),r=0,l=t.length;r<l;++r){o=t[r];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(({datasetIndex:a,index:o})=>{const r=this.getDatasetMeta(a);if(!r)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:r.data[o],index:o}});!nn(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,n){const i=this.options.hover,a=(l,c)=>l.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=a(e,t),r=n?t:a(t,e);o.length&&this.updateHoverStyle(o,i.mode,!1),r.length&&i.mode&&this.updateHoverStyle(r,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const a=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:a}=this,o=e,r=this._getActiveElements(t,i,n,o),l=qc(t),c=Hh(t,this._lastEvent,n,l);n&&(this._lastEvent=null,ct(a.onHover,[t,r,this],this),l&&ct(a.onClick,[t,r,this],this));const d=!nn(r,i);return(d||e)&&(this._active=r,this._updateHoverStyles(r,i,e)),this._lastEvent=c,d}_getActiveElements(t,e,n,i){if(t.type==="mouseout")return[];if(!n)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}},B(de,"defaults",_t),B(de,"instances",Qs),B(de,"overrides",Fe),B(de,"registry",te),B(de,"version",Bh),B(de,"getChart",xa),de);function Sa(){return rt(vn.instances,s=>s._plugins.invalidate())}function Wh(s,t,e){const{startAngle:n,pixelMargin:i,x:a,y:o,outerRadius:r,innerRadius:l}=t;let c=i/r;s.beginPath(),s.arc(a,o,r,n-c,e+c),l>i?(c=i/l,s.arc(a,o,l,e+c,n-c,!0)):s.arc(a,o,i,e+vt,n-vt),s.closePath(),s.clip()}function Uh(s){return ui(s,["outerStart","outerEnd","innerStart","innerEnd"])}function Yh(s,t,e,n){const i=Uh(s.options.borderRadius),a=(e-t)/2,o=Math.min(a,n*t/2),r=l=>{const c=(e-Math.min(a,l))*n/2;return Dt(l,0,Math.min(a,c))};return{outerStart:r(i.outerStart),outerEnd:r(i.outerEnd),innerStart:Dt(i.innerStart,0,o),innerEnd:Dt(i.innerEnd,0,o)}}function Ne(s,t,e,n){return{x:e+s*Math.cos(t),y:n+s*Math.sin(t)}}function dn(s,t,e,n,i,a){const{x:o,y:r,startAngle:l,pixelMargin:c,innerRadius:d}=t,h=Math.max(t.outerRadius+n+e-c,0),f=d>0?d+n+e+c:0;let g=0;const m=i-l;if(n){const q=d>0?d-n:0,Y=h>0?h-n:0,st=(q+Y)/2,pt=st!==0?m*st/(st+n):m;g=(m-pt)/2}const p=Math.max(.001,m*h-e/ht)/h,v=(m-p)/2,k=l+v+g,w=i-v-g,{outerStart:O,outerEnd:$,innerStart:A,innerEnd:E}=Yh(t,f,h,w-k),T=h-O,M=h-$,P=k+O/T,I=w-$/M,L=f+A,U=f+E,ot=k+A/L,H=w-E/U;if(s.beginPath(),a){const q=(P+I)/2;if(s.arc(o,r,h,P,q),s.arc(o,r,h,q,I),$>0){const ft=Ne(M,I,o,r);s.arc(ft.x,ft.y,$,I,w+vt)}const Y=Ne(U,w,o,r);if(s.lineTo(Y.x,Y.y),E>0){const ft=Ne(U,H,o,r);s.arc(ft.x,ft.y,E,w+vt,H+Math.PI)}const st=(w-E/f+(k+A/f))/2;if(s.arc(o,r,f,w-E/f,st,!0),s.arc(o,r,f,st,k+A/f,!0),A>0){const ft=Ne(L,ot,o,r);s.arc(ft.x,ft.y,A,ot+Math.PI,k-vt)}const pt=Ne(T,k,o,r);if(s.lineTo(pt.x,pt.y),O>0){const ft=Ne(T,P,o,r);s.arc(ft.x,ft.y,O,k-vt,P)}}else{s.moveTo(o,r);const q=Math.cos(P)*h+o,Y=Math.sin(P)*h+r;s.lineTo(q,Y);const st=Math.cos(I)*h+o,pt=Math.sin(I)*h+r;s.lineTo(st,pt)}s.closePath()}function Gh(s,t,e,n,i){const{fullCircles:a,startAngle:o,circumference:r}=t;let l=t.endAngle;if(a){dn(s,t,e,n,l,i);for(let c=0;c<a;++c)s.fill();isNaN(r)||(l=o+(r%ut||ut))}return dn(s,t,e,n,l,i),s.fill(),l}function Xh(s,t,e,n,i){const{fullCircles:a,startAngle:o,circumference:r,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:f}=l,g=l.borderAlign==="inner";if(!c)return;s.setLineDash(h||[]),s.lineDashOffset=f,g?(s.lineWidth=c*2,s.lineJoin=d||"round"):(s.lineWidth=c,s.lineJoin=d||"bevel");let m=t.endAngle;if(a){dn(s,t,e,n,m,i);for(let p=0;p<a;++p)s.stroke();isNaN(r)||(m=o+(r%ut||ut))}g&&Wh(s,t,m),a||(dn(s,t,e,n,m,i),s.stroke())}class as extends Zt{constructor(e){super();B(this,"circumference");B(this,"endAngle");B(this,"fullCircles");B(this,"innerRadius");B(this,"outerRadius");B(this,"pixelMargin");B(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const a=this.getProps(["x","y"],i),{angle:o,distance:r}=_o(a,{x:e,y:n}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,p=J(f,c-l)>=ut||_s(o,l,c),v=re(r,d+g,h+g);return p&&v}getCenterPoint(e){const{x:n,y:i,startAngle:a,endAngle:o,innerRadius:r,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:d}=this.options,h=(a+o)/2,f=(r+l+d+c)/2;return{x:n+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,a=(n.offset||0)/4,o=(n.spacing||0)/2,r=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>ut?Math.floor(i/ut):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*a,Math.sin(l)*a);const c=1-Math.sin(Math.min(ht,i||0)),d=a*c;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,Gh(e,this,d,o,r),Xh(e,this,d,o,r),e.restore()}}B(as,"id","arc"),B(as,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),B(as,"defaultRoutes",{backgroundColor:"backgroundColor"}),B(as,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function Jo(s,t,e=t){s.lineCap=J(e.borderCapStyle,t.borderCapStyle),s.setLineDash(J(e.borderDash,t.borderDash)),s.lineDashOffset=J(e.borderDashOffset,t.borderDashOffset),s.lineJoin=J(e.borderJoinStyle,t.borderJoinStyle),s.lineWidth=J(e.borderWidth,t.borderWidth),s.strokeStyle=J(e.borderColor,t.borderColor)}function Kh(s,t,e){s.lineTo(e.x,e.y)}function Jh(s){return s.stepped?vd:s.tension||s.cubicInterpolationMode==="monotone"?yd:Kh}function qo(s,t,e={}){const n=s.length,{start:i=0,end:a=n-1}=e,{start:o,end:r}=t,l=Math.max(i,o),c=Math.min(a,r),d=i<o&&a<o||i>r&&a>r;return{count:n,start:l,loop:t.loop,ilen:c<l&&!d?n+c-l:c-l}}function qh(s,t,e,n){const{points:i,options:a}=t,{count:o,start:r,loop:l,ilen:c}=qo(i,e,n),d=Jh(a);let{move:h=!0,reverse:f}=n||{},g,m,p;for(g=0;g<=c;++g)m=i[(r+(f?c-g:g))%o],!m.skip&&(h?(s.moveTo(m.x,m.y),h=!1):d(s,p,m,f,a.stepped),p=m);return l&&(m=i[(r+(f?c:0))%o],d(s,p,m,f,a.stepped)),!!l}function Zh(s,t,e,n){const i=t.points,{count:a,start:o,ilen:r}=qo(i,e,n),{move:l=!0,reverse:c}=n||{};let d=0,h=0,f,g,m,p,v,k;const w=$=>(o+(c?r-$:$))%a,O=()=>{p!==v&&(s.lineTo(d,v),s.lineTo(d,p),s.lineTo(d,k))};for(l&&(g=i[w(0)],s.moveTo(g.x,g.y)),f=0;f<=r;++f){if(g=i[w(f)],g.skip)continue;const $=g.x,A=g.y,E=$|0;E===m?(A<p?p=A:A>v&&(v=A),d=(h*d+$)/++h):(O(),s.lineTo($,A),m=E,h=0,p=v=A),k=A}O()}function Xn(s){const t=s.options,e=t.borderDash&&t.borderDash.length;return!s._decimated&&!s._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Zh:qh}function Qh(s){return s.stepped?Zd:s.tension||s.cubicInterpolationMode==="monotone"?Qd:Ae}function tf(s,t,e,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,n)&&i.closePath()),Jo(s,t.options),s.stroke(i)}function ef(s,t,e,n){const{segments:i,options:a}=t,o=Xn(t);for(const r of i)Jo(s,a,r.style),s.beginPath(),o(s,t,r,{start:e,end:e+n-1})&&s.closePath(),s.stroke()}const sf=typeof Path2D=="function";function nf(s,t,e,n){sf&&!t.options.segment?tf(s,t,e,n):ef(s,t,e,n)}class ge extends Zt{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;Wd(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=au(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],a=this.points,o=Io(this,{property:e,start:i,end:i});if(!o.length)return;const r=[],l=Qh(n);let c,d;for(c=0,d=o.length;c<d;++c){const{start:h,end:f}=o[c],g=a[h],m=a[f];if(g===m){r.push(g);continue}const p=Math.abs((i-g[e])/(m[e]-g[e])),v=l(g,m,p,n.stepped);v[e]=t[e],r.push(v)}return r.length===1?r[0]:r}pathSegment(t,e,n){return Xn(this)(t,this,e,n)}path(t,e,n){const i=this.segments,a=Xn(this);let o=this._loop;e=e||0,n=n||this.points.length-e;for(const r of i)o&=a(t,this,r,{start:e,end:e+n-1});return!!o}draw(t,e,n,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),nf(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}B(ge,"id","line"),B(ge,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),B(ge,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),B(ge,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function ka(s,t,e,n){const i=s.options,{[e]:a}=s.getProps([e],n);return Math.abs(t-a)<i.radius+i.hitRadius}class tn extends Zt{constructor(e){super();B(this,"parsed");B(this,"skip");B(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const a=this.options,{x:o,y:r}=this.getProps(["x","y"],i);return Math.pow(e-o,2)+Math.pow(n-r,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,n){return ka(this,e,"x",n)}inYRange(e,n){return ka(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!ce(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Wn(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}B(tn,"id","point"),B(tn,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),B(tn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Zo(s,t){const{x:e,y:n,base:i,width:a,height:o}=s.getProps(["x","y","base","width","height"],t);let r,l,c,d,h;return s.horizontal?(h=o/2,r=Math.min(e,i),l=Math.max(e,i),c=n-h,d=n+h):(h=a/2,r=e-h,l=e+h,c=Math.min(n,i),d=Math.max(n,i)),{left:r,top:c,right:l,bottom:d}}function pe(s,t,e,n){return s?0:Dt(t,e,n)}function af(s,t,e){const n=s.options.borderWidth,i=s.borderSkipped,a=Co(n);return{t:pe(i.top,a.top,0,e),r:pe(i.right,a.right,0,t),b:pe(i.bottom,a.bottom,0,e),l:pe(i.left,a.left,0,t)}}function of(s,t,e){const{enableBorderRadius:n}=s.getProps(["enableBorderRadius"]),i=s.options.borderRadius,a=$e(i),o=Math.min(t,e),r=s.borderSkipped,l=n||tt(i);return{topLeft:pe(!l||r.top||r.left,a.topLeft,0,o),topRight:pe(!l||r.top||r.right,a.topRight,0,o),bottomLeft:pe(!l||r.bottom||r.left,a.bottomLeft,0,o),bottomRight:pe(!l||r.bottom||r.right,a.bottomRight,0,o)}}function rf(s){const t=Zo(s),e=t.right-t.left,n=t.bottom-t.top,i=af(s,e/2,n/2),a=of(s,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function Rn(s,t,e,n){const i=t===null,a=e===null,r=s&&!(i&&a)&&Zo(s,n);return r&&(i||re(t,r.left,r.right))&&(a||re(e,r.top,r.bottom))}function lf(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function cf(s,t){s.rect(t.x,t.y,t.w,t.h)}function In(s,t,e={}){const n=s.x!==e.x?-t:0,i=s.y!==e.y?-t:0,a=(s.x+s.w!==e.x+e.w?t:0)-n,o=(s.y+s.h!==e.y+e.h?t:0)-i;return{x:s.x+n,y:s.y+i,w:s.w+a,h:s.h+o,radius:s.radius}}class en extends Zt{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:a,outer:o}=rf(this),r=lf(o.radius)?bs:cf;t.save(),(o.w!==a.w||o.h!==a.h)&&(t.beginPath(),r(t,In(o,e,a)),t.clip(),r(t,In(a,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),r(t,In(a,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return Rn(this,t,e,n)}inXRange(t,e){return Rn(this,t,null,e)}inYRange(t,e){return Rn(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+i)/2:e,y:a?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}B(en,"id","bar"),B(en,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),B(en,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var df=Object.freeze({__proto__:null,ArcElement:as,BarElement:en,LineElement:ge,PointElement:tn});const Kn=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],wa=Kn.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function Qo(s){return Kn[s%Kn.length]}function tr(s){return wa[s%wa.length]}function uf(s,t){return s.borderColor=Qo(t),s.backgroundColor=tr(t),++t}function hf(s,t){return s.backgroundColor=s.data.map(()=>Qo(t++)),t}function ff(s,t){return s.backgroundColor=s.data.map(()=>tr(t++)),t}function gf(s){let t=0;return(e,n)=>{const i=s.getDatasetMeta(n).controller;i instanceof Pe?t=hf(e,t):i instanceof fs?t=ff(e,t):i&&(t=uf(e,t))}}function Ma(s){let t;for(t in s)if(s[t].borderColor||s[t].backgroundColor)return!0;return!1}function pf(s){return s&&(s.borderColor||s.backgroundColor)}var mf={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,t,e){if(!e.enabled)return;const{data:{datasets:n},options:i}=s.config,{elements:a}=i;if(!e.forceOverride&&(Ma(n)||pf(i)||a&&Ma(a)))return;const o=gf(s);n.forEach(o)}};function _f(s,t,e,n,i){const a=i.samples||n;if(a>=e)return s.slice(t,t+e);const o=[],r=(e-2)/(a-2);let l=0;const c=t+e-1;let d=t,h,f,g,m,p;for(o[l++]=s[d],h=0;h<a-2;h++){let v=0,k=0,w;const O=Math.floor((h+1)*r)+1+t,$=Math.min(Math.floor((h+2)*r)+1,e)+t,A=$-O;for(w=O;w<$;w++)v+=s[w].x,k+=s[w].y;v/=A,k/=A;const E=Math.floor(h*r)+1+t,T=Math.min(Math.floor((h+1)*r)+1,e)+t,{x:M,y:P}=s[d];for(g=m=-1,w=E;w<T;w++)m=.5*Math.abs((M-v)*(s[w].y-P)-(M-s[w].x)*(k-P)),m>g&&(g=m,f=s[w],p=w);o[l++]=f,d=p}return o[l++]=s[c],o}function bf(s,t,e,n){let i=0,a=0,o,r,l,c,d,h,f,g,m,p;const v=[],k=t+e-1,w=s[t].x,$=s[k].x-w;for(o=t;o<t+e;++o){r=s[o],l=(r.x-w)/$*n,c=r.y;const A=l|0;if(A===d)c<m?(m=c,h=o):c>p&&(p=c,f=o),i=(a*i+r.x)/++a;else{const E=o-1;if(!it(h)&&!it(f)){const T=Math.min(h,f),M=Math.max(h,f);T!==g&&T!==E&&v.push({...s[T],x:i}),M!==g&&M!==E&&v.push({...s[M],x:i})}o>0&&E!==g&&v.push(s[E]),v.push(r),d=A,a=0,m=p=c,h=f=g=o}}return v}function er(s){if(s._decimated){const t=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Ca(s){s.data.datasets.forEach(t=>{er(t)})}function vf(s,t){const e=t.length;let n=0,i;const{iScale:a}=s,{min:o,max:r,minDefined:l,maxDefined:c}=a.getUserBounds();return l&&(n=Dt(le(t,a.axis,o).lo,0,e-1)),c?i=Dt(le(t,a.axis,r).hi+1,n,e)-n:i=e-n,{start:n,count:i}}var yf={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,t,e)=>{if(!e.enabled){Ca(s);return}const n=s.width;s.data.datasets.forEach((i,a)=>{const{_data:o,indexAxis:r}=i,l=s.getDatasetMeta(a),c=o||i.data;if(ns([r,s.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const d=s.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||s.options.parsing)return;let{start:h,count:f}=vf(l,c);const g=e.threshold||4*n;if(f<=g){er(i);return}it(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let m;switch(e.algorithm){case"lttb":m=_f(c,h,f,n,e);break;case"min-max":m=bf(c,h,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}i._decimated=m})},destroy(s){Ca(s)}};function xf(s,t,e){const n=s.segments,i=s.points,a=t.points,o=[];for(const r of n){let{start:l,end:c}=r;c=bi(l,c,i);const d=Jn(e,i[l],i[c],r.loop);if(!t.segments){o.push({source:r,target:d,start:i[l],end:i[c]});continue}const h=Io(t,d);for(const f of h){const g=Jn(e,a[f.start],a[f.end],f.loop),m=Ro(r,i,g);for(const p of m)o.push({source:p,target:f,start:{[e]:Ta(d,g,"start",Math.max)},end:{[e]:Ta(d,g,"end",Math.min)}})}}return o}function Jn(s,t,e,n){if(n)return;let i=t[s],a=e[s];return s==="angle"&&(i=Vt(i),a=Vt(a)),{property:s,start:i,end:a}}function Sf(s,t){const{x:e=null,y:n=null}=s||{},i=t.points,a=[];return t.segments.forEach(({start:o,end:r})=>{r=bi(o,r,i);const l=i[o],c=i[r];n!==null?(a.push({x:l.x,y:n}),a.push({x:c.x,y:n})):e!==null&&(a.push({x:e,y:l.y}),a.push({x:e,y:c.y}))}),a}function bi(s,t,e){for(;t>s;t--){const n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Ta(s,t,e,n){return s&&t?n(s[e],t[e]):s?s[e]:t?t[e]:0}function sr(s,t){let e=[],n=!1;return dt(s)?(n=!0,e=s):e=Sf(s,t),e.length?new ge({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function Da(s){return s&&s.fill!==!1}function kf(s,t,e){let i=s[t].fill;const a=[t];let o;if(!e)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!mt(i))return i;if(o=s[i],!o)return!1;if(o.visible)return i;a.push(i),i=o.fill}return!1}function wf(s,t,e){const n=Df(s);if(tt(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return mt(i)&&Math.floor(i)===i?Mf(n[0],t,i,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Mf(s,t,e,n){return(s==="-"||s==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function Cf(s,t){let e=null;return s==="start"?e=t.bottom:s==="end"?e=t.top:tt(s)?e=t.getPixelForValue(s.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Tf(s,t,e){let n;return s==="start"?n=e:s==="end"?n=t.options.reverse?t.min:t.max:tt(s)?n=s.value:n=t.getBaseValue(),n}function Df(s){const t=s.options,e=t.fill;let n=J(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Af(s){const{scale:t,index:e,line:n}=s,i=[],a=n.segments,o=n.points,r=Pf(t,e);r.push(sr({x:null,y:t.bottom},n));for(let l=0;l<a.length;l++){const c=a[l];for(let d=c.start;d<=c.end;d++)$f(i,o[d],r)}return new ge({points:i,options:{}})}function Pf(s,t){const e=[],n=s.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const a=n[i];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}function $f(s,t,e){const n=[];for(let i=0;i<e.length;i++){const a=e[i],{first:o,last:r,point:l}=Of(a,t,"x");if(!(!l||o&&r)){if(o)n.unshift(l);else if(s.push(l),!r)break}}s.push(...n)}function Of(s,t,e){const n=s.interpolate(t,e);if(!n)return{};const i=n[e],a=s.segments,o=s.points;let r=!1,l=!1;for(let c=0;c<a.length;c++){const d=a[c],h=o[d.start][e],f=o[d.end][e];if(re(i,h,f)){r=i===h,l=i===f;break}}return{first:r,last:l,point:n}}class nr{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:i,y:a,radius:o}=this;return e=e||{start:0,end:ut},t.arc(i,a,o,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:i}=this,a=t.angle;return{x:e+Math.cos(a)*i,y:n+Math.sin(a)*i,angle:a}}}function Ff(s){const{chart:t,fill:e,line:n}=s;if(mt(e))return Ef(t,e);if(e==="stack")return Af(s);if(e==="shape")return!0;const i=Lf(s);return i instanceof nr?i:sr(i,n)}function Ef(s,t){const e=s.getDatasetMeta(t);return e&&s.isDatasetVisible(t)?e.dataset:null}function Lf(s){return(s.scale||{}).getPointPositionForValue?If(s):Rf(s)}function Rf(s){const{scale:t={},fill:e}=s,n=Cf(e,t);if(mt(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function If(s){const{scale:t,fill:e}=s,n=t.options,i=t.getLabels().length,a=n.reverse?t.max:t.min,o=Tf(e,t,a),r=[];if(n.grid.circular){const l=t.getPointPositionForValue(0,a);return new nr({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)r.push(t.getPointPositionForValue(l,o));return r}function Bn(s,t,e){const n=Ff(t),{line:i,scale:a,axis:o}=t,r=i.options,l=r.fill,c=r.backgroundColor,{above:d=c,below:h=c}=l||{};n&&i.points.length&&(mn(s,e),Bf(s,{line:i,target:n,above:d,below:h,area:e,scale:a,axis:o}),_n(s))}function Bf(s,t){const{line:e,target:n,above:i,below:a,area:o,scale:r}=t,l=e._loop?"angle":t.axis;s.save(),l==="x"&&a!==i&&(Aa(s,n,o.top),Pa(s,{line:e,target:n,color:i,scale:r,property:l}),s.restore(),s.save(),Aa(s,n,o.bottom)),Pa(s,{line:e,target:n,color:a,scale:r,property:l}),s.restore()}function Aa(s,t,e){const{segments:n,points:i}=t;let a=!0,o=!1;s.beginPath();for(const r of n){const{start:l,end:c}=r,d=i[l],h=i[bi(l,c,i)];a?(s.moveTo(d.x,d.y),a=!1):(s.lineTo(d.x,e),s.lineTo(d.x,d.y)),o=!!t.pathSegment(s,r,{move:o}),o?s.closePath():s.lineTo(h.x,e)}s.lineTo(t.first().x,e),s.closePath(),s.clip()}function Pa(s,t){const{line:e,target:n,property:i,color:a,scale:o}=t,r=xf(e,n,i);for(const{source:l,target:c,start:d,end:h}of r){const{style:{backgroundColor:f=a}={}}=l,g=n!==!0;s.save(),s.fillStyle=f,Vf(s,o,g&&Jn(i,d,h)),s.beginPath();const m=!!e.pathSegment(s,l);let p;if(g){m?s.closePath():$a(s,n,h,i);const v=!!n.pathSegment(s,c,{move:m,reverse:!0});p=m&&v,p||$a(s,n,d,i)}s.closePath(),s.fill(p?"evenodd":"nonzero"),s.restore()}}function Vf(s,t,e){const{top:n,bottom:i}=t.chart.chartArea,{property:a,start:o,end:r}=e||{};a==="x"&&(s.beginPath(),s.rect(o,n,r-o,i-n),s.clip())}function $a(s,t,e,n){const i=t.interpolate(e,n);i&&s.lineTo(i.x,i.y)}var zf={id:"filler",afterDatasetsUpdate(s,t,e){const n=(s.data.datasets||[]).length,i=[];let a,o,r,l;for(o=0;o<n;++o)a=s.getDatasetMeta(o),r=a.dataset,l=null,r&&r.options&&r instanceof ge&&(l={visible:s.isDatasetVisible(o),index:o,fill:wf(r,o,n),chart:s,axis:a.controller.options.indexAxis,scale:a.vScale,line:r}),a.$filler=l,i.push(l);for(o=0;o<n;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=kf(i,o,e.propagate))},beforeDraw(s,t,e){const n=e.drawTime==="beforeDraw",i=s.getSortedVisibleDatasetMetas(),a=s.chartArea;for(let o=i.length-1;o>=0;--o){const r=i[o].$filler;r&&(r.line.updateControlPoints(a,r.axis),n&&r.fill&&Bn(s.ctx,r,a))}},beforeDatasetsDraw(s,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const n=s.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const a=n[i].$filler;Da(a)&&Bn(s.ctx,a,s.chartArea)}},beforeDatasetDraw(s,t,e){const n=t.meta.$filler;!Da(n)||e.drawTime!=="beforeDatasetDraw"||Bn(s.ctx,n,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Oa=(s,t)=>{let{boxHeight:e=t,boxWidth:n=t}=s;return s.usePointStyle&&(e=Math.min(e,t),n=s.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},Nf=(s,t)=>s!==null&&t!==null&&s.datasetIndex===t.datasetIndex&&s.index===t.index;class Fa extends Zt{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ct(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=Mt(n.font),a=i.size,o=this._computeTitleHeight(),{boxWidth:r,itemHeight:l}=Oa(n,a);let c,d;e.font=i.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,a,r,l)+10):(d=this.maxHeight,c=this._fitCols(o,i,r,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:a,maxWidth:o,options:{labels:{padding:r}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=i+r;let h=t;a.textAlign="left",a.textBaseline="middle";let f=-1,g=-d;return this.legendItems.forEach((m,p)=>{const v=n+e/2+a.measureText(m.text).width;(p===0||c[c.length-1]+v+2*r>o)&&(h+=d,c[c.length-(p>0?0:1)]=0,g+=d,f++),l[p]={left:0,top:g,row:f,width:v,height:i},c[c.length-1]+=v+r}),h}_fitCols(t,e,n,i){const{ctx:a,maxHeight:o,options:{labels:{padding:r}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-t;let h=r,f=0,g=0,m=0,p=0;return this.legendItems.forEach((v,k)=>{const{itemWidth:w,itemHeight:O}=Hf(n,e,a,v,i);k>0&&g+O+2*r>d&&(h+=f+r,c.push({width:f,height:g}),m+=f+r,p++,f=g=0),l[k]={left:m,top:g,col:p,width:w,height:O},f=Math.max(f,w),g+=O+r}),h+=f,c.push({width:f,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:a}}=this,o=je(a,this.left,this.width);if(this.isHorizontal()){let r=0,l=Pt(n,this.left+i,this.right-this.lineWidths[r]);for(const c of e)r!==c.row&&(r=c.row,l=Pt(n,this.left+i,this.right-this.lineWidths[r])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let r=0,l=Pt(n,this.top+t+i,this.bottom-this.columnSizes[r].height);for(const c of e)c.col!==r&&(r=c.col,l=Pt(n,this.top+t+i,this.bottom-this.columnSizes[r].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;mn(t,this),this._draw(),_n(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:a,labels:o}=t,r=_t.color,l=je(t.rtl,this.left,this.width),c=Mt(o.font),{padding:d}=o,h=c.size,f=h/2;let g;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:p,itemHeight:v}=Oa(o,h),k=function(E,T,M){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;i.save();const P=J(M.lineWidth,1);if(i.fillStyle=J(M.fillStyle,r),i.lineCap=J(M.lineCap,"butt"),i.lineDashOffset=J(M.lineDashOffset,0),i.lineJoin=J(M.lineJoin,"miter"),i.lineWidth=P,i.strokeStyle=J(M.strokeStyle,r),i.setLineDash(J(M.lineDash,[])),o.usePointStyle){const I={radius:p*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:P},L=l.xPlus(E,m/2),U=T+f;Mo(i,I,L,U,o.pointStyleWidth&&m)}else{const I=T+Math.max((h-p)/2,0),L=l.leftForLtr(E,m),U=$e(M.borderRadius);i.beginPath(),Object.values(U).some(ot=>ot!==0)?bs(i,{x:L,y:I,w:m,h:p,radius:U}):i.rect(L,I,m,p),i.fill(),P!==0&&i.stroke()}i.restore()},w=function(E,T,M){Ee(i,M.text,E,T+v/2,c,{strikethrough:M.hidden,textAlign:l.textAlign(M.textAlign)})},O=this.isHorizontal(),$=this._computeTitleHeight();O?g={x:Pt(a,this.left+d,this.right-n[0]),y:this.top+d+$,line:0}:g={x:this.left+d,y:Pt(a,this.top+$+d,this.bottom-e[0].height),line:0},Fo(this.ctx,t.textDirection);const A=v+d;this.legendItems.forEach((E,T)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;const M=i.measureText(E.text).width,P=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),I=m+f+M;let L=g.x,U=g.y;l.setWidth(this.width),O?T>0&&L+I+d>this.right&&(U=g.y+=A,g.line++,L=g.x=Pt(a,this.left+d,this.right-n[g.line])):T>0&&U+A>this.bottom&&(L=g.x=L+e[g.line].width+d,g.line++,U=g.y=Pt(a,this.top+$+d,this.bottom-e[g.line].height));const ot=l.x(L);if(k(ot,U,E),L=ld(P,L+m+f,O?L+I:this.right,t.rtl),w(l.x(L),U,E),O)g.x+=I+d;else if(typeof E.text!="string"){const H=c.lineHeight;g.y+=ir(E,H)+d}else g.y+=A}),Eo(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Mt(e.font),i=Ot(e.padding);if(!e.display)return;const a=je(t.rtl,this.left,this.width),o=this.ctx,r=e.position,l=n.size/2,c=i.top+l;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,h=Pt(t.align,h,this.right-f);else{const m=this.columnSizes.reduce((p,v)=>Math.max(p,v.height),0);d=c+Pt(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const g=Pt(r,h,h+f);o.textAlign=a.textAlign(ci(r)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,Ee(o,e.text,g,d,n)}_computeTitleHeight(){const t=this.options.title,e=Mt(t.font),n=Ot(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,a;if(re(t,this.left,this.right)&&re(e,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],re(t,i.left,i.left+i.width)&&re(e,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const e=this.options;if(!Uf(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,a=Nf(i,n);i&&!a&&ct(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!a&&ct(e.onHover,[t,n,this],this)}else n&&ct(e.onClick,[t,n,this],this)}}function Hf(s,t,e,n,i){const a=jf(n,s,t,e),o=Wf(i,n,t.lineHeight);return{itemWidth:a,itemHeight:o}}function jf(s,t,e,n){let i=s.text;return i&&typeof i!="string"&&(i=i.reduce((a,o)=>a.length>o.length?a:o)),t+e.size/2+n.measureText(i).width}function Wf(s,t,e){let n=s;return typeof t.text!="string"&&(n=ir(t,e)),n}function ir(s,t){const e=s.text?s.text.length:0;return t*e}function Uf(s,t){return!!((s==="mousemove"||s==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(s==="click"||s==="mouseup"))}var Yf={id:"legend",_element:Fa,start(s,t,e){const n=s.legend=new Fa({ctx:s.ctx,options:e,chart:s});$t.configure(s,n,e),$t.addBox(s,n)},stop(s){$t.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,t,e){const n=s.legend;$t.configure(s,n,e),n.options=e},afterUpdate(s){const t=s.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(s,t){t.replay||s.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,t,e){const n=t.datasetIndex,i=e.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const t=s.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:i,color:a,useBorderRadius:o,borderRadius:r}}=s.legend.options;return s._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(e?0:void 0),d=Ot(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(r||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class vi extends Zt{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const i=dt(n.text)?n.text.length:1;this._padding=Ot(n.padding);const a=i*Mt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:n,bottom:i,right:a,options:o}=this,r=o.align;let l=0,c,d,h;return this.isHorizontal()?(d=Pt(r,n,a),h=e+t,c=a-n):(o.position==="left"?(d=n+t,h=Pt(r,i,e),l=ht*-.5):(d=a-t,h=Pt(r,e,i),l=ht*.5),c=i-e),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Mt(e.font),a=n.lineHeight/2+this._padding.top,{titleX:o,titleY:r,maxWidth:l,rotation:c}=this._drawArgs(a);Ee(t,e.text,0,0,n,{color:e.color,maxWidth:l,rotation:c,textAlign:ci(e.align),textBaseline:"middle",translation:[o,r]})}}function Gf(s,t){const e=new vi({ctx:s.ctx,options:t,chart:s});$t.configure(s,e,t),$t.addBox(s,e),s.titleBlock=e}var Xf={id:"title",_element:vi,start(s,t,e){Gf(s,e)},stop(s){const t=s.titleBlock;$t.removeBox(s,t),delete s.titleBlock},beforeUpdate(s,t,e){const n=s.titleBlock;$t.configure(s,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Us=new WeakMap;var Kf={id:"subtitle",start(s,t,e){const n=new vi({ctx:s.ctx,options:e,chart:s});$t.configure(s,n,e),$t.addBox(s,n),Us.set(s,n)},stop(s){$t.removeBox(s,Us.get(s)),Us.delete(s)},beforeUpdate(s,t,e){const n=Us.get(s);$t.configure(s,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const os={average(s){if(!s.length)return!1;let t,e,n=0,i=0,a=0;for(t=0,e=s.length;t<e;++t){const o=s[t].element;if(o&&o.hasValue()){const r=o.tooltipPosition();n+=r.x,i+=r.y,++a}}return{x:n/a,y:i/a}},nearest(s,t){if(!s.length)return!1;let e=t.x,n=t.y,i=Number.POSITIVE_INFINITY,a,o,r;for(a=0,o=s.length;a<o;++a){const l=s[a].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=Hn(t,c);d<i&&(i=d,r=l)}}if(r){const l=r.tooltipPosition();e=l.x,n=l.y}return{x:e,y:n}}};function Qt(s,t){return t&&(dt(t)?Array.prototype.push.apply(s,t):s.push(t)),s}function ae(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function Jf(s,t){const{element:e,datasetIndex:n,index:i}=t,a=s.getDatasetMeta(n).controller,{label:o,value:r}=a.getLabelAndValue(i);return{chart:s,label:o,parsed:a.getParsed(i),raw:s.data.datasets[n].data[i],formattedValue:r,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:e}}function Ea(s,t){const e=s.chart.ctx,{body:n,footer:i,title:a}=s,{boxWidth:o,boxHeight:r}=t,l=Mt(t.bodyFont),c=Mt(t.titleFont),d=Mt(t.footerFont),h=a.length,f=i.length,g=n.length,m=Ot(t.padding);let p=m.height,v=0,k=n.reduce(($,A)=>$+A.before.length+A.lines.length+A.after.length,0);if(k+=s.beforeBody.length+s.afterBody.length,h&&(p+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),k){const $=t.displayColors?Math.max(r,l.lineHeight):l.lineHeight;p+=g*$+(k-g)*l.lineHeight+(k-1)*t.bodySpacing}f&&(p+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let w=0;const O=function($){v=Math.max(v,e.measureText($).width+w)};return e.save(),e.font=c.string,rt(s.title,O),e.font=l.string,rt(s.beforeBody.concat(s.afterBody),O),w=t.displayColors?o+2+t.boxPadding:0,rt(n,$=>{rt($.before,O),rt($.lines,O),rt($.after,O)}),w=0,e.font=d.string,rt(s.footer,O),e.restore(),v+=m.width,{width:v,height:p}}function qf(s,t){const{y:e,height:n}=t;return e<n/2?"top":e>s.height-n/2?"bottom":"center"}function Zf(s,t,e,n){const{x:i,width:a}=n,o=e.caretSize+e.caretPadding;if(s==="left"&&i+a+o>t.width||s==="right"&&i-a-o<0)return!0}function Qf(s,t,e,n){const{x:i,width:a}=e,{width:o,chartArea:{left:r,right:l}}=s;let c="center";return n==="center"?c=i<=(r+l)/2?"left":"right":i<=a/2?c="left":i>=o-a/2&&(c="right"),Zf(c,s,t,e)&&(c="center"),c}function La(s,t,e){const n=e.yAlign||t.yAlign||qf(s,e);return{xAlign:e.xAlign||t.xAlign||Qf(s,t,e,n),yAlign:n}}function tg(s,t){let{x:e,width:n}=s;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function eg(s,t,e){let{y:n,height:i}=s;return t==="top"?n+=e:t==="bottom"?n-=i+e:n-=i/2,n}function Ra(s,t,e,n){const{caretSize:i,caretPadding:a,cornerRadius:o}=s,{xAlign:r,yAlign:l}=e,c=i+a,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=$e(o);let m=tg(t,r);const p=eg(t,l,c);return l==="center"?r==="left"?m+=c:r==="right"&&(m-=c):r==="left"?m-=Math.max(d,f)+i:r==="right"&&(m+=Math.max(h,g)+i),{x:Dt(m,0,n.width-t.width),y:Dt(p,0,n.height-t.height)}}function Ys(s,t,e){const n=Ot(e.padding);return t==="center"?s.x+s.width/2:t==="right"?s.x+s.width-n.right:s.x+n.left}function Ia(s){return Qt([],ae(s))}function sg(s,t,e){return ve(s,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Ba(s,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?s.override(e):s}const ar={beforeTitle:ne,title(s){if(s.length>0){const t=s[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:ne,beforeBody:ne,beforeLabel:ne,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let t=s.dataset.label||"";t&&(t+=": ");const e=s.formattedValue;return it(e)||(t+=e),t},labelColor(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ne,afterBody:ne,beforeFooter:ne,footer:ne,afterFooter:ne};function Rt(s,t,e,n){const i=s[t].call(e,n);return typeof i>"u"?ar[t].call(e,n):i}class qn extends Zt{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,a=new Bo(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=sg(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,i=Rt(n,"beforeTitle",this,t),a=Rt(n,"title",this,t),o=Rt(n,"afterTitle",this,t);let r=[];return r=Qt(r,ae(i)),r=Qt(r,ae(a)),r=Qt(r,ae(o)),r}getBeforeBody(t,e){return Ia(Rt(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return rt(t,a=>{const o={before:[],lines:[],after:[]},r=Ba(n,a);Qt(o.before,ae(Rt(r,"beforeLabel",this,a))),Qt(o.lines,Rt(r,"label",this,a)),Qt(o.after,ae(Rt(r,"afterLabel",this,a))),i.push(o)}),i}getAfterBody(t,e){return Ia(Rt(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=Rt(n,"beforeFooter",this,t),a=Rt(n,"footer",this,t),o=Rt(n,"afterFooter",this,t);let r=[];return r=Qt(r,ae(i)),r=Qt(r,ae(a)),r=Qt(r,ae(o)),r}_createItems(t){const e=this._active,n=this.chart.data,i=[],a=[],o=[];let r=[],l,c;for(l=0,c=e.length;l<c;++l)r.push(Jf(this.chart,e[l]));return t.filter&&(r=r.filter((d,h,f)=>t.filter(d,h,f,n))),t.itemSort&&(r=r.sort((d,h)=>t.itemSort(d,h,n))),rt(r,d=>{const h=Ba(t.callbacks,d);i.push(Rt(h,"labelColor",this,d)),a.push(Rt(h,"labelPointStyle",this,d)),o.push(Rt(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=r,r}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let a,o=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const r=os[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=Ea(this,n),c=Object.assign({},r,l),d=La(this.chart,n,c),h=Ra(n,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,a={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:r.x,caretY:r.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const a=this.getCaretPosition(t,n,i);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:a}=this,{caretSize:o,cornerRadius:r}=n,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:h}=$e(r),{x:f,y:g}=t,{width:m,height:p}=e;let v,k,w,O,$,A;return a==="center"?($=g+p/2,i==="left"?(v=f,k=v-o,O=$+o,A=$-o):(v=f+m,k=v+o,O=$-o,A=$+o),w=v):(i==="left"?k=f+Math.max(l,d)+o:i==="right"?k=f+m-Math.max(c,h)-o:k=this.caretX,a==="top"?(O=g,$=O-o,v=k-o,w=k+o):(O=g+p,$=O+o,v=k+o,w=k-o),A=O),{x1:v,x2:k,x3:w,y1:O,y2:$,y3:A}}drawTitle(t,e,n){const i=this.title,a=i.length;let o,r,l;if(a){const c=je(n.rtl,this.x,this.width);for(t.x=Ys(this,n.titleAlign,n),e.textAlign=c.textAlign(n.titleAlign),e.textBaseline="middle",o=Mt(n.titleFont),r=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,l=0;l<a;++l)e.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r,l+1===a&&(t.y+=n.titleMarginBottom-r)}}_drawColorBox(t,e,n,i,a){const o=this.labelColors[n],r=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=a,d=Mt(a.bodyFont),h=Ys(this,"left",a),f=i.x(h),g=l<d.lineHeight?(d.lineHeight-l)/2:0,m=e.y+g;if(a.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},v=i.leftForLtr(f,c)+c/2,k=m+l/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Wn(t,p,v,k),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Wn(t,p,v,k)}else{t.lineWidth=tt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const p=i.leftForLtr(f,c),v=i.leftForLtr(i.xPlus(f,1),c-2),k=$e(o.borderRadius);Object.values(k).some(w=>w!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,bs(t,{x:p,y:m,w:c,h:l,radius:k}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),bs(t,{x:v,y:m+1,w:c-2,h:l-2,radius:k}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(p,m,c,l),t.strokeRect(p,m,c,l),t.fillStyle=o.backgroundColor,t.fillRect(v,m+1,c-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:a,bodyAlign:o,displayColors:r,boxHeight:l,boxWidth:c,boxPadding:d}=n,h=Mt(n.bodyFont);let f=h.lineHeight,g=0;const m=je(n.rtl,this.x,this.width),p=function(M){e.fillText(M,m.x(t.x+g),t.y+f/2),t.y+=f+a},v=m.textAlign(o);let k,w,O,$,A,E,T;for(e.textAlign=o,e.textBaseline="middle",e.font=h.string,t.x=Ys(this,v,n),e.fillStyle=n.bodyColor,rt(this.beforeBody,p),g=r&&v!=="right"?o==="center"?c/2+d:c+2+d:0,$=0,E=i.length;$<E;++$){for(k=i[$],w=this.labelTextColors[$],e.fillStyle=w,rt(k.before,p),O=k.lines,r&&O.length&&(this._drawColorBox(e,t,$,m,n),f=Math.max(h.lineHeight,l)),A=0,T=O.length;A<T;++A)p(O[A]),f=h.lineHeight;rt(k.after,p)}g=0,f=h.lineHeight,rt(this.afterBody,p),t.y-=a}drawFooter(t,e,n){const i=this.footer,a=i.length;let o,r;if(a){const l=je(n.rtl,this.x,this.width);for(t.x=Ys(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=l.textAlign(n.footerAlign),e.textBaseline="middle",o=Mt(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,r=0;r<a;++r)e.fillText(i[r],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:a,yAlign:o}=this,{x:r,y:l}=t,{width:c,height:d}=n,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:m}=$e(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(r+h,l),o==="top"&&this.drawCaret(t,e,n,i),e.lineTo(r+c-f,l),e.quadraticCurveTo(r+c,l,r+c,l+f),o==="center"&&a==="right"&&this.drawCaret(t,e,n,i),e.lineTo(r+c,l+d-m),e.quadraticCurveTo(r+c,l+d,r+c-m,l+d),o==="bottom"&&this.drawCaret(t,e,n,i),e.lineTo(r+g,l+d),e.quadraticCurveTo(r,l+d,r,l+d-g),o==="center"&&a==="left"&&this.drawCaret(t,e,n,i),e.lineTo(r,l+h),e.quadraticCurveTo(r,l,r+h,l),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){const o=os[t.position].call(this,this._active,this._eventPosition);if(!o)return;const r=this._size=Ea(this,t),l=Object.assign({},o,this._size),c=La(e,t,l),d=Ra(t,l,c,e);(i._to!==d.x||a._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=r.width,this.height=r.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Ot(e.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&r&&(t.save(),t.globalAlpha=n,this.drawBackground(a,t,i,e),Fo(t,e.textDirection),a.y+=o.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),Eo(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map(({datasetIndex:r,index:l})=>{const c=this.chart.getDatasetMeta(r);if(!c)throw new Error("Cannot find a dataset at index "+r);return{datasetIndex:r,element:c.data[l],index:l}}),a=!nn(n,i),o=this._positionChanged(i,e);(a||o)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],o=this._getActiveElements(t,a,e,n),r=this._positionChanged(o,t),l=e||!nn(o,a)||r;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,n,i){const a=this.options;if(t.type==="mouseout")return[];if(!i)return e.filter(r=>this.chart.data.datasets[r.datasetIndex]&&this.chart.getDatasetMeta(r.datasetIndex).controller.getParsed(r.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,a.mode,a,n);return a.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:i,options:a}=this,o=os[a.position].call(this,t,e);return o!==!1&&(n!==o.x||i!==o.y)}}B(qn,"positioners",os);var ng={id:"tooltip",_element:qn,positioners:os,afterInit(s,t,e){e&&(s.tooltip=new qn({chart:s,options:e}))},beforeUpdate(s,t,e){s.tooltip&&s.tooltip.initialize(e)},reset(s,t,e){s.tooltip&&s.tooltip.initialize(e)},afterDraw(s){const t=s.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(s.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",e)}},afterEvent(s,t){if(s.tooltip){const e=t.replay;s.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,t)=>t.bodyFont.size,boxWidth:(s,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ar},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ig=Object.freeze({__proto__:null,Colors:mf,Decimation:yf,Filler:zf,Legend:Yf,SubTitle:Kf,Title:Xf,Tooltip:ng});const ag=(s,t,e,n)=>(typeof t=="string"?(e=s.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function og(s,t,e,n){const i=s.indexOf(t);if(i===-1)return ag(s,t,e,n);const a=s.lastIndexOf(t);return i!==a?e:i}const rg=(s,t)=>s===null?null:Dt(Math.round(s),0,t);function Va(s){const t=this.getLabels();return s>=0&&s<t.length?t[s]:s}class Zn extends Ie{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const n=this.getLabels();for(const{index:i,label:a}of e)n[i]===a&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(it(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:og(n,t,J(e,t),this._addedLabels),rg(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=e;o++)i.push({value:o});return i}getLabelForValue(t){return Va.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}B(Zn,"id","category"),B(Zn,"defaults",{ticks:{callback:Va}});function lg(s,t){const e=[],{bounds:i,step:a,min:o,max:r,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:f}=s,g=a||1,m=d-1,{min:p,max:v}=t,k=!it(o),w=!it(r),O=!it(c),$=(v-p)/(h+1);let A=Fi((v-p)/m/g)*g,E,T,M,P;if(A<1e-14&&!k&&!w)return[{value:p},{value:v}];P=Math.ceil(v/A)-Math.floor(p/A),P>m&&(A=Fi(P*A/m/g)*g),it(l)||(E=Math.pow(10,l),A=Math.ceil(A*E)/E),i==="ticks"?(T=Math.floor(p/A)*A,M=Math.ceil(v/A)*A):(T=p,M=v),k&&w&&a&&ed((r-o)/a,A/1e3)?(P=Math.round(Math.min((r-o)/A,d)),A=(r-o)/P,T=o,M=r):O?(T=k?o:T,M=w?r:M,P=c-1,A=(M-T)/P):(P=(M-T)/A,cs(P,Math.round(P),A/1e3)?P=Math.round(P):P=Math.ceil(P));const I=Math.max(Ei(A),Ei(T));E=Math.pow(10,it(l)?I:l),T=Math.round(T*E)/E,M=Math.round(M*E)/E;let L=0;for(k&&(f&&T!==o?(e.push({value:o}),T<o&&L++,cs(Math.round((T+L*A)*E)/E,o,za(o,$,s))&&L++):T<o&&L++);L<P;++L){const U=Math.round((T+L*A)*E)/E;if(w&&U>r)break;e.push({value:U})}return w&&f&&M!==r?e.length&&cs(e[e.length-1].value,r,za(r,$,s))?e[e.length-1].value=r:e.push({value:r}):(!w||M===r)&&e.push({value:M}),e}function za(s,t,{horizontal:e,minRotation:n}){const i=Kt(n),a=(e?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+s).length;return Math.min(t/a,o)}class un extends Ie{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return it(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this;const o=l=>i=e?i:l,r=l=>a=n?a:l;if(t){const l=se(i),c=se(a);l<0&&c<0?r(0):l>0&&c>0&&o(0)}if(i===a){let l=a===0?1:Math.abs(a*.05);r(a+l),t||o(i-l)}this.min=i,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,o=lg(i,a);return t.bounds==="ticks"&&mo(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Ms(t,this.chart.options.locale,this.options.ticks.format)}}class Qn extends un{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=mt(t)?t:0,this.max=mt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Kt(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}B(Qn,"id","linear"),B(Qn,"defaults",{ticks:{callback:pn.formatters.numeric}});const ys=s=>Math.floor(fe(s)),Te=(s,t)=>Math.pow(10,ys(s)+t);function Na(s){return s/Math.pow(10,ys(s))===1}function Ha(s,t,e){const n=Math.pow(10,e),i=Math.floor(s/n);return Math.ceil(t/n)-i}function cg(s,t){const e=t-s;let n=ys(e);for(;Ha(s,t,n)>10;)n++;for(;Ha(s,t,n)<10;)n--;return Math.min(n,ys(s))}function dg(s,{min:t,max:e}){t=Bt(s.min,t);const n=[],i=ys(t);let a=cg(t,e),o=a<0?Math.pow(10,Math.abs(a)):1;const r=Math.pow(10,a),l=i>a?Math.pow(10,i):0,c=Math.round((t-l)*o)/o,d=Math.floor((t-l)/r/10)*r*10;let h=Math.floor((c-d)/Math.pow(10,a)),f=Bt(s.min,Math.round((l+d+h*Math.pow(10,a))*o)/o);for(;f<e;)n.push({value:f,major:Na(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(a++,h=2,o=a>=0?1:o),f=Math.round((l+d+h*Math.pow(10,a))*o)/o;const g=Bt(s.max,f);return n.push({value:g,major:Na(g),significand:h}),n}class ti extends Ie{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=un.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return mt(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=mt(t)?Math.max(0,t):null,this.max=mt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!mt(this._userMin)&&(this.min=t===Te(this.min,0)?Te(this.min,-1):Te(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const a=r=>n=t?n:r,o=r=>i=e?i:r;n===i&&(n<=0?(a(1),o(10)):(a(Te(n,-1)),o(Te(i,1)))),n<=0&&a(Te(i,-1)),i<=0&&o(Te(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},n=dg(e,this);return t.bounds==="ticks"&&mo(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Ms(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=fe(t),this._valueRange=fe(this.max)-fe(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(fe(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}B(ti,"id","logarithmic"),B(ti,"defaults",{ticks:{callback:pn.formatters.logarithmic,major:{enabled:!0}}});function ei(s){const t=s.ticks;if(t.display&&s.display){const e=Ot(t.backdropPadding);return J(t.font&&t.font.size,_t.font.size)+e.height}return 0}function ug(s,t,e){return e=dt(e)?e:[e],{w:bd(s,t.string,e),h:e.length*t.lineHeight}}function ja(s,t,e,n,i){return s===n||s===i?{start:t-e/2,end:t+e/2}:s<n||s>i?{start:t-e,end:t}:{start:t,end:t+e}}function hg(s){const t={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},e=Object.assign({},t),n=[],i=[],a=s._pointLabels.length,o=s.options.pointLabels,r=o.centerPointLabels?ht/a:0;for(let l=0;l<a;l++){const c=o.setContext(s.getPointLabelContext(l));i[l]=c.padding;const d=s.getPointPosition(l,s.drawingArea+i[l],r),h=Mt(c.font),f=ug(s.ctx,h,s._pointLabels[l]);n[l]=f;const g=Vt(s.getIndexAngle(l)+r),m=Math.round(ri(g)),p=ja(m,d.x,f.w,0,180),v=ja(m,d.y,f.h,90,270);fg(e,t,g,p,v)}s.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),s._pointLabelItems=mg(s,n,i)}function fg(s,t,e,n,i){const a=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let r=0,l=0;n.start<t.l?(r=(t.l-n.start)/a,s.l=Math.min(s.l,t.l-r)):n.end>t.r&&(r=(n.end-t.r)/a,s.r=Math.max(s.r,t.r+r)),i.start<t.t?(l=(t.t-i.start)/o,s.t=Math.min(s.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,s.b=Math.max(s.b,t.b+l))}function gg(s,t,e){const n=s.drawingArea,{extra:i,additionalAngle:a,padding:o,size:r}=e,l=s.getPointPosition(t,n+i+o,a),c=Math.round(ri(Vt(l.angle+vt))),d=vg(l.y,r.h,c),h=_g(c),f=bg(l.x,r.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:f,top:d,right:f+r.w,bottom:d+r.h}}function pg(s,t){if(!t)return!0;const{left:e,top:n,right:i,bottom:a}=s;return!(ce({x:e,y:n},t)||ce({x:e,y:a},t)||ce({x:i,y:n},t)||ce({x:i,y:a},t))}function mg(s,t,e){const n=[],i=s._pointLabels.length,a=s.options,{centerPointLabels:o,display:r}=a.pointLabels,l={extra:ei(a)/2,additionalAngle:o?ht/i:0};let c;for(let d=0;d<i;d++){l.padding=e[d],l.size=t[d];const h=gg(s,d,l);n.push(h),r==="auto"&&(h.visible=pg(h,c),h.visible&&(c=h))}return n}function _g(s){return s===0||s===180?"center":s<180?"left":"right"}function bg(s,t,e){return e==="right"?s-=t:e==="center"&&(s-=t/2),s}function vg(s,t,e){return e===90||e===270?s-=t/2:(e>270||e<90)&&(s-=t),s}function yg(s,t,e){const{left:n,top:i,right:a,bottom:o}=e,{backdropColor:r}=t;if(!it(r)){const l=$e(t.borderRadius),c=Ot(t.backdropPadding);s.fillStyle=r;const d=n-c.left,h=i-c.top,f=a-n+c.width,g=o-i+c.height;Object.values(l).some(m=>m!==0)?(s.beginPath(),bs(s,{x:d,y:h,w:f,h:g,radius:l}),s.fill()):s.fillRect(d,h,f,g)}}function xg(s,t){const{ctx:e,options:{pointLabels:n}}=s;for(let i=t-1;i>=0;i--){const a=s._pointLabelItems[i];if(!a.visible)continue;const o=n.setContext(s.getPointLabelContext(i));yg(e,o,a);const r=Mt(o.font),{x:l,y:c,textAlign:d}=a;Ee(e,s._pointLabels[i],l,c+r.lineHeight/2,r,{color:o.color,textAlign:d,textBaseline:"middle"})}}function or(s,t,e,n){const{ctx:i}=s;if(e)i.arc(s.xCenter,s.yCenter,t,0,ut);else{let a=s.getPointPosition(0,t);i.moveTo(a.x,a.y);for(let o=1;o<n;o++)a=s.getPointPosition(o,t),i.lineTo(a.x,a.y)}}function Sg(s,t,e,n,i){const a=s.ctx,o=t.circular,{color:r,lineWidth:l}=t;!o&&!n||!r||!l||e<0||(a.save(),a.strokeStyle=r,a.lineWidth=l,a.setLineDash(i.dash),a.lineDashOffset=i.dashOffset,a.beginPath(),or(s,e,o,n),a.closePath(),a.stroke(),a.restore())}function kg(s,t,e){return ve(s,{label:e,index:t,type:"pointLabel"})}class rs extends un{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ot(ei(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=mt(t)&&!isNaN(t)?t:0,this.max=mt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ei(this.options))}generateTickLabels(t){un.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{const i=ct(this.options.pointLabels.callback,[e,n],this);return i||i===0?i:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?hg(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){const e=ut/(this._pointLabels.length||1),n=this.options.startAngle||0;return Vt(t*e+Kt(n))}getDistanceFromCenterForValue(t){if(it(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(it(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return kg(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const i=this.getIndexAngle(t)-vt+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:a}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),or(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i,border:a}=e,o=this._pointLabels.length;let r,l,c;if(e.pointLabels.display&&xg(this,o),i.display&&this.ticks.forEach((d,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(d.value);const f=this.getContext(h),g=i.setContext(f),m=a.setContext(f);Sg(this,g,l,o,m)}}),n.display){for(t.save(),r=o-1;r>=0;r--){const d=n.setContext(this.getPointLabelContext(r)),{color:h,lineWidth:f}=d;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),c=this.getPointPosition(r,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let a,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((r,l)=>{if(l===0&&!e.reverse)return;const c=n.setContext(this.getContext(l)),d=Mt(c.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=d.string,o=t.measureText(r.label).width,t.fillStyle=c.backdropColor;const h=Ot(c.backdropPadding);t.fillRect(-o/2-h.left,-a-d.size/2-h.top,o+h.width,d.size+h.height)}Ee(t,r.label,0,-a,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}B(rs,"id","radialLinear"),B(rs,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),B(rs,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),B(rs,"descriptors",{angleLines:{_fallback:"grid"}});const yn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},It=Object.keys(yn);function Wa(s,t){return s-t}function Ua(s,t){if(it(t))return null;const e=s._adapter,{parser:n,round:i,isoWeekday:a}=s._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),mt(o)||(o=typeof n=="string"?e.parse(o,n):e.parse(o)),o===null?null:(i&&(o=i==="week"&&(Ue(a)||a===!0)?e.startOf(o,"isoWeek",a):e.startOf(o,i)),+o)}function Ya(s,t,e,n){const i=It.length;for(let a=It.indexOf(s);a<i-1;++a){const o=yn[It[a]],r=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(r*o.size))<=n)return It[a]}return It[i-1]}function wg(s,t,e,n,i){for(let a=It.length-1;a>=It.indexOf(e);a--){const o=It[a];if(yn[o].common&&s._adapter.diff(i,n,o)>=t-1)return o}return It[e?It.indexOf(e):0]}function Mg(s){for(let t=It.indexOf(s)+1,e=It.length;t<e;++t)if(yn[It[t]].common)return It[t]}function Ga(s,t,e){if(!e)s[t]=!0;else if(e.length){const{lo:n,hi:i}=li(e,t),a=e[n]>=t?e[n]:e[i];s[a]=!0}}function Cg(s,t,e,n){const i=s._adapter,a=+i.startOf(t[0].value,n),o=t[t.length-1].value;let r,l;for(r=a;r<=o;r=+i.add(r,1,n))l=e[r],l>=0&&(t[l].major=!0);return t}function Xa(s,t,e){const n=[],i={},a=t.length;let o,r;for(o=0;o<a;++o)r=t[o],i[r]=o,n.push({value:r,major:!1});return a===0||!e?n:Cg(s,n,i,e)}class xs extends Ie{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),i=this._adapter=new Eu._date(t.adapters.date);i.init(e),ls(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Ua(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:a,minDefined:o,maxDefined:r}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!r&&!isNaN(c.max)&&(a=Math.max(a,c.max))}(!o||!r)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=mt(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),a=mt(a)&&!isNaN(a)?a:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,o=this.max,r=ad(i,a,o);return this._unit=e.unit||(n.autoSkip?Ya(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):wg(this,r.length,e.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Mg(this._unit),this.initOffsets(i),t.reverse&&r.reverse(),Xa(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,n=0,i,a;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?e=1-i:e=(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?n=a:n=(a-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=Dt(e,0,o),n=Dt(n,0,o),this._offsets={start:e,end:n,factor:1/(e+1+n)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,a=i.time,o=a.unit||Ya(a.minUnit,e,n,this._getLabelCapacity(e)),r=J(i.ticks.stepSize,1),l=o==="week"?a.isoWeekday:!1,c=Ue(l)||l===!0,d={};let h=e,f,g;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(n,e,o)>1e5*r)throw new Error(e+" and "+n+" are too far apart with stepSize of "+r+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,g=0;f<n;f=+t.add(f,r,o),g++)Ga(d,f,m);return(f===n||i.bounds==="ticks"||g===1)&&Ga(d,f,m),Object.keys(d).sort(Wa).map(p=>+p)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,a=this._unit,o=e||i[a];return this._adapter.format(t,o)}_tickFormatFunction(t,e,n,i){const a=this.options,o=a.ticks.callback;if(o)return ct(o,[t,e,n],this);const r=a.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&r[l],h=c&&r[c],f=n[e],g=c&&h&&f&&f.major;return this._adapter.format(t,i||(g?h:d))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=Kt(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(i),o=Math.sin(i),r=this._resolveTickFontOptions(0).size;return{w:n*a+r*o,h:n*o+r*a}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,a=this._tickFormatFunction(t,0,Xa(this,[t],this._majorUnit),i),o=this._getLabelSize(a),r=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return r>0?r:1}getDataTimestamps(){let t=this._cache.data||[],e,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,n=i.length;e<n;++e)t=t.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(Ua(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return vo(t.sort(Wa))}}B(xs,"id","time"),B(xs,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Gs(s,t,e){let n=0,i=s.length-1,a,o,r,l;e?(t>=s[n].pos&&t<=s[i].pos&&({lo:n,hi:i}=le(s,"pos",t)),{pos:a,time:r}=s[n],{pos:o,time:l}=s[i]):(t>=s[n].time&&t<=s[i].time&&({lo:n,hi:i}=le(s,"time",t)),{time:a,pos:r}=s[n],{time:o,pos:l}=s[i]);const c=o-a;return c?r+(l-r)*(t-a)/c:r}class si extends xs{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Gs(e,this.min),this._tableRange=Gs(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],a=[];let o,r,l,c,d;for(o=0,r=t.length;o<r;++o)c=t[o],c>=e&&c<=n&&i.push(c);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,r=i.length;o<r;++o)d=i[o+1],l=i[o-1],c=i[o],Math.round((d+l)/2)!==c&&a.push({time:c,pos:o/(r-1)});return a}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((i,a)=>i-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Gs(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return Gs(this._table,n*this._tableRange+this._minPos,!0)}}B(si,"id","timeseries"),B(si,"defaults",xs.defaults);var Tg=Object.freeze({__proto__:null,CategoryScale:Zn,LinearScale:Qn,LogarithmicScale:ti,RadialLinearScale:rs,TimeScale:xs,TimeSeriesScale:si});const Dg=[Fu,df,ig,Tg];vn.register(...Dg);const rr={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},Ag={ariaLabel:{type:String},ariaDescribedby:{type:String}},Pg={type:{type:String,required:!0},...rr,...Ag},$g=kr[0]==="2"?(s,t)=>Object.assign(s,{attrs:t}):(s,t)=>Object.assign(s,t);function He(s){return so(s)?zn(s):s}function Og(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return so(t)?new Proxy(s,{}):s}function Fg(s,t){const e=s.options;e&&t&&Object.assign(e,t)}function lr(s,t){s.labels=t}function cr(s,t,e){const n=[];s.datasets=t.map(i=>{const a=s.datasets.find(o=>o[e]===i[e]);return!a||!i.data||n.includes(a)?{...i}:(n.push(a),Object.assign(a,i),a)})}function Eg(s,t){const e={labels:[],datasets:[]};return lr(e,s.labels),cr(e,s.datasets,t),e}const Lg=Q({props:Pg,setup(s,t){let{expose:e,slots:n}=t;const i=x(null),a=Qa(null);e({chart:a});const o=()=>{if(!i.value)return;const{type:c,data:d,options:h,plugins:f,datasetIdKey:g}=s,m=Eg(d,g),p=Og(m,d);a.value=new vn(i.value,{type:c,data:p,options:{...h},plugins:f})},r=()=>{const c=zn(a.value);c&&(c.destroy(),a.value=null)},l=c=>{c.update(s.updateMode)};return wr(o),to(r),We([()=>s.options,()=>s.data],(c,d)=>{let[h,f]=c,[g,m]=d;const p=zn(a.value);if(!p)return;let v=!1;if(h){const k=He(h),w=He(g);k&&k!==w&&(Fg(p,k),v=!0)}if(f){const k=He(f.labels),w=He(m.labels),O=He(f.datasets),$=He(m.datasets);k!==w&&(lr(p.config.data,k),v=!0),O&&O!==$&&(cr(p.config.data,O,s.datasetIdKey),v=!0)}v&&eo(()=>{l(p)})},{deep:!0}),()=>Vn("canvas",{role:"img",ariaLabel:s.ariaLabel,ariaDescribedby:s.ariaDescribedby,ref:i},[Vn("p",{},[n.default?n.default():""])])}});function Rg(s,t){return vn.register(t),Q({props:rr,setup(e,n){let{expose:i}=n;const a=Qa(null),o=r=>{a.value=r==null?void 0:r.chart};return i({chart:a}),()=>Vn(Lg,$g({ref:o},{type:s,...e}))}})}const Ss=Rg("bar",hs),yt=s=>(Ct("data-v-5b9f7bca"),s=s(),Tt(),s),Ig={class:"flex-all-c w-100 h-100"},Bg={class:"table-container"},Vg={key:0,class:"term-table"},zg=yt(()=>u("tr",{class:"term-three table-title-container",style:{position:"relative"}},[u("td",null,"Justice"),u("td",{class:"table-title term-three"},"semester 3")],-1)),Ng={class:"term-three"},Hg=yt(()=>u("td",{class:"table-data"},"Highest Score",-1)),jg={class:"table-data-value"},Wg={class:"term-three"},Ug=yt(()=>u("td",{class:"table-data"},"Average Score",-1)),Yg={class:"table-data-value"},Gg={class:"term-three"},Xg=yt(()=>u("td",{class:"table-data"},"Lowest Score",-1)),Kg={class:"table-data-value"},Jg={class:"term-three"},qg=yt(()=>u("td",{class:"table-data"},"pass( score>50 ) rate",-1)),Zg={class:"table-data-value"},Qg={class:"term-three"},tp=yt(()=>u("td",{class:"table-data"},"weak pass( 50<=score>=40 ) rate",-1)),ep={class:"table-data-value"},sp={class:"term-three"},np=yt(()=>u("td",{class:"table-data"},"fail( score<40 ) rate",-1)),ip={class:"table-data-value"},ap={key:1,class:"term-table"},op=yt(()=>u("tr",{class:"term-two table-title-container",style:{position:"relative"}},[u("td",null,"Justice"),u("td",{class:"table-title term-two"},"semester 2")],-1)),rp={class:"term-two"},lp=yt(()=>u("td",{class:"table-data"},"Highest Score",-1)),cp={class:"table-data-value"},dp={class:"term-two"},up=yt(()=>u("td",{class:"table-data"},"Average Score",-1)),hp={class:"table-data-value"},fp={key:0,class:"term-two"},gp=yt(()=>u("td",{class:"table-data"},"Lowest Score",-1)),pp={class:"table-data-value"},mp={class:"term-two"},_p=yt(()=>u("td",{class:"table-data"},"pass( score>50 ) rate",-1)),bp={class:"table-data-value"},vp={class:"term-two"},yp=yt(()=>u("td",{class:"table-data"},"weak pass( 50<=score>=40 ) rate",-1)),xp={class:"table-data-value"},Sp={class:"term-two"},kp=yt(()=>u("td",{class:"table-data"},"fail( score<40 ) rate",-1)),wp={class:"table-data-value"},Mp={key:2,class:"term-table"},Cp=yt(()=>u("tr",{class:"term-one table-title-container",style:{position:"relative"}},[u("td",null,"Justice"),u("td",{class:"table-title term-one"},"semester 1")],-1)),Tp={class:"term-one"},Dp=yt(()=>u("td",{class:"table-data"},"Highest Score",-1)),Ap={class:"table-data-value"},Pp={class:"term-one"},$p=yt(()=>u("td",{class:"table-data"},"Average Score",-1)),Op={class:"table-data-value"},Fp={class:"term-one"},Ep=yt(()=>u("td",{class:"table-data"},"Lowest Score",-1)),Lp={class:"table-data-value"},Rp={class:"term-one"},Ip=yt(()=>u("td",{class:"table-data"},"pass( score>50 ) rate",-1)),Bp={class:"table-data-value"},Vp={class:"term-one"},zp=yt(()=>u("td",{class:"table-data"},"weak pass( 50<=score>=40 ) rate",-1)),Np={class:"table-data-value"},Hp={class:"term-one"},jp=yt(()=>u("td",{class:"table-data"},"fail( score<40 ) rate",-1)),Wp={class:"table-data-value"},Up=Q({__name:"HeadYearPerformance",props:{year:{}},setup(s){const{year:t}=s,e=x(t.term_one).value.length,n=x(t.term_two).value.length,i=x(t.term_three).value.length,a=lt(),o=V(()=>(x(t.term_one.filter(R=>R.score>=80)).value.length/e*100).toFixed(1)),r=V(()=>(x(t.term_one.filter(R=>R.score>=75&&R.score<80)).value.length/e*100).toFixed(1)),l=V(()=>(x(t.term_one.filter(R=>R.score>=70&&R.score<75)).value.length/e*100).toFixed(1)),c=V(()=>(x(t.term_one.filter(R=>R.score>=65&&R.score<70)).value.length/e*100).toFixed(1)),d=V(()=>(x(t.term_one.filter(R=>R.score>=60&&R.score<65)).value.length/e*100).toFixed(1)),h=V(()=>(x(t.term_one.filter(R=>R.score>=55&&R.score<60)).value.length/e*100).toFixed(1)),f=V(()=>(x(t.term_one.filter(R=>R.score>=50&&R.score<55)).value.length/e*100).toFixed(1)),g=V(()=>(x(t.term_one.filter(R=>R.score>=40&&R.score<50)).value.length/e*100).toFixed(1)),m=V(()=>(x(t.term_one.filter(R=>R.score<40)).value.length/e*100).toFixed(1)),p=V(()=>(x(t.term_two.filter(R=>R.score>=80)).value.length/n*100).toFixed(1)),v=V(()=>(x(t.term_two.filter(R=>R.score>=75&&R.score<80)).value.length/n*100).toFixed(1)),k=V(()=>(x(t.term_two.filter(R=>R.score>=70&&R.score<75)).value.length/n*100).toFixed(1)),w=V(()=>(x(t.term_two.filter(R=>R.score>=65&&R.score<70)).value.length/n*100).toFixed(1)),O=V(()=>(x(t.term_two.filter(R=>R.score>=60&&R.score<65)).value.length/n*100).toFixed(1)),$=V(()=>(x(t.term_two.filter(R=>R.score>=55&&R.score<60)).value.length/n*100).toFixed(1)),A=V(()=>(x(t.term_two.filter(R=>R.score>=50&&R.score<55)).value.length/n*100).toFixed(1)),E=V(()=>(x(t.term_two.filter(R=>R.score>=40&&R.score<50)).value.length/n*100).toFixed(1)),T=V(()=>(x(t.term_two.filter(R=>R.score<40)).value.length/n*100).toFixed(1)),M=V(()=>(x(t.term_three.filter(R=>R.score>=80)).value.length/i*100).toFixed(1)),P=V(()=>(x(t.term_three.filter(R=>R.score>=75&&R.score<80)).value.length/i*100).toFixed(1)),I=V(()=>(x(t.term_three.filter(R=>R.score>=70&&R.score<75)).value.length/i*100).toFixed(1)),L=V(()=>(x(t.term_three.filter(R=>R.score>=65&&R.score<70)).value.length/i*100).toFixed(1)),U=V(()=>(x(t.term_three.filter(R=>R.score>=60&&R.score<65)).value.length/i*100).toFixed(1)),ot=V(()=>(x(t.term_three.filter(R=>R.score>=55&&R.score<60)).value.length/i*100).toFixed(1)),H=V(()=>(x(t.term_three.filter(R=>R.score>=50&&R.score<55)).value.length/i*100).toFixed(1)),q=V(()=>(x(t.term_three.filter(R=>R.score>=40&&R.score<50)).value.length/i*100).toFixed(1)),Y=V(()=>(x(t.term_three.filter(R=>R.score<40)).value.length/i*100).toFixed(1)),st=x(["A1","B2","B3","C4","C5","C6","D7","E8","F9"]),pt=x([o.value,r.value,l.value,c.value,d.value,h.value,f.value,g.value,m.value]),ft=x([p.value,v.value,k.value,w.value,O.value,$.value,A.value,E.value,T.value]),Lt=x([M.value,P.value,I.value,L.value,U.value,ot.value,H.value,q.value,Y.value]),kt=x({labels:st.value,datasets:[{label:"Semester 1 Rate(%)",data:pt.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Semester 2 Rate(%)",data:ft.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1}]}),Nt=x({labels:st.value,datasets:[{label:"Semester 1 Rate(%)",data:pt.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Semester 2 Rate(%)",data:ft.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1},{label:"Semester 3 Rate(%)",data:Lt.value,borderColor:"indigo",backgroundColor:"indigo",borderWidth:2,fill:!1}]}),Ht=x({responsive:!0}),wt=x(t.term_one.map(N=>N.score)),jt=V(()=>(wt.value.reduce((R,Se)=>R+Se,0)/wt.value.length).toFixed(0)),xt=V(()=>Math.max(...wt.value)),Je=V(()=>Math.min(...wt.value)),Ds=V(()=>t.term_one.filter(N=>N.score>=50).length),As=V(()=>t.term_one.filter(N=>N.score<50&&N.score>=40).length),Ps=V(()=>t.term_one.filter(N=>N.score<40).length),Ft=x(t.term_two.map(N=>N.score)),xn=V(()=>(Ft.value.reduce((R,Se)=>R+Se,0)/Ft.value.length).toFixed(0)),Sn=V(()=>Math.max(...Ft.value)),ye=V(()=>Math.min(...Ft.value)),kn=V(()=>t.term_two.filter(N=>N.score>=50).length),wn=V(()=>t.term_two.filter(N=>N.score<50&&N.score>=40).length),$s=V(()=>t.term_two.filter(N=>N.score<40).length),xe=x(t.term_three.map(N=>N.score)),Os=V(()=>(xe.value.reduce((R,Se)=>R+Se,0)/xe.value.length).toFixed(0)),Fs=V(()=>Math.max(...xe.value)),Wt=V(()=>Math.min(...xe.value)),Mn=V(()=>t.term_three.filter(N=>N.score>=50).length),Cn=V(()=>t.term_three.filter(N=>N.score<50&&N.score>=40).length),Be=V(()=>t.term_three.filter(N=>N.score<40).length);return(N,R)=>(_(),S("div",Ig,[!N.year||N.year&&N.year.term_one.length===0?(_(),j(At,{key:0})):C("",!0),N.year&&!b(a).userData.academic_year.sem_3_start_date&&N.year.term_one.length>0||N.year&&!b(a).userData.academic_year.sem_3_start_date&&N.year.term_two.length>0?(_(),j(b(Ss),{key:1,class:"chart",options:Ht.value,data:kt.value,fill:!1},null,8,["options","data"])):C("",!0),N.year&&b(a).userData.academic_year.sem_3_start_date&&N.year.term_one.length>0||N.year&&b(a).userData.academic_year.sem_3_start_date&&N.year.term_two.length>0||N.year&&b(a).userData.academic_year.sem_3_start_date&&N.year.term_three.length>0?(_(),j(b(Ss),{key:2,class:"chart",options:Ht.value,data:Nt.value,fill:!1},null,8,["options","data"])):C("",!0),u("div",Bg,[N.year.term_three&&N.year.term_three.length>0?(_(),S("div",Vg,[D(St,{density:"comfortable"},{default:z(()=>[u("tbody",null,[zg,u("tr",Ng,[Hg,u("td",jg,y(Fs.value),1)]),u("tr",Wg,[Ug,u("td",Yg,y(Os.value),1)]),u("tr",Gg,[Xg,u("td",Kg,y(Wt.value),1)]),u("tr",Jg,[qg,u("td",Zg," ["+y((Mn.value/b(i)*100).toFixed(1))+"%] ",1)]),u("tr",Qg,[tp,u("td",ep," ["+y((Cn.value/b(i)*100).toFixed(1))+"%] ",1)]),u("tr",sp,[np,u("td",ip," ["+y((Be.value/b(i)*100).toFixed(1))+"%] ",1)])])]),_:1})])):C("",!0),N.year.term_two&&N.year.term_two.length>0?(_(),S("div",ap,[D(St,{density:"comfortable"},{default:z(()=>[u("tbody",null,[op,u("tr",rp,[lp,u("td",cp,y(Sn.value),1)]),u("tr",dp,[up,u("td",hp,y(xn.value),1)]),ye.value?(_(),S("tr",fp,[gp,u("td",pp,y(ye.value),1)])):C("",!0),u("tr",mp,[_p,u("td",bp," ["+y((kn.value/b(n)*100).toFixed(1))+"%] ",1)]),u("tr",vp,[yp,u("td",xp," ["+y((wn.value/b(n)*100).toFixed(1))+"%] ",1)]),u("tr",Sp,[kp,u("td",wp," ["+y(($s.value/b(n)*100).toFixed(1))+"%] ",1)])])]),_:1})])):C("",!0),N.year.term_one&&N.year.term_one.length>0?(_(),S("div",Mp,[D(St,{density:"comfortable"},{default:z(()=>[u("tbody",null,[Cp,u("tr",Tp,[Dp,u("td",Ap,y(xt.value),1)]),u("tr",Pp,[$p,u("td",Op,y(jt.value),1)]),u("tr",Fp,[Ep,u("td",Lp,y(Je.value),1)]),u("tr",Rp,[Ip,u("td",Bp," ["+y((Ds.value/b(e)*100).toFixed(1))+"%] ",1)]),u("tr",Vp,[zp,u("td",Np," ["+y((As.value/b(e)*100).toFixed(1))+"%] ",1)]),u("tr",Hp,[jp,u("td",Wp," ["+y((Ps.value/b(e)*100).toFixed(1))+"%] ",1)])])]),_:1})])):C("",!0)])]))}}),Yp=at(Up,[["__scopeId","data-v-5b9f7bca"]]),Gp={class:"subsections-container"},Xp={class:"subsections"},Kp=Q({__name:"HeadPerformanceDepartment",props:{data:null},setup(s){const t=s,e=x("section1"),n=i=>{e.value=i};return(i,a)=>{const o=Yp;return _(),S("div",Gp,[D(Xe,{class:"subsection-nav-container",elevation:"0"},{default:z(()=>[u("button",{class:G(["nav-btn-2",{"nav-btn-2-active":e.value==="section1"}]),onClick:a[0]||(a[0]=r=>n("section1"))},"form 1 students",2),u("button",{class:G(["nav-btn-2",{"nav-btn-2-active":e.value==="section2"}]),onClick:a[1]||(a[1]=r=>n("section2"))},"form 2 students",2),u("button",{class:G(["nav-btn-2",{"nav-btn-2-active":e.value==="section3"}]),onClick:a[2]||(a[2]=r=>n("section3"))},"form 3 students",2)]),_:1}),u("div",Xp,[u("div",{style:X(e.value==="section1"?{display:"flex"}:{display:"none"})},[D(o,{year:t.data.year_one},null,8,["year"])],4),u("div",{style:X(e.value==="section2"?{display:"flex"}:{display:"none"})},[D(o,{year:t.data.year_two},null,8,["year"])],4),u("div",{style:X(e.value==="section3"?{display:"flex"}:{display:"none"})},[D(o,{year:t.data.year_three},null,8,["year"])],4)])])}}}),Jp={class:"sections-container"},qp={key:1,class:"section-nav-container"},Zp=["onClick"],Qp={key:2,class:"sections"},tm=Q({__name:"HeadPerformance",setup(s){const t=x("section1"),e=lt(),n=i=>{t.value=i};return(i,a)=>{const o=At,r=Kp;return _(),S("div",Jp,[b(e).headStudentsPerformance?C("",!0):(_(),j(o,{key:0})),b(e).headStudentsPerformance?(_(),S("div",qp,[(_(!0),S(K,null,nt(b(e).headStudentsPerformance,(l,c)=>(_(),S("button",{key:c,class:G(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[u("span",null,y(l.department),1)],10,Zp))),128))])):C("",!0),b(e).headStudentsPerformance?(_(),S("div",Qp,[(_(!0),S(K,null,nt(b(e).headStudentsPerformance,(l,c)=>(_(),S("div",{class:"h-100",key:c,style:X(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[D(r,{data:l},null,8,["data"])],4))),128))])):C("",!0)])}}}),em=at(tm,[["__scopeId","data-v-465701ed"]]),sm=s=>(Ct("data-v-99ad51a0"),s=s(),Tt(),s),nm={style:{width:"100%",position:"relatve",height:"100%"}},im={key:1,class:"no-data flex-all"},am=sm(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"STUDENTS")])],-1)),om={class:"table-data"},rm={class:"table-data"},lm={class:"table-data"},cm={style:{padding:"0"}},dm={class:"student-info-container"},um=["src"],hm={class:"flex-all-c"},fm={class:"user-name"},gm={class:"user-name"},pm=Q({__name:"TeacherTermCourseWork",props:{term:{},termNumber:{}},setup(s){const t=lt(),e=Le();return(n,i)=>{const a=At;return _(),S("div",nm,[b(t).staffSubjectAssignment[n.term]?C("",!0):(_(),j(a,{key:0})),b(t).staffSubjectAssignment[n.term]&&b(t).staffSubjectAssignment[n.term].length===0?(_(),S("h4",im,[u("p",null,"No coursework for semester "+y(n.termNumber)+" yet",1)])):C("",!0),b(t).staffSubjectAssignment[n.term]&&b(t).staffSubjectAssignment[n.term].length>0?(_(),j(St,{key:2,"fixed-header":"",class:"table-1"},{default:z(()=>[am,u("tbody",null,[(_(!0),S(K,null,nt(b(t).staffSubjectAssignment[n.term],(o,r)=>(_(),S("tr",{key:r},[u("td",om,y(o.subject.name),1),u("td",rm,y(o.students_class.name),1),u("td",lm,y(o.students_class.students_year),1),u("td",cm,[D(hn,{class:"pa-0"},{default:z(()=>[D(fn,null,{activator:z(({props:l})=>[D(qt,Gt({class:"title"},l),{default:z(()=>[D(Z,{icon:"mdi-account-circle"}),W(y(o.students_class.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:z(()=>[D(gn,{class:"v-scroll",height:"22vh",items:o.students_class.students},{default:z(({item:l})=>[D(qt,{style:{position:"relative"}},{default:z(()=>[u("div",dm,[u("img",{class:"student-img",src:b(e).getBaseUrl+l.img},null,8,um),u("div",hm,[u("p",fm,y(l.user.first_name+" "+l.user.last_name),1),u("p",gm,y(l.st_id),1)])])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1})):C("",!0)])}}}),mm=at(pm,[["__scopeId","data-v-99ad51a0"]]),_m={class:"section-nav-container"},bm={class:"sections"},vm=Q({__name:"TeacherCourseWork",setup(s){const t=lt(),e=x(t.activeTerm),n=i=>{e.value=i};return(i,a)=>{const o=mm;return _(),S(K,null,[u("div",_m,[u("button",{class:G(["nav-btn-1 btn-1",{"nav-btn-1-active":e.value===1}]),onClick:a[0]||(a[0]=r=>n(1))},"SEMESTER 1",2),u("button",{class:G(["nav-btn-1 btn-2",{"nav-btn-1-active":e.value===2}]),onClick:a[1]||(a[1]=r=>n(2))},"SEMESTER 2",2),b(t).userData&&b(t).userData.academic_year.sem_3_start_date?(_(),S("button",{key:0,class:G(["nav-btn-1 btn-3",{"nav-btn-1-active":e.value===3}]),onClick:a[2]||(a[2]=r=>n(3))},"SEMESTER 3",2)):C("",!0)]),u("div",bm,[u("div",{class:"h-100",style:X(e.value===1?{display:"flex"}:{display:"none"})},[D(o,{term:"termOne","term-number":1})],4),u("div",{class:"h-100",style:X(e.value===2?{display:"flex"}:{display:"none"})},[D(o,{term:"termTwo","term-number":2})],4),b(t).userData&&b(t).userData.academic_year.sem_3_start_date?(_(),S("div",{key:0,class:"h-100",style:X(e.value===3?{display:"flex"}:{display:"none"})},[D(o,{term:"termThree","term-number":3})],4)):C("",!0)])],64)}}}),ym=at(vm,[["__scopeId","data-v-e9472a19"]]),xm=Ka({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:s=>typeof s=="boolean"||[1e3,1024].includes(s)},...ro({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:s=>Mr(s).every(t=>t!=null&&typeof t=="object")},...Pr({clearable:!0})},"VFileInput"),yi=Ja()({name:"VFileInput",inheritAttrs:!1,props:xm(),emits:{"click:control":s=>!0,"mousedown:control":s=>!0,"update:focused":s=>!0,"update:modelValue":s=>!0},setup(s,t){let{attrs:e,emit:n,slots:i}=t;const{t:a}=Cr(),o=qa(s,"modelValue"),{isFocused:r,focus:l,blur:c}=lo(s),d=V(()=>typeof s.showSize!="boolean"?s.showSize:void 0),h=V(()=>(o.value??[]).reduce((P,I)=>{let{size:L=0}=I;return P+L},0)),f=V(()=>Mi(h.value,d.value)),g=V(()=>(o.value??[]).map(P=>{const{name:I="",size:L=0}=P;return s.showSize?`${I} (${Mi(L,d.value)})`:I})),m=V(()=>{var I;const P=((I=o.value)==null?void 0:I.length)??0;return s.showSize?a(s.counterSizeString,P,f.value):a(s.counterString,P)}),p=x(),v=x(),k=x(),w=V(()=>r.value||s.active),O=V(()=>["plain","underlined"].includes(s.variant));function $(){var P;k.value!==document.activeElement&&((P=k.value)==null||P.focus()),r.value||l()}function A(P){T(P)}function E(P){n("mousedown:control",P)}function T(P){var I;(I=k.value)==null||I.click(),n("click:control",P)}function M(P){P.stopPropagation(),$(),eo(()=>{o.value=[],Tr(s["onClick:clear"],P)})}return We(o,P=>{(!Array.isArray(P)||!P.length)&&k.value&&(k.value.value="")}),oo(()=>{const P=!!(i.counter||s.counter),I=!!(P||i.details),[L,U]=Za(e),{modelValue:ot,...H}=sn.filterProps(s),q=$r(s);return D(sn,Gt({ref:p,modelValue:o.value,"onUpdate:modelValue":Y=>o.value=Y,class:["v-file-input",{"v-file-input--chips":!!s.chips,"v-input--plain-underlined":O.value},s.class],style:s.style,"onClick:prepend":A},L,H,{centerAffix:!O.value,focused:r.value}),{...i,default:Y=>{let{id:st,isDisabled:pt,isDirty:ft,isReadonly:Lt,isValid:kt}=Y;return D(Or,Gt({ref:v,"prepend-icon":s.prependIcon,onMousedown:E,onClick:T,"onClick:clear":M,"onClick:prependInner":s["onClick:prependInner"],"onClick:appendInner":s["onClick:appendInner"]},q,{id:st.value,active:w.value||ft.value,dirty:ft.value,disabled:pt.value,focused:r.value,error:kt.value===!1}),{...i,default:Nt=>{var jt;let{props:{class:Ht,...wt}}=Nt;return D(K,null,[D("input",Gt({ref:k,type:"file",readonly:Lt.value,disabled:pt.value,multiple:s.multiple,name:s.name,onClick:xt=>{xt.stopPropagation(),Lt.value&&xt.preventDefault(),$()},onChange:xt=>{if(!xt.target)return;const Je=xt.target;o.value=[...Je.files??[]]},onFocus:$,onBlur:c},wt,U),null),D("div",{class:Ht},[!!((jt=o.value)!=null&&jt.length)&&(i.selection?i.selection({fileNames:g.value,totalBytes:h.value,totalBytesReadable:f.value}):s.chips?g.value.map(xt=>D(_r,{key:xt,size:"small",color:s.color},{default:()=>[xt]})):g.value.join(", "))])])}})},details:I?Y=>{var st,pt;return D(K,null,[(st=i.details)==null?void 0:st.call(i,Y),P&&D(K,null,[D("span",null,null),D(Fr,{active:!!((pt=o.value)!=null&&pt.length),value:m.value},i.counter)])])}:void 0})}),Er({},p,v,k)}}),Ke=s=>(Ct("data-v-d62507ec"),s=s(),Tt(),s),Sm={id:"singleForm",class:"overlay"},km={style:{position:"relative"}},wm={class:"info mt-3"},Mm=Ke(()=>u("strong",null,"CLASS:",-1)),Cm={class:"info"},Tm=Ke(()=>u("strong",null,"SUBJECT:",-1)),Dm={key:0,class:"form-message",style:{color:"green"}},Am={key:1,class:"form-message",style:{color:"red"}},Pm={key:4,class:"flex-all-c"},$m=Ke(()=>u("p",{class:"checkbox"},"Check this box if you want to upload results for multiple students with same score",-1)),Om={id:"fileForm",class:"overlay"},Fm={style:{position:"relative"}},Em={class:"info mt-3"},Lm=Ke(()=>u("strong",null,"CLASS:",-1)),Rm={class:"info"},Im=Ke(()=>u("strong",null,"SUBJECT:",-1)),Bm={key:0,class:"form-message",style:{color:"green"}},Vm={key:1,class:"form-message",style:{color:"green"}},zm={key:2,class:"form-message",style:{color:"red"}},Nm={class:"flex-all-c mt-5"},Hm={key:1,class:"checkbox"},jm={key:3,class:"line"},Wm={style:{width:"100%"}},Um=Ke(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"UPLOAD")])],-1)),Ym={class:"table-data"},Gm={class:"table-data"},Xm={class:"table-data"},Km={style:{padding:"0"},class:"upload-btn-container"},Jm=["onClick"],qm=["onClick"],Zm=Q({__name:"TeacherStudentsResultsUpload",setup(s){const t=lt(),e=x(""),n=x(""),i=x(null),a=x(""),o=x(""),r=x([]),l=x(""),c=x([]),d=x(null),h=x(!1),f=x(!1),g=x(null),m=x(!1),p=x(!0),v=()=>{setTimeout(()=>{o.value="",a.value=""},15e3)},k=async()=>{m.value=!0,a.value="",o.value="";const M={students_year:i.value,students_class:n.value,subject:e.value,st_id:r.value,score:"generate",year:t.activeAcademicYear,term:t.activeTerm};try{const P=await zt.post("teacher/results/upload/",M);if(P.status===200){o.value=P.data.message,t.staffStudentsResultsFileGenerated=!0;const I=document.createElement("a");I.href=P.data.file_path,I.download=P.data.filename,I.click()}else a.value="Oops! an error occurred while generating the file. Try again later"}catch{a.value="Something went wrong. Try again later"}finally{m.value=!1,v()}},w=M=>{const P=M.target.files[0];g.value=P||null},O=async()=>{f.value=!0,a.value="",o.value="";const M=new FormData;M.append("students_year",i.value),M.append("students_class",n.value),M.append("subject",e.value),M.append("st_id",g.value),M.append("score","upload"),M.append("year",t.activeAcademicYear),M.append("term",t.activeTerm.toString());try{const P=await zt.post("teacher/results/upload/",M);P.status===200?(t.userData.staff_role==="hod"&&t.getHodPerformance(),t.staffStudentResultsSubjectAssignment=P.data.data[0],t.staffStudentResultsEdit=P.data.data[1],o.value=P.data.message):P.status===201?(t.staffStudentResultsSubjectAssignment=P.data.data[0],t.staffStudentResultsEdit=P.data.data[1],a.value=P.data.message):P.status===202&&(a.value=P.data.message)}catch{a.value="Something went wrong!"}finally{f.value=!1,v()}},$=async()=>{f.value=!0,a.value="",o.value="",d.value=Number(d.value),typeof d.value=="number"&&d.value<=100&&d.value>0?h.value?(l.value="",await t.teacherUploadResults(c.value,e.value,d.value).then(M=>{t.getTeacherStudentResults(),t.userData.staff_role==="hod"&&t.getHodPerformance(),o.value=`Result for students with IDs [${c.value}] uploaded and saved successfully`,c.value=[],h.value=!1,d.value=null,f.value=!1}).catch(M=>{a.value="Oops! something went wrong while generating the file. Try again",f.value=!1})):h.value||(c.value=[],await t.teacherUploadResults(l.value,e.value,d.value).then(M=>{t.getTeacherStudentResults(),t.userData.staff_role==="hod"&&t.getHodPerformance();const P=l.value;o.value=`Result for student with ID ${P} uploaded and saved successfully`,l.value="",d.value=null,f.value=!1}).catch(M=>{a.value="Oops! something went wrong. try again",f.value=!1})):typeof d.value=="number"&&d.value>100?(a.value="The exams score must not exceed 100",f.value=!1):typeof d.value=="number"&&d.value<0?(a.value="The exams score can not be negative",f.value=!1):(a.value="The exams score must be a number",f.value=!1),v()},A=V(()=>!(c.value&&d.value)&&!(l.value&&d.value)),E=M=>{const P=document.getElementById(M);P&&(r.value=[],c.value=[],d.value=null,a.value="",o.value="",l.value="",f.value=!1,p.value=!0,h.value=!1,g.value=null,t.staffStudentsResultsFileGenerated=!1,P.style.display="none")},T=(M,P,I,L,U,ot)=>{e.value=M,n.value=P,i.value=U,r.value=I,I.length>0?We(()=>t.staffStudentResultsSubjectAssignment,q=>{if(q){const Y=q[L];Y&&Y.students&&(r.value=Y.students)}}):(a.value=`You have already uploaded results for students in ${n.value} ${i.value} for the ${t.activeAcademicYear} academic year term ${t.activeTerm}`,p.value=!1);const H=document.getElementById(ot);H&&(H.style.display="flex")};return(M,P)=>{const I=At;return _(),S(K,null,[u("div",Sm,[u("form",km,[u("button",{onClick:P[0]||(P[0]=ue(L=>E("singleForm"),["prevent"])),class:"close-btn flex-all"},"X"),u("h2",wm,[Mm,W(" "+y(n.value)+" FORM "+y(i.value),1)]),u("h2",Cm,[Tm,W(" "+y(e.value),1)]),o.value?(_(),S("h2",Dm,y(o.value),1)):C("",!0),a.value?(_(),S("h2",Am,y(a.value),1)):C("",!0),!h.value&&p.value?(_(),j(Yt,{key:2,disabled:f.value,modelValue:l.value,"onUpdate:modelValue":P[1]||(P[1]=L=>l.value=L),class:"select",label:"STUDENT",variant:"outlined",items:r.value,"item-title":"name","item-value":"st_id","persistent-hint":"",hint:"Select the student you want to upload result for"},{item:z(({props:L,item:U})=>[D(qt,Gt(L,{subtitle:U.raw.st_id}),null,16,["subtitle"])]),_:1},8,["disabled","modelValue","items"])):C("",!0),h.value&&p.value?(_(),j(Yt,{key:3,disabled:f.value,multiple:"",modelValue:c.value,"onUpdate:modelValue":P[2]||(P[2]=L=>c.value=L),chips:"",class:"select",label:"STUDENT",variant:"outlined",items:r.value,"item-title":"name","item-value":"st_id","persistent-hint":"",hint:"Select the student you want to upload result for"},{item:z(({props:L,item:U})=>[D(qt,Gt(L,{subtitle:U.raw.st_id}),null,16,["subtitle"])]),_:1},8,["disabled","modelValue","items"])):C("",!0),p.value?(_(),S("div",Pm,[$m,D(Ir,{disabled:f.value,modelValue:h.value,"onUpdate:modelValue":P[3]||(P[3]=L=>h.value=L)},null,8,["disabled","modelValue"])])):C("",!0),p.value?(_(),j(ee,{key:5,disabled:f.value,type:"number",modelValue:d.value,"onUpdate:modelValue":P[4]||(P[4]=L=>d.value=L),class:"input-field","persistent-hint":"",hint:"Enter the student(s) exams score",label:"EXAMS SCORE",variant:"outlined"},null,8,["disabled","modelValue"])):C("",!0),p.value?(_(),j(bt,{key:6,loading:f.value,disabled:A.value,onClick:ue($,["prevent"]),type:"submit",class:"submit-btn"},{default:z(()=>[W("SUBMIT")]),_:1},8,["loading","disabled"])):C("",!0)])]),u("div",Om,[u("form",Fm,[u("button",{onClick:P[5]||(P[5]=ue(L=>E("fileForm"),["prevent"])),class:"close-btn flex-all"},"X"),u("h2",Em,[Lm,W(" "+y(n.value)+" FORM "+y(i.value),1)]),u("h2",Rm,[Im,W(" "+y(e.value),1)]),o.value?(_(),S("h2",Bm,y(o.value),1)):C("",!0),b(t).staffStudentsResultsFileGenerated&&!m.value&&!f.value?(_(),S("h2",Vm,"Note: you can now edit only the students score, save and upload the same file")):C("",!0),a.value?(_(),S("h2",zm,y(a.value),1)):C("",!0),u("div",Nm,[p.value?(_(),j(bt,{key:0,loading:m.value,disabled:f.value,onClick:ue(k,["prevent"]),type:"submit",class:"submit-btn"},{default:z(()=>[W("GET FILE")]),_:1},8,["loading","disabled"])):C("",!0),!b(t).staffStudentsResultsFileGenerated&&p.value?(_(),S("p",Hm,"Click to get an excel file that contains the students names and IDs")):C("",!0)]),p.value?(_(),S("hr",jm)):C("",!0),p.value?(_(),j(yi,{key:4,disabled:f.value||m.value,onChange:w,"show-size":"",class:"file-field",label:"Choose an excel file",density:"compact",variant:"outlined",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},null,8,["disabled"])):C("",!0),p.value?(_(),j(bt,{key:5,loading:f.value,disabled:!g.value||m.value,onClick:ue(O,["prevent"]),type:"submit",class:"submit-btn"},{default:z(()=>[W("UPLOAD")]),_:1},8,["loading","disabled"])):C("",!0)])]),u("div",Wm,[b(t).staffStudentResultsSubjectAssignment?C("",!0):(_(),j(I,{key:0})),b(t).staffStudentResultsSubjectAssignment?(_(),j(St,{key:1,"fixed-header":"",class:"table-1"},{default:z(()=>[Um,u("tbody",null,[(_(!0),S(K,null,nt(b(t).staffStudentResultsSubjectAssignment,(L,U)=>(_(),S("tr",{key:U},[u("td",Ym,y(L.subject),1),u("td",Gm,y(L.class_name),1),u("td",Xm,y(L.students_year),1),u("td",Km,[u("button",{onClick:ot=>T(L.subject,L.class_name,L.students,U,L.students_year,"singleForm"),class:"upload-btn"},"SELECT",8,Jm),u("button",{onClick:ot=>T(L.subject,L.class_name,L.students,U,L.students_year,"fileForm"),class:"upload-btn last-btn"},"FILE",8,qm)])]))),128))])]),_:1})):C("",!0)])],64)}}}),Qm=at(Zm,[["__scopeId","data-v-d62507ec"]]),Ts=s=>(Ct("data-v-7bdda36b"),s=s(),Tt(),s),t_={id:"editForm",class:"overlay"},e_={style:{position:"relative"}},s_={class:"info"},n_=Ts(()=>u("strong",null,"CLASS:",-1)),i_={class:"info"},a_=Ts(()=>u("strong",null,"SUBJECT:",-1)),o_={class:"info"},r_=Ts(()=>u("strong",null,"STUDENT:",-1)),l_={key:0,class:"form-message",style:{color:"green"}},c_={key:1,class:"form-message",style:{color:"red"}},d_={style:{width:"100%",position:"relative",height:"100%"}},u_=Ts(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"STUDENTS")])],-1)),h_={class:"table-data"},f_={class:"table-data"},g_={class:"table-data"},p_={style:{padding:"0"}},m_={class:"student-info-container"},__=["src"],b_={class:"flex-all-c"},v_={class:"user-name"},y_={class:"user-name"},x_={class:"score-container flex-all-c"},S_=Ts(()=>u("p",{class:"title"},"SCORE",-1)),k_={class:"score"},w_={class:"flex-all pa-2"},M_=["onClick"],C_=Q({__name:"TeacherStudentsViewResults",setup(s){const t=lt(),e=Le(),n=x(""),i=x(""),a=x(!1),o=x(""),r=x(""),l=x(""),c=x(""),d=x(null),h=x(null),f=async()=>{if(a.value=!0,i.value="",n.value="",h.value=Number(h.value),typeof h.value=="number"&&h.value<=100&&h.value>0){const p=new FormData;p.append("student_year",d.value),p.append("student_class",c.value),p.append("student_name",o.value),p.append("subject",l.value),p.append("st_id",r.value),p.append("score","edit"),p.append("mark",h.value),p.append("year",t.activeAcademicYear),p.append("term",t.activeTerm.toString());try{const v=await zt.post("teacher/results/upload/",p);v.status===200?(t.userData.staff_role==="hod"&&t.getHodPerformance(),n.value=`Result for ${o.value} [${r.value}] updated successfully`,t.staffStudentResultsSubjectAssignment=v.data[0],t.staffStudentResultsEdit=v.data[1],h.value=null):v.status===202?i.value=v.data.message:i.value="Oops! something went wrong. try again"}catch{i.value="Oops! something went wrong. try again"}finally{a.value=!1}}else typeof h.value=="number"&&h.value>100?(i.value="The exams score must not exceed 100",a.value=!1):typeof h.value=="number"&&h.value<0?(i.value="The exams score can not be negative",a.value=!1):(i.value="The exams score must be a number",a.value=!1)},g=()=>{const p=document.getElementById("editForm");p&&(h.value=null,i.value="",n.value="",a.value=!1,p.style.display="none")},m=(p,v,k,w,O)=>{l.value=p,c.value=v,d.value=O,r.value=w,o.value=k;const $=document.getElementById("editForm");$&&($.style.display="flex")};return(p,v)=>{const k=At;return _(),S(K,null,[u("div",t_,[u("form",e_,[u("button",{onClick:ue(g,["prevent"]),class:"close-btn flex-all"},"X"),u("h2",s_,[n_,W(" "+y(c.value)+" FORM "+y(d.value),1)]),u("h2",i_,[a_,W(" "+y(l.value),1)]),u("h2",o_,[r_,W(" "+y(o.value)+" ["+y(r.value)+"]",1)]),n.value?(_(),S("h2",l_,y(n.value),1)):C("",!0),i.value?(_(),S("h2",c_,y(i.value),1)):C("",!0),D(ee,{disabled:a.value,modelValue:h.value,"onUpdate:modelValue":v[0]||(v[0]=w=>h.value=w),type:"number",class:"input-field","persistent-hint":"",hint:"Enter the student(s) exams score",label:"EXAMS SCORE",variant:"outlined"},null,8,["disabled","modelValue"]),D(bt,{loading:a.value,disabled:!h.value,onClick:ue(f,["prevent"]),type:"submit",class:"submit-btn"},{default:z(()=>[W("SUBMIT")]),_:1},8,["loading","disabled"])])]),u("div",d_,[b(t).staffStudentResultsEdit?C("",!0):(_(),j(k,{key:0,class:"no-data flex-all"})),b(t).staffStudentResultsEdit?(_(),j(St,{key:1,"fixed-header":"",class:"table-1"},{default:z(()=>[u_,u("tbody",null,[(_(!0),S(K,null,nt(b(t).staffStudentResultsEdit,(w,O)=>(_(),S("tr",{key:O},[u("td",h_,y(w.subject),1),u("td",f_,y(w.class_name),1),u("td",g_,y(w.students_year),1),u("td",p_,[D(hn,{class:"pa-0"},{default:z(()=>[D(fn,null,{activator:z(({props:$})=>[D(qt,Gt({class:"title"},$),{default:z(()=>[D(Z,{icon:"mdi-account-circle"}),W(y(w.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:z(()=>[D(gn,{class:"v-scroll",height:"22vh",items:w.students},{default:z(({item:$})=>[D(qt,{style:{position:"relative"}},{default:z(()=>[u("div",m_,[u("img",{class:"student-img",src:b(e).getBaseUrl+$.student.img},null,8,__),u("div",b_,[u("p",v_,y($.student.user.first_name+" "+$.student.user.last_name),1),u("p",y_,y($.student.st_id),1)]),u("div",x_,[S_,u("p",k_,y($.score),1)]),u("div",w_,[u("button",{onClick:A=>m(w.subject,w.class_name,`${$.student.user.first_name} ${$.student.user.last_name}`,$.student.st_id,w.students_year),class:"edit-btn page-btn"},"Edit",8,M_)])])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1})):C("",!0)])],64)}}}),T_=at(C_,[["__scopeId","data-v-7bdda36b"]]),D_={class:"sections-container"},A_={class:"sections"},P_=Q({__name:"TeacherStudents",setup(s){const t=x("section1"),e=n=>{t.value=n};return(n,i)=>{const a=Qm,o=T_;return _(),S("div",D_,[D(Xe,{class:"section-nav-container",elevation:"0"},{default:z(()=>[u("button",{class:G(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value==="section1"}]),onClick:i[0]||(i[0]=r=>e("section1"))},"UPLOAD RESULTS",2),u("button",{class:G(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value==="section2"}]),onClick:i[1]||(i[1]=r=>e("section2"))},"ALL UPLOADED RESULTS",2)]),_:1}),u("div",A_,[u("div",{class:"h-100",style:X(t.value==="section1"?{display:"flex"}:{display:"none"})},[D(a)],4),u("div",{class:"h-100",style:X(t.value==="section2"?{display:"flex"}:{display:"none"})},[D(o)],4)])])}}}),$_=at(P_,[["__scopeId","data-v-af63e402"]]),Et=s=>(Ct("data-v-77c9fdb4"),s=s(),Tt(),s),O_={class:"flex-all-c w-100"},F_={class:"notice"},E_=Et(()=>u("span",{style:{color:"red"}},"NOTE: ",-1)),L_={class:"table-container"},R_=Et(()=>u("td",{class:"table-data"},"Total Students",-1)),I_={class:"table-data-value"},B_=Et(()=>u("td",{class:"table-data"},"Highest Score",-1)),V_={class:"table-data-value"},z_=Et(()=>u("td",{class:"table-data"},"Average Score",-1)),N_={class:"table-data-value"},H_=Et(()=>u("td",{class:"table-data"},"Lowest Score",-1)),j_={class:"table-data-value"},W_=Et(()=>u("td",{class:"table-data"},"Grade A Students (>=80)",-1)),U_={class:"table-data-value"},Y_=Et(()=>u("td",{class:"table-data"},"Grade B Students (70-79)",-1)),G_={class:"table-data-value"},X_=Et(()=>u("td",{class:"table-data"},"Grade C Students (60-69)",-1)),K_={class:"table-data-value"},J_=Et(()=>u("td",{class:"table-data"},"Grade D Students (50-59)",-1)),q_={class:"table-data-value"},Z_=Et(()=>u("td",{class:"table-data"},"Passed Students (>=50)",-1)),Q_={class:"table-data-value"},tb=Et(()=>u("td",{class:"table-data"},"Failed Students (<50)",-1)),eb={class:"table-data-value"},sb={key:0,class:"table-title-container",style:{position:"relative"}},nb=Et(()=>u("td",null,"Justice",-1)),ib=Et(()=>u("td",{class:"table-title"},"top 5 students",-1)),ab=[nb,ib],ob={key:0,class:"table-data"},rb={key:1,class:"table-data-value"},lb={key:1,class:"table-title-container",style:{position:"relative"}},cb=Et(()=>u("td",null,"Justice",-1)),db=Et(()=>u("td",{class:"table-title"},"last 5 students",-1)),ub=[cb,db],hb={key:0,class:"table-data"},fb={key:1,class:"table-data-value"},gb=Q({__name:"TeacherAnalyticsStatistics",props:{studentsData:{}},setup(s){const{studentsData:t}=s,e=lt(),n=x(t.slice(0,5)),i=x(t.slice(-5)),a=x(t.filter(H=>H.score>=80)),o=x(t.filter(H=>H.score>=75&&H.score<80)),r=x(t.filter(H=>H.score>=70&&H.score<75)),l=x(t.filter(H=>H.score>=65&&H.score<70)),c=x(t.filter(H=>H.score>=60&&H.score<65)),d=x(t.filter(H=>H.score>=55&&H.score<60)),h=x(t.filter(H=>H.score>=50&&H.score<55)),f=x(t.filter(H=>H.score>=40&&H.score<50)),g=x(t.filter(H=>H.score<40)),m=x(["A1","B2","B3","C4","C5","C6","D7","E8","F9"]),p=x([a.value.length,o.value.length,r.value.length,l.value.length,c.value.length,d.value.length,h.value.length,f.value.length,g.value.length]),v=x({labels:m.value,datasets:[{label:"Number of Students",data:p.value,borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,fill:!1}]}),k=x({responsive:!0}),w=x(t.map(H=>Number(H.score))),O=x(w.value.reduce((H,q)=>H+q,0)),$=x(w.value.length),A=x((O.value/$.value).toFixed(2)),E=x(Math.max(...w.value)),T=x(Math.min(...w.value)),M=V(()=>w.value.filter(H=>H>=50).length),P=V(()=>w.value.filter(H=>H<50).length),I=V(()=>w.value.filter(H=>H>=80).length),L=V(()=>w.value.filter(H=>H>=70&&H<80).length),U=V(()=>w.value.filter(H=>H>=60&&H<70).length),ot=V(()=>w.value.filter(H=>H>=50&&H<60).length);return(H,q)=>(_(),S("div",O_,[u("p",F_,[E_,W("This analytics is based on SEMESTER "+y(b(e).activeTerm)+" of the "+y(b(e).activeAcademicYear)+" academic year.",1)]),D(b(Ss),{class:"chart",options:k.value,data:v.value,fill:!1},null,8,["options","data"]),u("div",L_,[D(St,{class:"analytics-table",density:"comfortable"},{default:z(()=>[u("tbody",null,[u("tr",null,[R_,u("td",I_,y(w.value.length),1)]),u("tr",null,[B_,u("td",V_,y(E.value),1)]),u("tr",null,[z_,u("td",N_,y(A.value),1)]),u("tr",null,[H_,u("td",j_,y(T.value),1)]),u("tr",null,[W_,u("td",U_,y(I.value)+" ("+y((I.value/w.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[Y_,u("td",G_,y(L.value)+" ("+y((L.value/w.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[X_,u("td",K_,y(U.value)+" ("+y((U.value/w.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[J_,u("td",q_,y(ot.value)+" ("+y((ot.value/w.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[Z_,u("td",Q_,y(M.value)+" ("+y((M.value/w.value.length*100).toFixed(2))+"%)",1)]),u("tr",null,[tb,u("td",eb,y(P.value)+" ("+y((P.value/w.value.length*100).toFixed(2))+"%)",1)]),w.value.length>10?(_(),S("tr",sb,ab)):C("",!0),(_(!0),S(K,null,nt(n.value,(Y,st)=>(_(),S("tr",{key:st},[w.value.length>10?(_(),S("td",ob,y(Y.student.user.first_name)+" "+y(Y.student.user.last_name)+"["+y(Y.student.st_id)+"]",1)):C("",!0),w.value.length>10?(_(),S("td",rb,y(Y.score),1)):C("",!0)]))),128)),w.value.length>10?(_(),S("tr",lb,ub)):C("",!0),(_(!0),S(K,null,nt(i.value,(Y,st)=>(_(),S("tr",{key:st},[w.value.length>10?(_(),S("td",hb,y(Y.student.user.first_name)+" "+y(Y.student.user.last_name)+"["+y(Y.student.st_id)+"]",1)):C("",!0),w.value.length>10?(_(),S("td",fb,y(Y.score),1)):C("",!0)]))),128))])]),_:1})])]))}}),pb=at(gb,[["__scopeId","data-v-77c9fdb4"]]),mb={class:"sections-container"},_b={key:1,class:"section-nav-container"},bb=["onClick"],vb={key:2,class:"sections"},yb={key:1,class:"no-data"},xb=Q({__name:"TeacherAnalytics",setup(s){const t=x("section1"),e=lt(),n=a=>{t.value=a},i=x(null);return We(()=>e.staffStudentResultsEdit,(a,o)=>{a&&(i.value=a)},{deep:!0,immediate:!0}),(a,o)=>{const r=At,l=pb;return _(),S("div",mb,[i.value?C("",!0):(_(),j(r,{key:0})),i.value?(_(),S("div",_b,[(_(!0),S(K,null,nt(i.value,(c,d)=>(_(),S("button",{key:d,class:G(["nav-btn-1",{"nav-btn-1-active":t.value===`section${d+1}`}]),onClick:h=>n(`section${d+1}`)},[u("span",null,y(c.subject),1),u("span",null,y(c.class_name),1),u("span",null,"FORM "+y(c.students_year),1)],10,bb))),128))])):C("",!0),i.value?(_(),S("div",vb,[(_(!0),S(K,null,nt(i.value,(c,d)=>(_(),S("div",{key:d,style:X(t.value===`section${d+1}`?{display:"flex"}:{display:"none"})},[c.students&&c.students.length>0?(_(),j(l,{studentsData:c.students,key:c.students},null,8,["studentsData"])):C("",!0),c.students&&c.students.length===0?(_(),S("p",yb,"You have not uploaded results for students under this subject yet")):C("",!0)],4))),128))])):C("",!0)])}}}),Sb=at(xb,[["__scopeId","data-v-ed8d5ee6"]]),kb=s=>(Ct("data-v-9a6b6ab2"),s=s(),Tt(),s),wb={style:{width:"100%",position:"relative",height:"100%"}},Mb=kb(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"NAME"),u("th",{class:"table-head"},"STAFF ID"),u("th",{class:"table-head"},"SUBJECT(S)"),u("th",{class:"table-head"},"IMAGE")])],-1)),Cb={class:"table-data"},Tb={key:0,style:{color:"seagreen"}},Db={class:"table-data"},Ab={class:"table-data"},Pb={class:"table-data"},$b=["src"],Ob=Q({__name:"HodTeachersProfile",props:{staff:null},setup(s){const t=s,e=Le();return(n,i)=>{const a=At;return _(),S("div",wb,[!t.staff||t.staff&&t.staff.length===0?(_(),j(a,{key:0})):C("",!0),t.staff&&t.staff.length>0?(_(),j(St,{key:1,"fixed-header":"",height:"55dvh"},{default:z(()=>[Mb,u("tbody",null,[(_(!0),S(K,null,nt(t.staff,(o,r)=>(_(),S("tr",{key:r},[u("td",Cb,[W(y(o.name)+" ",1),o.role==="hod"?(_(),S("span",Tb,"[HOD]")):C("",!0)]),u("td",Db,y(o.stf_id),1),u("td",Ab,[(_(!0),S(K,null,nt(o.subjects,(l,c)=>(_(),S("p",{key:c},y(l.name),1))),128))]),u("td",Pb,[u("img",{class:"student-img",src:b(e).getBaseUrl+o.img},null,8,$b)])]))),128))])]),_:1})):C("",!0)])}}}),Fb=at(Ob,[["__scopeId","data-v-9a6b6ab2"]]),Eb=s=>(Ct("data-v-82b03c02"),s=s(),Tt(),s),Lb={class:"flex-all w-100"},Rb={key:0,class:"form"},Ib=Eb(()=>u("p",{class:"mt-10 info"},"NB: All subject assignment will be for the current semester",-1)),Bb={key:0,class:"form-message",style:{color:"green"}},Vb={key:1,class:"form-message",style:{color:"red"}},zb={class:"flex-all justify-center mt-5 w-100"},Nb={class:"select-wrap"},Hb={class:"select-wrap ml-5"},jb=Q({__name:"HodSubjectAssignmentUpload",setup(s){const t=lt(),e=x(""),n=x(""),i=x(""),a=x(""),o=x(""),r=x(!1),l=()=>{setTimeout(()=>{o.value="",a.value=""},1e4)},c=async()=>{r.value=!0,a.value="",o.value="";const h=new FormData;h.append("subject",e.value),h.append("class_name",n.value),h.append("staff_id",i.value),h.append("year",t.activeAcademicYear),h.append("type","create"),h.append("term",t.activeTerm.toString());try{const f=await zt.post("hod/data",h);f.status===200?(t.hodSubjectAssignment.termOne=f.data.data.term_one,t.hodSubjectAssignment.termTwo=f.data.data.term_two,t.hodSubjectAssignment.termThree=f.data.data.term_three,t.getTeacherSubjectAssignments(),t.getTeacherStudentResults(),o.value=f.data.ms,e.value="",n.value="",i.value=""):f.status===201?a.value=f.data.ms:a.value="Oops! an error occurred during the upload. Try again later"}catch{a.value="Oops! something went wrong"}finally{r.value=!1,l()}},d=V(()=>!(e.value&&n.value&&i.value));return(h,f)=>(_(),S("div",Lb,[b(t).hodSubjectAssignmentUpload.staff?(_(),S("form",Rb,[Ib,o.value?(_(),S("h2",Bb,y(o.value),1)):C("",!0),a.value?(_(),S("h2",Vb,y(a.value),1)):C("",!0),u("div",zb,[u("div",Nb,[D(Yt,{disabled:r.value,modelValue:e.value,"onUpdate:modelValue":f[0]||(f[0]=g=>e.value=g),clearable:"",label:"SUBJECT",style:{width:"100%",color:"black","font-weight":"bold"},density:"compact",variant:"outlined",items:b(t).hodSubjectAssignmentUpload.subjects,"persistent-hint":"",hint:"Select the subject"},null,8,["disabled","modelValue","items"])]),u("div",Hb,[D(Yt,{disabled:r.value,modelValue:n.value,"onUpdate:modelValue":f[1]||(f[1]=g=>n.value=g),clearable:"",label:"CLASS",style:{width:"100%",color:"black","font-weight":"bold"},density:"compact",variant:"outlined",items:b(t).hodSubjectAssignmentUpload.classes,"persistent-hint":"",hint:"Select the students class"},null,8,["disabled","modelValue","items"])])]),D(Yt,{disabled:r.value,modelValue:i.value,"onUpdate:modelValue":f[2]||(f[2]=g=>i.value=g),class:"select",clearable:"",label:"TEACHER",density:"compact",variant:"outlined",items:b(t).hodSubjectAssignmentUpload.staff,"item-title":"name","item-value":"stf_id","persistent-hint":"",hint:"Select the teacher who will be teaching the subject"},{item:z(({props:g,item:m})=>[D(qt,Gt(g,{subtitle:m.raw.stf_id}),null,16,["subtitle"])]),_:1},8,["disabled","modelValue","items"]),D(bt,{loading:r.value,disabled:d.value,onClick:ue(c,["prevent"]),type:"submit",class:"submit-btn"},{default:z(()=>[W("SUBMIT")]),_:1},8,["loading","disabled"])])):C("",!0)]))}}),Wb=at(jb,[["__scopeId","data-v-82b03c02"]]),dr=s=>(Ct("data-v-325c7531"),s=s(),Tt(),s),Ub={id:"delete",class:"overlay"},Yb=dr(()=>u("p",null,"Continue to delete ?",-1)),Gb={key:0,class:"mt-5",style:{color:"seagreen"}},Xb={key:1,class:"mt-5",style:{color:"red"}},Kb={style:{width:"100%",position:"relative",height:"100%"}},Jb={key:0,class:"no-data flex-all"},qb=dr(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"SUBJECT"),u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"FORM"),u("th",{class:"table-head"},"TEACHER"),u("th",{class:"table-head"},"ACTION")])],-1)),Zb={class:"table-data"},Qb={class:"table-data"},tv={class:"table-data"},ev={class:"table-data"},sv={key:0},nv=Q({__name:"HodTermSubjectAssignment",props:{term:{},data:{}},setup(s){const t=lt(),e=x(!1),n=x(""),i=x(""),a=x(""),o=x(""),r=x(""),{term:l,data:c}=s,d=()=>{const g=document.getElementById("delete");g&&(g.style.display="none"),i.value="",n.value="",a.value="",o.value="",r.value=""},h=async()=>{e.value=!0;const g=new FormData;g.append("subject_name",a.value),g.append("students_class_name",o.value),g.append("teacher_id",r.value),g.append("year",t.activeAcademicYear),g.append("type","delete"),g.append("term",l.toString());try{if((await zt.post("hod/data",g)).status===200){const p=t.hodSubjectAssignment[c].find(k=>k.subject.name===a.value&&k.students_class.name===o.value&&k.teacher.staff_id===r.value);if(p){const k=t.hodSubjectAssignment[c].indexOf(p);t.hodSubjectAssignment[c].splice(k,1)}const v=t.staffSubjectAssignment[c].find(k=>k.subject.name===a.value&&k.students_class.name===o.value&&k.teacher.staff_id===r.value);if(v){const k=t.staffSubjectAssignment[c].indexOf(v);t.staffSubjectAssignment[c].splice(k,1)}await t.getTeacherStudentResults(),n.value="Deletion Successful",setTimeout(()=>{d(),e.value=!1},1e3)}}catch{i.value="Oops! something went wrong. Check your internet connection and try again",e.value=!1}},f=async(g,m,p)=>{const v=document.getElementById("delete");a.value=g,o.value=m,r.value=p,v&&(v.style.display="flex")};return(g,m)=>(_(),S(K,null,[u("div",Ub,[D(ao,{class:"d-flex flex-column align-center"},{default:z(()=>[D(no,{style:{"font-size":".8rem","font-family":"sans-serif","text-align":"left","line-height":"1.2","font-weight":"bold"}},{default:z(()=>[Yb,n.value?(_(),S("p",Gb,y(n.value),1)):C("",!0),i.value?(_(),S("p",Xb,y(i.value),1)):C("",!0)]),_:1}),D(io,null,{default:z(()=>[D(bt,{loading:e.value,class:"overlay-btn mr-5",elevation:"4",onClick:h},{default:z(()=>[W("YES")]),_:1},8,["loading"]),D(bt,{disabled:e.value,class:"overlay-btn ml-5",elevation:"4",onClick:d},{default:z(()=>[W("NO")]),_:1},8,["disabled"])]),_:1})]),_:1})]),u("div",Kb,[b(t).hodSubjectAssignment[g.data]&&b(t).hodSubjectAssignment[g.data].length===0?(_(),S("h4",Jb,[u("p",null,"You have not uploaded any subject-assignment for semester "+y(g.term)+" yet",1)])):C("",!0),b(t).hodSubjectAssignment[g.data]&&b(t).hodSubjectAssignment[g.data].length>0?(_(),j(St,{key:1,"fixed-header":"",height:"320px"},{default:z(()=>[qb,u("tbody",null,[(_(!0),S(K,null,nt(b(t).hodSubjectAssignment[g.data],(p,v)=>(_(),S("tr",{key:v},[u("td",Zb,y(p.subject.name),1),u("td",Qb,y(p.students_class.name),1),u("td",tv,y(p.students_class.students_year),1),u("td",ev,y(p.teacher.user.first_name)+" "+y(p.teacher.user.last_name)+" ["+y(p.teacher.staff_id)+"]",1),b(t).activeTerm===g.term?(_(),S("td",sv,[D(bt,{onClick:k=>f(p.subject.name,p.students_class.name,p.teacher.staff_id),size:"small",density:"comfortable",class:"delete-btn"},{default:z(()=>[W("Delete")]),_:2},1032,["onClick"])])):C("",!0)]))),128))])]),_:1})):C("",!0)])],64))}}),iv=at(nv,[["__scopeId","data-v-325c7531"]]),av={class:"subsections-container"},ov={class:"subsection-nav-container flex-all"},rv={class:"subsections"},lv=Q({__name:"HodViewSubjectAssignment",setup(s){const t=lt(),e=x(t.activeTerm),n=i=>{e.value=i};return(i,a)=>{const o=iv;return _(),S("div",av,[u("div",ov,[u("button",{class:G(["nav-btn-2 btn-1",{"nav-btn-2-active":e.value===1}]),onClick:a[0]||(a[0]=r=>n(1))},"SEMESTER 1",2),u("button",{class:G(["nav-btn-2 btn-2",{"nav-btn-2-active":e.value===2}]),onClick:a[1]||(a[1]=r=>n(2))},"SEMESTER 2",2),b(t).userData&&b(t).userData.academic_year.sem_3_start_date?(_(),S("button",{key:0,class:G(["nav-btn-2 btn-3",{"nav-btn-2-active":e.value===3}]),onClick:a[2]||(a[2]=r=>n(3))},"SEMESTER 3",2)):C("",!0)]),u("div",rv,[u("div",{style:X(e.value===1?{display:"flex"}:{display:"none"})},[D(o,{data:"termOne",term:1,"term-number":1})],4),u("div",{style:X(e.value===2?{display:"flex"}:{display:"none"})},[D(o,{data:"termTwo",term:2,"term-number":2})],4),b(t).userData&&b(t).userData.academic_year.sem_3_start_date?(_(),S("div",{key:0,style:X(e.value===3?{display:"flex"}:{display:"none"})},[D(o,{data:"termThree",term:3,"term-number":3})],4)):C("",!0)])])}}}),cv=at(lv,[["__scopeId","data-v-470c98ed"]]),dv={class:"sections-container"},uv={class:"sections"},hv=Q({__name:"HodTeachers",setup(s){const t=x("section1"),e=lt(),n=i=>{t.value=i};return(i,a)=>{const o=Fb,r=Wb,l=cv;return _(),S("div",dv,[D(Xe,{class:"section-nav-container",elevation:"0"},{default:z(()=>[u("button",{class:G(["nav-btn-1 btn-1",{"nav-btn-1-active":t.value==="section1"}]),onClick:a[0]||(a[0]=c=>n("section1"))},[D(Z,{icon:"mdi-account"}),W(" PROFILE ")],2),u("button",{class:G(["nav-btn-1 btn-2",{"nav-btn-1-active":t.value==="section2"}]),onClick:a[1]||(a[1]=c=>n("section2"))},[D(Z,{icon:"mdi-clipboard-check"}),W(" ASSIGN SUBJECTS")],2),u("button",{class:G(["nav-btn-1 btn-3",{"nav-btn-1-active":t.value==="section3"}]),onClick:a[2]||(a[2]=c=>n("section3"))},[D(Z,{icon:"mdi-book-open-outline"}),W(" ALL SUBJECTS ASSIGNMENT")],2)]),_:1}),u("div",uv,[u("div",{class:"h-100",style:X(t.value==="section1"?{display:"flex"}:{display:"none"})},[D(o,{staff:b(e).hodSubjectAssignmentUpload.staff},null,8,["staff"])],4),u("div",{class:"h-100",style:X(t.value==="section2"?{display:"flex"}:{display:"none"})},[D(r)],4),u("div",{class:"h-100",style:X(t.value==="section3"?{display:"flex"}:{display:"none"})},[D(l)],4)])])}}}),fv=at(hv,[["__scopeId","data-v-9f33e497"]]),et=s=>(Ct("data-v-922d9563"),s=s(),Tt(),s),gv={class:"flex-all-c w-100 h-100"},pv={class:"table-container"},mv={key:0,class:"term-table"},_v=et(()=>u("tr",{class:"term-three table-title-container",style:{position:"relative"}},[u("td",null,"Justice"),u("td",{class:"table-title term-three"},"SEMESTER 3")],-1)),bv={class:"term-three"},vv=et(()=>u("td",{class:"table-data"},"Total Students",-1)),yv={class:"table-data-value"},xv={class:"term-three"},Sv=et(()=>u("td",{class:"table-data"},"Highest Score",-1)),kv={class:"table-data-value"},wv={class:"term-three"},Mv=et(()=>u("td",{class:"table-data"},"Average Score",-1)),Cv={class:"table-data-value"},Tv={class:"term-three"},Dv=et(()=>u("td",{class:"table-data"},"Lowest Score",-1)),Av={class:"table-data-value"},Pv={class:"term-three"},$v=et(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),Ov={class:"table-data-value"},Fv={class:"term-three"},Ev=et(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),Lv={class:"table-data-value"},Rv={class:"term-three"},Iv=et(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),Bv={class:"table-data-value"},Vv={key:0,class:"table-title-container",style:{position:"relative"}},zv=et(()=>u("td",null,"Justice",-1)),Nv=et(()=>u("td",{class:"subtitle"},"top 5 students",-1)),Hv=[zv,Nv],jv={key:0,class:"table-data"},Wv={key:1,class:"table-data-value"},Uv={key:1,class:"table-title-container",style:{position:"relative"}},Yv=et(()=>u("td",null,"Justice",-1)),Gv=et(()=>u("td",{class:"subtitle"},"last 5 students",-1)),Xv=[Yv,Gv],Kv={key:0,class:"table-data"},Jv={key:1,class:"table-data-value"},qv={key:1,class:"term-table"},Zv=et(()=>u("tr",{class:"term-two table-title-container",style:{position:"relative"}},[u("td",null,"Justice"),u("td",{class:"table-title term-two"},"SEMESTER 2")],-1)),Qv={class:"term-two"},t0=et(()=>u("td",{class:"table-data"},"Total Students",-1)),e0={class:"table-data-value"},s0={class:"term-two"},n0=et(()=>u("td",{class:"table-data"},"Highest Score",-1)),i0={class:"table-data-value"},a0={class:"term-two"},o0=et(()=>u("td",{class:"table-data"},"Average Score",-1)),r0={class:"table-data-value"},l0={key:0,class:"term-two"},c0=et(()=>u("td",{class:"table-data"},"Lowest Score",-1)),d0={class:"table-data-value"},u0={class:"term-two"},h0=et(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),f0={class:"table-data-value"},g0={class:"term-two"},p0=et(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),m0={class:"table-data-value"},_0={class:"term-two"},b0=et(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),v0={class:"table-data-value"},y0={key:1,class:"table-title-container",style:{position:"relative"}},x0=et(()=>u("td",null,"Justice",-1)),S0=et(()=>u("td",{class:"subtitle"},"top 5 students",-1)),k0=[x0,S0],w0={key:0,class:"table-data"},M0={key:1,class:"table-data-value"},C0={key:2,class:"table-title-container",style:{position:"relative"}},T0=et(()=>u("td",null,"Justice",-1)),D0=et(()=>u("td",{class:"subtitle"},"last 5 students",-1)),A0=[T0,D0],P0={key:0,class:"table-data"},$0={key:1,class:"table-data-value"},O0={key:2,class:"term-table"},F0=et(()=>u("tr",{class:"term-one table-title-container",style:{position:"relative"}},[u("td",null,"Justice"),u("td",{class:"table-title term-one"},"SEMESTER 1")],-1)),E0={class:"term-one"},L0=et(()=>u("td",{class:"table-data"},"Total Students",-1)),R0={class:"table-data-value"},I0={class:"term-one"},B0=et(()=>u("td",{class:"table-data"},"Highest Score",-1)),V0={class:"table-data-value"},z0={class:"term-one"},N0=et(()=>u("td",{class:"table-data"},"Average Score",-1)),H0={class:"table-data-value"},j0={class:"term-one"},W0=et(()=>u("td",{class:"table-data"},"Lowest Score",-1)),U0={class:"table-data-value"},Y0={class:"term-one"},G0=et(()=>u("td",{class:"table-data"},"pass (score>=50)",-1)),X0={class:"table-data-value"},K0={class:"term-one"},J0=et(()=>u("td",{class:"table-data"},"weak pass (50<score>=40)",-1)),q0={class:"table-data-value"},Z0={class:"term-one"},Q0=et(()=>u("td",{class:"table-data"},"fail (score<40)",-1)),ty={class:"table-data-value"},ey={key:0,class:"table-title-container",style:{position:"relative"}},sy=et(()=>u("td",null,"Justice",-1)),ny=et(()=>u("td",{class:"subtitle"},"top 5 students",-1)),iy=[sy,ny],ay={key:0,class:"table-data"},oy={key:1,class:"table-data-value"},ry={key:1,class:"table-title-container",style:{position:"relative"}},ly=et(()=>u("td",null,"Justice",-1)),cy=et(()=>u("td",{class:"subtitle"},"last 5 students",-1)),dy=[ly,cy],uy={key:0,class:"table-data"},hy={key:1,class:"table-data-value"},fy=Q({__name:"HodYearPerformance",props:{year:{}},setup(s){const t=lt(),{year:e}=s,n=x(e.term_one.filter(F=>F.score>=80)).value.length,i=x(e.term_one.filter(F=>F.score>=75&&F.score<80)).value.length,a=x(e.term_one.filter(F=>F.score>=70&&F.score<75)).value.length,o=x(e.term_one.filter(F=>F.score>=65&&F.score<70)).value.length,r=x(e.term_one.filter(F=>F.score>=60&&F.score<65)).value.length,l=x(e.term_one.filter(F=>F.score>=55&&F.score<60)).value.length,c=x(e.term_one.filter(F=>F.score>=50&&F.score<55)).value.length,d=x(e.term_one.filter(F=>F.score>=40&&F.score<50)).value.length,h=x(e.term_one.filter(F=>F.score<40)).value.length,f=x(e.term_two.filter(F=>F.score>=80)).value.length,g=x(e.term_two.filter(F=>F.score>=75&&F.score<80)).value.length,m=x(e.term_two.filter(F=>F.score>=70&&F.score<75)).value.length,p=x(e.term_two.filter(F=>F.score>=65&&F.score<70)).value.length,v=x(e.term_two.filter(F=>F.score>=60&&F.score<65)).value.length,k=x(e.term_two.filter(F=>F.score>=55&&F.score<60)).value.length,w=x(e.term_two.filter(F=>F.score>=50&&F.score<55)).value.length,O=x(e.term_two.filter(F=>F.score>=40&&F.score<50)).value.length,$=x(e.term_two.filter(F=>F.score<40)).value.length,A=x(e.term_three.filter(F=>F.score>=80)).value.length,E=x(e.term_three.filter(F=>F.score>=75&&F.score<80)).value.length,T=x(e.term_three.filter(F=>F.score>=70&&F.score<75)).value.length,M=x(e.term_three.filter(F=>F.score>=65&&F.score<70)).value.length,P=x(e.term_three.filter(F=>F.score>=60&&F.score<65)).value.length,I=x(e.term_three.filter(F=>F.score>=55&&F.score<60)).value.length,L=x(e.term_three.filter(F=>F.score>=50&&F.score<55)).value.length,U=x(e.term_three.filter(F=>F.score>=40&&F.score<50)).value.length,ot=x(e.term_three.filter(F=>F.score<40)).value.length,H=x(["A1","B2","B3","C4","C5","C6","D7","E8","F9"]),q=x([n,i,a,o,r,l,c,d,h]),Y=x([f,g,m,p,v,k,w,O,$]),st=x([A,E,T,M,P,I,L,U,ot]),pt=x({labels:H.value,datasets:[{label:"Semester 1",data:q.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Semester 2",data:Y.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1}]}),ft=x({labels:H.value,datasets:[{label:"Semester 1",data:q.value,borderColor:"green",backgroundColor:"green",borderWidth:2,fill:!1},{label:"Semester 2",data:Y.value,borderColor:"blue",backgroundColor:"blue",borderWidth:2,fill:!1},{label:"Semester 3",data:st.value,borderColor:"indigo",backgroundColor:"indigo",borderWidth:2,fill:!1}]}),Lt=x({responsive:!0}),kt=x(e.term_one).value.length,Nt=x(e.term_one).value.slice(0,5),Ht=x(e.term_one).value.slice(-5),wt=x(e.term_one.map(F=>Number(F.score))),jt=V(()=>(wt.value.reduce((Ve,ke)=>Ve+ke,0)/wt.value.length).toFixed(0)),xt=V(()=>Math.max(...wt.value)),Je=V(()=>Math.min(...wt.value)),Ds=V(()=>e.term_one.filter(F=>F.score>=50).length),As=V(()=>e.term_one.filter(F=>F.score<50&&F.score>=40).length),Ps=V(()=>e.term_one.filter(F=>F.score<40).length),Ft=x(e.term_two).value.length,xn=x(e.term_two).value.slice(0,5),Sn=x(e.term_two).value.slice(-5),ye=x(e.term_two.map(F=>Number(F.score))),kn=V(()=>(ye.value.reduce((Ve,ke)=>Ve+ke,0)/ye.value.length).toFixed(0)),wn=V(()=>Math.max(...ye.value)),$s=V(()=>Math.min(...ye.value)),xe=V(()=>e.term_two.filter(F=>F.score>=50).length),Os=V(()=>e.term_two.filter(F=>F.score<50&&F.score>=40).length),Fs=V(()=>e.term_two.filter(F=>F.score<40).length),Wt=x(e.term_three).value.length,Mn=x(e.term_three).value.slice(0,5),Cn=x(e.term_three).value.slice(-5),Be=x(e.term_three.map(F=>Number(F.score))),N=V(()=>(Be.value.reduce((Ve,ke)=>Ve+ke,0)/Be.value.length).toFixed(0)),R=V(()=>Math.max(...Be.value)),Se=V(()=>Math.min(...Be.value)),xi=V(()=>e.term_three.filter(F=>F.score>=50).length),Si=V(()=>e.term_three.filter(F=>F.score<50&&F.score>=40).length),ki=V(()=>e.term_three.filter(F=>F.score<40).length);return(F,Ve)=>{const ke=At;return _(),S("div",gv,[!F.year||F.year.term_one.length===0&&F.year.term_two.length===0&&F.year.term_three.length===0?(_(),j(ke,{key:0})):C("",!0),F.year&&!b(t).userData.academic_year.sem_3_start_date&&F.year.term_one.length>0||F.year&&!b(t).userData.academic_year.sem_3_start_date&&F.year.term_two.length>0?(_(),j(b(Ss),{key:1,class:"chart",options:Lt.value,data:pt.value,fill:!1},null,8,["options","data"])):C("",!0),F.year&&b(t).userData.academic_year.sem_3_start_date&&F.year.term_one.length>0||F.year&&b(t).userData.academic_year.sem_3_start_date&&F.year.term_two.length>0||F.year&&b(t).userData.academic_year.sem_3_start_date&&F.year.term_three.length>0?(_(),j(b(Ss),{key:2,class:"chart",options:Lt.value,data:ft.value,fill:!1},null,8,["options","data"])):C("",!0),u("div",pv,[F.year.term_three&&F.year.term_three.length>0?(_(),S("div",mv,[D(St,{density:"comfortable"},{default:z(()=>[u("tbody",null,[_v,u("tr",bv,[vv,u("td",yv,y(b(Wt)),1)]),u("tr",xv,[Sv,u("td",kv,y(R.value),1)]),u("tr",wv,[Mv,u("td",Cv,y(N.value),1)]),u("tr",Tv,[Dv,u("td",Av,y(Se.value),1)]),u("tr",Pv,[$v,u("td",Ov,y(xi.value)+" ["+y((xi.value/b(Wt)*100).toFixed(1))+"%] ",1)]),u("tr",Fv,[Ev,u("td",Lv,y(Si.value)+" ["+y((Si.value/b(Wt)*100).toFixed(1))+"%] ",1)]),u("tr",Rv,[Iv,u("td",Bv,y(ki.value)+" ["+y((ki.value/b(Wt)*100).toFixed(1))+"%] ",1)]),b(Wt)>15?(_(),S("tr",Vv,Hv)):C("",!0),(_(!0),S(K,null,nt(b(Mn),(gt,Xt)=>(_(),S("tr",{class:"term-three",key:Xt},[b(Wt)>15?(_(),S("td",jv,y(gt.name)+" ["+y(gt.st_id)+"]",1)):C("",!0),b(Wt)>15?(_(),S("td",Wv,y(gt.score),1)):C("",!0)]))),128)),b(Wt)>15?(_(),S("tr",Uv,Xv)):C("",!0),(_(!0),S(K,null,nt(b(Cn),(gt,Xt)=>(_(),S("tr",{class:"term-three",key:Xt},[b(Wt)>15?(_(),S("td",Kv,y(gt.name)+" ["+y(gt.st_id)+"]",1)):C("",!0),b(Wt)>15?(_(),S("td",Jv,y(gt.score),1)):C("",!0)]))),128))])]),_:1})])):C("",!0),F.year.term_two&&F.year.term_two.length>0?(_(),S("div",qv,[D(St,{density:"comfortable"},{default:z(()=>[u("tbody",null,[Zv,u("tr",Qv,[t0,u("td",e0,y(b(Ft)),1)]),u("tr",s0,[n0,u("td",i0,y(wn.value),1)]),u("tr",a0,[o0,u("td",r0,y(kn.value),1)]),$s.value?(_(),S("tr",l0,[c0,u("td",d0,y($s.value),1)])):C("",!0),u("tr",u0,[h0,u("td",f0,y(xe.value)+" ["+y((xe.value/b(Ft)*100).toFixed(1))+"%] ",1)]),u("tr",g0,[p0,u("td",m0,y(Os.value)+" ["+y((Os.value/b(Ft)*100).toFixed(1))+"%] ",1)]),u("tr",_0,[b0,u("td",v0,y(Fs.value)+" ["+y((Fs.value/b(Ft)*100).toFixed(1))+"%] ",1)]),b(Ft)>15?(_(),S("tr",y0,k0)):C("",!0),(_(!0),S(K,null,nt(b(xn),(gt,Xt)=>(_(),S("tr",{class:"term-two",key:Xt},[b(Ft)>15?(_(),S("td",w0,y(gt.name)+" ["+y(gt.st_id)+"]",1)):C("",!0),b(Ft)>15?(_(),S("td",M0,y(gt.score),1)):C("",!0)]))),128)),b(Ft)>15?(_(),S("tr",C0,A0)):C("",!0),(_(!0),S(K,null,nt(b(Sn),(gt,Xt)=>(_(),S("tr",{class:"term-two",key:Xt},[b(Ft)>15?(_(),S("td",P0,y(gt.name)+" ["+y(gt.st_id)+"]",1)):C("",!0),b(Ft)>15?(_(),S("td",$0,y(gt.score),1)):C("",!0)]))),128))])]),_:1})])):C("",!0),F.year.term_one&&F.year.term_one.length>0?(_(),S("div",O0,[D(St,{density:"comfortable"},{default:z(()=>[u("tbody",null,[F0,u("tr",E0,[L0,u("td",R0,y(b(kt)),1)]),u("tr",I0,[B0,u("td",V0,y(xt.value),1)]),u("tr",z0,[N0,u("td",H0,y(jt.value),1)]),u("tr",j0,[W0,u("td",U0,y(Je.value),1)]),u("tr",Y0,[G0,u("td",X0,y(Ds.value)+" ["+y((Ds.value/b(kt)*100).toFixed(1))+"%] ",1)]),u("tr",K0,[J0,u("td",q0,y(As.value)+" ["+y((As.value/b(kt)*100).toFixed(1))+"%] ",1)]),u("tr",Z0,[Q0,u("td",ty,y(Ps.value)+" ["+y((Ps.value/b(kt)*100).toFixed(1))+"%] ",1)]),b(kt)>15?(_(),S("tr",ey,iy)):C("",!0),(_(!0),S(K,null,nt(b(Nt),(gt,Xt)=>(_(),S("tr",{class:"term-one",key:Xt},[b(kt)>15?(_(),S("td",ay,y(gt.name)+" ["+y(gt.st_id)+"]",1)):C("",!0),b(kt)>15?(_(),S("td",oy,y(gt.score),1)):C("",!0)]))),128)),b(kt)>15?(_(),S("tr",ry,dy)):C("",!0),(_(!0),S(K,null,nt(b(Ht),(gt,Xt)=>(_(),S("tr",{class:"term-one",key:Xt},[b(kt)>15?(_(),S("td",uy,y(gt.name)+" ["+y(gt.st_id)+"]",1)):C("",!0),b(kt)>15?(_(),S("td",hy,y(gt.score),1)):C("",!0)]))),128))])]),_:1})])):C("",!0)])])}}}),gy=at(fy,[["__scopeId","data-v-922d9563"]]),py={class:"subsections-container"},my={class:"subsections"},_y=Q({__name:"HodPerformanceSubject",props:{data:{}},setup(s){const t=x("section1"),e=n=>{t.value=n};return(n,i)=>{const a=gy;return _(),S("div",py,[D(Xe,{class:"subsection-nav-container",elevation:"0"},{default:z(()=>[u("button",{class:G(["nav-btn-2",{"nav-btn-2-active":t.value==="section1"}]),onClick:i[0]||(i[0]=o=>e("section1"))},"Form 1 students",2),u("button",{class:G(["nav-btn-2",{"nav-btn-2-active":t.value==="section2"}]),onClick:i[1]||(i[1]=o=>e("section2"))},"Form 2 students",2),u("button",{class:G(["nav-btn-2",{"nav-btn-2-active":t.value==="section3"}]),onClick:i[2]||(i[2]=o=>e("section3"))},"Form 3 students",2)]),_:1}),u("div",my,[u("div",{style:X(t.value==="section1"?{display:"flex"}:{display:"none"})},[D(a,{year:n.data.year_one},null,8,["year"])],4),u("div",{style:X(t.value==="section2"?{display:"flex"}:{display:"none"})},[D(a,{year:n.data.year_two},null,8,["year"])],4),u("div",{style:X(t.value==="section3"?{display:"flex"}:{display:"none"})},[D(a,{year:n.data.year_three},null,8,["year"])],4)])])}}}),by={class:"sections-container"},vy={key:1,class:"section-nav-container"},yy=["onClick"],xy={key:2,class:"sections"},Sy=Q({__name:"HodPerformance",setup(s){const t=x("section1"),e=lt(),n=i=>{t.value=i};return(i,a)=>{const o=At,r=_y;return _(),S("div",by,[b(e).hodPerformance?C("",!0):(_(),j(o,{key:0})),b(e).hodPerformance?(_(),S("div",vy,[(_(!0),S(K,null,nt(b(e).hodPerformance,(l,c)=>(_(),S("button",{key:c,class:G(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[l.subject==="CORE MATHEMATICS"?(_(),j(Z,{key:0,icon:"mdi-calculator-variant"})):C("",!0),l.subject==="ELECTIVE MATHEMATICS"?(_(),j(Z,{key:1,icon:"mdi-function-variant"})):C("",!0),l.subject==="BIOLOGY"?(_(),j(Z,{key:2,icon:"mdi-microscope"})):C("",!0),l.subject==="CHEMISTRY"?(_(),j(Z,{key:3,icon:"mdi-flask"})):C("",!0),l.subject==="FINANCIAL ACCOUNTING"?(_(),j(Z,{key:4,icon:"mdi-currency-usd"})):C("",!0),l.subject==="BUSINESS MANAGEMENT"?(_(),j(Z,{key:5,icon:"mdi-chart-bar"})):C("",!0),l.subject==="ENGLISH LANGUAGE"?(_(),j(Z,{key:6,icon:"mdi-book-open-variant"})):C("",!0),l.subject==="SOCIAL STUDIES"?(_(),j(Z,{key:7,icon:"mdi-account-group"})):C("",!0),l.subject==="INTEGRATED SCIENCE"?(_(),j(Z,{key:8,icon:"mdi-scale"})):C("",!0),l.subject==="CHRISTIAN RELIGIOUS STUDIES (CRS)"?(_(),j(Z,{key:9,icon:"mdi-book-cross"})):C("",!0),l.subject==="LITERATURE"?(_(),j(Z,{key:10,icon:"mdi-library"})):C("",!0),l.subject==="HISTORY"?(_(),j(Z,{key:11,icon:"mdi-history"})):C("",!0),l.subject==="GOVERNMENT"?(_(),j(Z,{key:12,icon:"mdi-briefcase-account"})):C("",!0),l.subject==="GEOGRAPHY"?(_(),j(Z,{key:13,icon:"mdi-earth"})):C("",!0),l.subject==="PHYSICS"?(_(),j(Z,{key:14,icon:"mdi-atom"})):C("",!0),l.subject==="ELECTIVE ICT"?(_(),j(Z,{key:15,icon:"mdi-desktop-tower-monitor"})):C("",!0),l.subject==="COST ACCOUNTING"?(_(),j(Z,{key:16,icon:"mdi-cash-register"})):C("",!0),l.subject==="ECONOMICS"?(_(),j(Z,{key:17,icon:"mdi-finance"})):C("",!0),u("span",null,y(l.subject),1)],10,yy))),128))])):C("",!0),b(e).hodPerformance?(_(),S("div",xy,[(_(!0),S(K,null,nt(b(e).hodPerformance,(l,c)=>(_(),S("div",{class:"h-100",key:c,style:X(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[(_(),j(r,{data:l,key:l},null,8,["data"]))],4))),128))])):C("",!0)])}}}),ky=at(Sy,[["__scopeId","data-v-88b900ef"]]),ur=s=>(Ct("data-v-843a5f07"),s=s(),Tt(),s),wy={id:"inputForm",class:"overlay"},My={class:"form",style:{position:"relative"}},Cy={key:0,class:"form-message",style:{color:"green"}},Ty={key:1,class:"form-message",style:{color:"red"}},Dy={class:"input-container"},Ay={class:"wrap one"},Py={class:"wrap-1 flex-all"},$y={class:"wrap"},Oy={class:"wrap-1"},Fy={class:"ml-16"},Ey={id:"fileForm",class:"overlay"},Ly={class:"form",style:{position:"relative"}},Ry={key:0,class:"form-message",style:{color:"green"}},Iy={key:1,class:"form-message",style:{color:"red"}},By={class:"flex-all-c mt-16"},Vy=ur(()=>u("p",{class:"hint mt-0"},"Click to get an excel file based on the selected class",-1)),zy=ur(()=>u("hr",{class:"line"},null,-1)),Ny={class:"w-100 h-100"},Hy={class:"flex-all w-100 h-100"},jy=Q({__name:"AdminStudentsAdmission",setup(s){const t=lt(),e=x(""),n=x(""),i=x(null),a=x(null),o=x(null),r=x(null),l=x(null),c=x(!1),d=x(null),h=x(["Male","Female"]),f=x(!1),g=x(null),m=()=>{setTimeout(()=>{n.value="",e.value=""},5e3)},p=async()=>{c.value=!0,e.value="",n.value="";const E=new FormData;E.append("className",i.value),E.append("type","get-students-file");try{const T=await zt.post("sch-admin/students",E);if(T.status===200){n.value="File generated successfully. wait for it to be downloaded";const M=document.createElement("a");M.href=T.data.file_path,M.download=T.data.filename,M.click()}else e.value="Oops! an error occurred while generating the file. Try again later"}catch{e.value="Something went wrong. Try again later"}finally{c.value=!1,m()}},v=E=>{const T=E.target.files[0];g.value=T||null},k=async()=>{f.value=!0,e.value="",n.value="";const E=new FormData;E.append("className",i.value),E.append("file",g.value),E.append("type","upload-students-file");try{const T=await zt.post("sch-admin/students",E);if(T.status===200){const M=T.data.year,P=T.data.data,I=t.adminClasses[M].find(L=>L.name===P.name);if(I){const L=t.adminClasses[M].indexOf(I);t.adminClasses[M][L]=P}else t.adminClasses[M].push(P);n.value=T.data.ms}else T.status===201&&(e.value=T.data.ms)}catch{e.value="Something went wrong!"}finally{f.value=!1,m()}},w=async()=>{f.value=!0,e.value="",n.value="";const E=new FormData;E.append("className",i.value),E.append("firstName",a.value),E.append("lastName",o.value),E.append("stId",r.value),E.append("gender",l.value),E.append("dob",d.value),E.append("type","input-student");try{const T=await zt.post("sch-admin/students",E);if(T.status===200){const M=T.data.year,P=t.adminClasses[M].find(I=>I.name===T.data.class_name);if(P){const I=t.adminClasses[M].indexOf(P);t.adminClasses[M][I].students.push(T.data.student)}n.value=T.data.ms}else T.status===201&&(e.value=T.data.ms)}catch{e.value="Oops something went wrong, check you internet connection"}finally{f.value=!1}m()},O=V(()=>!(i.value&&a.value&&o.value&&r.value&&l.value&&d.value)),$=E=>{const T=document.getElementById(E);T&&(e.value="",n.value="",i.value="",f.value=!1,g.value=null,T.style.display="none")},A=E=>{const T=document.getElementById(E);T&&(T.style.display="flex")};return(E,T)=>(_(),S(K,null,[u("div",wy,[u("div",My,[u("button",{onClick:T[0]||(T[0]=M=>$("inputForm")),class:"close-btn flex-all"},"X"),n.value?(_(),S("h2",Cy,y(n.value),1)):C("",!0),e.value?(_(),S("h2",Ty,y(e.value),1)):C("",!0),u("div",Dy,[u("div",Ay,[u("div",Py,[b(t).adminClasses.names?(_(),j(Yt,{key:0,disabled:f.value,modelValue:i.value,"onUpdate:modelValue":T[1]||(T[1]=M=>i.value=M),class:"select",label:"CLASS",density:"compact",variant:"outlined",items:b(t).adminClasses.names,"persistent-hint":"",hint:"Select the students's class"},null,8,["disabled","modelValue","items"])):C("",!0)])]),u("div",$y,[D(ee,{disabled:f.value,modelValue:a.value,"onUpdate:modelValue":T[2]||(T[2]=M=>a.value=M),clearable:"",class:"input-field",label:"FIRST NAME",variant:"underlined"},null,8,["disabled","modelValue"]),D(ee,{disabled:f.value,modelValue:o.value,"onUpdate:modelValue":T[3]||(T[3]=M=>o.value=M),clearable:"",class:"input-field",label:"LAST NAME",variant:"underlined"},null,8,["disabled","modelValue"])]),u("div",Oy,[D(Yt,{disabled:f.value,modelValue:l.value,"onUpdate:modelValue":T[4]||(T[4]=M=>l.value=M),class:"select",label:"GENDER",density:"compact",variant:"outlined",items:h.value},null,8,["disabled","modelValue","items"])]),u("div",Fy,[D(ee,{disabled:f.value,modelValue:r.value,"onUpdate:modelValue":T[5]||(T[5]=M=>r.value=M),type:"number",clearable:"",class:"input-field",label:"STUDENT ID",variant:"underlined"},null,8,["disabled","modelValue"])]),u("div",null,[D(ee,{disabled:f.value,modelValue:d.value,"onUpdate:modelValue":T[6]||(T[6]=M=>d.value=M),type:"date",class:"input-field",label:"DATE OF BIRTH",variant:"underlined"},null,8,["disabled","modelValue"])])]),D(bt,{loading:f.value,disabled:O.value,onClick:w,class:"submit-btn"},{default:z(()=>[W("SUBMIT")]),_:1},8,["loading","disabled"])])]),u("div",Ey,[u("div",Ly,[u("button",{onClick:T[7]||(T[7]=M=>$("fileForm")),class:"close-btn flex-all"},"X"),n.value?(_(),S("h2",Ry,y(n.value),1)):C("",!0),e.value?(_(),S("h2",Iy,y(e.value),1)):C("",!0),b(t).adminClasses.names?(_(),j(Yt,{key:2,disabled:f.value,modelValue:i.value,"onUpdate:modelValue":T[8]||(T[8]=M=>i.value=M),class:"select file",label:"CLASS",variant:"outlined",density:"compact",items:b(t).adminClasses.names,"persistent-hint":"",hint:"select the students class"},null,8,["disabled","modelValue","items"])):C("",!0),u("div",By,[D(bt,{loading:c.value,disabled:f.value||!i.value,onClick:p,class:"submit-btn"},{default:z(()=>[W("GET FILE")]),_:1},8,["loading","disabled"]),Vy]),zy,D(yi,{disabled:f.value,onChange:v,clearable:"","show-size":"",class:"file-field",label:"upload an excel file",density:"compact",variant:"outlined",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},null,8,["disabled"]),D(bt,{loading:f.value,disabled:!g.value||!i.value,onClick:k,class:"submit-btn"},{default:z(()=>[W("UPLOAD")]),_:1},8,["loading","disabled"])])]),u("div",Ny,[u("div",Hy,[D(bt,{size:"small",class:"btn mr-5",onClick:T[9]||(T[9]=M=>A("inputForm"))},{default:z(()=>[W("INPUT DATA")]),_:1}),D(bt,{size:"small",class:"btn ml-5",onClick:T[10]||(T[10]=M=>A("fileForm"))},{default:z(()=>[W("USE FILE")]),_:1})])])],64))}}),Wy=at(jy,[["__scopeId","data-v-843a5f07"]]),Uy=s=>(Ct("data-v-dfa7e4ff"),s=s(),Tt(),s),Yy={style:{width:"100%",position:"relative",height:"100%"}},Gy=Uy(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"CLASS"),u("th",{class:"table-head"},"STUDENTS")])],-1)),Xy={class:"table-data"},Ky={style:{padding:"0"}},Jy={class:"student-info-container"},qy=["src"],Zy={class:"flex-all-c"},Qy={class:"user-name"},t1={class:"user-name"},e1={class:"flex-all pa-2"},s1=Q({__name:"AdminStudentsYear",props:{classYear:{}},setup(s){const t=lt(),e=Le(),n=x(1e3),i=async(a,o,r)=>{n.value=r;const l=new FormData;l.append("className",a),l.append("stId",o),l.append("type","delete-student"),await zt.post("sch-admin/students",l).then(c=>{const d=c.data,h=d.year,f=t.adminClasses[h].find(g=>g.name===d.class_name);if(f){const g=t.adminClasses[h].indexOf(f),m=t.adminClasses[h][g].students.filter(p=>p.st_id!==o);t.adminClasses[h][g].students=m}n.value=1e3}).catch(c=>(n.value=1e3,Promise.reject(c)))};return(a,o)=>{const r=At;return _(),S("div",Yy,[!a.classYear||a.classYear&&a.classYear.length===0?(_(),j(r,{key:0,class:"no-data flex-all"})):C("",!0),a.classYear&&a.classYear.length>0?(_(),j(St,{key:1,"fixed-header":"",class:"table-1"},{default:z(()=>[Gy,u("tbody",null,[(_(!0),S(K,null,nt(a.classYear,(l,c)=>(_(),S("tr",{key:c},[u("td",Xy,y(l.name),1),u("td",Ky,[D(hn,{class:"pa-0"},{default:z(()=>[D(fn,null,{activator:z(({props:d})=>[D(qt,Gt({class:"title"},d),{default:z(()=>[D(Z,{icon:"mdi-account-circle"}),W(y(l.students.length)+" STUDENTS ",1)]),_:2},1040)]),default:z(()=>[D(gn,{class:"v-scroll",height:"22vh",items:l.students},{default:z(({item:d})=>[D(qt,{style:{position:"relative"}},{default:z(()=>[u("div",Jy,[u("img",{class:"student-img",src:b(e).getBaseUrl+d.img},null,8,qy),u("div",Zy,[u("p",Qy,y(d.user.first_name)+" "+y(d.user.last_name),1),u("p",t1,y(d.st_id),1)]),u("div",e1,[D(bt,{loading:n.value===l.students.indexOf(d),onClick:h=>i(l.name,d.st_id,l.students.indexOf(d)),size:"x-small",class:"edit-btn remove"},{default:z(()=>[W("delete")]),_:2},1032,["loading","onClick"])])])]),_:2},1024)]),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1})):C("",!0)])}}}),n1=at(s1,[["__scopeId","data-v-dfa7e4ff"]]),i1={class:"subsections-container"},a1={class:"subsections"},o1=Q({__name:"AdminStudentsViewAdmittedStudents",setup(s){const t=x("section1"),e=lt(),n=i=>{t.value=i};return(i,a)=>{const o=n1;return _(),S("div",i1,[D(Xe,{class:"subsection-nav-container",elevation:"0"},{default:z(()=>[u("button",{class:G(["nav-btn-2",{"nav-btn-2-active":t.value==="section1"}]),onClick:a[0]||(a[0]=r=>n("section1"))},"Form 1 students",2),u("button",{class:G(["nav-btn-2",{"nav-btn-2-active":t.value==="section2"}]),onClick:a[1]||(a[1]=r=>n("section2"))},"Form 2 students",2),u("button",{class:G(["nav-btn-2",{"nav-btn-2-active":t.value==="section3"}]),onClick:a[2]||(a[2]=r=>n("section3"))},"Form 3 students",2)]),_:1}),u("div",a1,[u("div",{style:X(t.value==="section1"?{display:"flex"}:{display:"none"})},[D(o,{classYear:b(e).adminClasses.yearOne},null,8,["classYear"])],4),u("div",{style:X(t.value==="section2"?{display:"flex"}:{display:"none"})},[D(o,{classYear:b(e).adminClasses.yearTwo},null,8,["classYear"])],4),u("div",{style:X(t.value==="section3"?{display:"flex"}:{display:"none"})},[D(o,{classYear:b(e).adminClasses.yearThree},null,8,["classYear"])],4)])])}}}),r1={class:"section-nav-container"},l1={class:"sections"},c1=Q({__name:"AdminStudents",setup(s){const t=lt(),e=x(t.activeTerm),n=i=>{e.value=i};return(i,a)=>{const o=Wy,r=o1;return _(),S(K,null,[u("div",r1,[u("button",{class:G(["nav-btn-1 btn-1",{"nav-btn-1-active":e.value===1}]),onClick:a[0]||(a[0]=l=>n(1))},"ADMISSION",2),u("button",{class:G(["nav-btn-1 btn-2",{"nav-btn-1-active":e.value===2}]),onClick:a[1]||(a[1]=l=>n(2))},"ALL ADMITTED STUDENTS",2)]),u("div",l1,[u("div",{class:"h-100",style:X(e.value===1?{display:"flex"}:{display:"none"})},[D(o)],4),u("div",{class:"h-100",style:X(e.value===2?{display:"flex"}:{display:"none"})},[D(r)],4)])],64)}}}),d1=at(c1,[["__scopeId","data-v-78f0c878"]]),hr=s=>(Ct("data-v-28621f06"),s=s(),Tt(),s),u1={id:"staffInputForm",class:"overlay"},h1={class:"form",style:{position:"relative"}},f1={key:0,class:"form-message",style:{color:"green"}},g1={key:1,class:"form-message",style:{color:"red"}},p1={class:"input-container"},m1={class:"wrap one"},_1={class:"wrap-1 department"},b1={class:"wrap"},v1={class:"wrap-1"},y1={class:"ml-16"},x1={id:"staffFileForm",class:"overlay"},S1={class:"form",style:{position:"relative"}},k1={key:0,class:"form-message",style:{color:"green"}},w1={key:1,class:"form-message",style:{color:"red"}},M1={class:"flex-all-c mt-16"},C1=hr(()=>u("p",{class:"hint mt-0"},"Click to get an excel file based on the selected department",-1)),T1=hr(()=>u("hr",{class:"line"},null,-1)),D1={class:"w-100 h-100"},A1={class:"flex-all w-100 h-100"},P1=Q({__name:"AdminAddStaff",setup(s){const t=lt(),e=x(""),n=x(""),i=x(null),a=x(null),o=x(null),r=x(null),l=x(null),c=x(null),d=x(!1),h=x(null),f=x(["MALE","FEMALE"]),g=x(!1),m=x(null),p=()=>{setTimeout(()=>{n.value="",e.value=""},5e3)},v=async()=>{d.value=!0,e.value="",n.value="";const T=new FormData;T.append("departmentName",i.value),T.append("type","get-staff-file");try{const M=await zt.post("sch-admin/staff",T);if(M.status===200){n.value="File generated successfully. Wait for it to be downloaded";const P=document.createElement("a");P.href=M.data.file_path,P.download=M.data.filename,P.click()}else e.value="Oops! an error occurred while generating the file. Try again later"}catch{e.value="Something went wrong. Try again later"}finally{d.value=!1,p()}},k=T=>{const M=T.target.files[0];m.value=M||null},w=async()=>{g.value=!0,e.value="",n.value="";const T=new FormData;T.append("departmentName",i.value),T.append("file",m.value),T.append("type","upload-staff-file");try{const M=await zt.post("sch-admin/staff",T);if(M.status===200){const P=M.data.data,I=t.adminStaff.departments.find(L=>L.name===P.name);if(I){const L=t.adminStaff.departments.indexOf(I);t.adminStaff.departments[L]=P}n.value=M.data.ms}else M.status===201&&(e.value=M.data.ms)}catch{e.value="Something went wrong!"}finally{g.value=!1,p()}},O=async()=>{g.value=!0,e.value="",n.value="";const T=new FormData;T.append("departmentName",i.value),T.append("firstName",a.value),T.append("lastName",r.value),T.append("staffId",l.value),T.append("gender",c.value),T.append("subjects",o.value),T.append("dob",h.value),T.append("type","input-staff");try{const M=await zt.post("sch-admin/staff",T);if(M.status===200){const P=M.data,I=t.adminStaff.departments.find(L=>L.name===P.department_name);if(I){const L=t.adminStaff.departments.indexOf(I);t.adminStaff.departments[L].teachers.push(P.staff)}n.value=M.data.ms}else M.status===201&&(e.value=M.data.ms)}catch{e.value="Oops something went wrong, check you internet connection"}finally{g.value=!1}p()},$=V(()=>!(i.value&&o.value&&a.value&&r.value&&l.value&&c.value&&h.value)),A=T=>{const M=document.getElementById(T);M&&(e.value="",n.value="",i.value=null,o.value="",g.value=!1,m.value=null,M.style.display="none")},E=T=>{const M=document.getElementById(T);M&&(M.style.display="flex")};return(T,M)=>(_(),S(K,null,[u("div",u1,[u("div",h1,[u("button",{onClick:M[0]||(M[0]=P=>A("staffInputForm")),class:"close-btn flex-all"},"X"),n.value?(_(),S("h2",f1,y(n.value),1)):C("",!0),e.value?(_(),S("h2",g1,y(e.value),1)):C("",!0),u("div",p1,[u("div",m1,[u("div",_1,[b(t).adminStaff.departmentNames?(_(),j(Yt,{key:0,disabled:g.value,modelValue:i.value,"onUpdate:modelValue":M[1]||(M[1]=P=>i.value=P),class:"select",label:"DEPARTMENT",density:"compact",variant:"outlined",items:b(t).adminStaff.departmentNames,"persistent-hint":"",hint:"Select the department the teacher belongs to"},null,8,["disabled","modelValue","items"])):C("",!0),b(t).adminStaff.subjects?(_(),j(Yt,{key:1,multiple:"",disabled:g.value,chips:"",modelValue:o.value,"onUpdate:modelValue":M[2]||(M[2]=P=>o.value=P),class:"select",label:"SUBJECTS(S)",density:"compact",variant:"outlined",items:b(t).adminStaff.subjects,"persistent-hint":"",hint:"Select the subject(s) the teacher teaches"},null,8,["disabled","modelValue","items"])):C("",!0)])]),u("div",b1,[D(ee,{disabled:g.value,modelValue:a.value,"onUpdate:modelValue":M[3]||(M[3]=P=>a.value=P),clearable:"",class:"input-field",label:"FIRST NAME",variant:"underlined"},null,8,["disabled","modelValue"]),D(ee,{disabled:g.value,modelValue:r.value,"onUpdate:modelValue":M[4]||(M[4]=P=>r.value=P),clearable:"",class:"input-field",label:"LAST NAME",variant:"underlined"},null,8,["disabled","modelValue"])]),u("div",v1,[D(Yt,{disabled:g.value,modelValue:c.value,"onUpdate:modelValue":M[5]||(M[5]=P=>c.value=P),class:"select",label:"GENDER",density:"compact",variant:"outlined",items:f.value},null,8,["disabled","modelValue","items"])]),u("div",y1,[D(ee,{disabled:g.value,modelValue:l.value,"onUpdate:modelValue":M[6]||(M[6]=P=>l.value=P),type:"number",clearable:"",class:"input-field",label:"STAFF ID",variant:"underlined"},null,8,["disabled","modelValue"])]),u("div",null,[D(ee,{disabled:g.value,modelValue:h.value,"onUpdate:modelValue":M[7]||(M[7]=P=>h.value=P),type:"date",class:"input-field",label:"DATE OF BIRTH",variant:"underlined"},null,8,["disabled","modelValue"])])]),D(bt,{loading:g.value,disabled:$.value,onClick:O,class:"submit-btn"},{default:z(()=>[W("SUBMIT")]),_:1},8,["loading","disabled"])])]),u("div",x1,[u("div",S1,[u("button",{onClick:M[8]||(M[8]=P=>A("staffFileForm")),class:"close-btn flex-all"},"X"),n.value?(_(),S("h2",k1,y(n.value),1)):C("",!0),e.value?(_(),S("h2",w1,y(e.value),1)):C("",!0),b(t).adminStaff.departmentNames?(_(),j(Yt,{key:2,disabled:g.value,modelValue:i.value,"onUpdate:modelValue":M[9]||(M[9]=P=>i.value=P),class:"select file",label:"DEPARTMENT",variant:"outlined",density:"compact",items:b(t).adminStaff.departmentNames,"persistent-hint":"",hint:"select the department the teacher belongs to"},null,8,["disabled","modelValue","items"])):C("",!0),u("div",M1,[D(bt,{loading:d.value,disabled:g.value||!i.value,onClick:v,class:"submit-btn"},{default:z(()=>[W("GET FILE")]),_:1},8,["loading","disabled"]),C1]),T1,D(yi,{disabled:g.value,onChange:k,clearable:"","show-size":"",class:"file-field",label:"upload an excel file",density:"compact",variant:"outlined",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},null,8,["disabled"]),D(bt,{loading:g.value,disabled:!m.value||!i.value,onClick:w,class:"submit-btn"},{default:z(()=>[W("UPLOAD")]),_:1},8,["loading","disabled"])])]),u("div",D1,[u("div",A1,[D(bt,{size:"small",class:"btn mr-5",onClick:M[10]||(M[10]=P=>E("staffInputForm"))},{default:z(()=>[W("INPUT DATA")]),_:1}),D(bt,{size:"small",class:"btn ml-5",onClick:M[11]||(M[11]=P=>E("staffFileForm"))},{default:z(()=>[W("USE FILE")]),_:1})])])],64))}}),$1=at(P1,[["__scopeId","data-v-28621f06"]]),O1=s=>(Ct("data-v-8115674a"),s=s(),Tt(),s),F1={style:{width:"100%",position:"relative",height:"100%"}},E1=O1(()=>u("thead",null,[u("tr",null,[u("th",{class:"table-head"},"NAME"),u("th",{class:"table-head"},"STAFF ID"),u("th",{class:"table-head"},"SUBJECT(S)"),u("th",{class:"table-head"},"IMAGE"),u("th",{class:"table-head"},"ACTION")])],-1)),L1={class:"table-data"},R1={key:0,style:{color:"seagreen"}},I1={class:"table-data"},B1={class:"table-data"},V1={class:"table-data"},z1=["src"],N1={class:"table-data"},H1=Q({__name:"AdminDepartmentStaff",props:{staff:null},setup(s){const t=s,e=Le(),n=lt(),i=x(1e3),a=async(o,r)=>{i.value=r;const l=new FormData;l.append("staffId",o),l.append("type","delete-staff"),await zt.post("sch-admin/staff",l).then(c=>{const d=c.data,h=n.adminStaff.departments.find(f=>f.name===d.department_name);if(h){const f=n.adminStaff.departments.indexOf(h),g=n.adminStaff.departments[f].teachers.filter(m=>m.staff_id!==o);n.adminStaff.departments[f].teachers=g}i.value=1e3}).catch(c=>(i.value=1e3,Promise.reject(c)))};return(o,r)=>{const l=At;return _(),S("div",F1,[t.staff?C("",!0):(_(),j(l,{key:0})),t.staff?(_(),j(St,{key:1,"fixed-header":"",height:"55dvh"},{default:z(()=>[E1,u("tbody",null,[(_(!0),S(K,null,nt(t.staff,(c,d)=>(_(),S("tr",{key:d},[u("td",L1,[W(y(c.user.first_name)+" "+y(c.user.last_name)+" ",1),c.role==="hod"?(_(),S("span",R1,"[HOD]")):C("",!0)]),u("td",I1,y(c.staff_id),1),u("td",B1,[(_(!0),S(K,null,nt(c.subjects,(h,f)=>(_(),S("p",{key:f},y(h.name),1))),128))]),u("td",V1,[u("img",{class:"student-img",src:b(e).getBaseUrl+c.img},null,8,z1)]),u("td",N1,[D(bt,{loading:b(i)===d,onClick:h=>a(c.staff_id,d),size:"x-small",class:"edit-btn remove"},{default:z(()=>[W("delete")]),_:2},1032,["loading","onClick"])])]))),128))])]),_:1})):C("",!0)])}}}),j1=at(H1,[["__scopeId","data-v-8115674a"]]),W1={class:"subsections-container"},U1={key:1,class:"subsection-nav-container"},Y1=["onClick"],G1={key:2,class:"sections"},X1=Q({__name:"AdminAllStaff",setup(s){const t=x("section1"),e=lt(),n=i=>{t.value=i};return(i,a)=>{const o=At,r=j1;return _(),S("div",W1,[!b(e).adminStaff.departments||b(e).adminStaff.departments&&b(e).adminStaff.departments.length===0?(_(),j(o,{key:0,class:"no-data"})):C("",!0),b(e).adminStaff.departments&&b(e).adminStaff.departments.length>0?(_(),S("div",U1,[(_(!0),S(K,null,nt(b(e).adminStaff.departments,(l,c)=>(_(),S("button",{key:c,class:G(["nav-btn-1",{"nav-btn-1-active":t.value===`section${c+1}`}]),onClick:d=>n(`section${c+1}`)},[u("span",null,y(l.name),1)],10,Y1))),128))])):C("",!0),b(e).adminStaff.departments&&b(e).adminStaff.departments.length>0?(_(),S("div",G1,[(_(!0),S(K,null,nt(b(e).adminStaff.departments,(l,c)=>(_(),S("div",{class:"h-100",key:c,style:X(t.value===`section${c+1}`?{display:"flex"}:{display:"none"})},[D(r,{staff:l.teachers},null,8,["staff"])],4))),128))])):C("",!0)])}}}),K1={class:"section-nav-container"},J1={class:"sections"},q1=Q({__name:"AdminStaff",setup(s){const t=lt(),e=x(t.activeTerm),n=i=>{e.value=i};return(i,a)=>{const o=$1,r=X1;return _(),S(K,null,[u("div",K1,[u("button",{class:G(["nav-btn-1 btn-1",{"nav-btn-1-active":e.value===1}]),onClick:a[0]||(a[0]=l=>n(1))},"ADD TEACHER(S)",2),u("button",{class:G(["nav-btn-1 btn-2",{"nav-btn-1-active":e.value===2}]),onClick:a[1]||(a[1]=l=>n(2))},"ALL TEACHERS",2)]),u("div",J1,[u("div",{class:"h-100",style:X(e.value===1?{display:"flex"}:{display:"none"})},[D(o)],4),u("div",{class:"h-100",style:X(e.value===2?{display:"flex"}:{display:"none"})},[D(r)],4)])],64)}}}),Z1=at(q1,[["__scopeId","data-v-303e5a13"]]),fr=s=>(Ct("data-v-d0089462"),s=s(),Tt(),s),Q1={key:0,id:"welcome",class:"welcome-overlay"},tx={style:{"text-align":"center"}},ex=fr(()=>u("p",null,"We're thrilled to have you on board as part of our dedicated teaching team. Your passion, expertise, and commitment to education are greatly appreciated. This is your personalized dashboard, designed to make your teaching experience as smooth and rewarding as possible. Here, you'll find all the tools and resources you need to inspire and guide your students to success. Feel free to explore and familiarize yourself with your dashboard.",-1)),sx=fr(()=>u("p",null,"If you have any questions or need assistance, our support team is always here to help.",-1)),nx={class:"main"},ix={class:"pages-container"},ax={class:"page-nav-container"},ox=Q({__name:"staff",setup(s){Lr({meta:[{name:"robots",content:"no-index"}]});const t=lt(),e=x(null),n=x("page1");to(()=>{document.body.style.overflow="auto"}),Dr(()=>{t.isAuthenticated&&t.userData&&(document.title="EduAAP"),document.body.style.overflow="hidden",e.value=localStorage.getItem("RozmachAuth"),e.value&&(e.value=JSON.parse(e.value))});const i=()=>{const r=document.getElementById("welcome");r&&(e.value&&!e.value.last_login&&(a(),e.value.last_login=!0,localStorage.setItem("RozmachAuth",JSON.stringify(e))),r.style.display="none")},a=()=>{const r=document.getElementById("welcome");r&&(r.style.display="flex")},o=r=>{n.value=r};return(r,l)=>{const c=br,d=Sl,h=ic,f=Sc,g=em,m=vr,p=ym,v=$_,k=Sb,w=fv,O=ky,$=d1,A=Z1,E=yr;return _(),S(K,null,[b(e)&&!b(e).last_login&&b(t).userData&&b(t).userData.role==="staff"?(_(),S("div",Q1,[D(ao,{class:"card flex-all-c"},{default:z(()=>[D(Ar,{id:"school-name"},{default:z(()=>[W(y(b(t).userData.school.name),1)]),_:1}),D(no,{style:{"font-size":".9rem","font-family":"sans-serif","text-align":"left","line-height":"1.5"}},{default:z(()=>[u("p",tx,[u("strong",null,"Welcome "+y(b(t).userData.first_name+" "+b(t).userData.last_name)+"!",1)]),ex,sx]),_:1}),D(io,{class:"flex-all"},{default:z(()=>[D(bt,{class:"overlay-btn",elevation:"4",onClick:l[0]||(l[0]=T=>i())},{default:z(()=>[W("OK")]),_:1})]),_:1})]),_:1})])):C("",!0),D(c),u("main",nx,[u("div",ix,[u("div",ax,[b(t).userData&&b(t).userData.role&&b(t).userData.role==="head"?(_(),S("button",{key:0,class:G(["nav-btn",{"nav-btn-active":b(n)==="page1"}]),onClick:l[1]||(l[1]=T=>o("page1"))},[D(Z,{icon:"mdi-eye"}),W(" OVERVIEW ")],2)):C("",!0),b(t).userData&&b(t).userData.role&&b(t).userData.role==="head"?(_(),S("button",{key:1,class:G(["nav-btn",{"nav-btn-active":b(n)==="page2"}]),onClick:l[2]||(l[2]=T=>o("page2"))},[D(Z,{icon:"mdi-account"}),W(" DEPARTMENTS ")],2)):C("",!0),b(t).userData&&b(t).userData.role&&b(t).userData.role==="head"?(_(),S("button",{key:2,class:G(["nav-btn",{"nav-btn-active":b(n)==="page3"}]),onClick:l[3]||(l[3]=T=>o("page3"))},[D(Z,{icon:"mdi-account-group-outline"}),W(" STUDENTS ")],2)):C("",!0),b(t).userData&&b(t).userData.role&&b(t).userData.role==="head"?(_(),S("button",{key:3,class:G(["nav-btn",{"nav-btn-active":b(n)==="page4"}]),onClick:l[4]||(l[4]=T=>o("page4"))},[D(Z,{icon:"mdi-chart-bar"}),W(" ANALYTICS ")],2)):C("",!0),b(t).userData&&b(t).userData.role&&b(t).userData.role==="head"?(_(),S("button",{key:4,class:G(["nav-btn",{"nav-btn-active":b(n)==="page5"}]),onClick:l[5]||(l[5]=T=>o("page5"))},[D(Z,{icon:"mdi-alert-octagon-outline"}),W(" HELP ")],2)):C("",!0),b(t).userData&&b(t).userData.staff_role==="teacher"||b(t).userData&&b(t).userData.staff_role==="hod"?(_(),S("button",{key:5,class:G(["nav-btn",{"nav-btn-active":b(n)==="page1"}]),onClick:l[6]||(l[6]=T=>o("page1"))},[D(Z,{icon:"mdi-book-open-outline"}),W(" COURSEWORK ")],2)):C("",!0),b(t).userData&&b(t).userData.staff_role==="teacher"||b(t).userData&&b(t).userData.staff_role==="hod"?(_(),S("button",{key:6,class:G(["nav-btn",{"nav-btn-active":b(n)==="page2"}]),onClick:l[7]||(l[7]=T=>o("page2"))},[D(Z,{icon:"mdi-account-group-outline"}),W(" STUDENTS ")],2)):C("",!0),b(t).userData&&b(t).userData.staff_role==="teacher"||b(t).userData&&b(t).userData.staff_role==="hod"?(_(),S("button",{key:7,class:G(["nav-btn",{"nav-btn-active":b(n)==="page3"}]),onClick:l[8]||(l[8]=T=>o("page3"))},[D(Z,{icon:"mdi-chart-bar"}),W(" ANALYTICS ")],2)):C("",!0),b(t).userData&&b(t).userData.staff_role==="hod"?(_(),S("button",{key:8,class:G(["nav-btn",{"nav-btn-active":b(n)==="page4"}]),onClick:l[9]||(l[9]=T=>o("page4"))},[D(Z,{icon:"mdi-account-multiple"}),W(" TEACHERS ")],2)):C("",!0),b(t).userData&&b(t).userData.staff_role==="hod"?(_(),S("button",{key:9,class:G(["nav-btn",{"nav-btn-active":b(n)==="page5"}]),onClick:l[10]||(l[10]=T=>o("page5"))},[D(Z,{icon:"mdi-chart-line"}),W(" PERFORMANCE ")],2)):C("",!0),b(t).userData&&b(t).userData.staff_role==="admin"?(_(),S("button",{key:10,class:G(["nav-btn",{"nav-btn-active":b(n)==="page1"}]),onClick:l[11]||(l[11]=T=>o("page1"))},[D(Z,{icon:"mdi-account-group-outline"}),W(" STUDENTS ")],2)):C("",!0),b(t).userData&&b(t).userData.staff_role==="admin"?(_(),S("button",{key:11,class:G(["nav-btn",{"nav-btn-active":b(n)==="page2"}]),onClick:l[12]||(l[12]=T=>o("page2"))},[D(Z,{icon:"mdi-account-multiple"}),W(" TEACHERS ")],2)):C("",!0),b(t).userData&&b(t).userData.role==="staff"?(_(),S("button",{key:12,class:G(["nav-btn",{"nav-btn-active":b(n)==="page6"}]),onClick:l[13]||(l[13]=T=>o("page6"))},[D(Z,{icon:"mdi-alert-octagon-outline"}),W(" HELP ")],2)):C("",!0)]),b(t).userData&&b(t).userData.role&&b(t).userData.role==="head"?(_(),S("div",{key:0,class:"pages",style:X(b(n)==="page1"?{display:"flex"}:{display:"none"})},[D(d)],4)):C("",!0),b(t).userData&&b(t).userData.role&&b(t).userData.role==="head"?(_(),S("div",{key:1,class:"pages",style:X(b(n)==="page2"?{display:"flex"}:{display:"none"})},[D(h)],4)):C("",!0),b(t).userData&&b(t).userData.role&&b(t).userData.role==="head"?(_(),S("div",{key:2,class:"pages",style:X(b(n)==="page3"?{display:"flex"}:{display:"none"})},[D(f)],4)):C("",!0),b(t).userData&&b(t).userData.role&&b(t).userData.role==="head"?(_(),S("div",{key:3,class:"pages",style:X(b(n)==="page4"?{display:"flex"}:{display:"none"})},[D(g)],4)):C("",!0),b(t).userData&&b(t).userData.role&&b(t).userData.role==="head"?(_(),S("div",{key:4,class:"pages",style:X(b(n)==="page5"?{display:"flex"}:{display:"none"})},[D(m)],4)):C("",!0),b(t).userData&&b(t).userData.staff_role==="teacher"||b(t).userData&&b(t).userData.staff_role==="hod"?(_(),S("div",{key:5,class:"pages",style:X(b(n)==="page1"?{display:"flex"}:{display:"none"})},[D(p)],4)):C("",!0),b(t).userData&&b(t).userData.staff_role==="teacher"||b(t).userData&&b(t).userData.staff_role==="hod"?(_(),S("div",{key:6,class:"pages",style:X(b(n)==="page2"?{display:"flex"}:{display:"none"})},[D(v)],4)):C("",!0),b(t).userData&&b(t).userData.staff_role==="teacher"||b(t).userData&&b(t).userData.staff_role==="hod"?(_(),S("div",{key:7,class:"pages",style:X(b(n)==="page3"?{display:"flex"}:{display:"none"})},[D(k)],4)):C("",!0),b(t).userData&&b(t).userData.staff_role==="hod"?(_(),S("div",{key:8,class:"pages",style:X(b(n)==="page4"?{display:"flex"}:{display:"none"})},[D(w)],4)):C("",!0),b(t).userData&&b(t).userData.staff_role==="hod"?(_(),S("div",{key:9,class:"pages",style:X(b(n)==="page5"?{display:"flex"}:{display:"none"})},[D(O)],4)):C("",!0),b(t).userData&&b(t).userData.staff_role==="admin"?(_(),S("div",{key:10,class:"pages",style:X(b(n)==="page1"?{display:"flex"}:{display:"none"})},[D($)],4)):C("",!0),b(t).userData&&b(t).userData.staff_role==="admin"?(_(),S("div",{key:11,class:"pages",style:X(b(n)==="page2"?{display:"flex"}:{display:"none"})},[D(A)],4)):C("",!0),b(t).userData&&b(t).userData.role&&b(t).userData.role==="staff"?(_(),S("div",{key:12,class:"pages",style:X(b(n)==="page6"?{display:"flex"}:{display:"none"})},[D(m)],4)):C("",!0)])]),D(E)],64)}}}),px=at(ox,[["__scopeId","data-v-d0089462"]]);export{px as default};
