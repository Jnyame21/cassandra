import{E as w,d as v,e as x,F as A,G as k,H as V,I as S,c as F,v as m,x as o,z as c,A as _,J as I,t as p,K as t,y as h,L as g,B as C,C as E,D as M,_ as N}from"./entry.RWiFkUZM.js";import{u as y}from"./vue.f36acd1f.IXqAWTJW.js";import{_ as B}from"./login_logo.mlvRd21O.js";import{V as D,a as b}from"./VTextField.KbvYYWv9.js";import{V as T}from"./index.0PP7SGfJ.js";function L(a,s){const{title:r,titleTemplate:e,...l}=a;return y({title:r,titleTemplate:e,_flatMeta:l},{...s,transform(i){const f=w({...i._flatMeta});return delete i._flatMeta,{...i,meta:f}}})}const u=a=>(E("data-v-6f739b78"),a=a(),M(),a),P={class:"container flex-c align-center justify-center",style:{"background-color":"seagreen",height:"100dvh"}},U={style:{height:"90dvh"},class:"row-wrapper img-container"},O={class:"flex-all-c"},G=u(()=>o("h1",{class:"portal-name"},"ACADEMIC ACCESS POINT",-1)),R=u(()=>o("img",{class:"sch-logo",src:B,alt:"school logo"},null,-1)),j={class:"flex-c align-center",style:{"background-color":"transparent"}},H={class:"form-message-container"},z={key:0,class:"form-message",style:{color:"yellow"}},J={key:1,class:"form-message",style:{color:"#be12121010e71010"}},K=u(()=>o("p",{class:"forgot-password"},"forgotten password ?",-1)),W=u(()=>o("footer",{class:"footer-container"},[o("h6",{class:"footer-text"},"Â© 2024")],-1)),$=v({__name:"index",setup(a){L({title:"EduAAP  | LOGIN",description:"Login to your Academic Access Point (AAP)"}),y({meta:[{name:"robots",content:"index, follow"}]}),x(()=>{document.body.style.overflow="auto"}),A(()=>{document.body.style.overflow="hidden"});const s=k(),r=V(),e=S({form:!1,username:"",password:"",loading:!1,visible:!1,lockField:!1});let l=F(()=>!(e.username&&e.password));const i=async()=>{e.loading=!0,e.lockField=!0,await s.userLogin(e.username,e.password),s.isAuthenticated&&s.userData.role==="staff"||s.isAuthenticated&&s.userData.role==="head"?(e.password="",e.loading=!1,setTimeout(()=>{r.push("/staff")},2e3)):s.isAuthenticated===!0&&s.userData.role==="student"?(e.password="",e.loading=!1,setTimeout(()=>{r.push("/student")},2e3)):(e.loading=!1,e.lockField=!1,setTimeout(()=>{s.message=""},6e3))};return(f,n)=>(p(),m("div",P,[o("div",U,[o("section",O,[G,R,o("div",j,[c(D,{class:"flex-c justify-start align-center",onSubmit:I(i,["prevent"])},{default:_(()=>[o("div",H,[t(s).message&&t(s).isAuthenticated?(p(),m("h6",z,h(t(s).message),1)):g("",!0),t(s).message&&!t(s).isAuthenticated?(p(),m("h6",J,h(t(s).message),1)):g("",!0)]),c(b,{disabled:e.lockField,class:"form-text-field username",modelValue:e.username,"onUpdate:modelValue":n[0]||(n[0]=d=>e.username=d),label:"USERNAME",hint:"Enter your username",variant:"solo",density:"comfortable",type:"text",clearable:"",onFocus:t(l),"prepend-inner-icon":"mdi-account-outline"},null,8,["disabled","modelValue","onFocus"]),c(b,{"append-inner-icon":e.visible?"mdi-eye-off-outline":"mdi-eye-outline","onClick:appendInner":n[1]||(n[1]=d=>e.visible=!e.visible),disabled:e.lockField,type:e.visible?"text":"password",clearable:"",onFocus:t(l),density:"comfortable",variant:"solo",class:"form-text-field password",hint:"Enter your password",modelValue:e.password,"onUpdate:modelValue":n[2]||(n[2]=d=>e.password=d),label:"PASSWORD","prepend-inner-icon":"mdi-lock-outline"},null,8,["append-inner-icon","disabled","type","onFocus","modelValue"]),K,c(T,{class:"submit-btn",type:"submit","prepend-icon":"mdi-lock-open-outline",loading:e.loading,disabled:t(l)},{default:_(()=>[C("LOGIN ")]),_:1},8,["loading","disabled"])]),_:1})])])]),W]))}}),ee=N($,[["__scopeId","data-v-6f739b78"]]);export{ee as default};
