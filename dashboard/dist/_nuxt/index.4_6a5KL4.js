import{E as w,d as v,e as x,F as A,G as k,H as V,I as S,c as F,v as p,x as o,z as u,A as h,J as I,t as f,K as t,y as _,L as g,B as C,C as E,D as M,_ as N}from"./entry.mo3KtFpr.js";import{u as b}from"./vue.f36acd1f.skqErjgz.js";import{_ as B}from"./login_logo.YFaGKyJs.js";import{V as D,a as y}from"./VTextField.P4BKbNwB.js";import{V as T}from"./index.0UHJegbX.js";function L(a,s){const{title:r,titleTemplate:e,...l}=a;return b({title:r,titleTemplate:e,_flatMeta:l},{...s,transform(i){const d=w({...i._flatMeta});return delete i._flatMeta,{...i,meta:d}}})}const m=a=>(E("data-v-96776323"),a=a(),M(),a),P={class:"container flex-c align-center justify-center",style:{"background-color":"seagreen",height:"100dvh"}},U={style:{height:"90dvh"},class:"row-wrapper img-container"},O={class:"flex-all-c"},G=m(()=>o("h1",{class:"portal-name"},"ACADEMIC ACCESS POINT",-1)),R=m(()=>o("img",{class:"sch-logo",src:B,alt:"school logo"},null,-1)),j={class:"flex-c align-center",style:{"background-color":"transparent"}},H={class:"form-message-container"},z={key:0,class:"form-message",style:{color:"yellow"}},J={key:1,class:"form-message",style:{color:"#be12121010e71010"}},K=m(()=>o("p",{class:"forgot-password"},"forgotten password ?",-1)),W=m(()=>o("footer",{class:"footer-container"},[o("h6",{class:"footer-text"},"Â© 2024")],-1)),$=v({__name:"index",setup(a){L({title:"EduAAP  | LOGIN",description:"Login to your Academic Access Point (AAP)"}),b({meta:[{name:"robots",content:"index, follow"}]}),x(()=>{document.body.style.overflow="auto"}),A(()=>{document.body.style.overflow="hidden"});const s=k(),r=V(),e=S({form:!1,username:"",password:"",loading:!1,visible:!1,lockField:!1});let l=F(()=>!(e.username&&e.password));const i=async()=>{e.loading=!0,e.lockField=!0,await s.userLogin(e.username,e.password).then(d=>{s.isAuthenticated&&s.userData.role==="staff"||s.isAuthenticated&&s.userData.role==="head"?(e.password="",e.loading=!1,setTimeout(()=>{r.push("/staff")},2e3)):s.isAuthenticated===!0&&s.userData.role==="student"&&(e.password="",e.loading=!1,setTimeout(()=>{r.push("/student")},2e3))}).catch(d=>{e.loading=!1,e.lockField=!1,setTimeout(()=>{s.message=""},6e3)})};return(d,n)=>(f(),p("div",P,[o("div",U,[o("section",O,[G,R,o("div",j,[u(D,{class:"flex-c justify-start align-center",onSubmit:I(i,["prevent"])},{default:h(()=>[o("div",H,[t(s).message&&t(s).isAuthenticated?(f(),p("h6",z,_(t(s).message),1)):g("",!0),t(s).message&&!t(s).isAuthenticated?(f(),p("h6",J,_(t(s).message),1)):g("",!0)]),u(y,{disabled:e.lockField,class:"form-text-field username",modelValue:e.username,"onUpdate:modelValue":n[0]||(n[0]=c=>e.username=c),label:"USERNAME",hint:"Enter your username",variant:"solo",density:"comfortable",type:"text",clearable:"",onFocus:t(l),"prepend-inner-icon":"mdi-account-outline"},null,8,["disabled","modelValue","onFocus"]),u(y,{"append-inner-icon":e.visible?"mdi-eye-off-outline":"mdi-eye-outline","onClick:appendInner":n[1]||(n[1]=c=>e.visible=!e.visible),disabled:e.lockField,type:e.visible?"text":"password",clearable:"",onFocus:t(l),density:"comfortable",variant:"solo",class:"form-text-field password",hint:"Enter your password",modelValue:e.password,"onUpdate:modelValue":n[2]||(n[2]=c=>e.password=c),label:"PASSWORD","prepend-inner-icon":"mdi-lock-outline"},null,8,["append-inner-icon","disabled","type","onFocus","modelValue"]),K,u(T,{class:"submit-btn",type:"submit","prepend-icon":"mdi-lock-open-outline",loading:e.loading,disabled:t(l)},{default:h(()=>[C("LOGIN ")]),_:1},8,["loading","disabled"])]),_:1})])])]),W]))}}),ee=N($,[["__scopeId","data-v-96776323"]]);export{ee as default};
